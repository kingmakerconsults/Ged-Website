{"version":3,"mappings":"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","names":["require$$0","m","jsxRuntimeModule","API_BASE_URL","useRef","useState","useCallback","useEffect","toggleMode","jsx","Fragment","jsxs","q","selectedSubject","GEOMETRY_FIGURES_ENABLED","DEFAULT_FIGURE_STYLE","geometryRenderers","p","GeometryFigure","isLoading","handleClear","n","FormulaSheetModal","onClose","KATEX_RENDER_OPTIONS","renderLatexToHtml","normalizeLatexForKaTeX","applySafeMathFix","sanitizeUnicode","FormulaDisplay","ScienceFormulaSheet","useMemo","eq","k","ReactDOM","result","scale","html","l","subjectName","_a","idx","topicsForActive","_b","_c","_d","startQuiz","SharedAuthScreen","setIsLoading","setLoadingMessage","todayLocal","progress","currentQ","num","LegacyRootApp"],"ignoreList":[0,1,2],"sources":["../../../node_modules/react/cjs/react-jsx-runtime.production.min.js","../../../node_modules/react/jsx-runtime.js","../../../node_modules/react-dom/client.js","../../src/dev/devLogin.js","../../components/auth/AuthScreen.jsx","../../src/views/SuperAdminAllQuestions.jsx","../../src/views/SuperAdminQuestionBrowser.jsx","../../src/theme/designSystem.js","../../src/components/subject/SubjectCard.jsx","../../src/components/tools/GeometryFigure.jsx","../../src/components/tools/GraphTool.jsx","../../src/components/tools/StepByStepSolver.jsx","../../src/components/tools/StatisticsTool.jsx","../../src/components/tools/FormulaSheetModal.jsx","../../src/utils/latexHelpers.js","../../src/components/tools/ScienceFormulaSheet.jsx","../../src/components/tools/ScienceFormulaPractice.jsx","../../src/components/tools/ScienceConceptPractice.jsx","../../src/components/tools/ChemistryEquationPractice.jsx","../../src/components/tools/PunnettSquarePractice.jsx","../../components/TI30XSCalculator.jsx","../../src/components/tools/Calculator.jsx","../../components/maps/USRegionsMap.jsx","../../data/social/map_scenarios.js","../../tools/MapExplorer.jsx","../../data/social/civics_scenarios.js","../../tools/CivicsReasoningLab.jsx","../../data/social/history_timeline_sets.js","../../tools/HistoryTimelineBuilder.jsx","../../data/social/electoral_college_scenarios.js","../../tools/ElectoralCollegeSimulator.jsx","../../data/social/constitution_amendments.js","../../data/social/constitution_scenarios.js","../../tools/ConstitutionExplorer.jsx","../../data/economics/econ_scenarios.js","../../tools/EconomicsGraphTool.jsx","../../src/components/SubjectToolsModal.jsx","../../src/legacy/LegacyRootApp.jsx","../../src/main.jsx"],"sourcesContent":["/**\n * @license React\n * react-jsx-runtime.production.min.js\n *\n * Copyright (c) Facebook, Inc. and its affiliates.\n *\n * This source code is licensed under the MIT license found in the\n * LICENSE file in the root directory of this source tree.\n */\n'use strict';var f=require(\"react\"),k=Symbol.for(\"react.element\"),l=Symbol.for(\"react.fragment\"),m=Object.prototype.hasOwnProperty,n=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,p={key:!0,ref:!0,__self:!0,__source:!0};\nfunction q(c,a,g){var b,d={},e=null,h=null;void 0!==g&&(e=\"\"+g);void 0!==a.key&&(e=\"\"+a.key);void 0!==a.ref&&(h=a.ref);for(b in a)m.call(a,b)&&!p.hasOwnProperty(b)&&(d[b]=a[b]);if(c&&c.defaultProps)for(b in a=c.defaultProps,a)void 0===d[b]&&(d[b]=a[b]);return{$$typeof:k,type:c,key:e,ref:h,props:d,_owner:n.current}}exports.Fragment=l;exports.jsx=q;exports.jsxs=q;\n","'use strict';\n\nif (process.env.NODE_ENV === 'production') {\n  module.exports = require('./cjs/react-jsx-runtime.production.min.js');\n} else {\n  module.exports = require('./cjs/react-jsx-runtime.development.js');\n}\n","'use strict';\n\nvar m = require('react-dom');\nif (process.env.NODE_ENV === 'production') {\n  exports.createRoot = m.createRoot;\n  exports.hydrateRoot = m.hydrateRoot;\n} else {\n  var i = m.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED;\n  exports.createRoot = function(c, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.createRoot(c, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n  exports.hydrateRoot = function(c, h, o) {\n    i.usingClientEntryPoint = true;\n    try {\n      return m.hydrateRoot(c, h, o);\n    } finally {\n      i.usingClientEntryPoint = false;\n    }\n  };\n}\n","/**\r\n * Dev-only login bypass\r\n * Only active in development mode on localhost\r\n */\r\n\r\nconst isDev =\r\n  import.meta.env.MODE === 'development' &&\r\n  (window.location.hostname === 'localhost' ||\r\n    window.location.hostname === '127.0.0.1');\r\n\r\nexport const DEV_LOGIN_ENABLED = isDev;\r\n\r\nexport async function devLoginAs(role = 'student') {\r\n  if (!DEV_LOGIN_ENABLED) {\r\n    console.warn('Dev login is only available in development on localhost');\r\n    return null;\r\n  }\r\n\r\n  try {\r\n    const response = await fetch('/api/dev-login-as', {\r\n      method: 'POST',\r\n      headers: {\r\n        'Content-Type': 'application/json',\r\n      },\r\n      body: JSON.stringify({ role }),\r\n    });\r\n\r\n    if (!response.ok) {\r\n      const error = await response.json();\r\n      throw new Error(error.error || 'Dev login failed');\r\n    }\r\n\r\n    const data = await response.json();\r\n    console.log(`[DEV] Logged in as ${role}:`, data.user);\r\n    return data;\r\n  } catch (error) {\r\n    console.error('[DEV] Login error:', error);\r\n    throw error;\r\n  }\r\n}\r\n\r\nexport const DEV_ROLES = [\r\n  { value: 'student', label: 'Student' },\r\n  { value: 'instructor', label: 'Instructor' },\r\n  { value: 'orgAdmin', label: 'Org Admin' },\r\n  { value: 'superAdmin', label: 'Super Admin' },\r\n];\r\n","import React, { useState, useEffect, useCallback, useRef } from 'react';\r\nimport { DEV_ROLES } from '../../src/dev/devLogin.js';\r\n\r\n// Resolve API base robustly: prefer explicit config; on localhost default to backend port 3002\r\nconst API_BASE_URL = (() => {\r\n  if (typeof window === 'undefined') return '';\r\n  const explicit =\r\n    window.API_BASE_URL || window.__CLIENT_CONFIG__?.API_BASE_URL;\r\n  if (explicit) return explicit;\r\n  const host = window.location.hostname;\r\n  const protocol = window.location.protocol === 'https:' ? 'https:' : 'http:';\r\n  if (host === 'localhost' || host === '127.0.0.1') {\r\n    const port = window.API_PORT || 3002;\r\n    return `${protocol}//localhost:${port}`;\r\n  }\r\n  return window.location.origin;\r\n})();\r\n\r\nexport function AuthScreen({ onLogin }) {\r\n  const googleButton = useRef(null);\r\n  const [mode, setMode] = useState('login');\r\n  const [email, setEmail] = useState('');\r\n  const [password, setPassword] = useState('');\r\n  const [devRole, setDevRole] = useState('superAdmin');\r\n  const [formError, setFormError] = useState(null);\r\n  const [formMessage, setFormMessage] = useState(null);\r\n  const [submitting, setSubmitting] = useState(false);\r\n\r\n  // Dev login handler\r\n  const handleDevLogin = async () => {\r\n    try {\r\n      setSubmitting(true);\r\n      setFormError(null);\r\n      setFormMessage(`Attempting dev login as ${devRole}`);\r\n      const response = await fetch(`${API_BASE_URL}/api/dev-login-as`, {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        // Request the selected role via dev bypass\r\n        body: JSON.stringify({ role: devRole }),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        const text = await response.text();\r\n        throw new Error(text || 'Dev login failed');\r\n      }\r\n\r\n      const { user, token } = await response.json();\r\n      onLogin(user, token);\r\n      setFormMessage('Dev login successful. Redirecting');\r\n    } catch (error) {\r\n      console.error('Dev login error:', error);\r\n      setFormError(error instanceof Error ? error.message : 'Dev login failed');\r\n    } finally {\r\n      setSubmitting(false);\r\n    }\r\n  };\r\n\r\n  const handleCredentialResponse = useCallback(\r\n    async (response) => {\r\n      try {\r\n        const res = await fetch(`${API_BASE_URL}/api/auth/google`, {\r\n          method: 'POST',\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n          },\r\n          credentials: 'include',\r\n          body: JSON.stringify({ credential: response.credential }),\r\n        });\r\n\r\n        if (!res.ok) {\r\n          const text = await res.text();\r\n          throw new Error(text || `Server responded with ${res.status}`);\r\n        }\r\n\r\n        const { user, token } = await res.json();\r\n        onLogin(user, token);\r\n      } catch (error) {\r\n        console.error('Login Error:', error);\r\n      }\r\n    },\r\n    [onLogin]\r\n  );\r\n\r\n  useEffect(() => {\r\n    const script = document.createElement('script');\r\n    script.src = 'https://accounts.google.com/gsi/client';\r\n    script.async = true;\r\n    script.defer = true;\r\n    script.onload = () => {\r\n      if (window.google && google.accounts.id && googleButton.current) {\r\n        google.accounts.id.initialize({\r\n          client_id:\r\n            '828659988606-p9ct562f068p1778im2ck2o5iga89i7m.apps.googleusercontent.com',\r\n          callback: handleCredentialResponse,\r\n        });\r\n        google.accounts.id.renderButton(googleButton.current, {\r\n          theme: 'outline',\r\n          size: 'large',\r\n          text: 'signin_with',\r\n          shape: 'rectangular',\r\n        });\r\n      }\r\n    };\r\n    script.onerror = () => {\r\n      console.error('Google Sign-In script failed to load.');\r\n    };\r\n\r\n    document.body.appendChild(script);\r\n\r\n    return () => {\r\n      const goggleScript = document.querySelector(\r\n        'script[src=\"https://accounts.google.com/gsi/client\"]'\r\n      );\r\n      if (goggleScript) {\r\n        document.body.removeChild(goggleScript);\r\n      }\r\n    };\r\n  }, [handleCredentialResponse]);\r\n\r\n  const modeLabel = mode === 'login' ? 'Log In' : 'Register';\r\n\r\n  const toggleMode = () => {\r\n    setMode((prev) => (prev === 'login' ? 'register' : 'login'));\r\n    setFormError(null);\r\n    setFormMessage(null);\r\n    setPassword('');\r\n  };\r\n\r\n  const handleFormSubmit = async (event) => {\r\n    event.preventDefault();\r\n    setFormError(null);\r\n    setFormMessage(null);\r\n\r\n    if (!email.trim() || !password.trim()) {\r\n      setFormError('Email and password are required');\r\n      return;\r\n    }\r\n\r\n    setSubmitting(true);\r\n\r\n    try {\r\n      const endpoint = mode === 'login' ? '/api/login' : '/api/register';\r\n      const response = await fetch(`${API_BASE_URL}${endpoint}`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n        },\r\n        body: JSON.stringify({ email: email.trim(), password }),\r\n      });\r\n\r\n      let body = {};\r\n      try {\r\n        body = await response.json();\r\n      } catch (err) {\r\n        body = {};\r\n      }\r\n\r\n      if (!response.ok) {\r\n        throw new Error(body?.error || 'Unable to complete request');\r\n      }\r\n\r\n      if (body?.user && body?.token) {\r\n        onLogin(body.user, body.token);\r\n        setEmail('');\r\n        setPassword('');\r\n      } else {\r\n        setFormMessage(body?.message || 'Success. You can now sign in.');\r\n        if (mode === 'register') {\r\n          setMode('login');\r\n        }\r\n      }\r\n    } catch (error) {\r\n      setFormError(\r\n        error instanceof Error ? error.message : 'Unable to complete request'\r\n      );\r\n    } finally {\r\n      setSubmitting(false);\r\n    }\r\n  };\r\n\r\n  console.log('[AuthScreen] Rendering with dev login button');\r\n\r\n  return (\r\n    <>\r\n      <div className=\"text-center max-w-md mx-auto\">\r\n        <h2 className=\"text-3xl font-extrabold text-black dark:text-slate-100 mb-2\">\r\n          Welcome!\r\n        </h2>\r\n        <p className=\"text-black dark:text-slate-300 mb-6\">\r\n          Sign in to save your progress across devices.\r\n        </p>\r\n        <form\r\n          onSubmit={handleFormSubmit}\r\n          className=\"bg-white dark:bg-slate-900/80 rounded-2xl shadow-md p-6 text-left space-y-4 border border-transparent dark:border-slate-700/60\"\r\n        >\r\n          <div>\r\n            <label\r\n              htmlFor=\"auth-email\"\r\n              className=\"block text-sm font-medium text-slate-900 dark:text-slate-300\"\r\n            >\r\n              Email\r\n            </label>\r\n            <input\r\n              id=\"auth-email\"\r\n              type=\"email\"\r\n              value={email}\r\n              onChange={(event) => setEmail(event.target.value)}\r\n              className=\"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 text-slate-700 shadow-sm focus:border-sky-500 focus:outline-none focus:ring-2 focus:ring-sky-200 dark:border-slate-600 dark:bg-slate-900 dark:text-slate-100 dark:placeholder-slate-500 dark:focus:border-sky-400 dark:focus:ring-sky-500\"\r\n              autoComplete=\"email\"\r\n              placeholder=\"you@example.com\"\r\n              required\r\n            />\r\n          </div>\r\n          <div>\r\n            <label\r\n              htmlFor=\"auth-password\"\r\n              className=\"block text-sm font-medium text-slate-900 dark:text-slate-300\"\r\n            >\r\n              Password\r\n            </label>\r\n            <input\r\n              id=\"auth-password\"\r\n              type=\"password\"\r\n              value={password}\r\n              onChange={(event) => setPassword(event.target.value)}\r\n              className=\"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 text-slate-700 shadow-sm focus:border-sky-500 focus:outline-none focus:ring-2 focus:ring-sky-200 dark:border-slate-600 dark:bg-slate-900 dark:text-slate-100 dark:placeholder-slate-500 dark:focus:border-sky-400 dark:focus:ring-sky-500\"\r\n              autoComplete={\r\n                mode === 'login' ? 'current-password' : 'new-password'\r\n              }\r\n              placeholder=\"Enter your password\"\r\n              required\r\n            />\r\n          </div>\r\n          {formError && <p className=\"text-sm text-red-600\">{formError}</p>}\r\n          {formMessage && (\r\n            <p className=\"text-sm text-green-600\">{formMessage}</p>\r\n          )}\r\n          <button\r\n            type=\"submit\"\r\n            disabled={submitting}\r\n            className=\"w-full rounded-lg bg-sky-600 py-2 text-sm font-semibold text-white shadow hover:bg-sky-700 disabled:opacity-60\"\r\n          >\r\n            {submitting ? 'Please wait' : modeLabel}\r\n          </button>\r\n        </form>\r\n        <p className=\"mt-3 text-sm text-slate-700 dark:text-slate-300\">\r\n          {mode === 'login' ? 'Need an account?' : 'Already have an account?'}{' '}\r\n          <button\r\n            type=\"button\"\r\n            onClick={toggleMode}\r\n            className=\"font-semibold text-sky-600 hover:text-sky-800 dark:text-sky-300 dark:hover:text-sky-200\"\r\n          >\r\n            {mode === 'login' ? 'Register' : 'Log in'}\r\n          </button>\r\n        </p>\r\n        <div className=\"my-6 flex items-center justify-center gap-3 text-xs uppercase tracking-wide text-slate-400 dark:text-slate-500\">\r\n          <span className=\"h-px w-12 bg-slate-200\" aria-hidden=\"true\"></span>\r\n          <span>Or continue with</span>\r\n          <span className=\"h-px w-12 bg-slate-200\" aria-hidden=\"true\"></span>\r\n        </div>\r\n        {/* Dev Login Button - MUST BE VISIBLE */}\r\n        <div className=\"mt-4 w-full\" data-testid=\"dev-login-container\">\r\n          <label className=\"mb-1 block text-xs font-semibold text-slate-600 dark:text-slate-300\">\r\n            Dev role\r\n          </label>\r\n          <div className=\"flex gap-2\">\r\n            <select\r\n              value={devRole}\r\n              onChange={(event) => setDevRole(event.target.value)}\r\n              className=\"w-1/2 rounded-lg border border-slate-300 px-3 py-2 text-sm text-slate-700 shadow-sm focus:border-purple-500 focus:outline-none focus:ring-2 focus:ring-purple-200 dark:border-slate-600 dark:bg-slate-900 dark:text-slate-100 dark:focus:border-purple-400 dark:focus:ring-purple-500\"\r\n            >\r\n              {DEV_ROLES.map((roleOption) => (\r\n                <option key={roleOption.value} value={roleOption.value}>\r\n                  {roleOption.label}\r\n                </option>\r\n              ))}\r\n            </select>\r\n            <button\r\n              type=\"button\"\r\n              onClick={handleDevLogin}\r\n              className=\"w-1/2 rounded-lg bg-purple-600 py-3 text-base font-bold text-white shadow-lg hover:bg-purple-700 focus:outline-none focus:ring-4 focus:ring-purple-300\"\r\n              data-testid=\"dev-login-button\"\r\n              style={{ minHeight: '48px' }}\r\n            >\r\n               DEV LOGIN BYPASS \r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        <div ref={googleButton} className=\"flex justify-center mt-4\"></div>\r\n\r\n        <p className=\"mt-6 text-xs text-slate-500 dark:text-slate-400\">\r\n          Admins: Sign in with Google to access your dashboard.\r\n        </p>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\n// Attach component to window.Components\r\nif (typeof window !== 'undefined') {\r\n  window.Components = window.Components || {};\r\n  window.Components.AuthScreen = AuthScreen;\r\n}\r\n","import React, { useEffect, useState } from 'react';\r\n\r\nexport default function SuperAdminAllQuestions() {\r\n  const [allQuestions, setAllQuestions] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [filter, setFilter] = useState('');\r\n  const [error, setError] = useState('');\r\n  const [catalogKeys, setCatalogKeys] = useState([]);\r\n\r\n  // Build question list from the available catalog structure (flat arrays or nested categories)\r\n  const rebuildFromCatalog = (catalog) => {\r\n    if (!catalog || typeof catalog !== 'object') return [];\r\n\r\n    let list = [];\r\n\r\n    const addQuizQuestions = (subject, categoryLabel, quiz, quizIndex) => {\r\n      const questionsSources = [];\r\n      if (Array.isArray(quiz?.questions)) questionsSources.push(quiz.questions);\r\n      if (Array.isArray(quiz?.items)) questionsSources.push(quiz.items);\r\n      if (Array.isArray(quiz?.questionBank?.questions))\r\n        questionsSources.push(quiz.questionBank.questions);\r\n\r\n      const merged = questionsSources.flat();\r\n      if (!Array.isArray(merged) || merged.length === 0) return;\r\n\r\n      merged.forEach((q, questionIndex) => {\r\n        const qObj = typeof q === 'object' ? q : { questionText: String(q) };\r\n        list.push({\r\n          id: `${subject}-${categoryLabel}-${quizIndex}-${questionIndex}`,\r\n          subject,\r\n          category: categoryLabel || quiz.category || 'General',\r\n          quizTitle: quiz.title || `Quiz ${quizIndex + 1}`,\r\n          source: 'premade',\r\n          ...qObj,\r\n        });\r\n      });\r\n    };\r\n\r\n    Object.entries(catalog).forEach(([subject, subjData]) => {\r\n      if (Array.isArray(subjData)) {\r\n        subjData.forEach((quiz, quizIndex) => {\r\n          addQuizQuestions(\r\n            subject,\r\n            quiz.category || 'General',\r\n            quiz,\r\n            quizIndex\r\n          );\r\n        });\r\n        return;\r\n      }\r\n\r\n      // Also support root-level quizzes under the subject\r\n      if (Array.isArray(subjData?.quizzes)) {\r\n        subjData.quizzes.forEach((quiz, quizIndex) => {\r\n          addQuizQuestions(\r\n            subject,\r\n            quiz.category || 'General',\r\n            quiz,\r\n            quizIndex\r\n          );\r\n        });\r\n      }\r\n\r\n      const categories = subjData?.categories || {};\r\n      Object.entries(categories).forEach(([categoryName, catData]) => {\r\n        catData?.quizzes?.forEach((quiz, quizIndex) => {\r\n          addQuizQuestions(subject, categoryName, quiz, quizIndex);\r\n        });\r\n\r\n        catData?.topics?.forEach((topic, topicIndex) => {\r\n          if (Array.isArray(topic?.quizzes)) {\r\n            topic.quizzes.forEach((quiz, quizIndex) => {\r\n              addQuizQuestions(\r\n                subject,\r\n                topic.title || categoryName,\r\n                quiz,\r\n                quizIndex\r\n              );\r\n            });\r\n          }\r\n\r\n          if (Array.isArray(topic?.questions)) {\r\n            topic.questions.forEach((q, questionIndex) => {\r\n              list.push({\r\n                id: `${subject}-${categoryName}-topic-${topicIndex}-${questionIndex}`,\r\n                subject,\r\n                category: topic.title || categoryName,\r\n                quizTitle: topic.title || `Topic ${topicIndex + 1}`,\r\n                source: 'premade',\r\n                ...q,\r\n              });\r\n            });\r\n          }\r\n        });\r\n      });\r\n    });\r\n\r\n    return list;\r\n  };\r\n\r\n  useEffect(() => {\r\n    const catalog =\r\n      window.PREMADE_QUIZ_CATALOG ||\r\n      window.AppData ||\r\n      window.ExpandedQuizData ||\r\n      {};\r\n    console.log('[SuperAdminAllQuestions] catalog on mount:', catalog);\r\n    console.log(\r\n      '[SuperAdminAllQuestions] Sample Math structure:',\r\n      catalog?.Math\r\n    );\r\n    try {\r\n      setCatalogKeys(Object.keys(catalog || {}));\r\n    } catch {}\r\n\r\n    let list = rebuildFromCatalog(catalog);\r\n    console.log(\r\n      '[SuperAdminAllQuestions] Extracted questions:',\r\n      list.length,\r\n      list.slice(0, 2)\r\n    );\r\n\r\n    // If nothing yet, wait for quizDataLoaded event then rebuild once\r\n    if (list.length === 0 && typeof window !== 'undefined') {\r\n      const onQuizDataLoaded = (evt) => {\r\n        const nextCatalog =\r\n          window.PREMADE_QUIZ_CATALOG || window.AppData || evt?.detail || {};\r\n        console.log(\r\n          '[SuperAdminAllQuestions] quizDataLoaded event catalog:',\r\n          nextCatalog\r\n        );\r\n        try {\r\n          setCatalogKeys(Object.keys(nextCatalog || {}));\r\n        } catch {}\r\n        const rebuilt = rebuildFromCatalog(nextCatalog);\r\n        console.log(\r\n          '[SuperAdminAllQuestions] Premade questions after event:',\r\n          rebuilt.length\r\n        );\r\n        setAllQuestions((prev) => {\r\n          // Only replace if still empty to avoid overwriting fetched AI\r\n          if (prev.length > 0) return prev;\r\n          return rebuilt;\r\n        });\r\n      };\r\n      window.addEventListener('quizDataLoaded', onQuizDataLoaded, {\r\n        once: true,\r\n      });\r\n    }\r\n\r\n    console.log(\r\n      '[SuperAdminAllQuestions] Premade questions count:',\r\n      list.length\r\n    );\r\n\r\n    // Fetch AI-generated questions\r\n    const apiBase = window.API_BASE_URL || '';\r\n    const token = localStorage.getItem('appToken');\r\n    console.log('[SuperAdminAllQuestions] Token present:', !!token);\r\n    console.log(\r\n      '[SuperAdminAllQuestions] API URL:',\r\n      `${apiBase}/api/admin/all-questions`\r\n    );\r\n\r\n    fetch(`${apiBase}/api/admin/all-questions`, {\r\n      headers: token\r\n        ? {\r\n            Authorization: `Bearer ${token}`,\r\n            'Content-Type': 'application/json',\r\n          }\r\n        : { 'Content-Type': 'application/json' },\r\n    })\r\n      .then((res) => {\r\n        if (!res.ok) {\r\n          throw new Error(`Failed to fetch AI questions: ${res.status}`);\r\n        }\r\n        return res.json();\r\n      })\r\n      .then((aiRows) => {\r\n        console.log('[SuperAdminAllQuestions] AI questions response:', aiRows);\r\n        const aiQuestions = Array.isArray(aiRows)\r\n          ? aiRows.map((row, idx) => ({\r\n              id: `ai-${row.id || idx}`,\r\n              subject: row.subject || 'AI Generated',\r\n              category: row.topic || 'AI Bank',\r\n              quizTitle: 'AI Generated',\r\n              source: 'ai',\r\n              ...row.question_json,\r\n            }))\r\n          : [];\r\n\r\n        console.log(\r\n          '[SuperAdminAllQuestions] Total questions:',\r\n          list.length + aiQuestions.length\r\n        );\r\n        setAllQuestions([...list, ...aiQuestions]);\r\n      })\r\n      .catch((err) => {\r\n        console.error('Failed to fetch AI questions:', err);\r\n        setError(err.message);\r\n        setAllQuestions(list);\r\n      })\r\n      .finally(() => {\r\n        setLoading(false);\r\n      });\r\n  }, []);\r\n\r\n  const filtered = allQuestions.filter(\r\n    (q) =>\r\n      q.subject?.toLowerCase().includes(filter.toLowerCase()) ||\r\n      q.category?.toLowerCase().includes(filter.toLowerCase()) ||\r\n      q.question?.toLowerCase().includes(filter.toLowerCase()) ||\r\n      q.questionText?.toLowerCase().includes(filter.toLowerCase())\r\n  );\r\n\r\n  if (loading) {\r\n    return (\r\n      <div className=\"p-6\">\r\n        <h1 className=\"text-3xl font-bold mb-4 dark:text-white\">\r\n          All Questions (Master List)\r\n        </h1>\r\n        <p className=\"text-gray-500 dark:text-gray-400\">Loading questions...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"p-6\">\r\n      <h1 className=\"text-3xl font-bold mb-2 dark:text-white\">\r\n        All Questions (Master List)\r\n      </h1>\r\n      <div className=\"mb-4 text-xs text-slate-600 dark:text-slate-300 p-3 border-l-4 border-blue-500 bg-white dark:bg-slate-800\">\r\n        <div>Debug: Questions Catalog component mounted.</div>\r\n        <div>\r\n          Catalog subjects seen:{' '}\r\n          {catalogKeys.length ? catalogKeys.join(', ') : 'none'}\r\n        </div>\r\n        <div>\r\n          Premade count:{' '}\r\n          {allQuestions.filter((q) => q.source === 'premade').length}\r\n        </div>\r\n      </div>\r\n\r\n      {error && (\r\n        <div className=\"mb-4 p-4 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded text-yellow-800 dark:text-yellow-200\">\r\n          Warning: {error}\r\n        </div>\r\n      )}\r\n\r\n      <p className=\"text-gray-500 dark:text-gray-400 mb-6\">\r\n        Total Loaded: {allQuestions.length} questions ({filtered.length} shown)\r\n      </p>\r\n\r\n      {allQuestions.length === 0 ? (\r\n        <div className=\"text-center py-12\">\r\n          <p className=\"text-gray-500 dark:text-gray-400 mb-2\">\r\n            No questions found\r\n          </p>\r\n          <p className=\"text-sm text-gray-400 dark:text-gray-500\">\r\n            Debug: subjects detected:{' '}\r\n            {catalogKeys.length ? catalogKeys.join(', ') : 'none'}\r\n          </p>\r\n        </div>\r\n      ) : (\r\n        <>\r\n          <div className=\"mb-6\">\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Filter by subject, category, or question text...\"\r\n              value={filter}\r\n              onChange={(e) => setFilter(e.target.value)}\r\n              className=\"w-full px-4 py-2 border rounded dark:border-slate-600 dark:text-white\"\r\n              style={{\r\n                backgroundColor: 'rgba(255, 255, 255, 1)',\r\n                color: '#000000',\r\n              }}\r\n            />\r\n          </div>\r\n\r\n          <div className=\"space-y-4\">\r\n            {filtered.map((q, i) => (\r\n              <QuestionCard key={q.id} question={q} index={i + 1} />\r\n            ))}\r\n          </div>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction QuestionCard({ question, index }) {\r\n  const questionText =\r\n    question.question || question.questionText || 'No question text';\r\n  const passage = question.passage || '';\r\n  const answerOptions = question.answerOptions || [];\r\n  const correctAnswer = question.correctAnswer;\r\n  const rationale = question.rationale || question.explanation || '';\r\n\r\n  return (\r\n    <div className=\"border rounded p-4 bg-white dark:bg-slate-800 shadow\">\r\n      <div className=\"text-xs text-gray-500 dark:text-gray-400 mb-2\">\r\n        #{index}  {question.source}  {question.subject}  {question.category}{' '}\r\n         {question.quizTitle}\r\n      </div>\r\n\r\n      {passage && (\r\n        <div\r\n          className=\"mb-3 text-sm opacity-80 dark:opacity-70\"\r\n          dangerouslySetInnerHTML={{ __html: passage }}\r\n        />\r\n      )}\r\n\r\n      <div\r\n        className=\"font-semibold mb-3 dark:text-white\"\r\n        dangerouslySetInnerHTML={{ __html: questionText }}\r\n      />\r\n\r\n      {answerOptions.length > 0 ? (\r\n        <div className=\"ml-4 mb-3\">\r\n          {answerOptions.map((opt, i) => {\r\n            const letter = String.fromCharCode(65 + i);\r\n            const isCorrect = opt.isCorrect;\r\n            return (\r\n              <div\r\n                key={i}\r\n                className={`mb-1 ${\r\n                  isCorrect\r\n                    ? 'text-green-600 dark:text-green-400 font-semibold'\r\n                    : 'dark:text-gray-300'\r\n                }`}\r\n              >\r\n                {letter}. {opt.text}\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      ) : null}\r\n\r\n      {correctAnswer !== undefined && (\r\n        <div className=\"mt-2 text-blue-600 dark:text-blue-400 text-sm\">\r\n          Correct Answer: {correctAnswer}\r\n        </div>\r\n      )}\r\n\r\n      {rationale && (\r\n        <div className=\"mt-2 text-gray-600 dark:text-gray-400 text-sm\">\r\n          <strong>Rationale:</strong> {rationale}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from 'react';\r\n\r\nexport default function SuperAdminQuestionBrowser() {\r\n  console.log('[SuperAdminQuestionBrowser] Component mounting...');\r\n\r\n  const [selectedSubject, setSelectedSubject] = useState('');\r\n  const [questions, setQuestions] = useState([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const [totalCount, setTotalCount] = useState(0);\r\n\r\n  const subjects = [\r\n    { key: 'math', label: 'Math' },\r\n    { key: 'science', label: 'Science' },\r\n    { key: 'rla', label: 'Reasoning Through Language Arts (RLA)' },\r\n    { key: 'social', label: 'Social Studies' },\r\n  ];\r\n\r\n  const loadQuestions = async (subject) => {\r\n    if (!subject) return;\r\n\r\n    setLoading(true);\r\n    setError('');\r\n    setSelectedSubject(subject);\r\n\r\n    try {\r\n      const apiBase = window.API_BASE_URL || '';\r\n      const token = localStorage.getItem('appToken');\r\n\r\n      const url = `${apiBase}/api/admin/questions-by-subject?subject=${encodeURIComponent(\r\n        subject\r\n      )}`;\r\n      console.log('[QuestionBrowser] Fetching:', url);\r\n      console.log('[QuestionBrowser] Token present:', !!token);\r\n\r\n      const response = await fetch(url, {\r\n        headers: token\r\n          ? {\r\n              Authorization: `Bearer ${token}`,\r\n              'Content-Type': 'application/json',\r\n            }\r\n          : { 'Content-Type': 'application/json' },\r\n      });\r\n\r\n      console.log('[QuestionBrowser] Response status:', response.status);\r\n\r\n      if (!response.ok) {\r\n        const errorText = await response.text();\r\n        console.error('[QuestionBrowser] Error response:', errorText);\r\n        throw new Error(`Failed to load questions: ${response.status}`);\r\n      }\r\n\r\n      const data = await response.json();\r\n      console.log('[QuestionBrowser] Received data:', data);\r\n      console.log('[QuestionBrowser] Questions count:', data.questions?.length);\r\n\r\n      setQuestions(data.questions || []);\r\n      setTotalCount(data.totalQuestions || 0);\r\n    } catch (err) {\r\n      console.error('[QuestionBrowser] Error loading questions:', err);\r\n      setError(err.message);\r\n      setQuestions([]);\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const renderQuestion = (q, index) => {\r\n    return (\r\n      <div\r\n        key={q.displayNumber || index}\r\n        className=\"mb-6 p-4 border border-gray-200 dark:border-gray-700 rounded-lg bg-white dark:bg-gray-800\"\r\n      >\r\n        <div className=\"flex items-start gap-3\">\r\n          <div className=\"flex-shrink-0 w-10 h-10 rounded-full bg-blue-100 dark:bg-blue-900 flex items-center justify-center font-bold text-blue-700 dark:text-blue-300\">\r\n            {q.displayNumber || index + 1}\r\n          </div>\r\n          <div className=\"flex-1\">\r\n            <div className=\"prose dark:prose-invert max-w-none mb-3\">\r\n              <p className=\"text-lg font-medium\">\r\n                {q.question || q.questionText || 'No question text'}\r\n              </p>\r\n            </div>\r\n\r\n            {q.answerOptions && Array.isArray(q.answerOptions) && (\r\n              <div className=\"space-y-2 mt-3\">\r\n                {q.answerOptions.map((option, optIdx) => (\r\n                  <div\r\n                    key={optIdx}\r\n                    className={`p-3 rounded border ${\r\n                      option.isCorrect\r\n                        ? 'bg-green-50 dark:bg-green-900/20 border-green-300 dark:border-green-700'\r\n                        : 'bg-gray-50 dark:bg-gray-700 border-gray-200 dark:border-gray-600'\r\n                    }`}\r\n                  >\r\n                    <div className=\"flex items-center gap-2\">\r\n                      <span className=\"font-semibold\">\r\n                        {String.fromCharCode(65 + optIdx)}.\r\n                      </span>\r\n                      <span>{option.text || option.answerText}</span>\r\n                      {option.isCorrect && (\r\n                        <span className=\"ml-auto text-green-600 dark:text-green-400 font-bold\">\r\n                           Correct\r\n                        </span>\r\n                      )}\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            )}\r\n\r\n            {q.explanation && (\r\n              <div className=\"mt-3 p-3 bg-blue-50 dark:bg-blue-900/20 border-l-4 border-blue-500 dark:border-blue-400\">\r\n                <p className=\"text-sm font-semibold text-blue-900 dark:text-blue-100\">\r\n                  Explanation:\r\n                </p>\r\n                <p className=\"text-sm text-blue-800 dark:text-blue-200\">\r\n                  {q.explanation}\r\n                </p>\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div className=\"p-6 max-w-6xl mx-auto\">\r\n      <h1 className=\"text-3xl font-bold mb-6 dark:text-white\">\r\n        Question Browser\r\n      </h1>\r\n\r\n      <div className=\"mb-6 p-4 bg-white dark:bg-gray-800 rounded-lg shadow\">\r\n        <label className=\"block text-sm font-medium mb-2 dark:text-gray-200\">\r\n          Select Subject Area:\r\n        </label>\r\n        <div className=\"flex flex-wrap gap-3\">\r\n          {subjects.map((subj) => (\r\n            <button\r\n              key={subj.key}\r\n              onClick={() => loadQuestions(subj.key)}\r\n              disabled={loading}\r\n              className={`px-6 py-3 rounded-lg font-medium transition-colors ${\r\n                selectedSubject === subj.key\r\n                  ? 'bg-blue-600 text-white'\r\n                  : 'bg-gray-100 dark:bg-gray-700 text-gray-700 dark:text-gray-200 hover:bg-gray-200 dark:hover:bg-gray-600'\r\n              } ${loading ? 'opacity-50 cursor-not-allowed' : ''}`}\r\n            >\r\n              {subj.label}\r\n            </button>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      {error && (\r\n        <div className=\"mb-4 p-4 bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-800 rounded text-red-800 dark:text-red-200\">\r\n          Error: {error}\r\n        </div>\r\n      )}\r\n\r\n      {loading && (\r\n        <div className=\"text-center py-12\">\r\n          <div className=\"inline-block animate-spin rounded-full h-12 w-12 border-4 border-gray-300 border-t-blue-600\"></div>\r\n          <p className=\"mt-4 text-gray-600 dark:text-gray-400\">\r\n            Loading questions...\r\n          </p>\r\n        </div>\r\n      )}\r\n\r\n      {!loading && questions.length > 0 && (\r\n        <>\r\n          <div className=\"mb-4 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded\">\r\n            <p className=\"text-blue-900 dark:text-blue-100 font-medium\">\r\n              Showing {totalCount} questions from {selectedSubject}\r\n            </p>\r\n          </div>\r\n\r\n          <div className=\"space-y-4\">\r\n            {questions.map((q, idx) => renderQuestion(q, idx))}\r\n          </div>\r\n        </>\r\n      )}\r\n\r\n      {!loading && !error && questions.length === 0 && selectedSubject && (\r\n        <div className=\"text-center py-12 text-gray-500 dark:text-gray-400\">\r\n          No questions found for {selectedSubject}\r\n        </div>\r\n      )}\r\n\r\n      {!loading && !selectedSubject && (\r\n        <div className=\"text-center py-12 text-gray-500 dark:text-gray-400\">\r\n          Select a subject to view questions\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","/**\r\n * Global Design System for GED Platform\r\n * Provides consistent colors, typography, and spacing across all subjects and themes\r\n */\r\n\r\nexport const designSystem = {\r\n  // Base colors - Light Mode\r\n  light: {\r\n    // Page & surface colors\r\n    bgPage: '#f5f7fb',\r\n    bgPageAlt: '#f8fafc',\r\n    surface: '#ffffff',\r\n    surfaceAlt: '#f8fafc',\r\n    surfaceHover: '#f1f5f9',\r\n\r\n    // Borders\r\n    borderSubtle: '#e2e8f0',\r\n    border: '#cbd5e1',\r\n    borderStrong: '#94a3b8',\r\n\r\n    // Text colors\r\n    textPrimary: '#0f172a',\r\n    textSecondary: '#475569',\r\n    textMuted: '#64748b',\r\n    textDisabled: '#94a3b8',\r\n\r\n    // Interactive states\r\n    primary: '#0ea5e9',\r\n    primaryHover: '#0284c7',\r\n    primaryActive: '#0369a1',\r\n\r\n    // Semantic colors\r\n    success: '#10b981',\r\n    successSoft: '#d1fae5',\r\n    warning: '#f59e0b',\r\n    warningSoft: '#fef3c7',\r\n    danger: '#ef4444',\r\n    dangerSoft: '#fee2e2',\r\n    info: '#3b82f6',\r\n    infoSoft: '#dbeafe',\r\n  },\r\n\r\n  // Base colors - Dark Mode\r\n  dark: {\r\n    // Page & surface colors\r\n    bgPage: '#020617',\r\n    bgPageAlt: '#0f172a',\r\n    surface: '#1e293b',\r\n    surfaceAlt: '#334155',\r\n    surfaceHover: '#475569',\r\n\r\n    // Borders\r\n    borderSubtle: '#334155',\r\n    border: '#475569',\r\n    borderStrong: '#64748b',\r\n\r\n    // Text colors\r\n    textPrimary: '#f1f5f9',\r\n    textSecondary: '#cbd5e1',\r\n    textMuted: '#94a3b8',\r\n    textDisabled: '#64748b',\r\n\r\n    // Interactive states\r\n    primary: '#38bdf8',\r\n    primaryHover: '#0ea5e9',\r\n    primaryActive: '#0284c7',\r\n\r\n    // Semantic colors\r\n    success: '#34d399',\r\n    successSoft: '#064e3b',\r\n    warning: '#fbbf24',\r\n    warningSoft: '#78350f',\r\n    danger: '#f87171',\r\n    dangerSoft: '#7f1d1d',\r\n    info: '#60a5fa',\r\n    infoSoft: '#1e3a8a',\r\n  },\r\n\r\n  // Subject themes\r\n  subjects: {\r\n    math: {\r\n      light: {\r\n        accent: '#2563eb',\r\n        bg: '#eff6ff',\r\n        bgSoft: '#dbeafe',\r\n        chipBg: '#bfdbfe',\r\n        chipText: '#1e40af',\r\n        gradient: 'linear-gradient(135deg, #3b82f6 0%, #2563eb 100%)',\r\n        primary: '#2563eb',\r\n        secondary: '#3b82f6',\r\n        text: '#ffffff',\r\n      },\r\n      dark: {\r\n        accent: '#60a5fa',\r\n        bg: '#1e3a8a',\r\n        bgSoft: '#1e40af',\r\n        chipBg: '#1e40af',\r\n        chipText: '#bfdbfe',\r\n        gradient: 'linear-gradient(135deg, #60a5fa 0%, #3b82f6 100%)',\r\n        primary: '#60a5fa',\r\n        secondary: '#3b82f6',\r\n        text: '#ffffff',\r\n      },\r\n    },\r\n\r\n    rla: {\r\n      light: {\r\n        accent: '#7c3aed',\r\n        bg: '#f5f3ff',\r\n        bgSoft: '#ede9fe',\r\n        chipBg: '#ddd6fe',\r\n        chipText: '#5b21b6',\r\n        gradient: 'linear-gradient(135deg, #8b5cf6 0%, #7c3aed 100%)',\r\n        primary: '#7c3aed',\r\n        secondary: '#8b5cf6',\r\n        text: '#ffffff',\r\n      },\r\n      dark: {\r\n        accent: '#a78bfa',\r\n        bg: '#4c1d95',\r\n        bgSoft: '#5b21b6',\r\n        chipBg: '#6d28d9',\r\n        chipText: '#ddd6fe',\r\n        gradient: 'linear-gradient(135deg, #a78bfa 0%, #8b5cf6 100%)',\r\n        primary: '#a78bfa',\r\n        secondary: '#8b5cf6',\r\n        text: '#ffffff',\r\n      },\r\n    },\r\n\r\n    science: {\r\n      light: {\r\n        accent: '#dc2626',\r\n        bg: '#fef2f2',\r\n        bgSoft: '#fee2e2',\r\n        chipBg: '#fecaca',\r\n        chipText: '#991b1b',\r\n        gradient: 'linear-gradient(135deg, #ef4444 0%, #dc2626 100%)',\r\n        primary: '#dc2626',\r\n        secondary: '#ef4444',\r\n        text: '#ffffff',\r\n      },\r\n      dark: {\r\n        accent: '#f87171',\r\n        bg: '#7f1d1d',\r\n        bgSoft: '#991b1b',\r\n        chipBg: '#b91c1c',\r\n        chipText: '#fee2e2',\r\n        gradient: 'linear-gradient(135deg, #f87171 0%, #ef4444 100%)',\r\n        primary: '#f87171',\r\n        secondary: '#ef4444',\r\n        text: '#ffffff',\r\n      },\r\n    },\r\n\r\n    socialStudies: {\r\n      light: {\r\n        accent: '#059669',\r\n        bg: '#f0fdf4',\r\n        bgSoft: '#dcfce7',\r\n        chipBg: '#bbf7d0',\r\n        chipText: '#166534',\r\n        gradient: 'linear-gradient(135deg, #10b981 0%, #059669 100%)',\r\n        primary: '#059669',\r\n        secondary: '#10b981',\r\n        text: '#ffffff',\r\n      },\r\n      dark: {\r\n        accent: '#34d399',\r\n        bg: '#064e3b',\r\n        bgSoft: '#065f46',\r\n        chipBg: '#047857',\r\n        chipText: '#d1fae5',\r\n        gradient: 'linear-gradient(135deg, #34d399 0%, #10b981 100%)',\r\n        primary: '#34d399',\r\n        secondary: '#10b981',\r\n        text: '#ffffff',\r\n      },\r\n    },\r\n\r\n    workforce: {\r\n      light: {\r\n        accent: '#0891b2',\r\n        bg: '#f0fdfa',\r\n        bgSoft: '#ccfbf1',\r\n        chipBg: '#99f6e4',\r\n        chipText: '#115e59',\r\n        gradient: 'linear-gradient(135deg, #14b8a6 0%, #0891b2 100%)',\r\n      },\r\n      dark: {\r\n        accent: '#5eead4',\r\n        bg: '#134e4a',\r\n        bgSoft: '#115e59',\r\n        chipBg: '#0f766e',\r\n        chipText: '#ccfbf1',\r\n        gradient: 'linear-gradient(135deg, #5eead4 0%, #14b8a6 100%)',\r\n      },\r\n    },\r\n\r\n    coach: {\r\n      light: {\r\n        accent: '#ea580c',\r\n        bg: '#fffbeb',\r\n        bgSoft: '#fef3c7',\r\n        chipBg: '#fde68a',\r\n        chipText: '#92400e',\r\n        gradient: 'linear-gradient(135deg, #f59e0b 0%, #ea580c 100%)',\r\n      },\r\n      dark: {\r\n        accent: '#fbbf24',\r\n        bg: '#78350f',\r\n        bgSoft: '#92400e',\r\n        chipBg: '#b45309',\r\n        chipText: '#fef3c7',\r\n        gradient: 'linear-gradient(135deg, #fbbf24 0%, #f59e0b 100%)',\r\n      },\r\n    },\r\n\r\n    admin: {\r\n      light: {\r\n        accent: '#6366f1',\r\n        bg: '#eef2ff',\r\n        bgSoft: '#e0e7ff',\r\n        chipBg: '#c7d2fe',\r\n        chipText: '#3730a3',\r\n        gradient: 'linear-gradient(135deg, #818cf8 0%, #6366f1 100%)',\r\n      },\r\n      dark: {\r\n        accent: '#a5b4fc',\r\n        bg: '#312e81',\r\n        bgSoft: '#3730a3',\r\n        chipBg: '#4338ca',\r\n        chipText: '#e0e7ff',\r\n        gradient: 'linear-gradient(135deg, #a5b4fc 0%, #818cf8 100%)',\r\n      },\r\n    },\r\n  },\r\n\r\n  // Typography scale\r\n  typography: {\r\n    fontFamily: {\r\n      sans: '-apple-system, BlinkMacSystemFont, \"Segoe UI\", Roboto, \"Helvetica Neue\", Arial, sans-serif',\r\n      mono: 'ui-monospace, SFMono-Regular, \"SF Mono\", Menlo, Monaco, Consolas, monospace',\r\n    },\r\n    fontSize: {\r\n      xs: '0.75rem', // 12px\r\n      sm: '0.875rem', // 14px\r\n      base: '1rem', // 16px\r\n      lg: '1.125rem', // 18px\r\n      xl: '1.25rem', // 20px\r\n      '2xl': '1.5rem', // 24px\r\n      '3xl': '1.875rem', // 30px\r\n      '4xl': '2.25rem', // 36px\r\n      '5xl': '3rem', // 48px\r\n    },\r\n    fontWeight: {\r\n      normal: '400',\r\n      medium: '500',\r\n      semibold: '600',\r\n      bold: '700',\r\n      extrabold: '800',\r\n    },\r\n    lineHeight: {\r\n      tight: '1.25',\r\n      normal: '1.5',\r\n      relaxed: '1.75',\r\n    },\r\n  },\r\n\r\n  // Spacing scale\r\n  spacing: {\r\n    0: '0',\r\n    1: '0.25rem', // 4px\r\n    2: '0.5rem', // 8px\r\n    3: '0.75rem', // 12px\r\n    4: '1rem', // 16px\r\n    5: '1.25rem', // 20px\r\n    6: '1.5rem', // 24px\r\n    8: '2rem', // 32px\r\n    10: '2.5rem', // 40px\r\n    12: '3rem', // 48px\r\n    16: '4rem', // 64px\r\n    20: '5rem', // 80px\r\n    24: '6rem', // 96px\r\n  },\r\n\r\n  // Border radius\r\n  borderRadius: {\r\n    none: '0',\r\n    sm: '0.25rem', // 4px\r\n    md: '0.5rem', // 8px\r\n    lg: '0.75rem', // 12px\r\n    xl: '1rem', // 16px\r\n    '2xl': '1.5rem', // 24px\r\n    '3xl': '2rem', // 32px\r\n    full: '9999px',\r\n  },\r\n\r\n  // Shadows\r\n  shadows: {\r\n    sm: '0 1px 2px 0 rgba(0, 0, 0, 0.05)',\r\n    md: '0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)',\r\n    lg: '0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)',\r\n    xl: '0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)',\r\n  },\r\n};\r\n\r\n// Helper function to get subject theme based on current mode\r\nexport function getSubjectTheme(subject, isDark = false) {\r\n  const mode = isDark ? 'dark' : 'light';\r\n  const subjectKey = subject.toLowerCase().replace(/\\s+/g, '');\r\n  const normalizedKey =\r\n    subjectKey === 'socialstudies'\r\n      ? 'socialStudies'\r\n      : subjectKey === 'ged'\r\n      ? 'coach'\r\n      : subjectKey;\r\n\r\n  return (\r\n    designSystem.subjects[normalizedKey]?.[mode] ||\r\n    designSystem.subjects.math[mode]\r\n  );\r\n}\r\n\r\n// Helper function to get base theme based on current mode\r\nexport function getBaseTheme(isDark = false) {\r\n  return isDark ? designSystem.dark : designSystem.light;\r\n}\r\n\r\nexport default designSystem;\r\n","import React from 'react';\r\nimport { getSubjectTheme } from '../../theme/designSystem.js';\r\n\r\n/**\r\n * SubjectCard: unified styling for subject selection hubs.\r\n */\r\nexport function SubjectCard({\r\n  subject,\r\n  dark = false,\r\n  icon = null,\r\n  onClick,\r\n  children,\r\n  className = '',\r\n}) {\r\n  const theme = getSubjectTheme(subject, dark);\r\n  const isRLA =\r\n    subject.toLowerCase().includes('reasoning') ||\r\n    subject.toLowerCase().includes('rla');\r\n\r\n  return (\r\n    <button\r\n      type=\"button\"\r\n      onClick={onClick}\r\n      className={`group relative rounded-2xl p-6 md:p-7 text-left shadow-md hover:shadow-lg focus:outline-none focus-visible:ring-2 transition ${className}`.trim()}\r\n      style={{\r\n        background: theme.bg,\r\n        border: `1px solid ${theme.bgSoft}`,\r\n        color: theme.accent,\r\n        minHeight: '128px',\r\n        '--tw-ring-color': isRLA ? theme.accent : '#0ea5e9',\r\n      }}\r\n    >\r\n      <div className=\"flex items-center gap-4\">\r\n        {icon && (\r\n          <span\r\n            className=\"w-14 h-14 md:w-16 md:h-16 rounded-xl flex items-center justify-center shadow-inner\"\r\n            style={{\r\n              background: theme.gradient,\r\n              color: '#fff',\r\n              filter: 'drop-shadow(0 4px 10px rgba(0,0,0,0.25))',\r\n            }}\r\n          >\r\n            {typeof icon === 'string' ? (\r\n              <img src={icon} alt=\"\" className=\"w-9 h-9 md:w-10 md:h-10\" />\r\n            ) : (\r\n              icon\r\n            )}\r\n          </span>\r\n        )}\r\n        <div className=\"flex-1\">\r\n          <h3\r\n            className=\"font-extrabold text-xl md:text-2xl mb-1\"\r\n            style={{ color: theme.accent }}\r\n          >\r\n            {subject}\r\n          </h3>\r\n          <div\r\n            className=\"text-sm md:text-base leading-snug\"\r\n            style={{ color: theme.accent, opacity: 0.8 }}\r\n          >\r\n            {children}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </button>\r\n  );\r\n}\r\n\r\nexport default SubjectCard;\r\n","import React from 'react';\r\n\r\n// Geometry configuration\r\nconst GEOMETRY_FIGURES_ENABLED = (() => {\r\n  try {\r\n    return (\r\n      window.__APP_CONFIG__ &&\r\n      window.__APP_CONFIG__.geometryFiguresEnabled === true\r\n    );\r\n  } catch {\r\n    return false;\r\n  }\r\n})();\r\n\r\nconst DEFAULT_FIGURE_STYLE = {\r\n  stroke: '#1e293b',\r\n  strokeWidth: 2,\r\n  fill: 'none',\r\n};\r\n\r\n// Geometry renderers (simplified - extend as needed)\r\nconst geometryRenderers = {\r\n  circle: (params, style) => {\r\n    const cx = params.cx || 50;\r\n    const cy = params.cy || 50;\r\n    const r = params.r || 30;\r\n    return {\r\n      elements: <circle cx={cx} cy={cy} r={r} {...style} />,\r\n      pointsForBounds: [\r\n        { x: cx - r, y: cy - r },\r\n        { x: cx + r, y: cy + r },\r\n      ],\r\n    };\r\n  },\r\n  rectangle: (params, style) => {\r\n    const x = params.x || 20;\r\n    const y = params.y || 20;\r\n    const width = params.width || 60;\r\n    const height = params.height || 40;\r\n    return {\r\n      elements: <rect x={x} y={y} width={width} height={height} {...style} />,\r\n      pointsForBounds: [\r\n        { x, y },\r\n        { x: x + width, y: y + height },\r\n      ],\r\n    };\r\n  },\r\n  line: (params, style) => {\r\n    const x1 = params.x1 || 10;\r\n    const y1 = params.y1 || 10;\r\n    const x2 = params.x2 || 90;\r\n    const y2 = params.y2 || 90;\r\n    return {\r\n      elements: <line x1={x1} y1={y1} x2={x2} y2={y2} {...style} />,\r\n      pointsForBounds: [\r\n        { x: x1, y: y1 },\r\n        { x: x2, y: y2 },\r\n      ],\r\n    };\r\n  },\r\n  triangle: (params, style) => {\r\n    const points = params.points || '50,10 90,90 10,90';\r\n    const coords = points.split(' ').map((p) => {\r\n      const [x, y] = p.split(',').map(Number);\r\n      return { x, y };\r\n    });\r\n    return {\r\n      elements: <polygon points={points} {...style} />,\r\n      pointsForBounds: coords,\r\n    };\r\n  },\r\n};\r\n\r\nexport function GeometryFigure({ spec, className }) {\r\n  if (!GEOMETRY_FIGURES_ENABLED || !spec || typeof spec !== 'object') {\r\n    return null;\r\n  }\r\n\r\n  const style = {\r\n    ...DEFAULT_FIGURE_STYLE,\r\n    ...(spec.style || {}),\r\n  };\r\n\r\n  const renderer = geometryRenderers[spec.shape];\r\n  if (!renderer) {\r\n    console.warn('Unsupported geometry shape:', spec.shape);\r\n    return null;\r\n  }\r\n\r\n  const renderResult = renderer(spec.params || {}, style);\r\n  if (!renderResult) {\r\n    return null;\r\n  }\r\n\r\n  const points =\r\n    renderResult.pointsForBounds && renderResult.pointsForBounds.length > 0\r\n      ? renderResult.pointsForBounds\r\n      : [\r\n          { x: 0, y: 0 },\r\n          { x: 100, y: 100 },\r\n        ];\r\n\r\n  let minX = Math.min(...points.map((pt) => pt.x));\r\n  let maxX = Math.max(...points.map((pt) => pt.x));\r\n  let minY = Math.min(...points.map((pt) => pt.y));\r\n  let maxY = Math.max(...points.map((pt) => pt.y));\r\n\r\n  if (spec.view) {\r\n    const { xMin, xMax, yMin, yMax } = spec.view;\r\n    if (typeof xMin === 'number') minX = Math.min(minX, xMin);\r\n    if (typeof xMax === 'number') maxX = Math.max(maxX, xMax);\r\n    if (typeof yMin === 'number') minY = Math.min(minY, yMin);\r\n    if (typeof yMax === 'number') maxY = Math.max(maxY, yMax);\r\n  }\r\n\r\n  const padding =\r\n    spec.view && typeof spec.view.padding === 'number' ? spec.view.padding : 8;\r\n  const width = Math.max(maxX - minX, 20);\r\n  const height = Math.max(maxY - minY, 20);\r\n\r\n  const viewBox = `${minX - padding} ${minY - padding} ${width + padding * 2} ${\r\n    height + padding * 2\r\n  }`;\r\n\r\n  return (\r\n    <svg\r\n      className={className}\r\n      viewBox={viewBox}\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      role=\"img\"\r\n      aria-label=\"Geometry figure\"\r\n      preserveAspectRatio=\"xMidYMid meet\"\r\n    >\r\n      {renderResult.elements}\r\n    </svg>\r\n  );\r\n}\r\n\r\nexport default GeometryFigure;\r\n","import React, { useEffect, useRef } from 'react';\r\n\r\n/**\r\n * GraphTool - JSXGraph wrapper component for interactive graphing\r\n *\r\n * This component initializes a JSXGraph board for plotting points,\r\n * lines, and other mathematical objects.\r\n *\r\n * @param {Object} props\r\n * @param {string} props.boardId - Unique ID for the JSXGraph board element\r\n * @param {Object} props.config - JSXGraph board configuration\r\n * @param {Function} props.onBoardReady - Callback when board is initialized\r\n */\r\nexport default function GraphTool({\r\n  boardId = 'jxgbox',\r\n  config = {},\r\n  onBoardReady = null,\r\n}) {\r\n  const boardRef = useRef(null);\r\n  const containerRef = useRef(null);\r\n\r\n  useEffect(() => {\r\n    // Check if JSXGraph is loaded\r\n    if (typeof window.JXG === 'undefined') {\r\n      console.warn(\r\n        'JSXGraph library not loaded. Please include JSXGraph script.'\r\n      );\r\n      return;\r\n    }\r\n\r\n    // Default board configuration\r\n    const defaultConfig = {\r\n      boundingbox: [-10, 10, 10, -10],\r\n      axis: true,\r\n      showNavigation: true,\r\n      showCopyright: false,\r\n      keepaspectratio: true,\r\n      ...config,\r\n    };\r\n\r\n    try {\r\n      // Initialize JSXGraph board\r\n      const board = window.JXG.JSXGraph.initBoard(boardId, defaultConfig);\r\n      boardRef.current = board;\r\n\r\n      // Callback when board is ready\r\n      if (onBoardReady && typeof onBoardReady === 'function') {\r\n        onBoardReady(board);\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to initialize JSXGraph board:', error);\r\n    }\r\n\r\n    // Cleanup on unmount\r\n    return () => {\r\n      if (boardRef.current) {\r\n        try {\r\n          window.JXG.JSXGraph.freeBoard(boardRef.current);\r\n        } catch (e) {\r\n          console.warn('Error freeing JSXGraph board:', e);\r\n        }\r\n      }\r\n    };\r\n  }, [boardId, config, onBoardReady]);\r\n\r\n  return (\r\n    <div className=\"graph-tool-container w-full h-full bg-white rounded-lg p-4\">\r\n      <h3 className=\"text-xl font-bold mb-4 text-blue-700\"> Graphing Tool</h3>\r\n      {typeof window.JXG === 'undefined' && (\r\n        <div className=\"mb-4 p-4 bg-yellow-50 border border-yellow-200 rounded-lg\">\r\n          <p className=\"text-yellow-800 font-semibold\">\r\n             JSXGraph library not loaded. Please refresh the page.\r\n          </p>\r\n        </div>\r\n      )}\r\n      <div\r\n        id={boardId}\r\n        ref={containerRef}\r\n        className=\"jxgbox w-full h-full min-h-[400px] rounded border border-slate-300 bg-white\"\r\n        role=\"img\"\r\n        aria-label=\"Interactive graph for plotting mathematical objects\"\r\n      />\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from 'react';\r\n\r\n/**\r\n * StepByStepSolver - Math problem solver with step-by-step explanations\r\n *\r\n * This component provides a UI for solving math problems with detailed\r\n * step-by-step breakdowns. Currently a placeholder for future implementation.\r\n *\r\n * @param {Object} props\r\n * @param {string} props.problemType - Type of problem (equation, inequality, etc.)\r\n * @param {Function} props.onSolutionFound - Callback when solution is generated\r\n */\r\nexport default function StepByStepSolver({\r\n  problemType = 'equation',\r\n  onSolutionFound = null,\r\n}) {\r\n  const [input, setInput] = useState('');\r\n  const [steps, setSteps] = useState([]);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  const handleSolve = async () => {\r\n    if (!input.trim()) return;\r\n\r\n    setIsLoading(true);\r\n\r\n    // TODO: Implement actual solver logic\r\n    // For now, this is a placeholder that demonstrates the UI structure\r\n    setTimeout(() => {\r\n      const exampleSteps = [\r\n        {\r\n          step: 1,\r\n          description: 'Parse the problem',\r\n          equation: input,\r\n        },\r\n        {\r\n          step: 2,\r\n          description: 'Identify problem type',\r\n          equation: `Type: ${problemType}`,\r\n        },\r\n        {\r\n          step: 3,\r\n          description: 'Solution steps will appear here',\r\n          equation: 'Implementation pending',\r\n        },\r\n      ];\r\n\r\n      setSteps(exampleSteps);\r\n      setIsLoading(false);\r\n\r\n      if (onSolutionFound) {\r\n        onSolutionFound(exampleSteps);\r\n      }\r\n    }, 1000);\r\n  };\r\n\r\n  const handleClear = () => {\r\n    setInput('');\r\n    setSteps([]);\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className=\"step-by-step-solver w-full rounded-lg p-6 shadow-lg\"\r\n      style={{ backgroundColor: 'rgba(255, 255, 255, 1)' }}\r\n    >\r\n      <h3 className=\"text-xl font-bold mb-4 text-blue-700 dark:text-blue-400\">\r\n         Step-by-Step Math Solver\r\n      </h3>\r\n\r\n      <div className=\"input-section mb-4\">\r\n        <label\r\n          htmlFor=\"math-input\"\r\n          className=\"block text-sm font-medium mb-2 text-slate-700 dark:text-slate-300\"\r\n        >\r\n          Enter your problem:\r\n        </label>\r\n        <input\r\n          id=\"math-input\"\r\n          type=\"text\"\r\n          value={input}\r\n          onChange={(e) => setInput(e.target.value)}\r\n          onKeyPress={(e) => e.key === 'Enter' && handleSolve()}\r\n          placeholder=\"e.g., 2x + 5 = 13\"\r\n          className=\"w-full px-4 py-2 rounded border dark:border-slate-600 dark:text-slate-100\"\r\n          style={{\r\n            backgroundColor: 'rgba(255, 255, 255, 1)',\r\n            color: '#000000',\r\n          }}\r\n          aria-label=\"Math problem input\"\r\n        />\r\n      </div>\r\n\r\n      <div className=\"button-group flex gap-2 mb-6\">\r\n        <button\r\n          onClick={handleSolve}\r\n          disabled={!input.trim() || isLoading}\r\n          className=\"px-6 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-slate-400 text-white rounded font-medium transition-colors\"\r\n        >\r\n          {isLoading ? 'Solving...' : 'Solve'}\r\n        </button>\r\n        <button\r\n          onClick={handleClear}\r\n          disabled={!input && steps.length === 0}\r\n          className=\"px-6 py-2 bg-slate-300 hover:bg-slate-400 dark:bg-slate-600 dark:hover:bg-slate-500 text-slate-900 dark:text-slate-100 rounded font-medium transition-colors\"\r\n        >\r\n          Clear\r\n        </button>\r\n      </div>\r\n\r\n      {steps.length > 0 && (\r\n        <div className=\"solution-steps space-y-3\">\r\n          <h4 className=\"font-semibold text-lg text-slate-900 dark:text-slate-100 mb-3\">\r\n            Solution Steps:\r\n          </h4>\r\n          {steps.map((step) => (\r\n            <div\r\n              key={step.step}\r\n              className=\"step-card p-4 rounded-lg bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600\"\r\n            >\r\n              <div className=\"step-header flex items-center gap-2 mb-2\">\r\n                <span className=\"step-number inline-flex items-center justify-center w-8 h-8 rounded-full bg-blue-600 text-white text-sm font-bold\">\r\n                  {step.step}\r\n                </span>\r\n                <span className=\"step-description font-medium text-slate-800 dark:text-slate-200\">\r\n                  {step.description}\r\n                </span>\r\n              </div>\r\n              <div className=\"step-equation font-mono text-base text-slate-700 dark:text-slate-300 ml-10\">\r\n                {step.equation}\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n\r\n      {steps.length === 0 && !isLoading && (\r\n        <div className=\"empty-state text-center py-8 text-slate-500 dark:text-slate-400\">\r\n          <p className=\"text-lg\">\r\n            Enter a math problem above to see step-by-step solutions\r\n          </p>\r\n          <p className=\"text-sm mt-2\">\r\n            Supports equations, inequalities, and more\r\n          </p>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from 'react';\r\n\r\n// Statistics Practice Problems\r\nconst STATS_PRACTICE_PROBLEMS = [\r\n  {\r\n    id: 'stats_1',\r\n    question: 'Find the mean of: 5, 10, 15, 20, 15',\r\n    data: [5, 10, 15, 20, 15],\r\n    askFor: 'mean',\r\n    answer: 13,\r\n    explanation: 'Mean = (5 + 10 + 15 + 20 + 15) / 5 = 65 / 5 = 13',\r\n  },\r\n  {\r\n    id: 'stats_2',\r\n    question: 'Find the median of: 3, 7, 12, 18, 21',\r\n    data: [3, 7, 12, 18, 21],\r\n    askFor: 'median',\r\n    answer: 12,\r\n    explanation:\r\n      'The median is the middle value when data is sorted. With 5 values, the 3rd value (12) is the median.',\r\n  },\r\n  {\r\n    id: 'stats_3',\r\n    question: 'Find the mode of: 2, 4, 4, 6, 8, 4, 10',\r\n    data: [2, 4, 4, 6, 8, 4, 10],\r\n    askFor: 'mode',\r\n    answer: 4,\r\n    explanation:\r\n      'The mode is the most frequently occurring value. 4 appears 3 times, more than any other number.',\r\n  },\r\n  {\r\n    id: 'stats_4',\r\n    question: 'Find the range of: 15, 22, 8, 35, 12',\r\n    data: [15, 22, 8, 35, 12],\r\n    askFor: 'range',\r\n    answer: 27,\r\n    explanation: 'Range = Maximum - Minimum = 35 - 8 = 27',\r\n  },\r\n  {\r\n    id: 'stats_5',\r\n    question: 'Find the mean of: 100, 85, 92, 88, 95',\r\n    data: [100, 85, 92, 88, 95],\r\n    askFor: 'mean',\r\n    answer: 92,\r\n    explanation: 'Mean = (100 + 85 + 92 + 88 + 95) / 5 = 460 / 5 = 92',\r\n  },\r\n  {\r\n    id: 'stats_6',\r\n    question: 'Find the median of: 6, 2, 8, 4, 10, 12',\r\n    data: [6, 2, 8, 4, 10, 12],\r\n    askFor: 'median',\r\n    answer: 7,\r\n    explanation:\r\n      'Sorted: 2, 4, 6, 8, 10, 12. With an even count, median = (6 + 8) / 2 = 7',\r\n  },\r\n  {\r\n    id: 'stats_7',\r\n    question: 'Find the range of: 45, 67, 23, 89, 34, 56',\r\n    data: [45, 67, 23, 89, 34, 56],\r\n    askFor: 'range',\r\n    answer: 66,\r\n    explanation: 'Range = 89 - 23 = 66',\r\n  },\r\n  {\r\n    id: 'stats_8',\r\n    question: 'Find the mean of: 12, 18, 24, 30',\r\n    data: [12, 18, 24, 30],\r\n    askFor: 'mean',\r\n    answer: 21,\r\n    explanation: 'Mean = (12 + 18 + 24 + 30) / 4 = 84 / 4 = 21',\r\n  },\r\n];\r\n\r\n/**\r\n * StatisticsTool - Calculator for mean, median, mode, and range with practice questions\r\n */\r\nexport default function StatisticsTool({ onCalculate = null }) {\r\n  const [mode, setMode] = useState('calculator'); // 'calculator' or 'practice'\r\n  const [input, setInput] = useState('');\r\n  const [results, setResults] = useState(null);\r\n  const [error, setError] = useState('');\r\n\r\n  // Practice mode state\r\n  const [currentProblem, setCurrentProblem] = useState(null);\r\n  const [studentAnswer, setStudentAnswer] = useState('');\r\n  const [feedback, setFeedback] = useState(null);\r\n\r\n  const parseNumbers = (text) => {\r\n    const numbers = text\r\n      .split(/[,\\s]+/)\r\n      .map((s) => s.trim())\r\n      .filter((s) => s.length > 0)\r\n      .map((s) => parseFloat(s))\r\n      .filter((n) => !isNaN(n));\r\n    return numbers;\r\n  };\r\n\r\n  const calculateMean = (numbers) => {\r\n    if (numbers.length === 0) return null;\r\n    const sum = numbers.reduce((acc, n) => acc + n, 0);\r\n    return sum / numbers.length;\r\n  };\r\n\r\n  const calculateMedian = (numbers) => {\r\n    if (numbers.length === 0) return null;\r\n    const sorted = [...numbers].sort((a, b) => a - b);\r\n    const mid = Math.floor(sorted.length / 2);\r\n    if (sorted.length % 2 === 0) {\r\n      return (sorted[mid - 1] + sorted[mid]) / 2;\r\n    } else {\r\n      return sorted[mid];\r\n    }\r\n  };\r\n\r\n  const calculateMode = (numbers) => {\r\n    if (numbers.length === 0) return null;\r\n    const frequency = {};\r\n    numbers.forEach((n) => {\r\n      frequency[n] = (frequency[n] || 0) + 1;\r\n    });\r\n    const maxFreq = Math.max(...Object.values(frequency));\r\n    const modes = Object.keys(frequency)\r\n      .filter((key) => frequency[key] === maxFreq)\r\n      .map((key) => parseFloat(key));\r\n    if (maxFreq === 1) return null;\r\n    return modes;\r\n  };\r\n\r\n  const calculateRange = (numbers) => {\r\n    if (numbers.length === 0) return null;\r\n    return Math.max(...numbers) - Math.min(...numbers);\r\n  };\r\n\r\n  const handleCalculate = () => {\r\n    setError('');\r\n    setResults(null);\r\n    const numbers = parseNumbers(input);\r\n\r\n    if (numbers.length === 0) {\r\n      setError('Please enter at least one valid number');\r\n      return;\r\n    }\r\n\r\n    const stats = {\r\n      count: numbers.length,\r\n      values: numbers,\r\n      mean: calculateMean(numbers),\r\n      median: calculateMedian(numbers),\r\n      mode: calculateMode(numbers),\r\n      range: calculateRange(numbers),\r\n      min: Math.min(...numbers),\r\n      max: Math.max(...numbers),\r\n    };\r\n\r\n    setResults(stats);\r\n    if (onCalculate) onCalculate(stats);\r\n  };\r\n\r\n  const handleClear = () => {\r\n    setInput('');\r\n    setResults(null);\r\n    setError('');\r\n  };\r\n\r\n  // Practice mode functions\r\n  const selectNewProblem = () => {\r\n    const randomProblem =\r\n      STATS_PRACTICE_PROBLEMS[\r\n        Math.floor(Math.random() * STATS_PRACTICE_PROBLEMS.length)\r\n      ];\r\n    setCurrentProblem(randomProblem);\r\n    setStudentAnswer('');\r\n    setFeedback(null);\r\n  };\r\n\r\n  const checkPracticeAnswer = () => {\r\n    if (!currentProblem) return;\r\n    if (studentAnswer.trim() === '') {\r\n      alert('Please enter an answer.');\r\n      return;\r\n    }\r\n\r\n    const numericAnswer = parseFloat(studentAnswer);\r\n    if (isNaN(numericAnswer)) {\r\n      alert('Please enter a valid number.');\r\n      return;\r\n    }\r\n\r\n    const isCorrect = Math.abs(numericAnswer - currentProblem.answer) < 0.01;\r\n    setFeedback({\r\n      isCorrect,\r\n      correctAnswer: currentProblem.answer,\r\n      explanation: currentProblem.explanation,\r\n    });\r\n  };\r\n\r\n  const formatNumber = (num) => {\r\n    if (num === null || num === undefined) return 'N/A';\r\n    return typeof num === 'number' ? num.toFixed(2) : num.toString();\r\n  };\r\n\r\n  return (\r\n    <div className=\"statistics-tool w-full bg-white dark:bg-slate-800 rounded-lg p-6 shadow-lg\">\r\n      <h3 className=\"text-xl font-bold mb-4 text-blue-700 dark:text-blue-400\">\r\n         Statistics Tool\r\n      </h3>\r\n\r\n      {/* Mode Toggle */}\r\n      <div className=\"mb-6 flex gap-2\">\r\n        <button\r\n          onClick={() => setMode('calculator')}\r\n          className={`flex-1 px-4 py-2 rounded-lg font-semibold transition ${\r\n            mode === 'calculator'\r\n              ? 'bg-blue-600 text-white'\r\n              : 'bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300'\r\n          }`}\r\n        >\r\n          Calculator\r\n        </button>\r\n        <button\r\n          onClick={() => setMode('practice')}\r\n          className={`flex-1 px-4 py-2 rounded-lg font-semibold transition ${\r\n            mode === 'practice'\r\n              ? 'bg-green-600 text-white'\r\n              : 'bg-gray-200 dark:bg-gray-700 text-gray-700 dark:text-gray-300'\r\n          }`}\r\n        >\r\n          Practice Questions\r\n        </button>\r\n      </div>\r\n\r\n      {/* Calculator Mode */}\r\n      {mode === 'calculator' && (\r\n        <>\r\n          <div className=\"input-section mb-4\">\r\n            <label\r\n              htmlFor=\"stats-input\"\r\n              className=\"block text-sm font-medium mb-2 text-slate-700 dark:text-slate-300\"\r\n            >\r\n              Enter numbers (comma or space-separated):\r\n            </label>\r\n            <input\r\n              id=\"stats-input\"\r\n              type=\"text\"\r\n              value={input}\r\n              onChange={(e) => setInput(e.target.value)}\r\n              onKeyPress={(e) => e.key === 'Enter' && handleCalculate()}\r\n              placeholder=\"e.g., 5, 10, 15, 20, 15\"\r\n              className=\"w-full px-4 py-2 rounded border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100\"\r\n            />\r\n          </div>\r\n\r\n          {error && (\r\n            <div className=\"error-message mb-4 p-3 bg-red-100 dark:bg-red-900 text-red-800 dark:text-red-200 rounded\">\r\n              {error}\r\n            </div>\r\n          )}\r\n\r\n          <div className=\"button-group flex gap-2 mb-6\">\r\n            <button\r\n              onClick={handleCalculate}\r\n              disabled={!input.trim()}\r\n              className=\"px-6 py-2 bg-blue-600 hover:bg-blue-700 disabled:bg-slate-400 text-white rounded font-medium transition-colors\"\r\n            >\r\n              Calculate\r\n            </button>\r\n            <button\r\n              onClick={handleClear}\r\n              disabled={!input && !results}\r\n              className=\"px-6 py-2 bg-slate-300 hover:bg-slate-400 dark:bg-slate-600 dark:hover:bg-slate-500 text-slate-900 dark:text-slate-100 rounded font-medium transition-colors\"\r\n            >\r\n              Clear\r\n            </button>\r\n          </div>\r\n\r\n          {results && (\r\n            <div className=\"results-section space-y-4\">\r\n              <h4 className=\"font-semibold text-lg text-slate-900 dark:text-slate-100 mb-3\">\r\n                Results:\r\n              </h4>\r\n\r\n              <div className=\"result-grid grid grid-cols-2 gap-4\">\r\n                <div className=\"result-card p-4 rounded-lg bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600\">\r\n                  <div className=\"result-label text-sm font-medium text-slate-600 dark:text-slate-400 mb-1\">\r\n                    Count\r\n                  </div>\r\n                  <div className=\"result-value text-2xl font-bold text-slate-900 dark:text-slate-100\">\r\n                    {results.count}\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"result-card p-4 rounded-lg bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600\">\r\n                  <div className=\"result-label text-sm font-medium text-slate-600 dark:text-slate-400 mb-1\">\r\n                    Mean (Average)\r\n                  </div>\r\n                  <div className=\"result-value text-2xl font-bold text-blue-600 dark:text-blue-400\">\r\n                    {formatNumber(results.mean)}\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"result-card p-4 rounded-lg bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600\">\r\n                  <div className=\"result-label text-sm font-medium text-slate-600 dark:text-slate-400 mb-1\">\r\n                    Median\r\n                  </div>\r\n                  <div className=\"result-value text-2xl font-bold text-blue-600 dark:text-blue-400\">\r\n                    {formatNumber(results.median)}\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"result-card p-4 rounded-lg bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600\">\r\n                  <div className=\"result-label text-sm font-medium text-slate-600 dark:text-slate-400 mb-1\">\r\n                    Mode\r\n                  </div>\r\n                  <div className=\"result-value text-2xl font-bold text-blue-600 dark:text-blue-400\">\r\n                    {results.mode === null\r\n                      ? 'None'\r\n                      : Array.isArray(results.mode)\r\n                      ? results.mode.map(formatNumber).join(', ')\r\n                      : formatNumber(results.mode)}\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"result-card p-4 rounded-lg bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600\">\r\n                  <div className=\"result-label text-sm font-medium text-slate-600 dark:text-slate-400 mb-1\">\r\n                    Range\r\n                  </div>\r\n                  <div className=\"result-value text-2xl font-bold text-slate-900 dark:text-slate-100\">\r\n                    {formatNumber(results.range)}\r\n                  </div>\r\n                </div>\r\n\r\n                <div className=\"result-card p-4 rounded-lg bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600\">\r\n                  <div className=\"result-label text-sm font-medium text-slate-600 dark:text-slate-400 mb-1\">\r\n                    Min / Max\r\n                  </div>\r\n                  <div className=\"result-value text-xl font-bold text-slate-900 dark:text-slate-100\">\r\n                    {formatNumber(results.min)} / {formatNumber(results.max)}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <div className=\"values-display mt-4 p-3 rounded bg-slate-100 dark:bg-slate-900 border border-slate-200 dark:border-slate-600\">\r\n                <div className=\"text-sm font-medium text-slate-600 dark:text-slate-400 mb-2\">\r\n                  Sorted Values:\r\n                </div>\r\n                <div className=\"text-slate-900 dark:text-slate-100 font-mono\">\r\n                  {[...results.values].sort((a, b) => a - b).join(', ')}\r\n                </div>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {!results && !error && (\r\n            <div className=\"empty-state text-center py-8 text-slate-500 dark:text-slate-400\">\r\n              <p className=\"text-lg\">\r\n                Enter numbers above to calculate statistics\r\n              </p>\r\n              <p className=\"text-sm mt-2\">\r\n                Calculates mean, median, mode, and range\r\n              </p>\r\n            </div>\r\n          )}\r\n        </>\r\n      )}\r\n\r\n      {/* Practice Mode */}\r\n      {mode === 'practice' && (\r\n        <>\r\n          <div className=\"mb-6\">\r\n            <button\r\n              onClick={selectNewProblem}\r\n              className=\"px-6 py-3 bg-green-600 hover:bg-green-700 text-white font-bold rounded-lg transition\"\r\n            >\r\n              New Practice Problem\r\n            </button>\r\n          </div>\r\n\r\n          {currentProblem ? (\r\n            <div className=\"p-4 rounded-lg bg-slate-50 dark:bg-slate-700\">\r\n              <h4 className=\"text-lg font-bold mb-3 text-slate-900 dark:text-slate-100\">\r\n                Practice Question:\r\n              </h4>\r\n              <p className=\"mb-4 text-slate-900 dark:text-slate-100\">\r\n                {currentProblem.question}\r\n              </p>\r\n\r\n              <div className=\"mb-4 p-3 bg-blue-50 dark:bg-blue-900 rounded\">\r\n                <strong className=\"text-slate-900 dark:text-slate-100\">\r\n                  Data:\r\n                </strong>{' '}\r\n                <span className=\"text-slate-900 dark:text-slate-100\">\r\n                  {currentProblem.data.join(', ')}\r\n                </span>\r\n              </div>\r\n\r\n              <div className=\"mb-3\">\r\n                <label className=\"block font-semibold mb-2 text-slate-900 dark:text-slate-100\">\r\n                  Your Answer:\r\n                </label>\r\n                <input\r\n                  type=\"text\"\r\n                  value={studentAnswer}\r\n                  onChange={(e) => setStudentAnswer(e.target.value)}\r\n                  onKeyPress={(e) => e.key === 'Enter' && checkPracticeAnswer()}\r\n                  className=\"w-full px-3 py-2 border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-900 text-slate-900 dark:text-slate-100 rounded-lg\"\r\n                  placeholder=\"Enter your answer\"\r\n                />\r\n              </div>\r\n\r\n              <button\r\n                onClick={checkPracticeAnswer}\r\n                className=\"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white font-bold rounded-lg transition\"\r\n              >\r\n                Check Answer\r\n              </button>\r\n\r\n              {feedback && (\r\n                <div\r\n                  className={`mt-4 p-3 rounded-lg ${\r\n                    feedback.isCorrect\r\n                      ? 'bg-green-100 text-green-800 border-2 border-green-500'\r\n                      : 'bg-red-100 text-red-800 border-2 border-red-500'\r\n                  }`}\r\n                >\r\n                  <p className=\"font-bold mb-2\">\r\n                    {feedback.isCorrect ? ' Correct!' : ' Incorrect'}\r\n                  </p>\r\n                  {!feedback.isCorrect && (\r\n                    <p className=\"mb-2\">\r\n                      Correct answer: {feedback.correctAnswer}\r\n                    </p>\r\n                  )}\r\n                  <p className=\"text-sm\">\r\n                    <strong>Explanation:</strong> {feedback.explanation}\r\n                  </p>\r\n                </div>\r\n              )}\r\n            </div>\r\n          ) : (\r\n            <div className=\"text-center py-8 text-slate-500 dark:text-slate-400\">\r\n              <p className=\"text-lg\">Click \"New Practice Problem\" to begin!</p>\r\n              <p className=\"text-sm mt-2\">\r\n                {STATS_PRACTICE_PROBLEMS.length} practice problems available\r\n              </p>\r\n            </div>\r\n          )}\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React from 'react';\r\n\r\nconst MATH_FORMULAS = [\r\n  {\r\n    name: 'Pythagorean Theorem',\r\n    formula: 'a^2 + b^2 = c^2',\r\n    description:\r\n      'In a right triangle, the square of the hypotenuse equals the sum of squares of the other two sides',\r\n  },\r\n  {\r\n    name: 'Slope',\r\n    formula: 'm = (y_2 - y_1) / (x_2 - x_1)',\r\n    description: 'The slope of a line through two points',\r\n  },\r\n  {\r\n    name: 'Distance Formula',\r\n    formula: 'd = [(x_2-x_1) + (y_2-y_1)]',\r\n    description: 'Distance between two points in a coordinate plane',\r\n  },\r\n  {\r\n    name: 'Quadratic Formula',\r\n    formula: 'x = [-b  (b-4ac)] / 2a',\r\n    description: 'Solutions to ax + bx + c = 0',\r\n  },\r\n  {\r\n    name: 'Area of Rectangle',\r\n    formula: 'A = l  w',\r\n    description: 'Length times width',\r\n  },\r\n  {\r\n    name: 'Area of Circle',\r\n    formula: 'A = r',\r\n    description: 'Pi times radius squared',\r\n  },\r\n  {\r\n    name: 'Volume of Cylinder',\r\n    formula: 'V = rh',\r\n    description: 'Pi times radius squared times height',\r\n  },\r\n  {\r\n    name: 'Mean (Average)',\r\n    formula: 'x = x / n',\r\n    description: 'Sum of all values divided by count',\r\n  },\r\n];\r\n\r\nexport function FormulaSheetModal({ onClose }) {\r\n  return (\r\n    <div\r\n      className=\"fixed inset-0 z-50 flex items-center justify-center p-4\"\r\n      style={{ backgroundColor: 'rgba(0,0,0,0.7)' }}\r\n      onClick={onClose}\r\n    >\r\n      <div\r\n        className=\"bg-white dark:bg-slate-800 rounded-xl shadow-2xl max-w-3xl w-full max-h-[80vh] overflow-y-auto\"\r\n        onClick={(e) => e.stopPropagation()}\r\n      >\r\n        <div className=\"sticky top-0 bg-blue-600 dark:bg-blue-700 text-white px-6 py-4 flex items-center justify-between rounded-t-xl\">\r\n          <h2 className=\"text-2xl font-bold\"> Math Formula Sheet</h2>\r\n          <button\r\n            onClick={onClose}\r\n            className=\"text-white hover:text-gray-200 text-2xl font-bold\"\r\n            aria-label=\"Close formula sheet\"\r\n          >\r\n            \r\n          </button>\r\n        </div>\r\n        <div className=\"p-6 space-y-4\">\r\n          {MATH_FORMULAS.map((item, idx) => (\r\n            <div\r\n              key={idx}\r\n              className=\"p-4 border border-slate-200 dark:border-slate-700 rounded-lg\"\r\n            >\r\n              <h3 className=\"text-lg font-bold text-blue-700 dark:text-blue-400 mb-2\">\r\n                {item.name}\r\n              </h3>\r\n              <div className=\"text-xl font-mono text-slate-900 dark:text-slate-100 mb-2\">\r\n                {item.formula}\r\n              </div>\r\n              <p className=\"text-sm text-slate-600 dark:text-slate-400\">\r\n                {item.description}\r\n              </p>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default FormulaSheetModal;\r\n","/**\r\n * LaTeX Helper Utilities\r\n * Extracted from LegacyRootApp for modular tool components\r\n */\r\n\r\n// KaTeX render options\r\nconst KATEX_RENDER_OPTIONS = {\r\n  throwOnError: false,\r\n  strict: false,\r\n  trust: false,\r\n  displayMode: false,\r\n};\r\n\r\n/**\r\n * Render LaTeX to HTML using KaTeX\r\n * @param {string} latexInput - LaTeX string to render\r\n * @returns {string} HTML string\r\n */\r\nexport function renderLatexToHtml(latexInput) {\r\n  if (typeof latexInput !== 'string') {\r\n    return '';\r\n  }\r\n  if (typeof katex === 'undefined') {\r\n    console.warn('KaTeX not loaded');\r\n    return latexInput;\r\n  }\r\n\r\n  try {\r\n    const latex = normalizeLatexForKaTeX(latexInput);\r\n\r\n    if (\r\n      typeof document !== 'undefined' &&\r\n      typeof document.createElement === 'function' &&\r\n      typeof katex.render === 'function'\r\n    ) {\r\n      const container = document.createElement('span');\r\n      katex.render(latex, container, KATEX_RENDER_OPTIONS);\r\n      return container.innerHTML;\r\n    }\r\n\r\n    if (typeof katex.renderToString === 'function') {\r\n      return katex.renderToString(latex, KATEX_RENDER_OPTIONS);\r\n    }\r\n  } catch (error) {\r\n    console.warn('KaTeX render error:', error?.message || error);\r\n  }\r\n\r\n  return latexInput;\r\n}\r\n\r\n/**\r\n * Normalize LaTeX for KaTeX rendering\r\n * @param {string} latex - Raw LaTeX string\r\n * @returns {string} Normalized LaTeX\r\n */\r\nfunction normalizeLatexForKaTeX(latex) {\r\n  if (typeof latex !== 'string') {\r\n    return '';\r\n  }\r\n\r\n  let working = latex;\r\n\r\n  // Replace common text-mode constructs\r\n  working = working.replace(/\\\\text\\{([^}]+)\\}/g, '\\\\mathrm{$1}');\r\n\r\n  // Normalize spacing\r\n  working = working.replace(/\\s+/g, ' ').trim();\r\n\r\n  return working;\r\n}\r\n\r\n/**\r\n * Apply safe math fixes to text content\r\n * @param {string} text - Text with potential LaTeX\r\n * @returns {string} Fixed text\r\n */\r\nexport function applySafeMathFix(text) {\r\n  if (typeof text !== 'string') {\r\n    return text;\r\n  }\r\n\r\n  let working = text;\r\n\r\n  // Fix common LaTeX macro issues\r\n  working = working.replace(/\\\\frac([^{])/g, '\\\\frac{$1}');\r\n  working = working.replace(/\\\\sqrt([^{])/g, '\\\\sqrt{$1}');\r\n\r\n  // Normalize underscored macros (e.g., \\\\bar_x -> \\\\bar{x})\r\n  working = working.replace(\r\n    /\\\\(bar|hat|tilde|vec|dot)_([a-zA-Z])/g,\r\n    '\\\\$1{$2}'\r\n  );\r\n\r\n  return working;\r\n}\r\n\r\n/**\r\n * Sanitize Unicode replacement characters and fix common encoding issues\r\n * @param {string} s - String with potential encoding issues\r\n * @returns {string} Sanitized string\r\n */\r\nexport function sanitizeUnicode(s) {\r\n  if (typeof s !== 'string' || s.length === 0) return s;\r\n\r\n  try {\r\n    let t = s;\r\n\r\n    // Chemical formulas and units\r\n    t = t.replace(/H\\uFFFD\\uFFFDO/g, 'HO');\r\n    t = t.replace(/g\\/cm\\uFFFD/g, 'g/cm');\r\n    t = t.replace(/cm\\uFFFD/g, 'cm');\r\n\r\n    // Degree symbol\r\n    t = t.replace(/\\uFFFDC/g, 'C');\r\n    t = t.replace(/\\uFFFDF/g, 'F');\r\n\r\n    // Common math superscripts\r\n    t = t.replace(/([abc])\\uFFFD/g, '$1');\r\n    t = t.replace(/x\\uFFFD/g, 'x');\r\n\r\n    // Ranges (e.g., 3522)\r\n    t = t.replace(/(\\d)\\s?\\uFFFD\\s?(\\d)/g, '$1$2');\r\n\r\n    // Not-equal patterns\r\n    t = t.replace(/\\uFFFD\\uFFFD 0/g, ' 0');\r\n\r\n    // Topic labels and ellipsis\r\n    t = t.replace(/Topic A\\uFFFDZ/g, 'Topic AZ');\r\n    t = t.replace(/More in this topic\\uFFFD/g, 'More in this topic');\r\n\r\n    // Arrow in genetics\r\n    t = t.replace(/pp \\uFFFD/g, 'pp ');\r\n\r\n    // Strip stray replacement characters\r\n    t = t.replace(/\\uFFFD\\uFFFD?/g, '');\r\n    t = t.replace(/\\uFFFD/g, '');\r\n\r\n    return t;\r\n  } catch (error) {\r\n    console.warn('Unicode sanitization error:', error);\r\n    return s;\r\n  }\r\n}\r\n\r\n/**\r\n * Escape HTML special characters\r\n * @param {string} str - String to escape\r\n * @returns {string} Escaped string\r\n */\r\nexport function escapeHtml(str) {\r\n  if (typeof str !== 'string') {\r\n    return '';\r\n  }\r\n\r\n  const map = {\r\n    '&': '&amp;',\r\n    '<': '&lt;',\r\n    '>': '&gt;',\r\n    '\"': '&quot;',\r\n    \"'\": '&#39;',\r\n  };\r\n\r\n  return str.replace(/[&<>\"']/g, (m) => map[m]);\r\n}\r\n\r\n/**\r\n * Check if KaTeX is available\r\n * @returns {boolean}\r\n */\r\nexport function isKatexAvailable() {\r\n  return (\r\n    typeof katex !== 'undefined' && typeof katex.renderToString === 'function'\r\n  );\r\n}\r\n","import React from 'react';\r\nimport {\r\n  renderLatexToHtml,\r\n  applySafeMathFix,\r\n  sanitizeUnicode,\r\n} from '../../utils/latexHelpers';\r\n\r\n// Science Formulas Data\r\nconst SCIENCE_FORMULAS = [\r\n  {\r\n    name: 'Density',\r\n    formula: 'd = \\\\frac{m}{V}',\r\n    variables: 'd = density (mass per unit volume), m = mass, V = volume',\r\n  },\r\n  {\r\n    name: 'Average Speed',\r\n    formula: 'v = \\\\frac{d}{t}',\r\n    variables: 'v = average speed, d = distance traveled, t = elapsed time',\r\n  },\r\n  {\r\n    name: 'Force',\r\n    formula: 'F = ma',\r\n    variables: 'F = net force, m = mass, a = acceleration',\r\n  },\r\n  {\r\n    name: 'Work',\r\n    formula: 'W = F \\\\times d',\r\n    variables:\r\n      'W = work, F = applied force, d = displacement in the direction of the force',\r\n  },\r\n  {\r\n    name: 'Mean (Average)',\r\n    formula:\r\n      '\\\\bar{x} = \\\\frac{\\\\text{Total of all data values}}{\\\\text{How many values there are}}',\r\n    variables:\r\n      '\\\\bar{x} = mean (average) of the data set: add all values together and divide by how many values there are',\r\n  },\r\n  {\r\n    name: 'Range',\r\n    formula: '\\\\text{Range} = \\\\text{Maximum value} - \\\\text{Minimum value}',\r\n    variables:\r\n      'Describes the spread between the largest and smallest values in a data set.',\r\n  },\r\n];\r\n\r\n// FormulaDisplay Component\r\nfunction FormulaDisplay({ latex, className = '' }) {\r\n  const sanitizedFormula =\r\n    typeof latex === 'string'\r\n      ? (() => {\r\n          let working = latex;\r\n          working = applySafeMathFix(working);\r\n          // Normalize LaTeX macros if function available\r\n          if (typeof window.normalizeLatexMacrosInMath === 'function') {\r\n            working = window.normalizeLatexMacrosInMath(working);\r\n          }\r\n          return working;\r\n        })()\r\n      : latex;\r\n\r\n  let html = '';\r\n  try {\r\n    html = renderLatexToHtml(sanitizedFormula);\r\n  } catch (err) {\r\n    console.warn('KaTeX render fallback triggered:', err?.message || err);\r\n    // Fallback: escape and display as plain text\r\n    html = (sanitizedFormula || '').replace(\r\n      /[&<>\"']/g,\r\n      (m) =>\r\n        ({\r\n          '&': '&amp;',\r\n          '<': '&lt;',\r\n          '>': '&gt;',\r\n          '\"': '&quot;',\r\n          \"'\": '&#39;',\r\n        }[m])\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className={className}\r\n      dangerouslySetInnerHTML={{ __html: sanitizeUnicode(html) }}\r\n    />\r\n  );\r\n}\r\n\r\n// Main Science Formula Sheet Component\r\nexport default function ScienceFormulaSheet({ onClose }) {\r\n  return (\r\n    <div\r\n      className=\"fixed inset-0 z-50 flex items-center justify-center\"\r\n      style={{ backgroundColor: 'var(--modal-overlay)' }}\r\n      role=\"dialog\"\r\n      aria-labelledby=\"science-formula-title\"\r\n      aria-modal=\"true\"\r\n    >\r\n      <div className=\"formula-sheet science-formula-sheet rounded-xl shadow-2xl max-w-lg w-11/12 p-6 relative bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-100\">\r\n        <button\r\n          className=\"formula-sheet-close absolute top-3 right-3 text-2xl font-bold hover:opacity-80 transition-opacity text-slate-600 dark:text-slate-300\"\r\n          onClick={onClose}\r\n          type=\"button\"\r\n          aria-label=\"Close science formula sheet\"\r\n        >\r\n          \r\n        </button>\r\n\r\n        <h2\r\n          id=\"science-formula-title\"\r\n          className=\"formula-sheet-title text-xl font-bold mb-4 text-emerald-700 dark:text-emerald-400\"\r\n        >\r\n           Science Formula Sheet\r\n        </h2>\r\n\r\n        <div className=\"formula-sheet-grid space-y-4 max-h-[60vh] overflow-y-auto pr-2\">\r\n          {SCIENCE_FORMULAS.map((item, idx) => (\r\n            <div\r\n              key={idx}\r\n              className=\"formula-sheet-card rounded-lg p-3 space-y-2 bg-slate-50 dark:bg-slate-700 border border-slate-200 dark:border-slate-600\"\r\n            >\r\n              <h3 className=\"formula-sheet-label font-semibold text-emerald-800 dark:text-emerald-300\">\r\n                {item.name}\r\n              </h3>\r\n              <FormulaDisplay\r\n                latex={item.formula}\r\n                className=\"formula-equation rounded text-center my-2 text-lg font-mono px-2 py-2 bg-white dark:bg-slate-800\"\r\n              />\r\n              <p className=\"formula-sheet-description text-xs leading-snug text-slate-600 dark:text-slate-400\">\r\n                {item.variables}\r\n              </p>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useMemo } from 'react';\r\n\r\n// Science Formula Practice Questions\r\nconst SCIENCE_FORMULA_PRACTICE = [\r\n  // DENSITY PROBLEMS\r\n  {\r\n    id: 'density_1',\r\n    category: 'Density',\r\n    formulaName: 'Density',\r\n    formulaDisplay: 'd = m / V',\r\n    problemText:\r\n      'A metal block has a mass of 120 g and a volume of 15 cm. What is its density?',\r\n    given: { m: '120 g', V: '15 cm' },\r\n    answer: 8,\r\n    answerUnits: 'g/cm',\r\n    tolerance: 0.01,\r\n    steps: [\r\n      'Identify the formula: d = m / V',\r\n      'Substitute: d = 120 g / 15 cm',\r\n      'Compute: d = 8 g/cm',\r\n    ],\r\n  },\r\n  {\r\n    id: 'density_2',\r\n    category: 'Density',\r\n    formulaName: 'Density',\r\n    formulaDisplay: 'd = m / V',\r\n    problemText:\r\n      'A piece of wood has a mass of 45 g and a volume of 60 cm. Calculate its density.',\r\n    given: { m: '45 g', V: '60 cm' },\r\n    answer: 0.75,\r\n    answerUnits: 'g/cm',\r\n    tolerance: 0.01,\r\n    steps: [\r\n      'Use the formula: d = m / V',\r\n      'Substitute: d = 45 g / 60 cm',\r\n      'Compute: d = 0.75 g/cm',\r\n    ],\r\n  },\r\n  {\r\n    id: 'density_3',\r\n    category: 'Density',\r\n    formulaName: 'Density',\r\n    formulaDisplay: 'd = m / V',\r\n    problemText:\r\n      'A liquid sample has a volume of 50 mL and a mass of 65 g. Find its density.',\r\n    given: { m: '65 g', V: '50 mL' },\r\n    answer: 1.3,\r\n    answerUnits: 'g/mL',\r\n    tolerance: 0.01,\r\n    steps: [\r\n      'Apply: d = m / V',\r\n      'Substitute: d = 65 g / 50 mL',\r\n      'Compute: d = 1.3 g/mL',\r\n    ],\r\n  },\r\n  // SPEED PROBLEMS\r\n  {\r\n    id: 'speed_1',\r\n    category: 'Speed',\r\n    formulaName: 'Average Speed',\r\n    formulaDisplay: 'v = d / t',\r\n    problemText:\r\n      'A car travels 300 miles in 5 hours. What is its average speed?',\r\n    given: { d: '300 miles', t: '5 hours' },\r\n    answer: 60,\r\n    answerUnits: 'mph',\r\n    tolerance: 0.1,\r\n    steps: [\r\n      'Formula: v = d / t',\r\n      'Substitute: v = 300 miles / 5 hours',\r\n      'Compute: v = 60 mph',\r\n    ],\r\n  },\r\n  {\r\n    id: 'speed_2',\r\n    category: 'Speed',\r\n    formulaName: 'Average Speed',\r\n    formulaDisplay: 'v = d / t',\r\n    problemText:\r\n      'A runner completes 100 meters in 12.5 seconds. Calculate the average speed.',\r\n    given: { d: '100 m', t: '12.5 s' },\r\n    answer: 8,\r\n    answerUnits: 'm/s',\r\n    tolerance: 0.1,\r\n    steps: [\r\n      'Use: v = d / t',\r\n      'Substitute: v = 100 m / 12.5 s',\r\n      'Compute: v = 8 m/s',\r\n    ],\r\n  },\r\n  // FORCE PROBLEMS\r\n  {\r\n    id: 'force_1',\r\n    category: 'Force',\r\n    formulaName: \"Force (Newton's 2nd Law)\",\r\n    formulaDisplay: 'F = m  a',\r\n    problemText: 'A 10 kg object accelerates at 3 m/s. What force is applied?',\r\n    given: { m: '10 kg', a: '3 m/s' },\r\n    answer: 30,\r\n    answerUnits: 'N',\r\n    tolerance: 0.1,\r\n    steps: [\r\n      'Formula: F = m  a',\r\n      'Substitute: F = 10 kg  3 m/s',\r\n      'Compute: F = 30 N',\r\n    ],\r\n  },\r\n  {\r\n    id: 'force_2',\r\n    category: 'Force',\r\n    formulaName: 'Force',\r\n    formulaDisplay: 'F = m  a',\r\n    problemText:\r\n      'A force of 50 N accelerates a 5 kg box. What is the acceleration?',\r\n    given: { F: '50 N', m: '5 kg' },\r\n    answer: 10,\r\n    answerUnits: 'm/s',\r\n    tolerance: 0.1,\r\n    steps: [\r\n      'Rearrange: a = F / m',\r\n      'Substitute: a = 50 N / 5 kg',\r\n      'Compute: a = 10 m/s',\r\n    ],\r\n  },\r\n  // WORK PROBLEMS\r\n  {\r\n    id: 'work_1',\r\n    category: 'Work',\r\n    formulaName: 'Work',\r\n    formulaDisplay: 'W = F  d',\r\n    problemText:\r\n      'A force of 20 N moves an object 5 meters. How much work is done?',\r\n    given: { F: '20 N', d: '5 m' },\r\n    answer: 100,\r\n    answerUnits: 'J',\r\n    tolerance: 0.1,\r\n    steps: [\r\n      'Formula: W = F  d',\r\n      'Substitute: W = 20 N  5 m',\r\n      'Compute: W = 100 J',\r\n    ],\r\n  },\r\n  {\r\n    id: 'work_2',\r\n    category: 'Work',\r\n    formulaName: 'Work',\r\n    formulaDisplay: 'W = F  d',\r\n    problemText: 'Lifting a 50 N box 2 meters high requires how much work?',\r\n    given: { F: '50 N', d: '2 m' },\r\n    answer: 100,\r\n    answerUnits: 'J',\r\n    tolerance: 0.1,\r\n    steps: [\r\n      'Use: W = F  d',\r\n      'Substitute: W = 50 N  2 m',\r\n      'Compute: W = 100 J',\r\n    ],\r\n  },\r\n];\r\n\r\n/**\r\n * ScienceFormulaPractice - Formula-based practice problems\r\n */\r\nexport default function ScienceFormulaPractice({ onClose, dark = false }) {\r\n  const [selectedCategory, setSelectedCategory] = useState('');\r\n  const [currentProblem, setCurrentProblem] = useState(null);\r\n  const [studentAnswer, setStudentAnswer] = useState('');\r\n  const [feedback, setFeedback] = useState(null);\r\n  const [showSteps, setShowSteps] = useState(false);\r\n\r\n  const categories = useMemo(() => {\r\n    const cats = [...new Set(SCIENCE_FORMULA_PRACTICE.map((p) => p.category))];\r\n    return cats.sort();\r\n  }, []);\r\n\r\n  const selectNewProblem = () => {\r\n    if (!selectedCategory) {\r\n      alert('Please select a category first.');\r\n      return;\r\n    }\r\n\r\n    const categoryProblems = SCIENCE_FORMULA_PRACTICE.filter(\r\n      (p) => p.category === selectedCategory\r\n    );\r\n\r\n    if (categoryProblems.length === 0) {\r\n      alert('No problems available for this category.');\r\n      return;\r\n    }\r\n\r\n    const randomProblem =\r\n      categoryProblems[Math.floor(Math.random() * categoryProblems.length)];\r\n    setCurrentProblem(randomProblem);\r\n    setStudentAnswer('');\r\n    setFeedback(null);\r\n    setShowSteps(false);\r\n  };\r\n\r\n  const checkAnswer = () => {\r\n    if (!currentProblem) return;\r\n    if (studentAnswer.trim() === '') {\r\n      alert('Please enter an answer.');\r\n      return;\r\n    }\r\n\r\n    const numericAnswer = parseFloat(studentAnswer);\r\n    if (isNaN(numericAnswer)) {\r\n      alert('Please enter a valid number.');\r\n      return;\r\n    }\r\n\r\n    const tolerance = currentProblem.tolerance || 0.01;\r\n    const isCorrect =\r\n      Math.abs(numericAnswer - currentProblem.answer) <= tolerance;\r\n\r\n    setFeedback({\r\n      isCorrect,\r\n      correctAnswer: currentProblem.answer,\r\n      units: currentProblem.answerUnits,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className={`p-6 rounded-xl ${\r\n        dark ? 'bg-gray-800 text-white' : 'bg-white text-gray-900'\r\n      }`}\r\n    >\r\n      <h2 className=\"text-2xl font-bold mb-4 text-emerald-600 dark:text-emerald-400\">\r\n         Science Formula Practice\r\n      </h2>\r\n\r\n      {/* Category selector */}\r\n      <div className=\"mb-4\">\r\n        <label className=\"block font-semibold mb-2\">Select Category:</label>\r\n        <div className=\"flex flex-wrap gap-2\">\r\n          {categories.map((cat) => (\r\n            <button\r\n              key={cat}\r\n              onClick={() => setSelectedCategory(cat)}\r\n              className={`px-4 py-2 rounded-lg font-semibold transition ${\r\n                selectedCategory === cat\r\n                  ? 'bg-green-600 text-white'\r\n                  : dark\r\n                  ? 'bg-gray-700 text-gray-200 hover:bg-gray-600'\r\n                  : 'bg-gray-200 text-gray-800 hover:bg-gray-300'\r\n              }`}\r\n            >\r\n              {cat}\r\n            </button>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      {/* New Problem button */}\r\n      <div className=\"mb-6\">\r\n        <button\r\n          onClick={selectNewProblem}\r\n          disabled={!selectedCategory}\r\n          className={`px-6 py-3 rounded-lg font-bold text-white transition ${\r\n            !selectedCategory\r\n              ? 'bg-gray-400 cursor-not-allowed'\r\n              : 'bg-blue-600 hover:bg-blue-700'\r\n          }`}\r\n        >\r\n          New Problem\r\n        </button>\r\n      </div>\r\n\r\n      {/* Current Problem Display */}\r\n      {currentProblem && (\r\n        <div\r\n          className={`p-4 rounded-lg mb-4 ${\r\n            dark ? 'bg-gray-700' : 'bg-gray-50'\r\n          }`}\r\n        >\r\n          <h3 className=\"text-xl font-bold mb-2\">\r\n            {currentProblem.formulaName}\r\n          </h3>\r\n\r\n          {/* Formula Display */}\r\n          <div\r\n            className={`mb-3 p-3 rounded text-center ${\r\n              dark ? 'bg-blue-900' : 'bg-white'\r\n            }`}\r\n          >\r\n            <strong className={dark ? 'text-slate-100' : 'text-slate-900'}>\r\n              Formula:{' '}\r\n            </strong>\r\n            <span\r\n              className={`font-mono text-lg ${\r\n                dark ? 'text-slate-100' : 'text-slate-900'\r\n              }`}\r\n            >\r\n              {currentProblem.formulaDisplay}\r\n            </span>\r\n          </div>\r\n\r\n          {/* Problem Text */}\r\n          <div\r\n            className={`mb-3 p-3 border-l-4 border-blue-500 ${\r\n              dark ? 'bg-slate-800' : 'bg-white'\r\n            }`}\r\n          >\r\n            <p\r\n              className={`text-base ${\r\n                dark ? 'text-slate-100' : 'text-slate-900'\r\n              }`}\r\n            >\r\n              {currentProblem.problemText}\r\n            </p>\r\n          </div>\r\n\r\n          {/* Given Values */}\r\n          {currentProblem.given && (\r\n            <div className=\"mb-3 text-slate-900 dark:text-slate-100\">\r\n              <strong>Given:</strong>\r\n              <div className=\"ml-4 mt-1\">\r\n                {Object.entries(currentProblem.given).map(([key, value]) => (\r\n                  <div key={key}>\r\n                    {key} = {value}\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Answer Input */}\r\n          <div className=\"mb-3\">\r\n            <label className=\"block font-semibold mb-2\">\r\n              Your Answer ({currentProblem.answerUnits}):\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              value={studentAnswer}\r\n              onChange={(e) => setStudentAnswer(e.target.value)}\r\n              onKeyPress={(e) => e.key === 'Enter' && checkAnswer()}\r\n              className={`w-full px-3 py-2 border rounded-lg ${\r\n                dark\r\n                  ? 'bg-gray-800 border-gray-600 text-white'\r\n                  : 'bg-white border-gray-300 text-gray-900'\r\n              }`}\r\n              placeholder=\"Enter numeric answer\"\r\n            />\r\n          </div>\r\n\r\n          {/* Check Answer Button */}\r\n          <button\r\n            onClick={checkAnswer}\r\n            className=\"px-6 py-2 bg-green-600 hover:bg-green-700 text-white font-bold rounded-lg transition\"\r\n          >\r\n            Check Answer\r\n          </button>\r\n\r\n          {/* Feedback */}\r\n          {feedback && (\r\n            <div\r\n              className={`mt-4 p-3 rounded-lg ${\r\n                feedback.isCorrect\r\n                  ? 'bg-green-100 text-green-800 border-2 border-green-500'\r\n                  : 'bg-red-100 text-red-800 border-2 border-red-500'\r\n              }`}\r\n            >\r\n              {feedback.isCorrect ? (\r\n                <p className=\"font-bold\"> Correct!</p>\r\n              ) : (\r\n                <div>\r\n                  <p className=\"font-bold\"> Incorrect</p>\r\n                  <p>\r\n                    Correct answer: {feedback.correctAnswer} {feedback.units}\r\n                  </p>\r\n                </div>\r\n              )}\r\n\r\n              <button\r\n                onClick={() => setShowSteps(!showSteps)}\r\n                className=\"mt-2 px-4 py-1 bg-blue-600 text-white rounded-lg hover:bg-blue-700 transition\"\r\n              >\r\n                {showSteps ? 'Hide Steps' : 'View Steps'}\r\n              </button>\r\n            </div>\r\n          )}\r\n\r\n          {/* Steps Display */}\r\n          {showSteps && currentProblem.steps && (\r\n            <div\r\n              className={`mt-4 p-4 rounded-lg ${\r\n                dark ? 'bg-gray-600' : 'bg-blue-50'\r\n              }`}\r\n            >\r\n              <h4 className=\"font-bold mb-2\">Solution Steps:</h4>\r\n              <ol className=\"list-decimal ml-6\">\r\n                {currentProblem.steps.map((step, idx) => (\r\n                  <li key={idx} className=\"mb-2\">\r\n                    {step}\r\n                  </li>\r\n                ))}\r\n              </ol>\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      {!currentProblem && (\r\n        <div\r\n          className={`p-4 text-center ${\r\n            dark ? 'text-gray-400' : 'text-gray-600'\r\n          }`}\r\n        >\r\n          <p>Select a category and click \"New Problem\" to begin.</p>\r\n          <p className=\"text-sm mt-2\">\r\n            Practice with {SCIENCE_FORMULA_PRACTICE.length} formula problems!\r\n          </p>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useMemo } from 'react';\r\n\r\n// Science Concept Questions Data\r\nconst SCIENCE_CONCEPT_QUESTIONS = [\r\n  // Physics\r\n  {\r\n    id: 'phys_1',\r\n    category: 'Physics',\r\n    difficulty: 'easy',\r\n    question: 'What is the unit of force in the SI system?',\r\n    choices: [\r\n      { text: 'Newton (N)', correct: true },\r\n      { text: 'Joule (J)', correct: false },\r\n      { text: 'Watt (W)', correct: false },\r\n      { text: 'Pascal (Pa)', correct: false },\r\n    ],\r\n    explanation:\r\n      'Force is measured in newtons (N). One newton is the force required to accelerate a 1 kg mass at 1 m/s.',\r\n  },\r\n  {\r\n    id: 'phys_2',\r\n    category: 'Physics',\r\n    difficulty: 'easy',\r\n    question: 'Which quantity is conserved in an isolated system?',\r\n    choices: [\r\n      { text: 'Energy', correct: true },\r\n      { text: 'Velocity', correct: false },\r\n      { text: 'Force', correct: false },\r\n      { text: 'Power', correct: false },\r\n    ],\r\n    explanation:\r\n      'Total energy remains constant in an isolated system according to the law of conservation of energy.',\r\n  },\r\n  {\r\n    id: 'phys_3',\r\n    category: 'Physics',\r\n    difficulty: 'medium',\r\n    question:\r\n      'An object moves at constant velocity. What is the net force acting on it?',\r\n    choices: [\r\n      { text: 'Zero', correct: true },\r\n      { text: 'Equal to its weight', correct: false },\r\n      { text: 'Increasing', correct: false },\r\n      { text: 'Opposite to its velocity', correct: false },\r\n    ],\r\n    explanation:\r\n      \"Newton's First Law states that constant velocity implies zero net force. Forces are balanced.\",\r\n  },\r\n  {\r\n    id: 'phys_4',\r\n    category: 'Physics',\r\n    difficulty: 'medium',\r\n    question: 'What is the formula for kinetic energy?',\r\n    choices: [\r\n      { text: 'KE = mv', correct: true },\r\n      { text: 'KE = mv', correct: false },\r\n      { text: 'KE = mgh', correct: false },\r\n      { text: 'KE = Fd', correct: false },\r\n    ],\r\n    explanation:\r\n      'Kinetic energy is calculated as KE = mv, where m is mass and v is velocity.',\r\n  },\r\n  // Chemistry\r\n  {\r\n    id: 'chem_1',\r\n    category: 'Chemistry',\r\n    difficulty: 'easy',\r\n    question: 'What is the chemical symbol for water?',\r\n    choices: [\r\n      { text: 'HO', correct: true },\r\n      { text: 'CO', correct: false },\r\n      { text: 'O', correct: false },\r\n      { text: 'NaCl', correct: false },\r\n    ],\r\n    explanation: 'Water is HO: two hydrogen atoms bonded to one oxygen atom.',\r\n  },\r\n  {\r\n    id: 'chem_2',\r\n    category: 'Chemistry',\r\n    difficulty: 'easy',\r\n    question: 'What is the smallest unit of an element?',\r\n    choices: [\r\n      { text: 'Atom', correct: true },\r\n      { text: 'Molecule', correct: false },\r\n      { text: 'Cell', correct: false },\r\n      { text: 'Compound', correct: false },\r\n    ],\r\n    explanation:\r\n      'An atom is the smallest unit that retains the properties of an element.',\r\n  },\r\n  {\r\n    id: 'chem_3',\r\n    category: 'Chemistry',\r\n    difficulty: 'medium',\r\n    question:\r\n      'What type of bond forms when electrons are shared between atoms?',\r\n    choices: [\r\n      { text: 'Covalent bond', correct: true },\r\n      { text: 'Ionic bond', correct: false },\r\n      { text: 'Metallic bond', correct: false },\r\n      { text: 'Hydrogen bond', correct: false },\r\n    ],\r\n    explanation:\r\n      'Covalent bonds form when atoms share electrons to achieve stable electron configurations.',\r\n  },\r\n  {\r\n    id: 'chem_4',\r\n    category: 'Chemistry',\r\n    difficulty: 'hard',\r\n    question: 'What happens during an oxidation reaction?',\r\n    choices: [\r\n      { text: 'Loss of electrons', correct: true },\r\n      { text: 'Gain of electrons', correct: false },\r\n      { text: 'Gain of protons', correct: false },\r\n      { text: 'Loss of neutrons', correct: false },\r\n    ],\r\n    explanation:\r\n      'Oxidation is the loss of electrons. Remember: OIL RIG (Oxidation Is Loss, Reduction Is Gain).',\r\n  },\r\n  // Biology\r\n  {\r\n    id: 'bio_1',\r\n    category: 'Biology',\r\n    difficulty: 'easy',\r\n    question: 'What is the basic unit of life?',\r\n    choices: [\r\n      { text: 'Cell', correct: true },\r\n      { text: 'Tissue', correct: false },\r\n      { text: 'Organ', correct: false },\r\n      { text: 'Atom', correct: false },\r\n    ],\r\n    explanation:\r\n      'The cell is the basic structural and functional unit of all living organisms.',\r\n  },\r\n  {\r\n    id: 'bio_2',\r\n    category: 'Biology',\r\n    difficulty: 'easy',\r\n    question: 'What organelle is responsible for photosynthesis?',\r\n    choices: [\r\n      { text: 'Chloroplast', correct: true },\r\n      { text: 'Mitochondria', correct: false },\r\n      { text: 'Nucleus', correct: false },\r\n      { text: 'Ribosome', correct: false },\r\n    ],\r\n    explanation:\r\n      'Chloroplasts contain chlorophyll and are the site of photosynthesis in plant cells.',\r\n  },\r\n  {\r\n    id: 'bio_3',\r\n    category: 'Biology',\r\n    difficulty: 'medium',\r\n    question: 'DNA is composed of repeating units called:',\r\n    choices: [\r\n      { text: 'Nucleotides', correct: true },\r\n      { text: 'Amino acids', correct: false },\r\n      { text: 'Proteins', correct: false },\r\n      { text: 'Lipids', correct: false },\r\n    ],\r\n    explanation:\r\n      'Nucleotides are the building blocks of DNA, each containing a sugar, phosphate, and nitrogenous base.',\r\n  },\r\n  {\r\n    id: 'bio_4',\r\n    category: 'Biology',\r\n    difficulty: 'hard',\r\n    question: 'Which process produces the most ATP in cellular respiration?',\r\n    choices: [\r\n      { text: 'Electron transport chain', correct: true },\r\n      { text: 'Glycolysis', correct: false },\r\n      { text: 'Krebs cycle', correct: false },\r\n      { text: 'Fermentation', correct: false },\r\n    ],\r\n    explanation:\r\n      'The electron transport chain produces about 34 ATP molecules, the most of any stage in cellular respiration.',\r\n  },\r\n  // Earth Science\r\n  {\r\n    id: 'earth_1',\r\n    category: 'Earth Science',\r\n    difficulty: 'easy',\r\n    question: 'What causes tides on Earth?',\r\n    choices: [\r\n      { text: \"Moon's gravitational pull\", correct: true },\r\n      { text: 'Wind patterns', correct: false },\r\n      { text: 'Ocean currents', correct: false },\r\n      { text: \"Earth's rotation\", correct: false },\r\n    ],\r\n    explanation:\r\n      \"Tides are primarily caused by the Moon's gravitational pull on Earth's oceans.\",\r\n  },\r\n  {\r\n    id: 'earth_2',\r\n    category: 'Earth Science',\r\n    difficulty: 'medium',\r\n    question: 'Which layer of Earth is the thickest?',\r\n    choices: [\r\n      { text: 'Mantle', correct: true },\r\n      { text: 'Crust', correct: false },\r\n      { text: 'Outer core', correct: false },\r\n      { text: 'Inner core', correct: false },\r\n    ],\r\n    explanation:\r\n      \"The mantle makes up about 84% of Earth's volume and extends nearly 2,900 km deep.\",\r\n  },\r\n  {\r\n    id: 'earth_3',\r\n    category: 'Earth Science',\r\n    difficulty: 'medium',\r\n    question: 'What type of rock is formed from cooled magma or lava?',\r\n    choices: [\r\n      { text: 'Igneous', correct: true },\r\n      { text: 'Sedimentary', correct: false },\r\n      { text: 'Metamorphic', correct: false },\r\n      { text: 'Crystalline', correct: false },\r\n    ],\r\n    explanation:\r\n      'Igneous rocks form when molten rock (magma or lava) cools and solidifies.',\r\n  },\r\n  {\r\n    id: 'earth_4',\r\n    category: 'Earth Science',\r\n    difficulty: 'hard',\r\n    question: 'What drives plate tectonics?',\r\n    choices: [\r\n      { text: 'Convection currents in the mantle', correct: true },\r\n      { text: 'Ocean currents', correct: false },\r\n      { text: 'Atmospheric pressure', correct: false },\r\n      { text: \"Earth's magnetic field\", correct: false },\r\n    ],\r\n    explanation:\r\n      \"Heat-driven convection currents in the mantle cause tectonic plates to move across Earth's surface.\",\r\n  },\r\n];\r\n\r\n/**\r\n * ScienceConceptPractice - Multiple-choice science concept questions\r\n */\r\nexport default function ScienceConceptPractice({ onClose, dark = false }) {\r\n  const [selectedCategory, setSelectedCategory] = useState('');\r\n  const [selectedDifficulty, setSelectedDifficulty] = useState('all');\r\n  const [currentQuestion, setCurrentQuestion] = useState(null);\r\n  const [selectedChoice, setSelectedChoice] = useState(null);\r\n  const [revealed, setRevealed] = useState(false);\r\n\r\n  const categories = useMemo(() => {\r\n    const unique = [\r\n      ...new Set(SCIENCE_CONCEPT_QUESTIONS.map((q) => q.category)),\r\n    ];\r\n    return unique.sort();\r\n  }, []);\r\n\r\n  const difficulties = useMemo(() => {\r\n    const unique = [\r\n      ...new Set(SCIENCE_CONCEPT_QUESTIONS.map((q) => q.difficulty)),\r\n    ];\r\n    return ['all', ...unique.sort()];\r\n  }, []);\r\n\r\n  function selectNewQuestion() {\r\n    if (!selectedCategory) {\r\n      alert('Please select a category first.');\r\n      return;\r\n    }\r\n    let pool = SCIENCE_CONCEPT_QUESTIONS.filter(\r\n      (q) => q.category === selectedCategory\r\n    );\r\n    if (selectedDifficulty !== 'all') {\r\n      pool = pool.filter((q) => q.difficulty === selectedDifficulty);\r\n    }\r\n    if (pool.length === 0) {\r\n      alert('No questions available for this selection.');\r\n      return;\r\n    }\r\n    const picked = pool[Math.floor(Math.random() * pool.length)];\r\n    setCurrentQuestion(picked);\r\n    setSelectedChoice(null);\r\n    setRevealed(false);\r\n  }\r\n\r\n  function grade() {\r\n    if (!currentQuestion) return;\r\n    if (selectedChoice === null) {\r\n      alert('Please select an answer first.');\r\n      return;\r\n    }\r\n    setRevealed(true);\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className={`p-6 rounded-xl ${\r\n        dark ? 'bg-gray-800 text-white' : 'bg-white text-gray-900'\r\n      }`}\r\n    >\r\n      <h2 className=\"text-2xl font-bold mb-4 text-emerald-600 dark:text-emerald-400\">\r\n         Science Concept Practice\r\n      </h2>\r\n\r\n      {/* Category Selector */}\r\n      <div className=\"mb-4\">\r\n        <label className=\"block font-semibold mb-2\">Category:</label>\r\n        <div className=\"flex flex-wrap gap-2\">\r\n          {categories.map((cat) => (\r\n            <button\r\n              key={cat}\r\n              onClick={() => setSelectedCategory(cat)}\r\n              className={`px-4 py-2 rounded-lg font-semibold transition ${\r\n                selectedCategory === cat\r\n                  ? 'bg-emerald-600 text-white'\r\n                  : dark\r\n                  ? 'bg-gray-700 text-gray-200 hover:bg-gray-600'\r\n                  : 'bg-gray-200 text-gray-800 hover:bg-gray-300'\r\n              }`}\r\n            >\r\n              {cat}\r\n            </button>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      {/* Difficulty Selector */}\r\n      <div className=\"mb-4\">\r\n        <label className=\"block font-semibold mb-2\">Difficulty:</label>\r\n        <div className=\"flex flex-wrap gap-2\">\r\n          {difficulties.map((diff) => (\r\n            <button\r\n              key={diff}\r\n              onClick={() => setSelectedDifficulty(diff)}\r\n              className={`px-3 py-1 rounded-lg text-sm font-semibold transition ${\r\n                selectedDifficulty === diff\r\n                  ? 'bg-purple-600 text-white'\r\n                  : dark\r\n                  ? 'bg-gray-700 text-gray-200 hover:bg-gray-600'\r\n                  : 'bg-gray-200 text-gray-800 hover:bg-gray-300'\r\n              }`}\r\n            >\r\n              {diff.charAt(0).toUpperCase() + diff.slice(1)}\r\n            </button>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      {/* New Question Button */}\r\n      <div className=\"mb-6\">\r\n        <button\r\n          onClick={selectNewQuestion}\r\n          disabled={!selectedCategory}\r\n          className={`px-6 py-3 rounded-lg font-bold text-white transition ${\r\n            !selectedCategory\r\n              ? 'bg-gray-400 cursor-not-allowed'\r\n              : 'bg-blue-600 hover:bg-blue-700'\r\n          }`}\r\n        >\r\n          New Question\r\n        </button>\r\n      </div>\r\n\r\n      {/* Question Display */}\r\n      {currentQuestion ? (\r\n        <div\r\n          className={`p-4 rounded-lg mb-4 ${\r\n            dark ? 'bg-gray-700' : 'bg-gray-50'\r\n          }`}\r\n        >\r\n          <div className=\"mb-3 flex items-center gap-2\">\r\n            <span\r\n              className={`px-2 py-1 rounded text-xs font-semibold ${\r\n                currentQuestion.difficulty === 'easy'\r\n                  ? 'bg-green-200 text-green-800'\r\n                  : currentQuestion.difficulty === 'medium'\r\n                  ? 'bg-yellow-200 text-yellow-800'\r\n                  : 'bg-red-200 text-red-800'\r\n              }`}\r\n            >\r\n              {currentQuestion.difficulty.toUpperCase()}\r\n            </span>\r\n            <span className=\"text-xs opacity-70\">\r\n              {currentQuestion.category}\r\n            </span>\r\n          </div>\r\n\r\n          <h3 className=\"text-lg font-bold mb-3\">Question:</h3>\r\n          <p className=\"mb-4\">{currentQuestion.question}</p>\r\n\r\n          <div className=\"space-y-2 mb-4\">\r\n            {currentQuestion.choices.map((ch, idx) => {\r\n              const chosen = selectedChoice === idx;\r\n              const correct = ch.correct;\r\n              let btnStyle = chosen ? 'ring-2 ring-blue-500' : '';\r\n\r\n              if (revealed) {\r\n                if (correct) {\r\n                  btnStyle += ' bg-green-600 text-white';\r\n                } else if (chosen && !correct) {\r\n                  btnStyle += ' bg-red-600 text-white';\r\n                } else {\r\n                  btnStyle += dark ? ' bg-gray-600' : ' bg-gray-200';\r\n                }\r\n              } else {\r\n                btnStyle += chosen\r\n                  ? ' bg-blue-600 text-white'\r\n                  : dark\r\n                  ? ' bg-gray-600 text-gray-100'\r\n                  : ' bg-gray-200 text-gray-800';\r\n              }\r\n\r\n              return (\r\n                <button\r\n                  key={idx}\r\n                  disabled={revealed}\r\n                  onClick={() => setSelectedChoice(idx)}\r\n                  className={`w-full text-left px-4 py-2 rounded-lg font-medium transition ${btnStyle}`}\r\n                >\r\n                  {ch.text}\r\n                </button>\r\n              );\r\n            })}\r\n          </div>\r\n\r\n          {!revealed && (\r\n            <button\r\n              onClick={grade}\r\n              className=\"px-4 py-2 bg-green-600 hover:bg-green-700 text-white font-bold rounded-lg transition\"\r\n            >\r\n              Check Answer\r\n            </button>\r\n          )}\r\n\r\n          {revealed && (\r\n            <div\r\n              className={`mt-4 p-3 rounded-lg ${\r\n                currentQuestion.choices[selectedChoice].correct\r\n                  ? 'bg-green-100 text-green-800 border-2 border-green-500'\r\n                  : 'bg-red-100 text-red-800 border-2 border-red-500'\r\n              }`}\r\n            >\r\n              <p className=\"font-bold mb-2\">\r\n                {currentQuestion.choices[selectedChoice].correct\r\n                  ? ' Correct!'\r\n                  : ' Incorrect'}\r\n              </p>\r\n              <p className=\"text-sm\">\r\n                <strong>Explanation:</strong> {currentQuestion.explanation}\r\n              </p>\r\n            </div>\r\n          )}\r\n        </div>\r\n      ) : (\r\n        <div\r\n          className={`p-4 text-center ${\r\n            dark ? 'text-gray-400' : 'text-gray-600'\r\n          }`}\r\n        >\r\n          <p>Select a category and click \"New Question\" to begin.</p>\r\n          <p className=\"text-sm mt-2\">\r\n            Practice with {SCIENCE_CONCEPT_QUESTIONS.length} questions across 4\r\n            categories!\r\n          </p>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useMemo, useEffect } from 'react';\r\n\r\n// Chemistry equations data\r\nconst SCIENCE_CHEMISTRY_EQUATIONS = window.SCIENCE_CHEMISTRY_EQUATIONS || [];\r\n\r\n/**\r\n * ChemistryEquationPractice - Chemical equation balancing practice tool\r\n */\r\nexport default function ChemistryEquationPractice({ onClose, dark = false }) {\r\n  const [mode, setMode] = useState('guided');\r\n  const [currentEquation, setCurrentEquation] = useState(null);\r\n  const [studentCoefficients, setStudentCoefficients] = useState([]);\r\n  const [feedback, setFeedback] = useState(null);\r\n  const [showHint, setShowHint] = useState(false);\r\n  const [showAnswer, setShowAnswer] = useState(false);\r\n  const [statistics, setStatistics] = useState({ correct: 0, total: 0 });\r\n  const [difficulty, setDifficulty] = useState('all');\r\n\r\n  const isDark = dark;\r\n\r\n  // Helper: Count atoms in a compound\r\n  const parseFormula = (formula) => {\r\n    // Convert Unicode subscripts to regular numbers\r\n    const normalizedFormula = formula\r\n      .replace(//g, '0')\r\n      .replace(//g, '1')\r\n      .replace(//g, '2')\r\n      .replace(//g, '3')\r\n      .replace(//g, '4')\r\n      .replace(//g, '5')\r\n      .replace(//g, '6')\r\n      .replace(//g, '7')\r\n      .replace(//g, '8')\r\n      .replace(//g, '9');\r\n\r\n    const atomCounts = {};\r\n    const regex = /([A-Z][a-z]?)(\\d*)/g;\r\n    let match;\r\n\r\n    while ((match = regex.exec(normalizedFormula)) !== null) {\r\n      const atom = match[1];\r\n      const count = match[2] ? parseInt(match[2]) : 1;\r\n      atomCounts[atom] = (atomCounts[atom] || 0) + count;\r\n    }\r\n    return atomCounts;\r\n  };\r\n\r\n  // Helper: Check if equation is balanced\r\n  const isBalanced = (equation, coeffs) => {\r\n    const leftAtoms = {};\r\n    const rightAtoms = {};\r\n\r\n    equation.reactants.forEach((reactant, idx) => {\r\n      const atomCounts = parseFormula(reactant.formula);\r\n      const coeff = coeffs[idx] || 1;\r\n      Object.entries(atomCounts).forEach(([atom, count]) => {\r\n        leftAtoms[atom] = (leftAtoms[atom] || 0) + count * coeff;\r\n      });\r\n    });\r\n\r\n    const reactantCount = equation.reactants.length;\r\n    equation.products.forEach((product, idx) => {\r\n      const atomCounts = parseFormula(product.formula);\r\n      const coeff = coeffs[reactantCount + idx] || 1;\r\n      Object.entries(atomCounts).forEach(([atom, count]) => {\r\n        rightAtoms[atom] = (rightAtoms[atom] || 0) + count * coeff;\r\n      });\r\n    });\r\n\r\n    const allAtoms = new Set([\r\n      ...Object.keys(leftAtoms),\r\n      ...Object.keys(rightAtoms),\r\n    ]);\r\n    return Array.from(allAtoms).every(\r\n      (atom) => leftAtoms[atom] === rightAtoms[atom]\r\n    );\r\n  };\r\n\r\n  // Get unique reaction types\r\n  const reactionTypes = useMemo(() => {\r\n    const types = [\r\n      ...new Set(SCIENCE_CHEMISTRY_EQUATIONS.map((eq) => eq.type)),\r\n    ];\r\n    return types.sort();\r\n  }, []);\r\n\r\n  // Get difficulties\r\n  const difficulties = useMemo(() => {\r\n    const diffs = [\r\n      ...new Set(SCIENCE_CHEMISTRY_EQUATIONS.map((eq) => eq.difficulty)),\r\n    ];\r\n    return diffs.sort();\r\n  }, []);\r\n\r\n  // Pick random equation based on filters\r\n  const pickRandomEquation = (type = null, diff = null) => {\r\n    let filtered = SCIENCE_CHEMISTRY_EQUATIONS;\r\n\r\n    if (type) {\r\n      filtered = filtered.filter((eq) => eq.type === type);\r\n    }\r\n\r\n    if (diff && diff !== 'all') {\r\n      filtered = filtered.filter((eq) => eq.difficulty === diff);\r\n    }\r\n\r\n    if (filtered.length === 0) {\r\n      alert('No equations match your filters.');\r\n      return null;\r\n    }\r\n\r\n    const eq = filtered[Math.floor(Math.random() * filtered.length)];\r\n    return eq;\r\n  };\r\n\r\n  // Load new equation\r\n  const loadNewEquation = (type = null) => {\r\n    const eq = pickRandomEquation(type, difficulty);\r\n    if (eq) {\r\n      setCurrentEquation(eq);\r\n      setStudentCoefficients(\r\n        new Array(eq.reactants.length + eq.products.length).fill('')\r\n      );\r\n      setFeedback(null);\r\n      setShowHint(false);\r\n      setShowAnswer(false);\r\n    }\r\n  };\r\n\r\n  // Initialize on mount\r\n  useEffect(() => {\r\n    if (SCIENCE_CHEMISTRY_EQUATIONS.length > 0 && !currentEquation) {\r\n      loadNewEquation();\r\n    }\r\n  }, []);\r\n\r\n  // Handle coefficient input\r\n  const updateCoefficient = (index, value) => {\r\n    const newCoeffs = [...studentCoefficients];\r\n    newCoeffs[index] = value === '' ? '' : parseInt(value) || '';\r\n    setStudentCoefficients(newCoeffs);\r\n  };\r\n\r\n  // Check answer\r\n  const checkAnswer = () => {\r\n    if (!currentEquation) return;\r\n\r\n    const coeffs = studentCoefficients.map((c) => {\r\n      if (c === '' || c === null || c === undefined) return null;\r\n      const num = typeof c === 'number' ? c : parseInt(c);\r\n      return isNaN(num) ? null : num;\r\n    });\r\n\r\n    if (coeffs.some((c) => c === null)) {\r\n      alert('Please fill in all coefficients.');\r\n      return;\r\n    }\r\n\r\n    if (coeffs.some((c) => c <= 0)) {\r\n      alert('Coefficients must be positive integers.');\r\n      return;\r\n    }\r\n\r\n    const balanced = isBalanced(currentEquation, coeffs);\r\n\r\n    if (balanced) {\r\n      setFeedback({ isCorrect: true });\r\n      setStatistics((prev) => ({\r\n        correct: prev.correct + 1,\r\n        total: prev.total + 1,\r\n      }));\r\n    } else {\r\n      setFeedback({ isCorrect: false });\r\n      setStatistics((prev) => ({\r\n        ...prev,\r\n        total: prev.total + 1,\r\n      }));\r\n    }\r\n  };\r\n\r\n  // Render formula with subscripts\r\n  const renderFormula = (formula) => {\r\n    if (typeof window.katex === 'undefined') {\r\n      return <span>{formula}</span>;\r\n    }\r\n    try {\r\n      const katexFormula = `\\\\text{${formula}}`;\r\n      const html = window.katex.renderToString(katexFormula, {\r\n        throwOnError: false,\r\n      });\r\n      return <span dangerouslySetInnerHTML={{ __html: html }} />;\r\n    } catch (e) {\r\n      return <span>{formula}</span>;\r\n    }\r\n  };\r\n\r\n  if (SCIENCE_CHEMISTRY_EQUATIONS.length === 0) {\r\n    return (\r\n      <div\r\n        className={`p-6 rounded-xl ${\r\n          isDark ? 'bg-gray-800 text-white' : 'bg-white text-gray-900'\r\n        }`}\r\n      >\r\n        <p>Chemistry equations data is loading...</p>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div\r\n      className={`p-6 rounded-xl ${\r\n        isDark ? 'bg-gray-800 text-white' : 'bg-white text-gray-900'\r\n      }`}\r\n    >\r\n      <h2\r\n        className=\"text-3xl font-bold mb-2\"\r\n        style={{ color: 'var(--subject-science-accent)' }}\r\n      >\r\n        Chemistry Equation Balancer\r\n      </h2>\r\n      <p className=\"text-sm text-gray-500 mb-6\">\r\n        Practice balancing chemical equations in different modes\r\n      </p>\r\n\r\n      {/* Mode Tabs */}\r\n      <div className=\"flex flex-wrap gap-2 mb-6 border-b border-gray-300 dark:border-gray-600\">\r\n        {[\r\n          { id: 'guided', label: 'Guided Balancing' },\r\n          { id: 'unguided', label: 'Unguided' },\r\n          { id: 'reaction-type', label: 'Reaction Type ID' },\r\n          { id: 'random', label: 'Random Mode' },\r\n        ].map((tab) => (\r\n          <button\r\n            key={tab.id}\r\n            onClick={() => {\r\n              setMode(tab.id);\r\n              setCurrentEquation(null);\r\n              setFeedback(null);\r\n            }}\r\n            className={`px-4 py-2 font-semibold transition border-b-2 ${\r\n              mode === tab.id\r\n                ? 'border-green-600 text-green-600'\r\n                : isDark\r\n                ? 'border-transparent text-gray-400 hover:text-gray-200'\r\n                : 'border-transparent text-gray-600 hover:text-gray-900'\r\n            }`}\r\n          >\r\n            {tab.label}\r\n          </button>\r\n        ))}\r\n      </div>\r\n\r\n      {/* Statistics Panel */}\r\n      <div\r\n        className={`p-4 rounded-lg mb-4 text-center ${\r\n          isDark ? 'bg-gray-700' : 'bg-white'\r\n        }`}\r\n      >\r\n        <p className=\"font-semibold\">\r\n          Progress:{' '}\r\n          <span style={{ color: 'var(--subject-science-accent)' }}>\r\n            {statistics.correct} / {statistics.total}\r\n          </span>\r\n        </p>\r\n        {statistics.total > 0 && (\r\n          <p className=\"text-sm text-gray-500 mt-1\">\r\n            Accuracy:{' '}\r\n            {((statistics.correct / statistics.total) * 100).toFixed(0)}%\r\n          </p>\r\n        )}\r\n      </div>\r\n\r\n      {/* Equation Display */}\r\n      {currentEquation && (\r\n        <div\r\n          className={`p-4 rounded-lg mb-4 ${\r\n            isDark ? 'bg-gray-700' : 'bg-white'\r\n          }`}\r\n        >\r\n          <div className=\"mb-4\">\r\n            <h3 className=\"text-lg font-bold mb-2\">\r\n              Reaction Type:{' '}\r\n              <span style={{ color: 'var(--subject-science-accent)' }}>\r\n                {currentEquation.type.replace(/_/g, ' ').toUpperCase()}\r\n              </span>\r\n            </h3>\r\n            <p className=\"text-sm\">\r\n              Difficulty: <strong>{currentEquation.difficulty}</strong>\r\n            </p>\r\n          </div>\r\n\r\n          {/* Equation with Coefficient Inputs */}\r\n          <div className=\"mb-4 p-3 bg-white rounded-lg border border-gray-300 dark:border-gray-600\">\r\n            <div className=\"flex items-center gap-3 flex-wrap justify-center\">\r\n              {/* Reactants */}\r\n              {currentEquation.reactants.map((reactant, idx) => (\r\n                <div\r\n                  key={`reactant-${idx}`}\r\n                  className=\"flex items-center gap-2\"\r\n                >\r\n                  {mode === 'guided' || mode === 'random' ? (\r\n                    <>\r\n                      <div className=\"flex flex-col items-center\">\r\n                        <input\r\n                          type=\"number\"\r\n                          min=\"1\"\r\n                          max=\"20\"\r\n                          value={studentCoefficients[idx]}\r\n                          onChange={(e) =>\r\n                            updateCoefficient(idx, e.target.value)\r\n                          }\r\n                          className={`w-12 px-2 py-1 border rounded text-center font-bold ${\r\n                            isDark\r\n                              ? 'bg-gray-800 border-gray-600 text-white'\r\n                              : 'bg-white border-gray-300'\r\n                          }`}\r\n                          placeholder=\"-\"\r\n                        />\r\n                        <span className=\"text-xs text-gray-500 mt-1\">\r\n                          coeff\r\n                        </span>\r\n                      </div>\r\n                      <div>{renderFormula(reactant.formula)}</div>\r\n                    </>\r\n                  ) : (\r\n                    <div>{renderFormula(reactant.formula)}</div>\r\n                  )}\r\n                  {idx < currentEquation.reactants.length - 1 && (\r\n                    <span className=\"text-xl\">+</span>\r\n                  )}\r\n                </div>\r\n              ))}\r\n\r\n              <span className=\"text-xl font-bold\"></span>\r\n\r\n              {/* Products */}\r\n              {currentEquation.products.map((product, idx) => (\r\n                <div key={`product-${idx}`} className=\"flex items-center gap-2\">\r\n                  {mode === 'guided' || mode === 'random' ? (\r\n                    <>\r\n                      <div className=\"flex flex-col items-center\">\r\n                        <input\r\n                          type=\"number\"\r\n                          min=\"1\"\r\n                          max=\"20\"\r\n                          value={\r\n                            studentCoefficients[\r\n                              currentEquation.reactants.length + idx\r\n                            ]\r\n                          }\r\n                          onChange={(e) =>\r\n                            updateCoefficient(\r\n                              currentEquation.reactants.length + idx,\r\n                              e.target.value\r\n                            )\r\n                          }\r\n                          className={`w-12 px-2 py-1 border rounded text-center font-bold ${\r\n                            isDark\r\n                              ? 'bg-gray-800 border-gray-600 text-white'\r\n                              : 'bg-white border-gray-300'\r\n                          }`}\r\n                          placeholder=\"-\"\r\n                        />\r\n                        <span className=\"text-xs text-gray-500 mt-1\">\r\n                          coeff\r\n                        </span>\r\n                      </div>\r\n                      <div>{renderFormula(product.formula)}</div>\r\n                    </>\r\n                  ) : (\r\n                    <div>{renderFormula(product.formula)}</div>\r\n                  )}\r\n                  {idx < currentEquation.products.length - 1 && (\r\n                    <span className=\"text-xl\">+</span>\r\n                  )}\r\n                </div>\r\n              ))}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Unguided Mode - Display Equation as Text */}\r\n          {mode === 'unguided' && (\r\n            <div\r\n              className={`p-3 rounded-lg mb-4 ${\r\n                isDark ? 'bg-gray-800' : 'bg-blue-50'\r\n              }`}\r\n            >\r\n              <p className=\"text-sm font-semibold mb-2\">\r\n                Balance this equation:\r\n              </p>\r\n              <p className=\"text-lg font-mono text-center\">\r\n                {currentEquation.displayEquation}\r\n              </p>\r\n            </div>\r\n          )}\r\n\r\n          {/* Unguided Mode - Coefficient Input */}\r\n          {mode === 'unguided' && (\r\n            <div\r\n              className={`p-3 rounded-lg mb-4 ${\r\n                isDark ? 'bg-gray-800' : 'bg-blue-50'\r\n              }`}\r\n            >\r\n              <p className=\"text-sm font-semibold mb-3\">\r\n                Enter coefficients (space-separated):\r\n              </p>\r\n              <div className=\"flex gap-2\">\r\n                <input\r\n                  type=\"text\"\r\n                  value={studentCoefficients.join(' ')}\r\n                  onChange={(e) => {\r\n                    const values = e.target.value\r\n                      .split(' ')\r\n                      .map((v) => v.trim());\r\n                    setStudentCoefficients(values);\r\n                  }}\r\n                  placeholder=\"e.g., 1 2 1 2\"\r\n                  className={`flex-1 px-3 py-2 border rounded-lg ${\r\n                    isDark\r\n                      ? 'bg-gray-700 border-gray-600 text-white'\r\n                      : 'bg-white border-gray-300'\r\n                  }`}\r\n                />\r\n              </div>\r\n              <p className=\"text-xs text-gray-500 mt-1\">\r\n                ({currentEquation.reactants.length} reactant(s),{' '}\r\n                {currentEquation.products.length} product(s))\r\n              </p>\r\n            </div>\r\n          )}\r\n\r\n          {/* Difficulty Filter for Guided/Random Mode */}\r\n          {(mode === 'guided' || mode === 'random') && (\r\n            <div className=\"mb-4 flex gap-2\">\r\n              <label className=\"text-sm font-semibold\">Difficulty:</label>\r\n              <select\r\n                value={difficulty}\r\n                onChange={(e) => {\r\n                  setDifficulty(e.target.value);\r\n                  loadNewEquation();\r\n                }}\r\n                className={`px-2 py-1 border rounded text-sm ${\r\n                  isDark\r\n                    ? 'bg-gray-800 border-gray-600 text-white'\r\n                    : 'bg-white border-gray-300'\r\n                }`}\r\n              >\r\n                <option value=\"all\">All Levels</option>\r\n                {difficulties.map((d) => (\r\n                  <option key={d} value={d}>\r\n                    {d.charAt(0).toUpperCase() + d.slice(1)}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n          )}\r\n\r\n          {/* Reaction Type Filter for Reaction Type Mode */}\r\n          {mode === 'reaction-type' && (\r\n            <div className=\"mb-4\">\r\n              <p className=\"text-sm font-semibold mb-2\">\r\n                Identify the reaction type:\r\n              </p>\r\n              <div className=\"flex flex-wrap gap-2\">\r\n                {reactionTypes.map((type) => (\r\n                  <button\r\n                    key={type}\r\n                    onClick={() => {\r\n                      loadNewEquation(type);\r\n                      setFeedback(null);\r\n                    }}\r\n                    className={`px-4 py-2 rounded-lg font-semibold transition ${\r\n                      isDark\r\n                        ? 'bg-gray-600 text-gray-100 hover:bg-gray-500'\r\n                        : 'bg-gray-200 text-gray-800 hover:bg-gray-300'\r\n                    }`}\r\n                  >\r\n                    {type.replace(/_/g, ' ')}\r\n                  </button>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      {/* Controls */}\r\n      <div className=\"flex gap-2 mb-4 flex-wrap\">\r\n        <button\r\n          onClick={() => loadNewEquation()}\r\n          className=\"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white font-bold rounded-lg transition\"\r\n        >\r\n          {currentEquation ? 'Next Problem' : 'Start'}\r\n        </button>\r\n\r\n        <button\r\n          onClick={checkAnswer}\r\n          disabled={\r\n            !currentEquation || studentCoefficients.some((c) => c === '')\r\n          }\r\n          className={`px-6 py-2 font-bold rounded-lg transition ${\r\n            !currentEquation || studentCoefficients.some((c) => c === '')\r\n              ? 'bg-gray-400 cursor-not-allowed text-gray-700'\r\n              : 'bg-green-600 hover:bg-green-700 text-white'\r\n          }`}\r\n        >\r\n          Check Answer\r\n        </button>\r\n\r\n        {currentEquation && !showHint && (\r\n          <button\r\n            onClick={() => setShowHint(true)}\r\n            className=\"px-6 py-2 bg-amber-600 hover:bg-amber-700 text-white font-bold rounded-lg transition\"\r\n          >\r\n            Show Hint\r\n          </button>\r\n        )}\r\n\r\n        {currentEquation && !showAnswer && (\r\n          <button\r\n            onClick={() => setShowAnswer(true)}\r\n            className=\"px-6 py-2 bg-purple-600 hover:bg-purple-700 text-white font-bold rounded-lg transition\"\r\n          >\r\n            Show Answer\r\n          </button>\r\n        )}\r\n      </div>\r\n\r\n      {/* Feedback Panel */}\r\n      {feedback && (\r\n        <div\r\n          className={`p-4 rounded-lg mb-4 ${\r\n            feedback.isCorrect\r\n              ? isDark\r\n                ? 'bg-green-900 border-2 border-green-500 text-green-100'\r\n                : 'bg-green-100 border-2 border-green-500 text-green-800'\r\n              : isDark\r\n              ? 'bg-red-900 border-2 border-red-500 text-red-100'\r\n              : 'bg-red-100 border-2 border-red-500 text-red-800'\r\n          }`}\r\n        >\r\n          {feedback.isCorrect ? (\r\n            <div>\r\n              <p className=\"font-bold text-lg\"> Correct! Great job!</p>\r\n              <p className=\"text-sm mt-1\">\r\n                Your coefficients properly balance the equation.\r\n              </p>\r\n            </div>\r\n          ) : (\r\n            <div>\r\n              <p className=\"font-bold text-lg\"> Not quite right</p>\r\n              <p className=\"text-sm mt-1\">\r\n                Check that all atoms are balanced on both sides of the equation.\r\n              </p>\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      {/* Hints */}\r\n      {showHint && currentEquation && (\r\n        <div\r\n          className={`p-4 rounded-lg mb-4 border-l-4 ${\r\n            isDark\r\n              ? 'bg-amber-900 border-amber-500 text-amber-100'\r\n              : 'bg-amber-50 border-amber-500 text-amber-900'\r\n          }`}\r\n        >\r\n          <p className=\"font-semibold mb-2\"> Hint:</p>\r\n          <div className=\"text-sm space-y-2\">\r\n            <p className=\"font-medium\">\r\n              Current atom counts with your coefficients:\r\n            </p>\r\n            {(() => {\r\n              const coeffs = studentCoefficients.map((c) => {\r\n                if (c === '' || c === null || c === undefined) return 1;\r\n                const num = typeof c === 'number' ? c : parseInt(c);\r\n                return isNaN(num) ? 1 : num;\r\n              });\r\n\r\n              const leftAtoms = {};\r\n              const rightAtoms = {};\r\n\r\n              currentEquation.reactants.forEach((reactant, idx) => {\r\n                const atomCounts = parseFormula(reactant.formula);\r\n                const coeff = coeffs[idx];\r\n                Object.entries(atomCounts).forEach(([atom, count]) => {\r\n                  leftAtoms[atom] = (leftAtoms[atom] || 0) + count * coeff;\r\n                });\r\n              });\r\n\r\n              const reactantCount = currentEquation.reactants.length;\r\n              currentEquation.products.forEach((product, idx) => {\r\n                const atomCounts = parseFormula(product.formula);\r\n                const coeff = coeffs[reactantCount + idx];\r\n                Object.entries(atomCounts).forEach(([atom, count]) => {\r\n                  rightAtoms[atom] = (rightAtoms[atom] || 0) + count * coeff;\r\n                });\r\n              });\r\n\r\n              const allAtoms = [\r\n                ...new Set([\r\n                  ...Object.keys(leftAtoms),\r\n                  ...Object.keys(rightAtoms),\r\n                ]),\r\n              ];\r\n\r\n              return (\r\n                <div className=\"space-y-1\">\r\n                  {allAtoms.map((atom) => {\r\n                    const left = leftAtoms[atom] || 0;\r\n                    const right = rightAtoms[atom] || 0;\r\n                    const balanced = left === right;\r\n                    return (\r\n                      <div\r\n                        key={atom}\r\n                        className={`flex items-center gap-2 ${\r\n                          !balanced ? 'font-bold' : ''\r\n                        }`}\r\n                      >\r\n                        <span className=\"w-8\">{atom}:</span>\r\n                        <span\r\n                          className={\r\n                            left === right ? 'text-green-600' : 'text-red-600'\r\n                          }\r\n                        >\r\n                          {left} (left) vs {right} (right)\r\n                        </span>\r\n                        {!balanced && (\r\n                          <span className=\"text-red-600\">\r\n                             Needs balancing!\r\n                          </span>\r\n                        )}\r\n                      </div>\r\n                    );\r\n                  })}\r\n                </div>\r\n              );\r\n            })()}\r\n            <p className=\"mt-3 italic\">\r\n               Tip: Adjust the coefficients so that each atom has the same\r\n              count on both sides.\r\n            </p>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Answer */}\r\n      {showAnswer && currentEquation && (\r\n        <div\r\n          className={`p-4 rounded-lg ${\r\n            isDark\r\n              ? 'bg-purple-900 border-2 border-purple-500 text-purple-100'\r\n              : 'bg-purple-50 border-2 border-purple-500 text-purple-900'\r\n          }`}\r\n        >\r\n          <p className=\"font-semibold mb-2\">Answer:</p>\r\n          <div className=\"flex items-center gap-2 flex-wrap justify-center p-3 bg-black bg-opacity-20 rounded-lg font-mono text-lg\">\r\n            {currentEquation.coefficients.map((coeff, idx) => (\r\n              <span key={idx}>{coeff}</span>\r\n            ))}\r\n          </div>\r\n          <p className=\"text-xs mt-2\">\r\n            Try entering these coefficients to see the balanced equation.\r\n          </p>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useMemo } from 'react';\r\n\r\n// Trait Bank - Each trait has dominant/recessive alleles and phenotypes\r\nconst GENETICS_TRAITS = [\r\n  {\r\n    id: 'plant_height',\r\n    name: 'Plant Height',\r\n    dominantAllele: 'T',\r\n    recessiveAllele: 't',\r\n    dominantPhenotype: 'Tall',\r\n    recessivePhenotype: 'Short',\r\n  },\r\n  {\r\n    id: 'flower_color',\r\n    name: 'Flower Color',\r\n    dominantAllele: 'P',\r\n    recessiveAllele: 'p',\r\n    dominantPhenotype: 'Purple',\r\n    recessivePhenotype: 'White',\r\n  },\r\n  {\r\n    id: 'fur_color',\r\n    name: 'Fur Color',\r\n    dominantAllele: 'B',\r\n    recessiveAllele: 'b',\r\n    dominantPhenotype: 'Brown',\r\n    recessivePhenotype: 'White',\r\n  },\r\n  {\r\n    id: 'eye_color',\r\n    name: 'Eye Color',\r\n    dominantAllele: 'E',\r\n    recessiveAllele: 'e',\r\n    dominantPhenotype: 'Brown',\r\n    recessivePhenotype: 'Blue',\r\n  },\r\n];\r\n\r\n// Genotype options for parent selection\r\nconst GENOTYPE_OPTIONS = [\r\n  { label: 'Homozygous Dominant (e.g., TT)', value: 'homozygous_dominant' },\r\n  { label: 'Heterozygous (e.g., Tt)', value: 'heterozygous' },\r\n  { label: 'Homozygous Recessive (e.g., tt)', value: 'homozygous_recessive' },\r\n];\r\n\r\n/**\r\n * PunnettSquarePractice - Interactive Punnett Square Practice Tool\r\n * Supports Guided, Assisted, and Freeform modes\r\n */\r\nexport default function PunnettSquarePractice({ onClose, dark = false }) {\r\n  // Mode selection\r\n  const [mode, setMode] = useState(null); // 'guided', 'assisted', 'freeform'\r\n\r\n  // Trait and parent selection\r\n  const [selectedTrait, setSelectedTrait] = useState(null);\r\n  const [parent1Genotype, setParent1Genotype] = useState('');\r\n  const [parent2Genotype, setParent2Genotype] = useState('');\r\n\r\n  // Punnett square state\r\n  const [squareCells, setSquareCells] = useState({\r\n    '0-0': '',\r\n    '0-1': '',\r\n    '1-0': '',\r\n    '1-1': '',\r\n  });\r\n  const [currentGuidedCell, setCurrentGuidedCell] = useState('0-0');\r\n  const [cellFeedback, setCellFeedback] = useState({});\r\n\r\n  // Ratio questions\r\n  const [genotypeRatioAnswer, setGenotypeRatioAnswer] = useState('');\r\n  const [phenotypeRatioAnswer, setPhenotypeRatioAnswer] = useState('');\r\n  const [probabilityAnswer, setProbabilityAnswer] = useState('');\r\n\r\n  // Feedback and results\r\n  const [finalFeedback, setFinalFeedback] = useState(null);\r\n  const [showExplanation, setShowExplanation] = useState(false);\r\n\r\n  // Get alleles from genotype type\r\n  const getAllelesFromType = (genotypeType, trait) => {\r\n    if (!trait) return [];\r\n    switch (genotypeType) {\r\n      case 'homozygous_dominant':\r\n        return [trait.dominantAllele, trait.dominantAllele];\r\n      case 'heterozygous':\r\n        return [trait.dominantAllele, trait.recessiveAllele];\r\n      case 'homozygous_recessive':\r\n        return [trait.recessiveAllele, trait.recessiveAllele];\r\n      default:\r\n        return [];\r\n    }\r\n  };\r\n\r\n  // Normalize allele order (dominant first)\r\n  const normalizeGenotype = (genotype, trait) => {\r\n    if (!trait || genotype.length !== 2) return genotype;\r\n    const [a, b] = genotype.split('');\r\n    if (\r\n      a === trait.dominantAllele ||\r\n      (a === trait.dominantAllele && b === trait.recessiveAllele)\r\n    ) {\r\n      return genotype;\r\n    }\r\n    return b + a;\r\n  };\r\n\r\n  // Calculate correct Punnett square\r\n  const calculateCorrectSquare = () => {\r\n    if (!selectedTrait) return {};\r\n\r\n    const p1Alleles = getAllelesFromType(parent1Genotype, selectedTrait);\r\n    const p2Alleles = getAllelesFromType(parent2Genotype, selectedTrait);\r\n\r\n    return {\r\n      '0-0': normalizeGenotype(p1Alleles[0] + p2Alleles[0], selectedTrait),\r\n      '0-1': normalizeGenotype(p1Alleles[0] + p2Alleles[1], selectedTrait),\r\n      '1-0': normalizeGenotype(p1Alleles[1] + p2Alleles[0], selectedTrait),\r\n      '1-1': normalizeGenotype(p1Alleles[1] + p2Alleles[1], selectedTrait),\r\n    };\r\n  };\r\n\r\n  // Calculate genotype and phenotype ratios\r\n  const calculateRatios = () => {\r\n    const correctSquare = calculateCorrectSquare();\r\n    const genotypes = Object.values(correctSquare);\r\n\r\n    // Count genotypes\r\n    const genotypeCounts = {};\r\n    genotypes.forEach((g) => {\r\n      genotypeCounts[g] = (genotypeCounts[g] || 0) + 1;\r\n    });\r\n\r\n    // Count phenotypes\r\n    const phenotypeCounts = { dominant: 0, recessive: 0 };\r\n    genotypes.forEach((g) => {\r\n      if (g.includes(selectedTrait.dominantAllele)) {\r\n        phenotypeCounts.dominant++;\r\n      } else {\r\n        phenotypeCounts.recessive++;\r\n      }\r\n    });\r\n\r\n    return { genotypeCounts, phenotypeCounts };\r\n  };\r\n\r\n  // Start practice with selected mode\r\n  const startPractice = () => {\r\n    if (!mode || !selectedTrait || !parent1Genotype || !parent2Genotype) {\r\n      alert('Please select mode, trait, and both parent genotypes.');\r\n      return;\r\n    }\r\n\r\n    // Reset state\r\n    setSquareCells({ '0-0': '', '0-1': '', '1-0': '', '1-1': '' });\r\n    setCellFeedback({});\r\n    setCurrentGuidedCell('0-0');\r\n    setGenotypeRatioAnswer('');\r\n    setPhenotypeRatioAnswer('');\r\n    setProbabilityAnswer('');\r\n    setFinalFeedback(null);\r\n    setShowExplanation(false);\r\n  };\r\n\r\n  // Handle cell input (for guided mode)\r\n  const handleCellInput = (cellKey, value) => {\r\n    if (mode === 'guided') {\r\n      const formatted = value.toUpperCase();\r\n      // Validate immediately\r\n      const correctSquare = calculateCorrectSquare();\r\n      const isCorrect = formatted === correctSquare[cellKey];\r\n\r\n      // Keep user input visible even before it is correct\r\n      setSquareCells((prev) => ({ ...prev, [cellKey]: formatted }));\r\n\r\n      setCellFeedback((prev) => ({\r\n        ...prev,\r\n        [cellKey]: isCorrect ? 'correct' : 'incorrect',\r\n      }));\r\n\r\n      if (isCorrect) {\r\n        // Move to next cell\r\n        const cellOrder = ['0-0', '0-1', '1-0', '1-1'];\r\n        const currentIndex = cellOrder.indexOf(cellKey);\r\n        if (currentIndex < 3) {\r\n          setCurrentGuidedCell(cellOrder[currentIndex + 1]);\r\n        }\r\n      }\r\n    } else {\r\n      // For assisted and freeform, just update the cell\r\n      setSquareCells((prev) => ({ ...prev, [cellKey]: value.toUpperCase() }));\r\n    }\r\n  };\r\n\r\n  // Submit final answer (for assisted and freeform modes)\r\n  const submitAnswer = () => {\r\n    const correctSquare = calculateCorrectSquare();\r\n    const { genotypeCounts, phenotypeCounts } = calculateRatios();\r\n\r\n    // Check Punnett square\r\n    let squareCorrect = true;\r\n    const newCellFeedback = {};\r\n    Object.keys(correctSquare).forEach((key) => {\r\n      const isCorrect = squareCells[key] === correctSquare[key];\r\n      newCellFeedback[key] = isCorrect ? 'correct' : 'incorrect';\r\n      if (!isCorrect) squareCorrect = false;\r\n    });\r\n    setCellFeedback(newCellFeedback);\r\n\r\n    // For assisted mode, show results\r\n    if (mode === 'assisted') {\r\n      setFinalFeedback({\r\n        squareCorrect,\r\n        correctSquare,\r\n        genotypeCounts,\r\n        phenotypeCounts,\r\n      });\r\n      setShowExplanation(true);\r\n    }\r\n\r\n    // For freeform mode, also check ratio answers\r\n    if (mode === 'freeform') {\r\n      const dominantCount = phenotypeCounts.dominant;\r\n      const recessiveCount = phenotypeCounts.recessive;\r\n      const dominantPercent = (dominantCount / 4) * 100;\r\n\r\n      setFinalFeedback({\r\n        squareCorrect,\r\n        correctSquare,\r\n        genotypeCounts,\r\n        phenotypeCounts,\r\n        genotypeRatioCorrect: genotypeRatioAnswer.includes(\r\n          Object.keys(genotypeCounts).join(':')\r\n        ),\r\n        phenotypeRatioCorrect:\r\n          phenotypeRatioAnswer === `${dominantCount}:${recessiveCount}`,\r\n        probabilityCorrect:\r\n          Math.abs(parseFloat(probabilityAnswer) - dominantPercent) < 1,\r\n        dominantPercent,\r\n      });\r\n      setShowExplanation(true);\r\n    }\r\n  };\r\n\r\n  // Reset to mode selection\r\n  const reset = () => {\r\n    setMode(null);\r\n    setSelectedTrait(null);\r\n    setParent1Genotype('');\r\n    setParent2Genotype('');\r\n    setSquareCells({ '0-0': '', '0-1': '', '1-0': '', '1-1': '' });\r\n    setCellFeedback({});\r\n    setFinalFeedback(null);\r\n    setShowExplanation(false);\r\n  };\r\n\r\n  // Get parent alleles for display\r\n  const parent1Alleles = useMemo(\r\n    () =>\r\n      selectedTrait ? getAllelesFromType(parent1Genotype, selectedTrait) : [],\r\n    [parent1Genotype, selectedTrait]\r\n  );\r\n\r\n  const parent2Alleles = useMemo(\r\n    () =>\r\n      selectedTrait ? getAllelesFromType(parent2Genotype, selectedTrait) : [],\r\n    [parent2Genotype, selectedTrait]\r\n  );\r\n\r\n  return (\r\n    <div\r\n      className={`p-6 rounded-xl ${\r\n        dark ? 'bg-gray-800 text-white' : 'bg-white text-gray-900'\r\n      }`}\r\n    >\r\n      <div className=\"flex justify-between items-center mb-4\">\r\n        <h2 className=\"text-2xl font-bold text-emerald-600 dark:text-emerald-400\">\r\n           Punnett Square Practice\r\n        </h2>\r\n        {onClose && (\r\n          <button\r\n            onClick={onClose}\r\n            className=\"text-2xl font-bold hover:text-red-500 transition\"\r\n          >\r\n            \r\n          </button>\r\n        )}\r\n      </div>\r\n\r\n      {/* Mode Selection */}\r\n      {!mode && (\r\n        <div className=\"space-y-4\">\r\n          <h3 className=\"text-xl font-semibold mb-4\">Select Practice Mode:</h3>\r\n\r\n          <button\r\n            onClick={() => setMode('guided')}\r\n            className={`w-full p-4 rounded-lg text-left transition ${\r\n              dark\r\n                ? 'bg-gray-700 hover:bg-gray-600'\r\n                : 'bg-blue-50 hover:bg-blue-100'\r\n            }`}\r\n          >\r\n            <div className=\"font-bold text-lg mb-2\"> Guided Mode</div>\r\n            <p\r\n              className={`text-sm ${dark ? 'text-gray-300' : 'text-gray-700'}`}\r\n            >\r\n              Step-by-step scaffolded learning. Fill one cell at a time with\r\n              immediate feedback and hints.\r\n            </p>\r\n          </button>\r\n\r\n          <button\r\n            onClick={() => setMode('assisted')}\r\n            className={`w-full p-4 rounded-lg text-left transition ${\r\n              dark\r\n                ? 'bg-gray-700 hover:bg-gray-600'\r\n                : 'bg-green-50 hover:bg-green-100'\r\n            }`}\r\n          >\r\n            <div className=\"font-bold text-lg mb-2\"> Assisted Mode</div>\r\n            <p\r\n              className={`text-sm ${dark ? 'text-gray-300' : 'text-gray-700'}`}\r\n            >\r\n              Parents' genotypes provided. Fill the entire Punnett square and\r\n              identify ratios. Feedback after submission.\r\n            </p>\r\n          </button>\r\n\r\n          <button\r\n            onClick={() => setMode('freeform')}\r\n            className={`w-full p-4 rounded-lg text-left transition ${\r\n              dark\r\n                ? 'bg-gray-700 hover:bg-gray-600'\r\n                : 'bg-purple-50 hover:bg-purple-100'\r\n            }`}\r\n          >\r\n            <div className=\"font-bold text-lg mb-2\">\r\n               Freeform / Test Mode\r\n            </div>\r\n            <p\r\n              className={`text-sm ${dark ? 'text-gray-300' : 'text-gray-700'}`}\r\n            >\r\n              Full GED readiness. Complete the square and answer probability\r\n              questions. No hints.\r\n            </p>\r\n          </button>\r\n        </div>\r\n      )}\r\n\r\n      {/* Setup: Trait and Parent Selection */}\r\n      {mode && !finalFeedback && (\r\n        <div className=\"space-y-6\">\r\n          <div className=\"flex items-center gap-4 mb-4\">\r\n            <button\r\n              onClick={reset}\r\n              className=\"px-4 py-2 bg-gray-500 text-white rounded-lg hover:bg-gray-600 transition\"\r\n            >\r\n               Change Mode\r\n            </button>\r\n            <div\r\n              className={`px-4 py-2 rounded-lg font-semibold ${\r\n                mode === 'guided'\r\n                  ? 'bg-blue-500 text-white'\r\n                  : mode === 'assisted'\r\n                  ? 'bg-green-500 text-white'\r\n                  : 'bg-purple-500 text-white'\r\n              }`}\r\n            >\r\n              {mode === 'guided'\r\n                ? ' Guided'\r\n                : mode === 'assisted'\r\n                ? ' Assisted'\r\n                : ' Freeform'}\r\n            </div>\r\n          </div>\r\n\r\n          {/* Trait Selection */}\r\n          <div>\r\n            <label className=\"block font-semibold mb-2\">Select Trait:</label>\r\n            <div className=\"grid grid-cols-2 md:grid-cols-4 gap-2\">\r\n              {GENETICS_TRAITS.map((trait) => (\r\n                <button\r\n                  key={trait.id}\r\n                  onClick={() => setSelectedTrait(trait)}\r\n                  className={`px-4 py-2 rounded-lg font-semibold transition ${\r\n                    selectedTrait?.id === trait.id\r\n                      ? 'bg-emerald-600 text-white'\r\n                      : dark\r\n                      ? 'bg-gray-700 text-gray-200 hover:bg-gray-600'\r\n                      : 'bg-gray-200 text-gray-800 hover:bg-gray-300'\r\n                  }`}\r\n                >\r\n                  {trait.name}\r\n                </button>\r\n              ))}\r\n            </div>\r\n\r\n            {selectedTrait && (\r\n              <div\r\n                className={`mt-3 p-3 rounded-lg text-sm ${\r\n                  dark ? 'bg-gray-700' : 'bg-gray-50'\r\n                }`}\r\n              >\r\n                <p>\r\n                  <strong>Dominant ({selectedTrait.dominantAllele}):</strong>{' '}\r\n                  {selectedTrait.dominantPhenotype}\r\n                </p>\r\n                <p>\r\n                  <strong>Recessive ({selectedTrait.recessiveAllele}):</strong>{' '}\r\n                  {selectedTrait.recessivePhenotype}\r\n                </p>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Parent Genotype Selection */}\r\n          {selectedTrait && (\r\n            <>\r\n              <div>\r\n                <label className=\"block font-semibold mb-2\">\r\n                  Parent 1 Genotype:\r\n                </label>\r\n                <select\r\n                  value={parent1Genotype}\r\n                  onChange={(e) => setParent1Genotype(e.target.value)}\r\n                  className={`w-full px-4 py-2 rounded-lg border ${\r\n                    dark\r\n                      ? 'bg-gray-700 border-gray-600 text-white'\r\n                      : 'bg-white border-gray-300'\r\n                  }`}\r\n                >\r\n                  <option value=\"\">-- Select --</option>\r\n                  {GENOTYPE_OPTIONS.map((opt) => (\r\n                    <option key={opt.value} value={opt.value}>\r\n                      {opt.label.replace(\r\n                        'e.g., TT',\r\n                        `e.g., ${getAllelesFromType(\r\n                          opt.value,\r\n                          selectedTrait\r\n                        ).join('')}`\r\n                      )}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n\r\n              <div>\r\n                <label className=\"block font-semibold mb-2\">\r\n                  Parent 2 Genotype:\r\n                </label>\r\n                <select\r\n                  value={parent2Genotype}\r\n                  onChange={(e) => setParent2Genotype(e.target.value)}\r\n                  className={`w-full px-4 py-2 rounded-lg border ${\r\n                    dark\r\n                      ? 'bg-gray-700 border-gray-600 text-white'\r\n                      : 'bg-white border-gray-300'\r\n                  }`}\r\n                >\r\n                  <option value=\"\">-- Select --</option>\r\n                  {GENOTYPE_OPTIONS.map((opt) => (\r\n                    <option key={opt.value} value={opt.value}>\r\n                      {opt.label.replace(\r\n                        'e.g., TT',\r\n                        `e.g., ${getAllelesFromType(\r\n                          opt.value,\r\n                          selectedTrait\r\n                        ).join('')}`\r\n                      )}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n\r\n              {parent1Genotype && parent2Genotype && (\r\n                <button\r\n                  onClick={startPractice}\r\n                  className=\"w-full px-6 py-3 bg-blue-600 text-white font-bold rounded-lg hover:bg-blue-700 transition\"\r\n                >\r\n                  Start Practice\r\n                </button>\r\n              )}\r\n            </>\r\n          )}\r\n\r\n          {/* Punnett Square Grid */}\r\n          {parent1Alleles.length > 0 && parent2Alleles.length > 0 && (\r\n            <div\r\n              className={`p-6 rounded-lg ${\r\n                dark ? 'bg-gray-700' : 'bg-gray-50'\r\n              }`}\r\n            >\r\n              <h3 className=\"text-lg font-bold mb-4\">Punnett Square:</h3>\r\n\r\n              {mode === 'guided' && (\r\n                <div\r\n                  className={`mb-4 p-3 rounded-lg ${\r\n                    dark ? 'bg-blue-900/30' : 'bg-blue-50'\r\n                  } border-l-4 border-blue-500`}\r\n                >\r\n                  <p className=\"text-sm\">\r\n                     <strong>Hint:</strong> Use one allele from each parent.\r\n                    Capital letters are dominant traits.\r\n                  </p>\r\n                </div>\r\n              )}\r\n\r\n              <div className=\"flex justify-center\">\r\n                <div className=\"inline-grid grid-cols-3 gap-0\">\r\n                  {/* Top-left empty cell */}\r\n                  <div className=\"w-16 h-16\"></div>\r\n\r\n                  {/* Parent 2 alleles (top row) */}\r\n                  {parent2Alleles.map((allele, i) => (\r\n                    <div\r\n                      key={`p2-${i}`}\r\n                      className={`w-16 h-16 flex items-center justify-center font-bold text-lg border-2 ${\r\n                        dark\r\n                          ? 'border-gray-600 bg-gray-800'\r\n                          : 'border-gray-300 bg-white'\r\n                      }`}\r\n                    >\r\n                      {allele}\r\n                    </div>\r\n                  ))}\r\n\r\n                  {/* Grid rows */}\r\n                  {parent1Alleles.map((p1Allele, row) => (\r\n                    <React.Fragment key={`row-${row}`}>\r\n                      {/* Parent 1 allele (left column) */}\r\n                      <div\r\n                        className={`w-16 h-16 flex items-center justify-center font-bold text-lg border-2 ${\r\n                          dark\r\n                            ? 'border-gray-600 bg-gray-800'\r\n                            : 'border-gray-300 bg-white'\r\n                        }`}\r\n                      >\r\n                        {p1Allele}\r\n                      </div>\r\n\r\n                      {/* Offspring cells */}\r\n                      {[0, 1].map((col) => {\r\n                        const cellKey = `${row}-${col}`;\r\n                        const feedback = cellFeedback[cellKey];\r\n\r\n                        return (\r\n                          <div\r\n                            key={cellKey}\r\n                            className={`w-16 h-16 border-2 ${\r\n                              feedback === 'correct'\r\n                                ? 'bg-green-100 border-green-500'\r\n                                : feedback === 'incorrect'\r\n                                ? 'bg-red-100 border-red-500'\r\n                                : mode === 'guided' &&\r\n                                  cellKey === currentGuidedCell\r\n                                ? 'border-blue-500 border-4'\r\n                                : dark\r\n                                ? 'border-gray-600'\r\n                                : 'border-gray-400'\r\n                            }`}\r\n                          >\r\n                            <input\r\n                              type=\"text\"\r\n                              maxLength={2}\r\n                              value={squareCells[cellKey]}\r\n                              onChange={(e) =>\r\n                                handleCellInput(cellKey, e.target.value)\r\n                              }\r\n                              disabled={\r\n                                mode === 'guided' &&\r\n                                cellKey !== currentGuidedCell\r\n                              }\r\n                              className={`w-full h-full text-center font-bold text-lg ${\r\n                                dark\r\n                                  ? 'bg-gray-800 text-white'\r\n                                  : 'bg-white text-gray-900'\r\n                              } ${\r\n                                mode === 'guided' &&\r\n                                cellKey !== currentGuidedCell\r\n                                  ? 'opacity-50'\r\n                                  : ''\r\n                              }`}\r\n                            />\r\n                          </div>\r\n                        );\r\n                      })}\r\n                    </React.Fragment>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n\r\n              {/* Submit button for assisted and freeform modes */}\r\n              {(mode === 'assisted' || mode === 'freeform') && (\r\n                <>\r\n                  {mode === 'freeform' && (\r\n                    <div className=\"mt-6 space-y-4\">\r\n                      <div>\r\n                        <label className=\"block font-semibold mb-2\">\r\n                          Genotype Ratio:\r\n                        </label>\r\n                        <input\r\n                          type=\"text\"\r\n                          placeholder=\"e.g., 1TT:2Tt:1tt\"\r\n                          value={genotypeRatioAnswer}\r\n                          onChange={(e) =>\r\n                            setGenotypeRatioAnswer(e.target.value)\r\n                          }\r\n                          className={`w-full px-4 py-2 rounded-lg border ${\r\n                            dark\r\n                              ? 'bg-gray-700 border-gray-600 text-white'\r\n                              : 'bg-white border-gray-300'\r\n                          }`}\r\n                        />\r\n                      </div>\r\n\r\n                      <div>\r\n                        <label className=\"block font-semibold mb-2\">\r\n                          Phenotype Ratio (Dominant:Recessive):\r\n                        </label>\r\n                        <input\r\n                          type=\"text\"\r\n                          placeholder=\"e.g., 3:1\"\r\n                          value={phenotypeRatioAnswer}\r\n                          onChange={(e) =>\r\n                            setPhenotypeRatioAnswer(e.target.value)\r\n                          }\r\n                          className={`w-full px-4 py-2 rounded-lg border ${\r\n                            dark\r\n                              ? 'bg-gray-700 border-gray-600 text-white'\r\n                              : 'bg-white border-gray-300'\r\n                          }`}\r\n                        />\r\n                      </div>\r\n\r\n                      <div>\r\n                        <label className=\"block font-semibold mb-2\">\r\n                          Probability of {selectedTrait.dominantPhenotype}{' '}\r\n                          phenotype (%):\r\n                        </label>\r\n                        <input\r\n                          type=\"number\"\r\n                          placeholder=\"e.g., 75\"\r\n                          value={probabilityAnswer}\r\n                          onChange={(e) => setProbabilityAnswer(e.target.value)}\r\n                          className={`w-full px-4 py-2 rounded-lg border ${\r\n                            dark\r\n                              ? 'bg-gray-700 border-gray-600 text-white'\r\n                              : 'bg-white border-gray-300'\r\n                          }`}\r\n                        />\r\n                      </div>\r\n                    </div>\r\n                  )}\r\n\r\n                  <button\r\n                    onClick={submitAnswer}\r\n                    className=\"w-full mt-6 px-6 py-3 bg-green-600 text-white font-bold rounded-lg hover:bg-green-700 transition\"\r\n                  >\r\n                    Submit Answer\r\n                  </button>\r\n                </>\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      {/* Feedback and Explanation */}\r\n      {showExplanation && finalFeedback && (\r\n        <div className=\"space-y-4 mt-6\">\r\n          <div\r\n            className={`p-4 rounded-lg ${\r\n              finalFeedback.squareCorrect\r\n                ? dark\r\n                  ? 'bg-green-900/30'\r\n                  : 'bg-green-50'\r\n                : dark\r\n                ? 'bg-red-900/30'\r\n                : 'bg-red-50'\r\n            } border-2 ${\r\n              finalFeedback.squareCorrect\r\n                ? 'border-green-500'\r\n                : 'border-red-500'\r\n            }`}\r\n          >\r\n            <h3 className=\"text-xl font-bold mb-2\">\r\n              {finalFeedback.squareCorrect\r\n                ? ' Punnett Square Correct!'\r\n                : ' Some Errors in Punnett Square'}\r\n            </h3>\r\n            {!finalFeedback.squareCorrect && (\r\n              <div className=\"text-sm space-y-1\">\r\n                <p>Correct square:</p>\r\n                <div className=\"font-mono\">\r\n                  <div>\r\n                    {finalFeedback.correctSquare['0-0']} |{' '}\r\n                    {finalFeedback.correctSquare['0-1']}\r\n                  </div>\r\n                  <div>\r\n                    {finalFeedback.correctSquare['1-0']} |{' '}\r\n                    {finalFeedback.correctSquare['1-1']}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* GED-Style Explanation */}\r\n          <div\r\n            className={`p-4 rounded-lg border-2 ${\r\n              dark\r\n                ? 'bg-gray-700 border-gray-600'\r\n                : 'bg-blue-50 border-blue-200'\r\n            }`}\r\n          >\r\n            <h4 className=\"font-bold text-lg mb-3\"> Explanation:</h4>\r\n\r\n            <div className=\"space-y-3 text-sm\">\r\n              <p>\r\n                <strong>Step 1:</strong> Identify alleles from each parent.\r\n                Parent 1 has{' '}\r\n                <span className=\"font-mono\">{parent1Alleles.join('')}</span> and\r\n                Parent 2 has{' '}\r\n                <span className=\"font-mono\">{parent2Alleles.join('')}</span>.\r\n              </p>\r\n\r\n              <p>\r\n                <strong>Step 2:</strong> Combine one allele from each parent in\r\n                each square cell. Remember: capital letters (\r\n                {selectedTrait.dominantAllele}) are dominant and will mask\r\n                lowercase ({selectedTrait.recessiveAllele}) recessive traits.\r\n              </p>\r\n\r\n              <p>\r\n                <strong>Genotype Ratio:</strong>{' '}\r\n                {Object.entries(finalFeedback.genotypeCounts)\r\n                  .map(([genotype, count]) => `${count} ${genotype}`)\r\n                  .join(' : ')}\r\n              </p>\r\n\r\n              <p>\r\n                <strong>Phenotype Ratio:</strong>{' '}\r\n                {finalFeedback.phenotypeCounts.dominant}{' '}\r\n                {selectedTrait.dominantPhenotype} :{' '}\r\n                {finalFeedback.phenotypeCounts.recessive}{' '}\r\n                {selectedTrait.recessivePhenotype}\r\n              </p>\r\n\r\n              {mode === 'freeform' && (\r\n                <>\r\n                  <p>\r\n                    <strong>\r\n                      Probability of {selectedTrait.dominantPhenotype}:\r\n                    </strong>{' '}\r\n                    {finalFeedback.phenotypeCounts.dominant}/4 ={' '}\r\n                    {finalFeedback.dominantPercent}%\r\n                  </p>\r\n\r\n                  {finalFeedback.genotypeRatioCorrect !== undefined && (\r\n                    <p\r\n                      className={\r\n                        finalFeedback.genotypeRatioCorrect\r\n                          ? 'text-green-600 font-semibold'\r\n                          : 'text-red-600 font-semibold'\r\n                      }\r\n                    >\r\n                      {finalFeedback.genotypeRatioCorrect ? '' : ''} Genotype\r\n                      ratio answer\r\n                    </p>\r\n                  )}\r\n\r\n                  {finalFeedback.phenotypeRatioCorrect !== undefined && (\r\n                    <p\r\n                      className={\r\n                        finalFeedback.phenotypeRatioCorrect\r\n                          ? 'text-green-600 font-semibold'\r\n                          : 'text-red-600 font-semibold'\r\n                      }\r\n                    >\r\n                      {finalFeedback.phenotypeRatioCorrect ? '' : ''}{' '}\r\n                      Phenotype ratio answer\r\n                    </p>\r\n                  )}\r\n\r\n                  {finalFeedback.probabilityCorrect !== undefined && (\r\n                    <p\r\n                      className={\r\n                        finalFeedback.probabilityCorrect\r\n                          ? 'text-green-600 font-semibold'\r\n                          : 'text-red-600 font-semibold'\r\n                      }\r\n                    >\r\n                      {finalFeedback.probabilityCorrect ? '' : ''} Probability\r\n                      answer\r\n                    </p>\r\n                  )}\r\n                </>\r\n              )}\r\n            </div>\r\n          </div>\r\n\r\n          <div className=\"flex gap-4\">\r\n            <button\r\n              onClick={reset}\r\n              className=\"flex-1 px-6 py-3 bg-blue-600 text-white font-bold rounded-lg hover:bg-blue-700 transition\"\r\n            >\r\n              Try Another Problem\r\n            </button>\r\n            <button\r\n              onClick={() => {\r\n                setFinalFeedback(null);\r\n                setShowExplanation(false);\r\n                setSquareCells({ '0-0': '', '0-1': '', '1-0': '', '1-1': '' });\r\n                setCellFeedback({});\r\n                setGenotypeRatioAnswer('');\r\n                setPhenotypeRatioAnswer('');\r\n                setProbabilityAnswer('');\r\n              }}\r\n              className=\"flex-1 px-6 py-3 bg-green-600 text-white font-bold rounded-lg hover:bg-green-700 transition\"\r\n            >\r\n              Practice Same Cross Again\r\n            </button>\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {/* Info Section */}\r\n      {!mode && (\r\n        <div\r\n          className={`mt-6 p-4 rounded-lg text-sm ${\r\n            dark ? 'bg-gray-700' : 'bg-gray-50'\r\n          }`}\r\n        >\r\n          <h4 className=\"font-bold mb-2\">About Punnett Squares:</h4>\r\n          <p className={dark ? 'text-gray-300' : 'text-gray-700'}>\r\n            Punnett squares help predict the genetic outcomes when two organisms\r\n            reproduce. Each parent contributes one allele (gene variant) to\r\n            their offspring. Dominant alleles (capital letters) mask recessive\r\n            alleles (lowercase letters) in the phenotype (observable trait).\r\n          </p>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState, useRef, useEffect } from 'react';\n\nexport function TI30XSCalculator({ onClose }) {\n  // --- State ---\n  const [history, setHistory] = useState([]);\n  const [currentInput, setCurrentInput] = useState('');\n  const [result, setResult] = useState('');\n  const [isSecond, setIsSecond] = useState(false);\n  const [isDegrees, setIsDegrees] = useState(true);\n  const [position, setPosition] = useState({ x: 100, y: 100 });\n  const [isDragging, setIsDragging] = useState(false);\n  const [opacity, setOpacity] = useState(1.0);\n  const [dpadIndex, setDpadIndex] = useState(-1);\n  const [scale, setScale] = useState(1.8);\n  const dragStart = useRef({ x: 0, y: 0 });\n\n  // Calculate responsive scale\n  useEffect(() => {\n    const calculateScale = () => {\n      const maxWidth = window.innerWidth - 20;\n      const maxHeight = window.innerHeight - 20;\n      const calcWidth = 340;\n      const calcHeight = 680;\n\n      const scaleByWidth = maxWidth / calcWidth;\n      const scaleByHeight = maxHeight / calcHeight;\n      const newScale = Math.min(1.8, scaleByWidth, scaleByHeight);\n\n      setScale(newScale);\n    };\n\n    calculateScale();\n    window.addEventListener('resize', calculateScale);\n    return () => window.removeEventListener('resize', calculateScale);\n  }, []);\n\n  // --- Drag Logic ---\n  const handleMouseDown = (e) => {\n    if (\n      e.target.tagName === 'BUTTON' ||\n      e.target.closest('.calc-opacity-control')\n    )\n      return;\n    setIsDragging(true);\n    dragStart.current = {\n      x: e.clientX - position.x,\n      y: e.clientY - position.y,\n    };\n  };\n\n  useEffect(() => {\n    const handleMouseMove = (e) => {\n      if (!isDragging) return;\n      setPosition({\n        x: e.clientX - dragStart.current.x,\n        y: e.clientY - dragStart.current.y,\n      });\n    };\n    const handleMouseUp = () => setIsDragging(false);\n\n    if (isDragging) {\n      window.addEventListener('mousemove', handleMouseMove);\n      window.addEventListener('mouseup', handleMouseUp);\n    }\n    return () => {\n      window.removeEventListener('mousemove', handleMouseMove);\n      window.removeEventListener('mouseup', handleMouseUp);\n    };\n  }, [isDragging]);\n\n  // --- Calculator Logic ---\n  const handlePress = (val) => {\n    if (result !== '') {\n      if (['+', '-', '', '', '^'].includes(val)) setCurrentInput(result + val);\n      else setCurrentInput(val);\n      setResult('');\n    } else {\n      setCurrentInput((prev) => prev + val);\n    }\n  };\n\n  const handleClear = () => {\n    setCurrentInput('');\n    setResult('');\n    if (currentInput === '' && result === '') setHistory([]);\n  };\n\n  const handleDelete = () => {\n    setCurrentInput((prev) => prev.slice(0, -1));\n  };\n\n  const handleEnter = () => {\n    if (!currentInput) return;\n\n    try {\n      // Replace visual symbols with JS operators\n      let expr = currentInput\n        .replace(/\\u00D7/g, '*')\n        .replace(/\\u00F7/g, '/')\n        .replace(/\\^/g, '**')\n        .replace(/\\u03C0/g, 'Math.PI')\n        .replace(/\\u221A/g, 'Math.sqrt');\n\n      // Handle trig functions\n      if (isDegrees) {\n        expr = expr\n          .replace(/sin\\(/g, 'Math.sin(Math.PI/180*')\n          .replace(/cos\\(/g, 'Math.cos(Math.PI/180*')\n          .replace(/tan\\(/g, 'Math.tan(Math.PI/180*');\n      } else {\n        expr = expr\n          .replace(/sin\\(/g, 'Math.sin(')\n          .replace(/cos\\(/g, 'Math.cos(')\n          .replace(/tan\\(/g, 'Math.tan(');\n      }\n\n      // eslint-disable-next-line no-eval\n      const evalResult = eval(expr);\n      const formattedResult =\n        typeof evalResult === 'number'\n          ? Math.abs(evalResult) < 0.0001 && evalResult !== 0\n            ? evalResult.toExponential(4)\n            : evalResult.toString().slice(0, 12)\n          : String(evalResult);\n\n      // Add to MultiView History (Max 3 lines), newest shows at bottom\n      setHistory((prev) => [\n        ...prev.slice(-2),\n        { exp: currentInput, ans: formattedResult },\n      ]);\n      setResult(formattedResult);\n      setCurrentInput('');\n      setDpadIndex(-1);\n    } catch (e) {\n      setResult('SYNTAX ERROR');\n      setTimeout(() => setResult(''), 2000);\n    }\n  };\n\n  const handleFunction = (fn) => setCurrentInput((prev) => prev + fn + '(');\n  const toggleMode = () => setIsDegrees((prev) => !prev);\n\n  // D-Pad navigation handlers\n  const recallHistoryAt = (index) => {\n    if (history.length === 0) return;\n    if (index >= 0 && index < history.length) {\n      setCurrentInput(history[index].exp);\n      setResult('');\n      setDpadIndex(index);\n    } else if (index < 0) {\n      setDpadIndex(-1);\n      setCurrentInput('');\n      setResult('');\n    }\n  };\n\n  const handleDpadUp = () => {\n    if (history.length === 0) return;\n    const nextIndex =\n      dpadIndex === -1 ? history.length - 1 : Math.max(0, dpadIndex - 1);\n    recallHistoryAt(nextIndex);\n  };\n\n  const handleDpadDown = () => {\n    if (history.length === 0) return;\n    if (dpadIndex === -1) return;\n    const nextIndex = dpadIndex + 1;\n    if (nextIndex < history.length) recallHistoryAt(nextIndex);\n    else recallHistoryAt(-1);\n  };\n\n  const handleDpadLeft = () => {\n    handleDelete();\n  };\n\n  const handleDpadRight = () => {\n    handleEnter();\n  };\n\n  // Keyboard support\n  useEffect(() => {\n    const handleKeyDown = (e) => {\n      if (e.key === 'Backspace') {\n        e.preventDefault();\n        handleDelete();\n      } else if (e.key === 'Enter') {\n        e.preventDefault();\n        handleEnter();\n      } else if (e.key === 'Escape') {\n        e.preventDefault();\n        handleClear();\n      } else if (/^[0-9]$/.test(e.key)) {\n        e.preventDefault();\n        handlePress(e.key);\n      } else if (['+', '-', '(', ')', '.'].includes(e.key)) {\n        e.preventDefault();\n        handlePress(e.key);\n      } else if (e.key === '*') {\n        e.preventDefault();\n        handlePress('');\n      } else if (e.key === '/') {\n        e.preventDefault();\n        handlePress('');\n      }\n    };\n\n    window.addEventListener('keydown', handleKeyDown);\n    return () => window.removeEventListener('keydown', handleKeyDown);\n  }, [currentInput, result]);\n\n  // --- Button Component ---\n  const CalcBtn = ({\n    label,\n    color = 'black',\n    onClick,\n    className = '',\n    span = 1,\n  }) => {\n    const baseStyle =\n      'h-9 text-xs font-semibold rounded-lg shadow-md active:scale-95 active:shadow-sm transition-all flex flex-col items-center justify-center calc-btn leading-none py-0.5 px-1 overflow-hidden';\n    const colorStyles = {\n      green:\n        'bg-gradient-to-b from-[#4a8b73] to-[#3a7563] text-white border-b-[3px] border-[#2f594a] hover:from-[#5a9b83] hover:to-[#4a8b73]',\n      black:\n        'bg-gradient-to-b from-slate-800 to-slate-900 text-white border-b-[3px] border-black hover:from-slate-700 hover:to-slate-800',\n      white:\n        'bg-gradient-to-b from-white to-slate-100 text-slate-900 border-b-[3px] border-slate-300 hover:from-slate-50 hover:to-slate-200 font-bold',\n      red: 'bg-gradient-to-b from-red-700 to-red-800 text-white border-b-[3px] border-red-950 hover:from-red-600 hover:to-red-700',\n      gray: 'bg-gradient-to-b from-slate-600 to-slate-700 text-white border-b-[3px] border-slate-800 hover:from-slate-500 hover:to-slate-600',\n    };\n\n    const colSpan = span > 1 ? 'col-span-' + span : '';\n\n    return (\n      <button\n        className={\n          baseStyle + ' ' + colorStyles[color] + ' ' + className + ' ' + colSpan\n        }\n        onClick={onClick || (() => handlePress(label))}\n      >\n        {label}\n      </button>\n    );\n  };\n\n  // --- JSX ---\n  return (\n    <div\n      className=\"fixed inset-0 z-[9999] flex items-center justify-center bg-black bg-opacity-30\"\n      style={{ pointerEvents: 'none' }}\n    >\n      <div\n        className=\"relative\"\n        style={{\n          left: position.x,\n          top: position.y,\n          position: 'fixed',\n          opacity: opacity,\n          pointerEvents: 'auto',\n          cursor: isDragging ? 'grabbing' : 'grab',\n        }}\n        onMouseDown={handleMouseDown}\n      >\n        {/* Calculator Shell: tall & narrow, responsive scale */}\n        <div\n          className=\"relative bg-[#3b4c5f] shadow-2xl rounded-[30px] p-5\"\n          style={{\n            width: '340px',\n            height: '680px',\n            transform: `scale(${scale})`,\n            transformOrigin: 'top left',\n          }}\n        >\n          {/* Branding */}\n          <div className=\"mb-3\">\n            <div className=\"text-center mb-2\">\n              <div className=\"text-white text-2xl font-bold tracking-wider\">\n                TI-30XS\n              </div>\n              <div className=\"text-slate-300 text-xs tracking-widest\">\n                MultiView\n              </div>\n            </div>\n            <div className=\"w-full h-6 bg-gradient-to-br from-slate-800 to-slate-900 rounded-sm border border-slate-700 shadow-inner mb-2\"></div>\n            <div className=\"flex items-center justify-center gap-2 mb-2\">\n              <div className=\"text-red-600 text-lg font-bold\"></div>\n              <div className=\"text-white text-[10px] font-bold tracking-widest\">\n                TEXAS INSTRUMENTS\n              </div>\n            </div>\n          </div>\n\n          {/* Screen (LCD) */}\n          <div className=\"bg-[#e3e9d9] h-44 rounded-xl mb-4 border-4 border-slate-600 p-4 font-mono text-slate-900 flex flex-col relative shadow-inner\">\n            <div className=\"absolute top-2 right-3 text-[8px] flex gap-2 opacity-60\">\n              <span className={isDegrees ? 'font-bold' : ''}>\n                {isDegrees ? 'DEG' : 'RAD'}\n              </span>\n              <span>FLO</span>\n            </div>\n            <div className=\"flex-1 flex flex-col justify-end overflow-hidden\">\n              {history.map((item, i) => (\n                <div\n                  key={i}\n                  className=\"text-[11px] opacity-50 leading-tight mb-1\"\n                >\n                  <div className=\"text-left\">{item.exp}</div>\n                  <div className=\"text-right font-bold mb-1\">={item.ans}</div>\n                </div>\n              ))}\n            </div>\n            <div className=\"text-left text-2xl font-bold mt-2 min-h-[36px] border-t border-slate-400/30 pt-2\">\n              {result !== '' ? (\n                <div className=\"text-right\">{result}</div>\n              ) : (\n                <div className=\"flex items-center\">\n                  {currentInput || '0'}\n                  <span className=\"inline-block w-1 h-6 bg-slate-900 animate-pulse ml-1\">\n                    |\n                  </span>\n                </div>\n              )}\n            </div>\n          </div>\n\n          {/* Opacity & Close */}\n          <div className=\"calc-opacity-control mb-3 flex items-center gap-2 px-1\">\n            <span className=\"text-slate-400 text-xs\">Opacity:</span>\n            <input\n              type=\"range\"\n              min=\"0.3\"\n              max=\"1\"\n              step=\"0.1\"\n              value={opacity}\n              onChange={(e) => setOpacity(parseFloat(e.target.value))}\n              className=\"flex-1 h-1 bg-slate-700 rounded-lg appearance-none cursor-pointer\"\n            />\n            <button\n              onClick={onClose}\n              className=\"ml-2 px-3 py-1 bg-red-700 hover:bg-red-600 text-white text-xs font-bold rounded shadow\"\n            ></button>\n          </div>\n\n          {/* Keypad Grid: 4 cols */}\n          <div className=\"grid grid-cols-4 gap-2\">\n            {/* Top Control Row: small buttons */}\n            <button\n              className=\"h-7 text-xs font-semibold rounded-md shadow-md active:scale-95 transition-all flex items-center justify-center bg-[#4a8b73] text-white\"\n              onClick={() => setIsSecond(!isSecond)}\n            >\n              2nd\n            </button>\n            <button\n              className=\"h-7 text-xs font-semibold rounded-md shadow-md active:scale-95 transition-all flex items-center justify-center bg-slate-700 text-white\"\n              onClick={toggleMode}\n            >\n              mode\n            </button>\n            <button\n              className=\"h-7 text-xs font-semibold rounded-md shadow-md active:scale-95 transition-all flex items-center justify-center bg-slate-700 text-white\"\n              onClick={handleDelete}\n            >\n              del\n            </button>\n            <button\n              className=\"h-7 text-xs font-semibold rounded-md shadow-md active:scale-95 transition-all flex items-center justify-center bg-slate-900 text-white\"\n              onClick={handleClear}\n            >\n              clear\n            </button>\n\n            {/* Row 2: functions + D-Pad spanning 2 cols */}\n            <CalcBtn\n              label={\n                <>\n                  <span className=\"text-green-400 text-[7px]\">e^x</span>\n                  <br />\n                  log\n                </>\n              }\n              color=\"gray\"\n              className=\"text-[9px]\"\n            />\n            <CalcBtn\n              label={\n                <>\n                  <span className=\"text-green-400 text-[7px]\">LRN</span>\n                  <br />\n                  prb\n                </>\n              }\n              color=\"gray\"\n              className=\"text-[8px]\"\n            />\n            <CalcBtn\n              label={\n                <>\n                  <span className=\"text-green-400 text-[7px]\">stat</span>\n                  <br />\n                  data\n                </>\n              }\n              color=\"gray\"\n              className=\"text-[8px]\"\n            />\n            <div className=\"col-span-2\">\n              <div className=\"relative w-full h-14 bg-slate-700 rounded-full border-2 border-slate-800 shadow-md\">\n                <button\n                  aria-label=\"up\"\n                  className=\"absolute top-0 left-1/2 -translate-x-1/2 h-1/2 w-1/3 bg-transparent\"\n                  onClick={handleDpadUp}\n                />\n                <button\n                  aria-label=\"down\"\n                  className=\"absolute bottom-0 left-1/2 -translate-x-1/2 h-1/2 w-1/3 bg-transparent\"\n                  onClick={handleDpadDown}\n                />\n                <button\n                  aria-label=\"left\"\n                  className=\"absolute top-1/2 -translate-y-1/2 left-0 h-1/3 w-1/2 bg-transparent\"\n                  onClick={handleDpadLeft}\n                />\n                <button\n                  aria-label=\"right\"\n                  className=\"absolute top-1/2 -translate-y-1/2 right-0 h-1/3 w-1/2 bg-transparent\"\n                  onClick={handleDpadRight}\n                />\n              </div>\n            </div>\n\n            {/* Row 3 */}\n            <CalcBtn\n              label={\n                <>\n                  <span className=\"text-green-400 text-[7px]\">10^x</span>\n                  <br />\n                  ln\n                </>\n              }\n              color=\"gray\"\n              className=\"text-[9px]\"\n            />\n            <CalcBtn\n              label={\n                <>\n                  <span className=\"text-green-400 text-[7px]\">n/d</span>\n                  <br />\n                  <span className=\"text-xs\"></span>\n                  <sub className=\"text-[7px]\">d</sub>\n                </>\n              }\n              color=\"gray\"\n              className=\"text-[9px]\"\n            />\n            <CalcBtn\n              label={\n                <>\n                  <span className=\"text-green-400 text-[7px]\">10^n</span>\n                  <br />\n                  10<sup className=\"text-[7px]\">n</sup>\n                </>\n              }\n              color=\"gray\"\n              className=\"text-[8px]\"\n            />\n            <CalcBtn\n              label=\"\"\n              color=\"black\"\n              onClick={() => handlePress('')}\n              className=\"text-base font-bold\"\n            />\n\n            {/* Row 4 */}\n            <CalcBtn\n              label={\n                <>\n                  <span></span>\n                  <br />\n                  <span className=\"text-green-400 text-[6px]\">\n                    x<sup className=\"text-[6px]\"></sup>\n                  </span>\n                </>\n              }\n              color=\"gray\"\n              onClick={() => handlePress('')}\n              className=\"text-sm\"\n            />\n            <CalcBtn\n              label={\n                <>\n                  <span>sin</span>\n                  <br />\n                  <span className=\"text-green-400 text-[6px]\">sin</span>\n                </>\n              }\n              color=\"gray\"\n              onClick={() => handleFunction('sin')}\n              className=\"text-[10px]\"\n            />\n            <CalcBtn\n              label={\n                <>\n                  <span>cos</span>\n                  <br />\n                  <span className=\"text-green-400 text-[6px]\">cos</span>\n                </>\n              }\n              color=\"gray\"\n              onClick={() => handleFunction('cos')}\n              className=\"text-[10px]\"\n            />\n            <CalcBtn\n              label={\n                <>\n                  <span>tan</span>\n                  <br />\n                  <span className=\"text-green-400 text-[6px]\">tan</span>\n                </>\n              }\n              color=\"gray\"\n              onClick={() => handleFunction('tan')}\n              className=\"text-[10px]\"\n            />\n\n            {/* Row 5 */}\n            <CalcBtn\n              label={\n                <>\n                  <span className=\"text-green-400 text-[8px]\"></span>\n                  <br />^\n                </>\n              }\n              color=\"gray\"\n              onClick={() => handlePress('^')}\n              className=\"text-base\"\n            />\n            <CalcBtn\n              label={\n                <>\n                  <span>\n                    x<sup className=\"text-[7px]\">-1</sup>\n                  </span>\n                  <br />\n                  <span className=\"text-green-400 text-[6px]\">nCr/nPr</span>\n                </>\n              }\n              color=\"gray\"\n              className=\"text-[9px]\"\n            />\n            <CalcBtn\n              label=\"(\"\n              color=\"gray\"\n              onClick={() => handlePress('(')}\n              className=\"text-lg\"\n            />\n            <CalcBtn\n              label=\")\"\n              color=\"gray\"\n              onClick={() => handlePress(')')}\n              className=\"text-lg\"\n            />\n\n            {/* Row 6 */}\n            <CalcBtn\n              label={\n                <>\n                  <span>\n                    x<sup className=\"text-[7px]\">2</sup>\n                  </span>\n                  <br />\n                  <span className=\"text-green-400 text-[6px]\"></span>\n                </>\n              }\n              color=\"gray\"\n              onClick={() => handlePress('^2')}\n              className=\"text-sm\"\n            />\n            <CalcBtn label=\"7\" color=\"white\" className=\"text-lg font-bold\" />\n            <CalcBtn label=\"8\" color=\"white\" className=\"text-lg font-bold\" />\n            <CalcBtn label=\"9\" color=\"white\" className=\"text-lg font-bold\" />\n\n            {/* Row 7 */}\n            <CalcBtn\n              label={\n                <>\n                  <span className=\"text-[6px]\">clear var</span>\n                  <br />\n                  <span className=\"text-sm\">x abc</span>\n                </>\n              }\n              color=\"gray\"\n              className=\"text-[8px]\"\n            />\n            <CalcBtn label=\"4\" color=\"white\" className=\"text-lg font-bold\" />\n            <CalcBtn label=\"5\" color=\"white\" className=\"text-lg font-bold\" />\n            <CalcBtn label=\"6\" color=\"white\" className=\"text-lg font-bold\" />\n\n            {/* Row 8 */}\n            <CalcBtn\n              label={\n                <>\n                  <span className=\"text-[7px]\">recall</span>\n                  <br />\n                  sto\n                </>\n              }\n              color=\"gray\"\n              className=\"text-[9px]\"\n            />\n            <CalcBtn label=\"1\" color=\"white\" className=\"text-lg font-bold\" />\n            <CalcBtn label=\"2\" color=\"white\" className=\"text-lg font-bold\" />\n            <CalcBtn label=\"3\" color=\"white\" className=\"text-lg font-bold\" />\n\n            {/* Bottom Row */}\n            <CalcBtn\n              label={\n                <>\n                  <span>on</span>\n                  <br />\n                  <span className=\"text-[7px]\">reset</span>\n                </>\n              }\n              color=\"gray\"\n              className=\"text-[9px]\"\n            />\n            <div className=\"col-span-2\">\n              <CalcBtn label=\"0\" color=\"white\" className=\"text-lg font-bold\" />\n            </div>\n            <CalcBtn label=\".\" color=\"white\" className=\"text-xl font-bold\" />\n            <div className=\"row-span-2\">\n              <CalcBtn\n                label=\"enter\"\n                color=\"black\"\n                onClick={handleEnter}\n                className=\"h-full text-sm font-bold\"\n              />\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\n// Make it available globally if needed\nif (typeof window !== 'undefined') {\n  window.Components = window.Components || {};\n  window.Components.TI30XSCalculator = TI30XSCalculator;\n}\n","import React from 'react';\r\nimport { TI30XSCalculator } from '../../../components/TI30XSCalculator';\r\n\r\n/**\r\n * Calculator - TI-30XS MultiView calculator wrapper for tools modal\r\n *\r\n * This wraps the existing TI30XSCalculator component to work within\r\n * the SubjectToolsModal interface while maintaining full functionality.\r\n */\r\nexport default function Calculator({ onClose, dark = false }) {\r\n  return <TI30XSCalculator onClose={onClose} />;\r\n}\r\n","import React, { useEffect, useMemo, useRef, useState } from 'react';\r\n\r\n/**\r\n * USRegionsMap\r\n * - Inlines the SVG at /maps/us-regions.svg\r\n * - Uses /data/usRegions.json for authoritative region groupings\r\n * - Emits onRegionSelect(regionName)\r\n * - Keyboard accessible (Tab focuses states, Enter selects region)\r\n * - No inline styles inside SVG paths; styling via CSS classes\r\n */\r\nexport default function USRegionsMap({\r\n  selectedRegion = null,\r\n  onRegionSelect = () => {},\r\n  disabled = false,\r\n  showLabels = false,\r\n  className = '',\r\n}) {\r\n  const containerRef = useRef(null);\r\n  const [svgMarkup, setSvgMarkup] = useState('');\r\n  const [regions, setRegions] = useState({\r\n    midwest: [],\r\n    northeast: [],\r\n    south: [],\r\n    west: [],\r\n  });\r\n  const [hoverRegion, setHoverRegion] = useState(null);\r\n\r\n  useEffect(() => {\r\n    let cancelled = false;\r\n    // Load SVG text from public\r\n    fetch('/maps/us-regions.svg')\r\n      .then((r) =>\r\n        r.ok ? r.text() : Promise.reject(new Error('SVG not found'))\r\n      )\r\n      .then((text) => {\r\n        if (cancelled) return;\r\n        setSvgMarkup(text);\r\n      })\r\n      .catch((err) => {\r\n        console.warn('[USRegionsMap] Failed to load SVG:', err?.message || err);\r\n        setSvgMarkup(\r\n          '<svg viewBox=\"0 0 960 600\" xmlns=\"http://www.w3.org/2000/svg\" role=\"img\" aria-label=\"US Regions Map (placeholder)\"><rect x=\"0\" y=\"0\" width=\"960\" height=\"600\" class=\"usrg-placeholder\"/></svg>'\r\n        );\r\n      });\r\n    // Load region metadata\r\n    fetch('/data/usRegions.json')\r\n      .then((r) =>\r\n        r.ok ? r.json() : Promise.reject(new Error('usRegions.json not found'))\r\n      )\r\n      .then((json) => {\r\n        if (cancelled) return;\r\n        setRegions(json || {});\r\n      })\r\n      .catch((err) =>\r\n        console.warn(\r\n          '[USRegionsMap] Failed to load region metadata:',\r\n          err?.message || err\r\n        )\r\n      );\r\n    return () => {\r\n      cancelled = true;\r\n    };\r\n  }, []);\r\n\r\n  // After SVG mounts, annotate nodes and wire events\r\n  useEffect(() => {\r\n    const root = containerRef.current;\r\n    if (!root || !svgMarkup) return;\r\n\r\n    // Inject markup\r\n    root.innerHTML = svgMarkup;\r\n\r\n    const svg = root.querySelector('svg');\r\n    if (!svg) return;\r\n    svg.setAttribute('role', 'img');\r\n    svg.setAttribute('aria-label', 'U.S. Regions map');\r\n    svg.classList.add('usrg-svg');\r\n\r\n    // Find all state paths (assume per-state <path> with id or data-state)\r\n    const statePaths = svg.querySelectorAll('path');\r\n\r\n    const stateToRegion = new Map();\r\n    const regionToStates = new Map(\r\n      Object.entries(regions).map(([k, arr]) => [k, new Set(arr)])\r\n    );\r\n\r\n    // Annotate each path with data-state and data-region if possible\r\n    statePaths.forEach((p) => {\r\n      const code = (\r\n        p.getAttribute('data-state') ||\r\n        p.getAttribute('id') ||\r\n        p.getAttribute('name') ||\r\n        ''\r\n      ).toUpperCase();\r\n      if (code && !p.getAttribute('data-state')) {\r\n        p.setAttribute('data-state', code);\r\n      }\r\n      let region = p.getAttribute('data-region');\r\n      if (!region && code) {\r\n        for (const [rName, set] of regionToStates.entries()) {\r\n          if (set.has(code)) {\r\n            region = rName;\r\n            break;\r\n          }\r\n        }\r\n      }\r\n      if (region) {\r\n        p.setAttribute('data-region', region);\r\n        stateToRegion.set(code, region);\r\n      }\r\n      p.setAttribute('tabindex', disabled ? '-1' : '0');\r\n      p.setAttribute('role', 'button');\r\n      p.classList.add('usrg-state');\r\n    });\r\n\r\n    const getRegionFromTarget = (el) => {\r\n      if (!el) return null;\r\n      const state = el.getAttribute('data-state');\r\n      return state\r\n        ? stateToRegion.get(state) || null\r\n        : el.getAttribute('data-region');\r\n    };\r\n\r\n    const applyHighlight = (regionName) => {\r\n      statePaths.forEach((p) => {\r\n        const r = p.getAttribute('data-region');\r\n        p.classList.toggle('hovered', Boolean(regionName && r === regionName));\r\n        p.classList.toggle(\r\n          'selected',\r\n          Boolean(selectedRegion && r === selectedRegion)\r\n        );\r\n        p.classList.toggle('disabled', Boolean(disabled));\r\n      });\r\n      svg.setAttribute('data-selected-region', selectedRegion || '');\r\n      svg.setAttribute('data-hover-region', regionName || '');\r\n      svg.setAttribute('data-disabled', disabled ? 'true' : 'false');\r\n    };\r\n\r\n    const onEnterRegion = (e) => {\r\n      if (disabled) return;\r\n      const regionName = getRegionFromTarget(e.currentTarget);\r\n      setHoverRegion(regionName);\r\n      applyHighlight(regionName);\r\n    };\r\n    const onLeaveRegion = () => {\r\n      if (disabled) return;\r\n      setHoverRegion(null);\r\n      applyHighlight(null);\r\n    };\r\n    const onClickRegion = (e) => {\r\n      if (disabled) return;\r\n      const regionName = getRegionFromTarget(e.currentTarget);\r\n      if (regionName) onRegionSelect(regionName);\r\n    };\r\n    const onKeyDownRegion = (e) => {\r\n      if (disabled) return;\r\n      if (e.key === 'Enter' || e.key === ' ') {\r\n        e.preventDefault();\r\n        const regionName = getRegionFromTarget(e.currentTarget);\r\n        if (regionName) onRegionSelect(regionName);\r\n      }\r\n    };\r\n\r\n    statePaths.forEach((p) => {\r\n      p.addEventListener('mouseenter', onEnterRegion);\r\n      p.addEventListener('mouseleave', onLeaveRegion);\r\n      p.addEventListener('click', onClickRegion);\r\n      p.addEventListener('keydown', onKeyDownRegion);\r\n    });\r\n\r\n    // Optional: Render labels\r\n    if (showLabels) {\r\n      const ns = 'http://www.w3.org/2000/svg';\r\n      const labelsLayer = document.createElementNS(ns, 'g');\r\n      labelsLayer.setAttribute('class', 'usrg-labels');\r\n      svg.appendChild(labelsLayer);\r\n      statePaths.forEach((p) => {\r\n        const code = p.getAttribute('data-state');\r\n        if (!code) return;\r\n        try {\r\n          const bbox = p.getBBox();\r\n          const tx = document.createElementNS(ns, 'text');\r\n          tx.setAttribute('x', String(bbox.x + bbox.width / 2));\r\n          tx.setAttribute('y', String(bbox.y + bbox.height / 2));\r\n          tx.setAttribute('text-anchor', 'middle');\r\n          tx.setAttribute('class', 'usrg-label');\r\n          tx.textContent = code;\r\n          labelsLayer.appendChild(tx);\r\n        } catch {}\r\n      });\r\n    }\r\n\r\n    applyHighlight(hoverRegion);\r\n\r\n    return () => {\r\n      statePaths.forEach((p) => {\r\n        p.removeEventListener('mouseenter', onEnterRegion);\r\n        p.removeEventListener('mouseleave', onLeaveRegion);\r\n        p.removeEventListener('click', onClickRegion);\r\n        p.removeEventListener('keydown', onKeyDownRegion);\r\n      });\r\n    };\r\n  }, [svgMarkup, regions, selectedRegion, disabled, showLabels]);\r\n\r\n  return (\r\n    <div\r\n      ref={containerRef}\r\n      className={[\r\n        'usrg-container',\r\n        className,\r\n        disabled ? 'is-disabled' : '',\r\n      ].join(' ')}\r\n      aria-disabled={disabled ? 'true' : 'false'}\r\n    />\r\n  );\r\n}\r\n","/**\r\n * map_scenarios.js - Map Explorer data\r\n * Geography and map-reading scenarios for GED Social Studies\r\n */\r\n\r\nexport const MAP_SCENARIOS = [\r\n  {\r\n    id: 'us_regions_midwest',\r\n    difficulty: 'easy',\r\n    tags: ['us', 'regions', 'geography'],\r\n    title: 'U.S. Regions  The Midwest',\r\n    prompt: 'On this map, which region is best known as the Midwest?',\r\n    choices: [\r\n      { id: 'A', label: 'Region A (Pacific Coast)', isCorrect: false },\r\n      { id: 'B', label: 'Region B (Central United States)', isCorrect: true },\r\n      { id: 'C', label: 'Region C (Southern States)', isCorrect: false },\r\n      { id: 'D', label: 'Region D (Northeast)', isCorrect: false },\r\n    ],\r\n    explanation:\r\n      'The Midwest is the central-northern region including states like Ohio, Indiana, Illinois, and Iowa. It is characterized by agricultural production and industrial cities.',\r\n    imageKey: 'us_regions_basic',\r\n  },\r\n  {\r\n    id: 'us_regions_south',\r\n    difficulty: 'easy',\r\n    tags: ['us', 'regions', 'climate'],\r\n    title: 'U.S. Regions  The South',\r\n    prompt: 'Which region on the map represents the Southern United States?',\r\n    choices: [\r\n      { id: 'A', label: 'Region A', isCorrect: false },\r\n      { id: 'B', label: 'Region B', isCorrect: false },\r\n      {\r\n        id: 'C',\r\n        label: 'Region C (states below the Mason-Dixon line)',\r\n        isCorrect: true,\r\n      },\r\n      { id: 'D', label: 'Region D', isCorrect: false },\r\n    ],\r\n    explanation:\r\n      'The South includes states like Texas, Florida, Georgia, and the Carolinas. This region has a warm climate and rich historical significance.',\r\n    imageKey: 'us_regions_basic',\r\n  },\r\n  {\r\n    id: 'world_continents_africa',\r\n    difficulty: 'easy',\r\n    tags: ['world', 'continents', 'geography'],\r\n    title: 'World Continents  Africa',\r\n    prompt: 'Which continent on this world map is Africa?',\r\n    choices: [\r\n      { id: 'A', label: 'Continent A', isCorrect: false },\r\n      {\r\n        id: 'B',\r\n        label: 'Continent B (south of Europe, east of Atlantic)',\r\n        isCorrect: true,\r\n      },\r\n      { id: 'C', label: 'Continent C', isCorrect: false },\r\n      { id: 'D', label: 'Continent D', isCorrect: false },\r\n    ],\r\n    explanation:\r\n      'Africa is the second-largest continent, located south of Europe and spanning from the Mediterranean Sea to the Indian Ocean. It is home to 54 recognized countries.',\r\n    imageKey: 'world_continents',\r\n  },\r\n  {\r\n    id: 'us_major_rivers_mississippi',\r\n    difficulty: 'medium',\r\n    tags: ['us', 'geography', 'rivers'],\r\n    title: 'Major U.S. Rivers  The Mississippi',\r\n    prompt: 'Which river on this map represents the Mississippi River?',\r\n    choices: [\r\n      { id: 'A', label: 'River A (Pacific side)', isCorrect: false },\r\n      {\r\n        id: 'B',\r\n        label: 'River B (flows north-south through central US)',\r\n        isCorrect: true,\r\n      },\r\n      { id: 'C', label: 'River C (northeastern river)', isCorrect: false },\r\n      { id: 'D', label: 'River D (Texas region)', isCorrect: false },\r\n    ],\r\n    explanation:\r\n      'The Mississippi River is the second-longest river in North America. It flows from Minnesota southward through the central United States to the Gulf of Mexico and was crucial to American commerce and settlement.',\r\n    imageKey: 'us_rivers',\r\n  },\r\n  {\r\n    id: 'trade_routes_triangular',\r\n    difficulty: 'medium',\r\n    tags: ['history', 'trade', 'geography'],\r\n    title: 'Historical Trade Routes  Triangular Trade',\r\n    prompt:\r\n      'Based on this map of trade routes, which arrow represents cargo traveling from Africa to the Americas?',\r\n    choices: [\r\n      { id: 'A', label: 'Route A (Europe to Americas)', isCorrect: false },\r\n      { id: 'B', label: 'Route B (Africa to Americas)', isCorrect: true },\r\n      { id: 'C', label: 'Route C (Americas to Europe)', isCorrect: false },\r\n      { id: 'D', label: 'Route D (local coastal trade)', isCorrect: false },\r\n    ],\r\n    explanation:\r\n      'The Triangular Trade involved the transport of enslaved people from Africa to the Americas. This tragic trade route was a significant part of the colonial Atlantic economy.',\r\n    imageKey: 'triangular_trade_routes',\r\n  },\r\n  {\r\n    id: 'asia_geography_major_cities',\r\n    difficulty: 'medium',\r\n    tags: ['world', 'geography', 'cities'],\r\n    title: 'Asian Geography  Population Centers',\r\n    prompt:\r\n      'Which region on this map shows East Asia with high population density?',\r\n    choices: [\r\n      { id: 'A', label: 'Region A (sparse western areas)', isCorrect: false },\r\n      {\r\n        id: 'B',\r\n        label: 'Region B (eastern coastal and central areas)',\r\n        isCorrect: true,\r\n      },\r\n      {\r\n        id: 'C',\r\n        label: 'Region C (southern island nations)',\r\n        isCorrect: false,\r\n      },\r\n      { id: 'D', label: 'Region D (northern regions)', isCorrect: false },\r\n    ],\r\n    explanation:\r\n      \"East Asia, particularly eastern China, Japan, and South Korea, contains some of the world's highest population densities. These areas are economic powerhouses in the global economy.\",\r\n    imageKey: 'asia_map',\r\n  },\r\n  {\r\n    id: 'colonial_america_thirteen_colonies',\r\n    difficulty: 'medium',\r\n    tags: ['us_history', 'geography', 'colonial'],\r\n    title: 'Colonial America  The Thirteen Colonies',\r\n    prompt:\r\n      'Based on this map, which region represents the Thirteen Original Colonies?',\r\n    choices: [\r\n      { id: 'A', label: 'Western territories', isCorrect: false },\r\n      {\r\n        id: 'B',\r\n        label: 'Eastern seaboard from Massachusetts to Georgia',\r\n        isCorrect: true,\r\n      },\r\n      { id: 'C', label: 'Great Lakes region', isCorrect: false },\r\n      { id: 'D', label: 'Southern interior plains', isCorrect: false },\r\n    ],\r\n    explanation:\r\n      'The Thirteen Original Colonies stretched along the Atlantic seaboard from present-day New Hampshire to Georgia. These British colonies eventually declared independence and formed the United States.',\r\n    imageKey: 'colonial_america',\r\n  },\r\n  {\r\n    id: 'time_zone_distribution',\r\n    difficulty: 'hard',\r\n    tags: ['geography', 'time_zones', 'global'],\r\n    title: 'Time Zones  Continental U.S. Time Zones',\r\n    prompt:\r\n      'How many standard time zones are used in the continental United States?',\r\n    choices: [\r\n      { id: 'A', label: '2', isCorrect: false },\r\n      { id: 'B', label: '3', isCorrect: false },\r\n      { id: 'C', label: '4', isCorrect: true },\r\n      { id: 'D', label: '5', isCorrect: false },\r\n    ],\r\n    explanation:\r\n      'The continental United States spans four standard time zones: Pacific, Mountain, Central, and Eastern. This division allows for consistent timekeeping across different regions.',\r\n    imageKey: 'us_time_zones',\r\n  },\r\n];\r\n","import React, { useState } from 'react';\r\nimport USRegionsMap from '../components/maps/USRegionsMap.jsx';\r\nimport { MAP_SCENARIOS } from '../data/social/map_scenarios.js';\r\n\r\n/**\r\n * Simple map visualizer component\r\n */\r\nconst MapVisualizer = ({ imageKey, title }) => {\r\n  const mapContent = {\r\n    us_regions_basic: (\r\n      <div className=\"w-full\">\r\n        <USRegionsMap\r\n          selectedRegion={null}\r\n          onRegionSelect={() => {}}\r\n          disabled={false}\r\n          showLabels={true}\r\n        />\r\n        <p className=\"mt-2 text-xs text-gray-600 dark:text-gray-300\">\r\n          Hover a state to see regional grouping; click selects region.\r\n        </p>\r\n      </div>\r\n    ),\r\n    world_continents: (\r\n      <svg viewBox=\"0 0 1000 500\" className=\"w-full h-full\">\r\n        {/* Ocean */}\r\n        <rect width=\"1000\" height=\"500\" fill=\"#a5d8dd\" />\r\n\r\n        {/* North America */}\r\n        <path\r\n          d=\"M 80 80 L 120 60 L 160 55 L 190 65 L 210 85 L 220 110 L 215 140 L 200 170 L 180 190 L 150 200 L 120 195 L 95 180 L 75 155 L 65 125 L 70 100 Z M 130 210 L 160 205 L 185 215 L 200 235 L 205 260 L 195 285 L 175 300 L 145 305 L 120 295 L 105 275 L 100 250 L 108 225 Z\"\r\n          fill=\"#fbbf24\"\r\n          stroke=\"#92400e\"\r\n          strokeWidth=\"2\"\r\n        />\r\n\r\n        {/* South America */}\r\n        <path\r\n          d=\"M 220 290 L 245 285 L 265 295 L 275 315 L 280 345 L 278 375 L 270 405 L 255 430 L 235 445 L 210 450 L 190 442 L 180 420 L 178 395 L 182 370 L 190 345 L 205 320 Z\"\r\n          fill=\"#fb923c\"\r\n          stroke=\"#9a3412\"\r\n          strokeWidth=\"2\"\r\n        />\r\n\r\n        {/* Europe */}\r\n        <path\r\n          d=\"M 450 95 L 485 90 L 515 95 L 540 105 L 555 120 L 560 140 L 550 160 L 530 170 L 505 172 L 480 165 L 460 150 L 448 130 L 447 110 Z\"\r\n          fill=\"#c084fc\"\r\n          stroke=\"#6b21a8\"\r\n          strokeWidth=\"2\"\r\n        />\r\n\r\n        {/* Africa */}\r\n        <path\r\n          d=\"M 480 185 L 520 180 L 555 190 L 580 210 L 595 240 L 600 275 L 595 310 L 580 345 L 555 370 L 525 385 L 490 390 L 460 380 L 440 360 L 430 330 L 432 295 L 443 260 L 460 230 L 475 205 Z\"\r\n          fill=\"#86efac\"\r\n          stroke=\"#166534\"\r\n          strokeWidth=\"2\"\r\n        />\r\n\r\n        {/* Asia */}\r\n        <path\r\n          d=\"M 565 65 L 620 60 L 680 65 L 740 75 L 790 90 L 830 110 L 860 135 L 880 165 L 890 200 L 885 235 L 870 265 L 845 285 L 810 295 L 770 298 L 730 292 L 690 280 L 655 260 L 625 235 L 605 205 L 595 175 L 593 145 L 600 115 L 615 90 L 635 75 Z M 850 215 L 870 210 L 885 220 L 890 238 L 883 255 L 868 262 L 853 258 L 845 245 L 847 228 Z M 800 305 L 825 300 L 845 310 L 852 328 L 845 345 L 825 352 L 805 348 L 795 330 Z\"\r\n          fill=\"#fcd34d\"\r\n          stroke=\"#92400e\"\r\n          strokeWidth=\"2\"\r\n        />\r\n\r\n        {/* Australia */}\r\n        <path\r\n          d=\"M 770 340 L 810 335 L 845 345 L 870 365 L 880 390 L 875 415 L 855 432 L 825 438 L 795 432 L 770 418 L 757 395 L 758 370 Z\"\r\n          fill=\"#f472b6\"\r\n          stroke=\"#831843\"\r\n          strokeWidth=\"2\"\r\n        />\r\n\r\n        {/* Antarctica */}\r\n        <path\r\n          d=\"M 150 460 L 850 460 L 840 475 L 750 485 L 600 488 L 450 485 L 300 482 L 160 475 Z\"\r\n          fill=\"#e0e7ff\"\r\n          stroke=\"#4c1d95\"\r\n          strokeWidth=\"2\"\r\n        />\r\n\r\n        {/* Labels */}\r\n        <text x=\"130\" y=\"150\" fontSize=\"18\" fontWeight=\"bold\" fill=\"#78350f\">\r\n          North America\r\n        </text>\r\n        <text x=\"180\" y=\"350\" fontSize=\"16\" fontWeight=\"bold\" fill=\"#7c2d12\">\r\n          South America\r\n        </text>\r\n        <text x=\"470\" y=\"135\" fontSize=\"16\" fontWeight=\"bold\" fill=\"#581c87\">\r\n          Europe\r\n        </text>\r\n        <text x=\"490\" y=\"290\" fontSize=\"18\" fontWeight=\"bold\" fill=\"#14532d\">\r\n          Africa\r\n        </text>\r\n        <text x=\"700\" y=\"200\" fontSize=\"20\" fontWeight=\"bold\" fill=\"#78350f\">\r\n          Asia\r\n        </text>\r\n        <text x=\"790\" y=\"390\" fontSize=\"16\" fontWeight=\"bold\" fill=\"#831843\">\r\n          Australia\r\n        </text>\r\n      </svg>\r\n    ),\r\n    us_rivers: (\r\n      <svg viewBox=\"0 0 960 600\" className=\"w-full h-full\">\r\n        {/* Base map */}\r\n        <rect width=\"960\" height=\"600\" fill=\"#fef3c7\" />\r\n\r\n        {/* US outline simplified */}\r\n        <path\r\n          d=\"M 100 150 L 150 120 L 200 110 L 250 115 L 300 130 L 350 145 L 400 155 L 450 160 L 500 165 L 550 170 L 600 180 L 650 195 L 700 210 L 750 230 L 780 250 L 800 280 L 810 320 L 805 360 L 790 395 L 760 425 L 720 445 L 670 458 L 620 465 L 570 468 L 520 465 L 470 458 L 420 450 L 370 440 L 320 428 L 270 415 L 220 400 L 170 380 L 130 355 L 105 325 L 95 290 L 95 250 L 98 210 Z\"\r\n          fill=\"#d4d4d8\"\r\n          stroke=\"#52525b\"\r\n          strokeWidth=\"1\"\r\n          opacity=\"0.3\"\r\n        />\r\n\r\n        {/* Mississippi River */}\r\n        <path\r\n          d=\"M 420 110 Q 415 150, 410 190 Q 408 230, 405 270 Q 402 310, 398 350 Q 395 390, 390 430 Q 387 460, 383 490\"\r\n          stroke=\"#1e40af\"\r\n          strokeWidth=\"8\"\r\n          fill=\"none\"\r\n          strokeLinecap=\"round\"\r\n        />\r\n\r\n        {/* Missouri River */}\r\n        <path\r\n          d=\"M 280 180 Q 310 170, 340 165 Q 370 162, 400 168 Q 415 172, 418 185\"\r\n          stroke=\"#2563eb\"\r\n          strokeWidth=\"6\"\r\n          fill=\"none\"\r\n          strokeLinecap=\"round\"\r\n        />\r\n\r\n        {/* Ohio River */}\r\n        <path\r\n          d=\"M 510 260 Q 490 265, 470 272 Q 450 280, 430 288 Q 418 293, 408 295\"\r\n          stroke=\"#3b82f6\"\r\n          strokeWidth=\"6\"\r\n          fill=\"none\"\r\n          strokeLinecap=\"round\"\r\n        />\r\n\r\n        {/* Arkansas River */}\r\n        <path\r\n          d=\"M 320 300 Q 345 295, 370 298 Q 390 301, 402 308\"\r\n          stroke=\"#60a5fa\"\r\n          strokeWidth=\"5\"\r\n          fill=\"none\"\r\n          strokeLinecap=\"round\"\r\n        />\r\n\r\n        {/* Red River */}\r\n        <path\r\n          d=\"M 290 340 Q 320 342, 350 348 Q 375 353, 390 358\"\r\n          stroke=\"#93c5fd\"\r\n          strokeWidth=\"5\"\r\n          fill=\"none\"\r\n          strokeLinecap=\"round\"\r\n        />\r\n\r\n        {/* Tennessee River */}\r\n        <path\r\n          d=\"M 500 310 Q 485 315, 470 322 Q 455 328, 442 332\"\r\n          stroke=\"#60a5fa\"\r\n          strokeWidth=\"5\"\r\n          fill=\"none\"\r\n          strokeLinecap=\"round\"\r\n        />\r\n\r\n        {/* Colorado River (West) */}\r\n        <path\r\n          d=\"M 180 240 Q 175 280, 172 320 Q 170 360, 168 400 Q 167 430, 165 460\"\r\n          stroke=\"#2563eb\"\r\n          strokeWidth=\"5\"\r\n          fill=\"none\"\r\n          strokeLinecap=\"round\"\r\n        />\r\n\r\n        {/* Columbia River */}\r\n        <path\r\n          d=\"M 120 140 Q 135 145, 150 152 Q 165 158, 180 160\"\r\n          stroke=\"#3b82f6\"\r\n          strokeWidth=\"5\"\r\n          fill=\"none\"\r\n          strokeLinecap=\"round\"\r\n        />\r\n\r\n        {/* Labels */}\r\n        <text x=\"425\" y=\"300\" fontSize=\"16\" fontWeight=\"bold\" fill=\"#1e3a8a\">\r\n          Mississippi River\r\n        </text>\r\n        <text x=\"330\" y=\"160\" fontSize=\"14\" fontWeight=\"bold\" fill=\"#1e40af\">\r\n          Missouri River\r\n        </text>\r\n        <text x=\"450\" y=\"268\" fontSize=\"14\" fontWeight=\"bold\" fill=\"#1e40af\">\r\n          Ohio River\r\n        </text>\r\n        <text x=\"315\" y=\"285\" fontSize=\"12\" fontWeight=\"bold\" fill=\"#1e40af\">\r\n          Arkansas R.\r\n        </text>\r\n        <text x=\"300\" y=\"370\" fontSize=\"12\" fontWeight=\"bold\" fill=\"#1e40af\">\r\n          Red River\r\n        </text>\r\n        <text x=\"130\" y=\"320\" fontSize=\"13\" fontWeight=\"bold\" fill=\"#1e40af\">\r\n          Colorado R.\r\n        </text>\r\n        <text x=\"130\" y=\"135\" fontSize=\"13\" fontWeight=\"bold\" fill=\"#1e40af\">\r\n          Columbia R.\r\n        </text>\r\n\r\n        {/* Legend */}\r\n        <rect\r\n          x=\"750\"\r\n          y=\"100\"\r\n          width=\"180\"\r\n          height=\"120\"\r\n          fill=\"white\"\r\n          stroke=\"#52525b\"\r\n          strokeWidth=\"2\"\r\n          rx=\"8\"\r\n        />\r\n        <text\r\n          x=\"840\"\r\n          y=\"125\"\r\n          fontSize=\"16\"\r\n          fontWeight=\"bold\"\r\n          fill=\"#1e3a8a\"\r\n          textAnchor=\"middle\"\r\n        >\r\n          Major US Rivers\r\n        </text>\r\n        <line\r\n          x1=\"765\"\r\n          y1=\"145\"\r\n          x2=\"795\"\r\n          y2=\"145\"\r\n          stroke=\"#1e40af\"\r\n          strokeWidth=\"6\"\r\n        />\r\n        <text x=\"805\" y=\"150\" fontSize=\"12\" fill=\"#1f2937\">\r\n          Large Rivers\r\n        </text>\r\n        <line\r\n          x1=\"765\"\r\n          y1=\"170\"\r\n          x2=\"795\"\r\n          y2=\"170\"\r\n          stroke=\"#3b82f6\"\r\n          strokeWidth=\"5\"\r\n        />\r\n        <text x=\"805\" y=\"175\" fontSize=\"12\" fill=\"#1f2937\">\r\n          Medium Rivers\r\n        </text>\r\n        <line\r\n          x1=\"765\"\r\n          y1=\"195\"\r\n          x2=\"795\"\r\n          y2=\"195\"\r\n          stroke=\"#60a5fa\"\r\n          strokeWidth=\"4\"\r\n        />\r\n        <text x=\"805\" y=\"200\" fontSize=\"12\" fill=\"#1f2937\">\r\n          Tributaries\r\n        </text>\r\n      </svg>\r\n    ),\r\n    triangular_trade_routes: (\r\n      <svg viewBox=\"0 0 800 500\" className=\"w-full h-full\">\r\n        {/* Atlantic Ocean */}\r\n        <rect width=\"800\" height=\"500\" fill=\"#93c5fd\" />\r\n\r\n        {/* Europe (Portugal, Spain, Britain) */}\r\n        <path\r\n          d=\"M 550 80 L 600 75 L 640 85 L 670 105 L 680 130 L 670 155 L 645 170 L 610 175 L 575 165 L 555 145 L 548 115 Z\"\r\n          fill=\"#c084fc\"\r\n          stroke=\"#6b21a8\"\r\n          strokeWidth=\"2\"\r\n        />\r\n\r\n        {/* West Africa (Gold Coast, Slave Coast) */}\r\n        <path\r\n          d=\"M 520 280 L 560 275 L 595 285 L 620 305 L 635 330 L 640 360 L 630 390 L 605 410 L 570 420 L 535 415 L 510 395 L 500 365 L 505 335 L 515 305 Z\"\r\n          fill=\"#fbbf24\"\r\n          stroke=\"#92400e\"\r\n          strokeWidth=\"2\"\r\n        />\r\n\r\n        {/* Caribbean & Americas */}\r\n        <path\r\n          d=\"M 150 200 L 200 190 L 250 200 L 280 220 L 290 250 L 285 280 L 265 305 L 230 315 L 190 310 L 160 290 L 145 260 L 145 230 Z\"\r\n          fill=\"#86efac\"\r\n          stroke=\"#166534\"\r\n          strokeWidth=\"2\"\r\n        />\r\n\r\n        {/* Trade Route 1: Europe to Africa (Manufactured goods) */}\r\n        <path\r\n          d=\"M 610 175 Q 580 210, 560 250 L 540 280\"\r\n          stroke=\"#dc2626\"\r\n          strokeWidth=\"5\"\r\n          fill=\"none\"\r\n          strokeDasharray=\"8,4\"\r\n          markerEnd=\"url(#arrow1)\"\r\n        />\r\n\r\n        {/* Trade Route 2: Africa to Americas (Enslaved people - Middle Passage) */}\r\n        <path\r\n          d=\"M 520 360 Q 400 340, 280 310 L 220 290\"\r\n          stroke=\"#7c2d12\"\r\n          strokeWidth=\"6\"\r\n          fill=\"none\"\r\n          strokeDasharray=\"8,4\"\r\n          markerEnd=\"url(#arrow2)\"\r\n        />\r\n\r\n        {/* Trade Route 3: Americas to Europe (Sugar, tobacco, cotton) */}\r\n        <path\r\n          d=\"M 250 200 Q 380 140, 510 120 L 560 110\"\r\n          stroke=\"#059669\"\r\n          strokeWidth=\"5\"\r\n          fill=\"none\"\r\n          strokeDasharray=\"8,4\"\r\n          markerEnd=\"url(#arrow3)\"\r\n        />\r\n\r\n        {/* Labels */}\r\n        <text\r\n          x=\"610\"\r\n          y=\"130\"\r\n          fontSize=\"18\"\r\n          fontWeight=\"bold\"\r\n          fill=\"#581c87\"\r\n          textAnchor=\"middle\"\r\n        >\r\n          Europe\r\n        </text>\r\n        <text\r\n          x=\"570\"\r\n          y=\"360\"\r\n          fontSize=\"18\"\r\n          fontWeight=\"bold\"\r\n          fill=\"#78350f\"\r\n          textAnchor=\"middle\"\r\n        >\r\n          West Africa\r\n        </text>\r\n        <text\r\n          x=\"220\"\r\n          y=\"255\"\r\n          fontSize=\"18\"\r\n          fontWeight=\"bold\"\r\n          fill=\"#14532d\"\r\n          textAnchor=\"middle\"\r\n        >\r\n          Americas\r\n        </text>\r\n\r\n        {/* Trade goods labels */}\r\n        <text x=\"550\" y=\"220\" fontSize=\"11\" fill=\"#7f1d1d\" fontWeight=\"bold\">\r\n          Goods \r\n        </text>\r\n        <text x=\"350\" y=\"310\" fontSize=\"11\" fill=\"#7c2d12\" fontWeight=\"bold\">\r\n           Enslaved People\r\n        </text>\r\n        <text x=\"380\" y=\"160\" fontSize=\"11\" fill=\"#065f46\" fontWeight=\"bold\">\r\n          Raw Materials \r\n        </text>\r\n\r\n        {/* Legend */}\r\n        <rect\r\n          x=\"20\"\r\n          y=\"20\"\r\n          width=\"200\"\r\n          height=\"110\"\r\n          fill=\"white\"\r\n          stroke=\"#1f2937\"\r\n          strokeWidth=\"2\"\r\n          rx=\"6\"\r\n        />\r\n        <text\r\n          x=\"120\"\r\n          y=\"42\"\r\n          fontSize=\"14\"\r\n          fontWeight=\"bold\"\r\n          fill=\"#1f2937\"\r\n          textAnchor=\"middle\"\r\n        >\r\n          Triangular Trade\r\n        </text>\r\n        <line\r\n          x1=\"30\"\r\n          y1=\"55\"\r\n          x2=\"70\"\r\n          y2=\"55\"\r\n          stroke=\"#dc2626\"\r\n          strokeWidth=\"4\"\r\n          strokeDasharray=\"6,3\"\r\n        />\r\n        <text x=\"80\" y=\"60\" fontSize=\"11\" fill=\"#1f2937\">\r\n          Manufactured Goods\r\n        </text>\r\n        <line\r\n          x1=\"30\"\r\n          y1=\"75\"\r\n          x2=\"70\"\r\n          y2=\"75\"\r\n          stroke=\"#7c2d12\"\r\n          strokeWidth=\"4\"\r\n          strokeDasharray=\"6,3\"\r\n        />\r\n        <text x=\"80\" y=\"80\" fontSize=\"11\" fill=\"#1f2937\">\r\n          Enslaved People\r\n        </text>\r\n        <line\r\n          x1=\"30\"\r\n          y1=\"95\"\r\n          x2=\"70\"\r\n          y2=\"95\"\r\n          stroke=\"#059669\"\r\n          strokeWidth=\"4\"\r\n          strokeDasharray=\"6,3\"\r\n        />\r\n        <text x=\"80\" y=\"100\" fontSize=\"11\" fill=\"#1f2937\">\r\n          Raw Materials\r\n        </text>\r\n        <text\r\n          x=\"120\"\r\n          y=\"120\"\r\n          fontSize=\"9\"\r\n          fill=\"#6b7280\"\r\n          textAnchor=\"middle\"\r\n          fontStyle=\"italic\"\r\n        >\r\n          1500s-1800s\r\n        </text>\r\n\r\n        <defs>\r\n          <marker\r\n            id=\"arrow1\"\r\n            markerWidth=\"10\"\r\n            markerHeight=\"10\"\r\n            refX=\"9\"\r\n            refY=\"3\"\r\n            orient=\"auto\"\r\n          >\r\n            <polygon points=\"0 0, 10 3, 0 6\" fill=\"#dc2626\" />\r\n          </marker>\r\n          <marker\r\n            id=\"arrow2\"\r\n            markerWidth=\"10\"\r\n            markerHeight=\"10\"\r\n            refX=\"9\"\r\n            refY=\"3\"\r\n            orient=\"auto\"\r\n          >\r\n            <polygon points=\"0 0, 10 3, 0 6\" fill=\"#7c2d12\" />\r\n          </marker>\r\n          <marker\r\n            id=\"arrow3\"\r\n            markerWidth=\"10\"\r\n            markerHeight=\"10\"\r\n            refX=\"9\"\r\n            refY=\"3\"\r\n            orient=\"auto\"\r\n          >\r\n            <polygon points=\"0 0, 10 3, 0 6\" fill=\"#059669\" />\r\n          </marker>\r\n        </defs>\r\n      </svg>\r\n    ),\r\n    asia_map: (\r\n      <svg viewBox=\"0 0 900 600\" className=\"w-full h-full\">\r\n        {/* Ocean */}\r\n        <rect width=\"900\" height=\"600\" fill=\"#bae6fd\" />\r\n\r\n        {/* Main Asia landmass */}\r\n        <path\r\n          d=\"M 100 180 L 150 150 L 200 130 L 260 120 L 320 125 L 380 135 L 440 150 L 500 165 L 560 185 L 620 210 L 680 240 L 730 275 L 770 315 L 800 360 L 820 410 L 825 460 L 810 500 L 780 530 L 740 545 L 690 550 L 640 545 L 590 535 L 540 520 L 490 500 L 440 475 L 390 445 L 340 410 L 290 370 L 240 330 L 190 290 L 150 250 L 120 210 Z\r\n              M 730 190 L 765 185 L 795 195 L 815 215 L 825 240 L 820 270 L 800 290 L 770 298 L 740 295 L 715 280 L 705 255 L 710 225 L 720 205 Z\r\n              M 620 480 L 650 475 L 675 485 L 690 505 L 692 530 L 680 550 L 655 560 L 628 555 L 610 535 L 608 510 L 615 490 Z\"\r\n          fill=\"#fef08a\"\r\n          stroke=\"#a16207\"\r\n          strokeWidth=\"2\"\r\n        />\r\n\r\n        {/* Middle East region (lighter) */}\r\n        <path\r\n          d=\"M 100 180 L 150 170 L 200 175 L 240 195 L 260 225 L 265 260 L 255 295 L 230 320 L 195 330 L 160 325 L 130 305 L 110 275 L 100 240 L 102 210 Z\"\r\n          fill=\"#fde047\"\r\n          stroke=\"#a16207\"\r\n          strokeWidth=\"1.5\"\r\n        />\r\n\r\n        {/* South Asia (India) */}\r\n        <path\r\n          d=\"M 340 280 L 375 275 L 405 285 L 425 310 L 435 345 L 430 380 L 410 410 L 380 425 L 350 420 L 325 400 L 315 370 L 318 340 L 328 310 Z\"\r\n          fill=\"#bef264\"\r\n          stroke=\"#365314\"\r\n          strokeWidth=\"1.5\"\r\n        />\r\n\r\n        {/* East Asia (China) */}\r\n        <path\r\n          d=\"M 500 165 L 550 160 L 600 170 L 640 190 L 670 220 L 685 255 L 690 295 L 680 335 L 655 365 L 620 380 L 580 385 L 545 375 L 515 355 L 495 325 L 485 290 L 488 250 L 500 210 L 515 185 Z\"\r\n          fill=\"#fca5a5\"\r\n          stroke=\"#7f1d1d\"\r\n          strokeWidth=\"1.5\"\r\n        />\r\n\r\n        {/* Southeast Asia */}\r\n        <path\r\n          d=\"M 540 400 L 570 395 L 595 405 L 610 425 L 615 450 L 605 475 L 585 490 L 560 492 L 538 482 L 528 460 L 530 435 L 537 415 Z\"\r\n          fill=\"#c084fc\"\r\n          stroke=\"#6b21a8\"\r\n          strokeWidth=\"1.5\"\r\n        />\r\n\r\n        {/* Major cities marked */}\r\n        <circle cx=\"180\" cy=\"250\" r=\"6\" fill=\"#dc2626\" />\r\n        <circle cx=\"380\" cy=\"350\" r=\"6\" fill=\"#dc2626\" />\r\n        <circle cx=\"600\" cy=\"280\" r=\"6\" fill=\"#dc2626\" />\r\n        <circle cx=\"730\" cy=\"220\" r=\"6\" fill=\"#dc2626\" />\r\n        <circle cx=\"575\" cy=\"440\" r=\"6\" fill=\"#dc2626\" />\r\n\r\n        {/* Labels */}\r\n        <text\r\n          x=\"450\"\r\n          y=\"280\"\r\n          fontSize=\"28\"\r\n          fontWeight=\"bold\"\r\n          fill=\"#713f12\"\r\n          textAnchor=\"middle\"\r\n        >\r\n          ASIA\r\n        </text>\r\n        <text x=\"170\" y=\"230\" fontSize=\"14\" fontWeight=\"bold\" fill=\"#78350f\">\r\n          Middle East\r\n        </text>\r\n        <text x=\"360\" y=\"360\" fontSize=\"14\" fontWeight=\"bold\" fill=\"#3f6212\">\r\n          South Asia\r\n        </text>\r\n        <text x=\"600\" y=\"270\" fontSize=\"14\" fontWeight=\"bold\" fill=\"#7f1d1d\">\r\n          East Asia\r\n        </text>\r\n        <text x=\"570\" y=\"445\" fontSize=\"12\" fontWeight=\"bold\" fill=\"#581c87\">\r\n          SE Asia\r\n        </text>\r\n        <text x=\"730\" y=\"210\" fontSize=\"12\" fontWeight=\"bold\" fill=\"#7f1d1d\">\r\n          Japan\r\n        </text>\r\n\r\n        {/* Legend */}\r\n        <rect\r\n          x=\"20\"\r\n          y=\"20\"\r\n          width=\"160\"\r\n          height=\"80\"\r\n          fill=\"white\"\r\n          stroke=\"#1f2937\"\r\n          strokeWidth=\"2\"\r\n          rx=\"6\"\r\n        />\r\n        <text\r\n          x=\"100\"\r\n          y=\"42\"\r\n          fontSize=\"14\"\r\n          fontWeight=\"bold\"\r\n          fill=\"#1f2937\"\r\n          textAnchor=\"middle\"\r\n        >\r\n          Asia Regions\r\n        </text>\r\n        <circle cx=\"35\" cy=\"55\" r=\"4\" fill=\"#dc2626\" />\r\n        <text x=\"50\" y=\"60\" fontSize=\"11\" fill=\"#1f2937\">\r\n          Major Cities\r\n        </text>\r\n        <rect\r\n          x=\"30\"\r\n          y=\"68\"\r\n          width=\"15\"\r\n          height=\"10\"\r\n          fill=\"#fef08a\"\r\n          stroke=\"#a16207\"\r\n        />\r\n        <text x=\"50\" y=\"77\" fontSize=\"11\" fill=\"#1f2937\">\r\n          Continental Asia\r\n        </text>\r\n      </svg>\r\n    ),\r\n    colonial_america: (\r\n      <svg viewBox=\"0 0 700 600\" className=\"w-full h-full\">\r\n        {/* Atlantic Ocean */}\r\n        <rect width=\"700\" height=\"600\" fill=\"#93c5fd\" />\r\n\r\n        {/* 13 Colonies along the coast */}\r\n        <path\r\n          d=\"M 400 100 L 430 95 L 455 100 L 475 110 L 490 125 L 500 145 L 505 170 L 505 200 L 500 230 L 490 260 L 475 290 L 460 320 L 445 350 L 430 380 L 415 410 L 400 440 L 385 465 L 370 485 L 355 500 L 340 510 L 325 515 L 310 512 L 300 500 L 295 480 L 295 455 L 300 425 L 310 395 L 320 365 L 330 335 L 340 305 L 350 275 L 360 245 L 370 215 L 380 185 L 390 155 L 395 125 Z\"\r\n          fill=\"#fca5a5\"\r\n          stroke=\"#dc2626\"\r\n          strokeWidth=\"2.5\"\r\n        />\r\n\r\n        {/* Native American territories (west) */}\r\n        <path\r\n          d=\"M 80 150 L 150 140 L 220 145 L 280 160 L 320 185 L 340 215 L 350 250 L 355 290 L 350 330 L 340 370 L 320 410 L 290 445 L 250 470 L 210 485 L 170 490 L 130 485 L 100 470 L 80 445 L 70 410 L 68 370 L 72 330 L 78 290 L 85 250 L 90 210 L 88 175 Z\"\r\n          fill=\"#bef264\"\r\n          stroke=\"#65a30d\"\r\n          strokeWidth=\"2\"\r\n          opacity=\"0.7\"\r\n        />\r\n\r\n        {/* French territories (north) */}\r\n        <path\r\n          d=\"M 200 50 L 280 45 L 360 55 L 420 70 L 390 100 L 350 110 L 310 115 L 270 110 L 230 95 L 210 75 Z\"\r\n          fill=\"#c084fc\"\r\n          stroke=\"#6b21a8\"\r\n          strokeWidth=\"2\"\r\n          opacity=\"0.6\"\r\n        />\r\n\r\n        {/* Spanish Florida (south) */}\r\n        <path\r\n          d=\"M 300 520 L 350 515 L 400 525 L 440 545 L 460 570 L 455 590 L 425 595 L 385 590 L 345 580 L 315 560 L 305 540 Z\"\r\n          fill=\"#fef08a\"\r\n          stroke=\"#a16207\"\r\n          strokeWidth=\"2\"\r\n          opacity=\"0.7\"\r\n        />\r\n\r\n        {/* Major colonial cities */}\r\n        <circle cx=\"420\" cy=\"140\" r=\"6\" fill=\"#7f1d1d\" />\r\n        <text x=\"435\" y=\"145\" fontSize=\"13\" fontWeight=\"bold\" fill=\"#7f1d1d\">\r\n          Boston\r\n        </text>\r\n\r\n        <circle cx=\"430\" cy=\"220\" r=\"6\" fill=\"#7f1d1d\" />\r\n        <text x=\"445\" y=\"225\" fontSize=\"13\" fontWeight=\"bold\" fill=\"#7f1d1d\">\r\n          New York\r\n        </text>\r\n\r\n        <circle cx=\"425\" cy=\"300\" r=\"6\" fill=\"#7f1d1d\" />\r\n        <text x=\"440\" y=\"305\" fontSize=\"13\" fontWeight=\"bold\" fill=\"#7f1d1d\">\r\n          Philadelphia\r\n        </text>\r\n\r\n        <circle cx=\"405\" cy=\"410\" r=\"6\" fill=\"#7f1d1d\" />\r\n        <text x=\"420\" y=\"415\" fontSize=\"13\" fontWeight=\"bold\" fill=\"#7f1d1d\">\r\n          Charleston\r\n        </text>\r\n\r\n        {/* Regional labels */}\r\n        <text x=\"440\" y=\"180\" fontSize=\"16\" fontWeight=\"bold\" fill=\"#991b1b\">\r\n          New England\r\n        </text>\r\n        <text x=\"450\" y=\"260\" fontSize=\"16\" fontWeight=\"bold\" fill=\"#991b1b\">\r\n          Middle Colonies\r\n        </text>\r\n        <text x=\"440\" y=\"380\" fontSize=\"16\" fontWeight=\"bold\" fill=\"#991b1b\">\r\n          Southern Colonies\r\n        </text>\r\n\r\n        <text x=\"190\" y=\"300\" fontSize=\"18\" fontWeight=\"bold\" fill=\"#3f6212\">\r\n          Native American\r\n        </text>\r\n        <text x=\"210\" y=\"325\" fontSize=\"18\" fontWeight=\"bold\" fill=\"#3f6212\">\r\n          Territories\r\n        </text>\r\n\r\n        <text x=\"290\" y=\"75\" fontSize=\"14\" fontWeight=\"bold\" fill=\"#581c87\">\r\n          French Canada\r\n        </text>\r\n        <text x=\"370\" y=\"565\" fontSize=\"14\" fontWeight=\"bold\" fill=\"#78350f\">\r\n          Spanish Florida\r\n        </text>\r\n\r\n        {/* Legend */}\r\n        <rect\r\n          x=\"20\"\r\n          y=\"20\"\r\n          width=\"200\"\r\n          height=\"140\"\r\n          fill=\"white\"\r\n          stroke=\"#1f2937\"\r\n          strokeWidth=\"2\"\r\n          rx=\"8\"\r\n        />\r\n        <text\r\n          x=\"120\"\r\n          y=\"45\"\r\n          fontSize=\"16\"\r\n          fontWeight=\"bold\"\r\n          fill=\"#1f2937\"\r\n          textAnchor=\"middle\"\r\n        >\r\n          Colonial America\r\n        </text>\r\n        <text\r\n          x=\"120\"\r\n          y=\"65\"\r\n          fontSize=\"11\"\r\n          fill=\"#6b7280\"\r\n          textAnchor=\"middle\"\r\n          fontStyle=\"italic\"\r\n        >\r\n          circa 1770\r\n        </text>\r\n\r\n        <rect\r\n          x=\"30\"\r\n          y=\"75\"\r\n          width=\"20\"\r\n          height=\"15\"\r\n          fill=\"#fca5a5\"\r\n          stroke=\"#dc2626\"\r\n          strokeWidth=\"1.5\"\r\n        />\r\n        <text x=\"58\" y=\"87\" fontSize=\"12\" fill=\"#1f2937\">\r\n          13 British Colonies\r\n        </text>\r\n\r\n        <rect\r\n          x=\"30\"\r\n          y=\"95\"\r\n          width=\"20\"\r\n          height=\"15\"\r\n          fill=\"#bef264\"\r\n          stroke=\"#65a30d\"\r\n          strokeWidth=\"1.5\"\r\n          opacity=\"0.7\"\r\n        />\r\n        <text x=\"58\" y=\"107\" fontSize=\"12\" fill=\"#1f2937\">\r\n          Native Lands\r\n        </text>\r\n\r\n        <rect\r\n          x=\"30\"\r\n          y=\"115\"\r\n          width=\"20\"\r\n          height=\"15\"\r\n          fill=\"#c084fc\"\r\n          stroke=\"#6b21a8\"\r\n          strokeWidth=\"1.5\"\r\n          opacity=\"0.6\"\r\n        />\r\n        <text x=\"58\" y=\"127\" fontSize=\"12\" fill=\"#1f2937\">\r\n          French Territory\r\n        </text>\r\n\r\n        <rect\r\n          x=\"30\"\r\n          y=\"135\"\r\n          width=\"20\"\r\n          height=\"15\"\r\n          fill=\"#fef08a\"\r\n          stroke=\"#a16207\"\r\n          strokeWidth=\"1.5\"\r\n          opacity=\"0.7\"\r\n        />\r\n        <text x=\"58\" y=\"147\" fontSize=\"12\" fill=\"#1f2937\">\r\n          Spanish Territory\r\n        </text>\r\n      </svg>\r\n    ),\r\n    us_time_zones: (\r\n      <svg viewBox=\"0 0 960 500\" className=\"w-full h-full\">\r\n        {/* Background */}\r\n        <rect width=\"960\" height=\"500\" fill=\"#f0fdf4\" />\r\n\r\n        {/* Ocean borders */}\r\n        <rect x=\"0\" y=\"0\" width=\"80\" height=\"500\" fill=\"#bae6fd\" />\r\n        <rect x=\"880\" y=\"0\" width=\"80\" height=\"500\" fill=\"#bae6fd\" />\r\n\r\n        {/* Pacific Time Zone (PST/PDT UTC-8/-7) */}\r\n        <path\r\n          d=\"M 80 120 L 120 100 L 150 95 L 180 100 L 200 115 L 210 140 L 215 170 L 215 210 L 210 250 L 200 290 L 185 330 L 165 365 L 140 390 L 110 405 L 85 400 L 80 370 L 78 330 L 80 290 L 82 250 L 83 210 L 82 170 L 80 140 Z\"\r\n          fill=\"#fecaca\"\r\n          opacity=\"0.8\"\r\n          stroke=\"#dc2626\"\r\n          strokeWidth=\"2\"\r\n        />\r\n\r\n        {/* Mountain Time Zone (MST/MDT UTC-7/-6) */}\r\n        <path\r\n          d=\"M 215 100 L 260 95 L 300 100 L 335 110 L 365 125 L 390 145 L 405 170 L 410 200 L 410 240 L 405 280 L 395 320 L 380 355 L 360 385 L 335 405 L 305 415 L 270 415 L 240 405 L 220 385 L 210 350 L 208 310 L 210 270 L 213 230 L 215 190 L 216 150 L 215 120 Z\"\r\n          fill=\"#fed7aa\"\r\n          opacity=\"0.8\"\r\n          stroke=\"#ea580c\"\r\n          strokeWidth=\"2\"\r\n        />\r\n\r\n        {/* Central Time Zone (CST/CDT UTC-6/-5) */}\r\n        <path\r\n          d=\"M 410 110 L 465 105 L 520 110 L 570 120 L 610 135 L 640 155 L 660 180 L 670 210 L 675 245 L 675 285 L 670 325 L 655 365 L 635 395 L 610 415 L 575 428 L 535 435 L 495 433 L 460 423 L 430 405 L 415 380 L 408 350 L 407 315 L 409 280 L 411 245 L 412 210 L 412 175 L 411 140 Z\"\r\n          fill=\"#fef08a\"\r\n          opacity=\"0.8\"\r\n          stroke=\"#ca8a04\"\r\n          strokeWidth=\"2\"\r\n        />\r\n\r\n        {/* Eastern Time Zone (EST/EDT UTC-5/-4) */}\r\n        <path\r\n          d=\"M 675 130 L 730 120 L 780 125 L 820 140 L 850 165 L 870 200 L 878 240 L 880 285 L 875 330 L 860 370 L 835 400 L 800 420 L 760 430 L 720 432 L 685 422 L 665 400 L 655 370 L 652 335 L 653 300 L 656 265 L 660 230 L 665 195 L 670 160 Z\"\r\n          fill=\"#d9f99d\"\r\n          opacity=\"0.8\"\r\n          stroke=\"#65a30d\"\r\n          strokeWidth=\"2\"\r\n        />\r\n\r\n        {/* Time zone dividing lines */}\r\n        <line\r\n          x1=\"215\"\r\n          y1=\"95\"\r\n          x2=\"215\"\r\n          y2=\"420\"\r\n          stroke=\"#7f1d1d\"\r\n          strokeWidth=\"3\"\r\n          strokeDasharray=\"10,5\"\r\n        />\r\n        <line\r\n          x1=\"410\"\r\n          y1=\"105\"\r\n          x2=\"410\"\r\n          y2=\"435\"\r\n          stroke=\"#7c2d12\"\r\n          strokeWidth=\"3\"\r\n          strokeDasharray=\"10,5\"\r\n        />\r\n        <line\r\n          x1=\"675\"\r\n          y1=\"125\"\r\n          x2=\"675\"\r\n          y2=\"435\"\r\n          stroke=\"#713f12\"\r\n          strokeWidth=\"3\"\r\n          strokeDasharray=\"10,5\"\r\n        />\r\n\r\n        {/* Time zone labels */}\r\n        <text\r\n          x=\"145\"\r\n          y=\"260\"\r\n          fontSize=\"24\"\r\n          fontWeight=\"bold\"\r\n          fill=\"#7f1d1d\"\r\n          textAnchor=\"middle\"\r\n        >\r\n          Pacific\r\n        </text>\r\n        <text\r\n          x=\"145\"\r\n          y=\"290\"\r\n          fontSize=\"16\"\r\n          fontWeight=\"bold\"\r\n          fill=\"#991b1b\"\r\n          textAnchor=\"middle\"\r\n        >\r\n          PST/PDT\r\n        </text>\r\n        <text x=\"145\" y=\"315\" fontSize=\"14\" fill=\"#7f1d1d\" textAnchor=\"middle\">\r\n          UTC-8/-7\r\n        </text>\r\n\r\n        <text\r\n          x=\"310\"\r\n          y=\"260\"\r\n          fontSize=\"24\"\r\n          fontWeight=\"bold\"\r\n          fill=\"#7c2d12\"\r\n          textAnchor=\"middle\"\r\n        >\r\n          Mountain\r\n        </text>\r\n        <text\r\n          x=\"310\"\r\n          y=\"290\"\r\n          fontSize=\"16\"\r\n          fontWeight=\"bold\"\r\n          fill=\"#9a3412\"\r\n          textAnchor=\"middle\"\r\n        >\r\n          MST/MDT\r\n        </text>\r\n        <text x=\"310\" y=\"315\" fontSize=\"14\" fill=\"#7c2d12\" textAnchor=\"middle\">\r\n          UTC-7/-6\r\n        </text>\r\n\r\n        <text\r\n          x=\"540\"\r\n          y=\"260\"\r\n          fontSize=\"24\"\r\n          fontWeight=\"bold\"\r\n          fill=\"#713f12\"\r\n          textAnchor=\"middle\"\r\n        >\r\n          Central\r\n        </text>\r\n        <text\r\n          x=\"540\"\r\n          y=\"290\"\r\n          fontSize=\"16\"\r\n          fontWeight=\"bold\"\r\n          fill=\"#854d0e\"\r\n          textAnchor=\"middle\"\r\n        >\r\n          CST/CDT\r\n        </text>\r\n        <text x=\"540\" y=\"315\" fontSize=\"14\" fill=\"#713f12\" textAnchor=\"middle\">\r\n          UTC-6/-5\r\n        </text>\r\n\r\n        <text\r\n          x=\"770\"\r\n          y=\"260\"\r\n          fontSize=\"24\"\r\n          fontWeight=\"bold\"\r\n          fill=\"#3f6212\"\r\n          textAnchor=\"middle\"\r\n        >\r\n          Eastern\r\n        </text>\r\n        <text\r\n          x=\"770\"\r\n          y=\"290\"\r\n          fontSize=\"16\"\r\n          fontWeight=\"bold\"\r\n          fill=\"#4d7c0f\"\r\n          textAnchor=\"middle\"\r\n        >\r\n          EST/EDT\r\n        </text>\r\n        <text x=\"770\" y=\"315\" fontSize=\"14\" fill=\"#3f6212\" textAnchor=\"middle\">\r\n          UTC-5/-4\r\n        </text>\r\n\r\n        {/* Example cities */}\r\n        <circle cx=\"140\" cy=\"200\" r=\"5\" fill=\"#dc2626\" />\r\n        <text\r\n          x=\"140\"\r\n          y=\"185\"\r\n          fontSize=\"11\"\r\n          fill=\"#7f1d1d\"\r\n          textAnchor=\"middle\"\r\n          fontWeight=\"bold\"\r\n        >\r\n          LA\r\n        </text>\r\n\r\n        <circle cx=\"305\" cy=\"220\" r=\"5\" fill=\"#ea580c\" />\r\n        <text\r\n          x=\"305\"\r\n          y=\"205\"\r\n          fontSize=\"11\"\r\n          fill=\"#7c2d12\"\r\n          textAnchor=\"middle\"\r\n          fontWeight=\"bold\"\r\n        >\r\n          Denver\r\n        </text>\r\n\r\n        <circle cx=\"520\" cy=\"230\" r=\"5\" fill=\"#ca8a04\" />\r\n        <text\r\n          x=\"520\"\r\n          y=\"215\"\r\n          fontSize=\"11\"\r\n          fill=\"#713f12\"\r\n          textAnchor=\"middle\"\r\n          fontWeight=\"bold\"\r\n        >\r\n          Chicago\r\n        </text>\r\n\r\n        <circle cx=\"800\" cy=\"210\" r=\"5\" fill=\"#65a30d\" />\r\n        <text\r\n          x=\"800\"\r\n          y=\"195\"\r\n          fontSize=\"11\"\r\n          fill=\"#3f6212\"\r\n          textAnchor=\"middle\"\r\n          fontWeight=\"bold\"\r\n        >\r\n          NYC\r\n        </text>\r\n\r\n        {/* Title */}\r\n        <rect\r\n          x=\"320\"\r\n          y=\"30\"\r\n          width=\"320\"\r\n          height=\"50\"\r\n          fill=\"white\"\r\n          stroke=\"#1f2937\"\r\n          strokeWidth=\"2\"\r\n          rx=\"8\"\r\n        />\r\n        <text\r\n          x=\"480\"\r\n          y=\"62\"\r\n          fontSize=\"22\"\r\n          fontWeight=\"bold\"\r\n          fill=\"#1f2937\"\r\n          textAnchor=\"middle\"\r\n        >\r\n          United States Time Zones\r\n        </text>\r\n      </svg>\r\n    ),\r\n  };\r\n\r\n  return (\r\n    <div className=\"w-full h-full flex items-center justify-center\">\r\n      {mapContent[imageKey] || (\r\n        <div className=\"text-center\">\r\n          <div className=\"text-6xl mb-3\"></div>\r\n          <div className=\"text-sm text-slate-600 dark:text-slate-400\">\r\n            <p className=\"font-semibold\">{title}</p>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\n/**\r\n * MapExplorer - Geography & Map-Reading Tool\r\n * Allows students to practice interpreting maps like those in GED Social Studies\r\n */\r\nexport default function MapExplorer({ onExit }) {\r\n  const [currentScenarioIndex, setCurrentScenarioIndex] = useState(0);\r\n  const [correctCount, setCorrectCount] = useState(0);\r\n  const [selectedChoice, setSelectedChoice] = useState(null);\r\n  const [feedback, setFeedback] = useState(null);\r\n  const [sessionComplete, setSessionComplete] = useState(false);\r\n\r\n  const currentScenario = MAP_SCENARIOS[currentScenarioIndex];\r\n\r\n  const handleChoiceSelect = (choiceId) => {\r\n    const choice = currentScenario.choices.find((c) => c.id === choiceId);\r\n    setSelectedChoice(choiceId);\r\n\r\n    const isCorrect = choice.isCorrect;\r\n    setFeedback({\r\n      isCorrect,\r\n      correctChoiceId: currentScenario.choices.find((c) => c.isCorrect).id,\r\n    });\r\n\r\n    if (isCorrect) {\r\n      setCorrectCount(correctCount + 1);\r\n    }\r\n  };\r\n\r\n  const handleNextScenario = () => {\r\n    if (currentScenarioIndex < MAP_SCENARIOS.length - 1) {\r\n      setCurrentScenarioIndex(currentScenarioIndex + 1);\r\n      setSelectedChoice(null);\r\n      setFeedback(null);\r\n    } else {\r\n      // End of cycle - show summary\r\n      setSessionComplete(true);\r\n    }\r\n  };\r\n\r\n  const handleResetSession = () => {\r\n    setCurrentScenarioIndex(0);\r\n    setCorrectCount(0);\r\n    setSelectedChoice(null);\r\n    setFeedback(null);\r\n    setSessionComplete(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"fade-in min-h-screen bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100\">\r\n      <div className=\"max-w-6xl mx-auto p-6 space-y-6\">\r\n        {/* Header */}\r\n        <div className=\"flex items-center justify-between border-b border-slate-200 dark:border-slate-700 pb-4\">\r\n          <button\r\n            onClick={onExit}\r\n            className=\"flex items-center gap-2 text-sm font-semibold text-sky-600 hover:text-sky-700 dark:text-sky-400 dark:hover:text-sky-300\"\r\n          >\r\n            <span> Back</span>\r\n          </button>\r\n          <h1 className=\"text-2xl font-bold\"> Map Explorer</h1>\r\n          <div className=\"w-20 text-right text-sm\">\r\n            <div className=\"text-xs text-slate-600 dark:text-slate-400\">\r\n              {currentScenarioIndex + 1}/{MAP_SCENARIOS.length}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Session Summary */}\r\n        {sessionComplete && (\r\n          <div className=\"bg-emerald-50 dark:bg-emerald-900/20 border border-emerald-300 dark:border-emerald-700 rounded-xl p-6 text-center\">\r\n            <h2 className=\"text-xl font-bold text-emerald-900 dark:text-emerald-200 mb-2\">\r\n               Round Complete!\r\n            </h2>\r\n            <p className=\"text-lg text-emerald-800 dark:text-emerald-300 mb-4\">\r\n              You answered{' '}\r\n              <strong>\r\n                {correctCount} out of {MAP_SCENARIOS.length}\r\n              </strong>{' '}\r\n              correctly.\r\n            </p>\r\n            <button\r\n              onClick={handleResetSession}\r\n              className=\"px-6 py-2 rounded-lg bg-emerald-600 hover:bg-emerald-700 text-white font-semibold transition\"\r\n            >\r\n              Start New Round\r\n            </button>\r\n          </div>\r\n        )}\r\n\r\n        {!sessionComplete && (\r\n          <div className=\"grid grid-cols-1 lg:grid-cols-3 gap-6\">\r\n            {/* Map Panel (Left) */}\r\n            <div className=\"lg:col-span-1 bg-white dark:bg-slate-800 rounded-xl p-4 border border-slate-200 dark:border-slate-700 min-h-64\">\r\n              <MapVisualizer\r\n                imageKey={currentScenario.imageKey}\r\n                title={currentScenario.title}\r\n              />\r\n            </div>\r\n\r\n            {/* Question Panel (Right) */}\r\n            <div className=\"lg:col-span-2 space-y-6\">\r\n              {/* Scenario Title & Tags */}\r\n              <div>\r\n                <div className=\"flex items-center gap-3 mb-2\">\r\n                  <h2 className=\"text-xl font-bold\">{currentScenario.title}</h2>\r\n                  <span\r\n                    className={`text-xs px-3 py-1 rounded-full font-semibold ${\r\n                      currentScenario.difficulty === 'easy'\r\n                        ? 'bg-emerald-100 dark:bg-emerald-900/40 text-emerald-800 dark:text-emerald-200'\r\n                        : currentScenario.difficulty === 'medium'\r\n                        ? 'bg-yellow-100 dark:bg-yellow-900/40 text-yellow-800 dark:text-yellow-200'\r\n                        : 'bg-red-100 dark:bg-red-900/40 text-red-800 dark:text-red-200'\r\n                    }`}\r\n                  >\r\n                    {currentScenario.difficulty.charAt(0).toUpperCase() +\r\n                      currentScenario.difficulty.slice(1)}\r\n                  </span>\r\n                </div>\r\n                <div className=\"flex flex-wrap gap-2 mb-4\">\r\n                  {currentScenario.tags.map((tag) => (\r\n                    <span\r\n                      key={tag}\r\n                      className=\"text-xs bg-slate-200 dark:bg-slate-700 px-2 py-1 rounded text-slate-700 dark:text-slate-300\"\r\n                    >\r\n                      {tag}\r\n                    </span>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n\r\n              {/* Prompt */}\r\n              <div className=\"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700 rounded-lg p-4\">\r\n                <p className=\"text-lg font-semibold text-slate-900 dark:text-slate-100\">\r\n                  {currentScenario.prompt}\r\n                </p>\r\n              </div>\r\n\r\n              {/* Choices */}\r\n              <div className=\"space-y-3\">\r\n                {currentScenario.choices.map((choice) => (\r\n                  <button\r\n                    key={choice.id}\r\n                    onClick={() => handleChoiceSelect(choice.id)}\r\n                    disabled={feedback !== null}\r\n                    className={`w-full text-left p-4 rounded-lg border-2 transition font-semibold ${\r\n                      selectedChoice === choice.id\r\n                        ? feedback?.isCorrect\r\n                          ? 'border-emerald-500 bg-emerald-50 dark:bg-emerald-900/20 text-emerald-900 dark:text-emerald-100'\r\n                          : 'border-red-500 bg-red-50 dark:bg-red-900/20 text-red-900 dark:text-red-100'\r\n                        : feedback && feedback.correctChoiceId === choice.id\r\n                        ? 'border-emerald-500 bg-emerald-50 dark:bg-emerald-900/20 text-emerald-900 dark:text-emerald-100'\r\n                        : 'border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-600 text-slate-900 dark:text-slate-100 hover:bg-slate-50 dark:hover:bg-slate-500 cursor-pointer'\r\n                    } ${feedback !== null ? 'cursor-default' : ''}`}\r\n                  >\r\n                    <span className=\"font-bold text-lg mr-3\">{choice.id}.</span>\r\n                    {choice.label}\r\n                  </button>\r\n                ))}\r\n              </div>\r\n\r\n              {/* Feedback */}\r\n              {feedback && (\r\n                <div\r\n                  className={`rounded-lg p-4 border ${\r\n                    feedback.isCorrect\r\n                      ? 'bg-emerald-50 dark:bg-emerald-900/20 border-emerald-300 dark:border-emerald-600'\r\n                      : 'bg-red-50 dark:bg-red-900/20 border-red-300 dark:border-red-600'\r\n                  }`}\r\n                >\r\n                  <p\r\n                    className={`font-bold mb-2 ${\r\n                      feedback.isCorrect\r\n                        ? 'text-emerald-900 dark:text-emerald-200'\r\n                        : 'text-red-900 dark:text-red-200'\r\n                    }`}\r\n                  >\r\n                    {feedback.isCorrect ? ' Correct!' : ' Not quite'}\r\n                  </p>\r\n                  <p className=\"text-sm text-slate-700 dark:text-slate-300\">\r\n                    {currentScenario.explanation}\r\n                  </p>\r\n                </div>\r\n              )}\r\n\r\n              {/* Next Button */}\r\n              {feedback && (\r\n                <button\r\n                  onClick={handleNextScenario}\r\n                  className=\"w-full px-6 py-3 rounded-lg bg-sky-600 hover:bg-sky-700 dark:bg-sky-500 dark:hover:bg-sky-600 text-white font-semibold transition\"\r\n                >\r\n                  {currentScenarioIndex === MAP_SCENARIOS.length - 1\r\n                    ? 'See Results'\r\n                    : 'Next Map'}\r\n                </button>\r\n              )}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","/**\r\n * civics_scenarios.js - Civics Reasoning Lab data\r\n * Government structure, branches, and checks-and-balances scenarios\r\n */\r\n\r\nexport const CIVICS_SCENARIOS = [\r\n  {\r\n    id: 'veto_1',\r\n    difficulty: 'easy',\r\n    tags: ['federal', 'executive', 'checks_and_balances'],\r\n    text: 'The President refuses to sign a bill that Congress passed. What branch of government is this power from?',\r\n    correctBranch: 'executive',\r\n    correctLevel: 'federal',\r\n    correctPowerType: 'check_on_legislative',\r\n    explanation:\r\n      'The President (executive branch) can veto legislation passed by Congress. This is a check on the legislative branch, a key part of our system of checks and balances.',\r\n  },\r\n  {\r\n    id: 'judicial_review_1',\r\n    difficulty: 'medium',\r\n    tags: ['federal', 'judicial', 'judicial_review'],\r\n    text: 'The Supreme Court rules that a law passed by Congress is unconstitutional.',\r\n    correctBranch: 'judicial',\r\n    correctLevel: 'federal',\r\n    correctPowerType: 'judicial_review',\r\n    explanation:\r\n      'The judicial branch uses judicial review to interpret laws and strike down those that violate the Constitution. This power allows the courts to check both the legislative and executive branches.',\r\n  },\r\n  {\r\n    id: 'senate_ratify_treaty',\r\n    difficulty: 'easy',\r\n    tags: ['federal', 'legislative', 'checks_and_balances'],\r\n    text: 'The Senate votes to approve a treaty signed by the President.',\r\n    correctBranch: 'legislative',\r\n    correctLevel: 'federal',\r\n    correctPowerType: 'check_on_executive',\r\n    explanation:\r\n      'The Senate (part of Congress) must ratify international treaties signed by the President. This ensures that the executive cannot unilaterally commit the nation to international agreements.',\r\n  },\r\n  {\r\n    id: 'impeachment_1',\r\n    difficulty: 'medium',\r\n    tags: ['federal', 'legislative', 'checks_and_balances'],\r\n    text: 'The House of Representatives votes to impeach a federal judge.',\r\n    correctBranch: 'legislative',\r\n    correctLevel: 'federal',\r\n    correctPowerType: 'check_on_judicial',\r\n    explanation:\r\n      'Congress can impeach federal judges (and other officials) for \"high crimes and misdemeanors.\" The House brings charges, and the Senate conducts the trial. This is the legislative branch checking the judicial branch.',\r\n  },\r\n  {\r\n    id: 'state_governor_veto',\r\n    difficulty: 'medium',\r\n    tags: ['state', 'executive', 'checks_and_balances'],\r\n    text: 'A state governor vetoes a bill passed by the state legislature.',\r\n    correctBranch: 'executive',\r\n    correctLevel: 'state',\r\n    correctPowerType: 'check_on_legislative',\r\n    explanation:\r\n      'State governors have the same veto power that the President has at the federal level. This allows the state executive to block legislation from the state legislature.',\r\n  },\r\n  {\r\n    id: 'local_school_board_1',\r\n    difficulty: 'easy',\r\n    tags: ['local', 'legislative', 'education'],\r\n    text: 'The local school board votes to approve a new curriculum for all elementary schools.',\r\n    correctBranch: 'legislative',\r\n    correctLevel: 'local',\r\n    correctPowerType: 'passes_laws',\r\n    explanation:\r\n      'School boards are local legislative bodies that make decisions about education. They pass policies and regulations governing public schools in their district.',\r\n  },\r\n  {\r\n    id: 'city_council_budget',\r\n    difficulty: 'easy',\r\n    tags: ['local', 'legislative', 'budget'],\r\n    text: 'The city council approves the municipal budget for the next fiscal year.',\r\n    correctBranch: 'legislative',\r\n    correctLevel: 'local',\r\n    correctPowerType: 'passes_laws',\r\n    explanation:\r\n      'City councils are local legislative bodies that control municipal budgets and pass local ordinances. They represent the interests of citizens in their city or town.',\r\n  },\r\n  {\r\n    id: 'senate_confirm_judge',\r\n    difficulty: 'medium',\r\n    tags: ['federal', 'legislative', 'checks_and_balances'],\r\n    text: 'The Senate votes to confirm a Supreme Court justice nominated by the President.',\r\n    correctBranch: 'legislative',\r\n    correctLevel: 'federal',\r\n    correctPowerType: 'check_on_executive',\r\n    explanation:\r\n      'The President nominates Supreme Court justices, but the Senate must confirm them. This ensures that the judiciary is not controlled solely by the executive branch.',\r\n  },\r\n  {\r\n    id: 'state_tax_law',\r\n    difficulty: 'easy',\r\n    tags: ['state', 'legislative', 'taxes'],\r\n    text: 'The state legislature passes a new income tax law.',\r\n    correctBranch: 'legislative',\r\n    correctLevel: 'state',\r\n    correctPowerType: 'passes_laws',\r\n    explanation:\r\n      'State legislatures have the power to levy taxes within their state. These taxes fund state services like education, infrastructure, and public safety.',\r\n  },\r\n  {\r\n    id: 'fed_reserve_interest_rates',\r\n    difficulty: 'hard',\r\n    tags: ['federal', 'executive', 'economic'],\r\n    text: 'The Federal Reserve Board adjusts interest rates to control inflation.',\r\n    correctBranch: 'executive',\r\n    correctLevel: 'federal',\r\n    correctPowerType: 'enforces_laws',\r\n    explanation:\r\n      'The Federal Reserve, part of the executive branch, controls monetary policy by adjusting interest rates. This is separate from Congress and is designed to regulate the economy and manage inflation.',\r\n  },\r\n  {\r\n    id: 'constitutional_amendment',\r\n    difficulty: 'hard',\r\n    tags: ['federal', 'legislative', 'constitution'],\r\n    text: 'Congress proposes an amendment to the Constitution, and the states vote to ratify it.',\r\n    correctBranch: 'legislative',\r\n    correctLevel: 'federal',\r\n    correctPowerType: 'check_on_constitution',\r\n    explanation:\r\n      'Amending the Constitution requires a two-thirds vote in both houses of Congress, followed by ratification by three-fourths of the states. This is the most fundamental power of the legislative branch.',\r\n  },\r\n  {\r\n    id: 'state_court_ruling',\r\n    difficulty: 'medium',\r\n    tags: ['state', 'judicial', 'judicial_review'],\r\n    text: 'A state supreme court rules that a state law violates the state constitution.',\r\n    correctBranch: 'judicial',\r\n    correctLevel: 'state',\r\n    correctPowerType: 'judicial_review',\r\n    explanation:\r\n      'State courts have the power to interpret state laws and constitutions. Like federal courts, they can strike down laws they find unconstitutional.',\r\n  },\r\n  {\r\n    id: 'mayor_appoints_police_chief',\r\n    difficulty: 'easy',\r\n    tags: ['local', 'executive', 'appointments'],\r\n    text: 'The mayor appoints a new police chief to run the city police department.',\r\n    correctBranch: 'executive',\r\n    correctLevel: 'local',\r\n    correctPowerType: 'enforces_laws',\r\n    explanation:\r\n      'Mayors are the chief executives of cities and towns. They appoint officials to manage city departments and enforce local laws and ordinances.',\r\n  },\r\n];\r\n","import React, { useState } from 'react';\r\nimport { CIVICS_SCENARIOS } from '../data/social/civics_scenarios.js';\r\n\r\nconst civicsStyles = `\r\n  .civics-text {\r\n    color: #0f172a !important;\r\n  }\r\n  .dark .civics-text {\r\n    color: #e2e8f0 !important;\r\n  }\r\n`;\r\n\r\n/**\r\n * CivicsReasoningLab - Branches & Levels of Government Tool\r\n * Students identify the correct branch, level, and power type for government scenarios\r\n */\r\nexport default function CivicsReasoningLab({ onExit }) {\r\n  const [currentScenarioIndex, setCurrentScenarioIndex] = useState(0);\r\n  const [correctCount, setCorrectCount] = useState(0);\r\n  const [selectedBranch, setSelectedBranch] = useState(null);\r\n  const [selectedLevel, setSelectedLevel] = useState(null);\r\n  const [selectedPowerType, setSelectedPowerType] = useState(null);\r\n  const [feedback, setFeedback] = useState(null);\r\n  const [sessionComplete, setSessionComplete] = useState(false);\r\n\r\n  const currentScenario = CIVICS_SCENARIOS[currentScenarioIndex];\r\n\r\n  const BRANCH_OPTIONS = [\r\n    { id: 'legislative', label: 'Legislative' },\r\n    { id: 'executive', label: 'Executive' },\r\n    { id: 'judicial', label: 'Judicial' },\r\n  ];\r\n\r\n  const LEVEL_OPTIONS = [\r\n    { id: 'federal', label: 'Federal' },\r\n    { id: 'state', label: 'State' },\r\n    { id: 'local', label: 'Local' },\r\n  ];\r\n\r\n  const POWER_TYPE_OPTIONS = [\r\n    { id: 'passes_laws', label: 'Passes Laws' },\r\n    { id: 'enforces_laws', label: 'Enforces Laws' },\r\n    { id: 'interprets_laws', label: 'Interprets Laws' },\r\n    { id: 'check_on_legislative', label: 'Check on Legislative' },\r\n    { id: 'check_on_executive', label: 'Check on Executive' },\r\n    { id: 'check_on_judicial', label: 'Check on Judicial' },\r\n    { id: 'judicial_review', label: 'Judicial Review' },\r\n  ];\r\n\r\n  const handleCheckAnswer = () => {\r\n    const isCorrect =\r\n      selectedBranch === currentScenario.correctBranch &&\r\n      selectedLevel === currentScenario.correctLevel &&\r\n      selectedPowerType === currentScenario.correctPowerType;\r\n\r\n    const partialCorrect = {\r\n      branch: selectedBranch === currentScenario.correctBranch,\r\n      level: selectedLevel === currentScenario.correctLevel,\r\n      powerType: selectedPowerType === currentScenario.correctPowerType,\r\n    };\r\n\r\n    setFeedback({\r\n      isCorrect,\r\n      partialCorrect,\r\n    });\r\n\r\n    if (isCorrect) {\r\n      setCorrectCount(correctCount + 1);\r\n    }\r\n  };\r\n\r\n  const handleNextScenario = () => {\r\n    if (currentScenarioIndex < CIVICS_SCENARIOS.length - 1) {\r\n      setCurrentScenarioIndex(currentScenarioIndex + 1);\r\n      setSelectedBranch(null);\r\n      setSelectedLevel(null);\r\n      setSelectedPowerType(null);\r\n      setFeedback(null);\r\n    } else {\r\n      setSessionComplete(true);\r\n    }\r\n  };\r\n\r\n  const handleResetSession = () => {\r\n    setCurrentScenarioIndex(0);\r\n    setCorrectCount(0);\r\n    setSelectedBranch(null);\r\n    setSelectedLevel(null);\r\n    setSelectedPowerType(null);\r\n    setFeedback(null);\r\n    setSessionComplete(false);\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <style>{civicsStyles}</style>\r\n      <div\r\n        className=\"fade-in min-h-screen civics-text\"\r\n        style={{ backgroundColor: '#ffffff' }}\r\n      >\r\n        <div className=\"max-w-4xl mx-auto p-6 space-y-6\">\r\n          {/* Header */}\r\n          <div className=\"flex items-center justify-between border-b border-slate-200 dark:border-slate-700 pb-4\">\r\n            <button\r\n              onClick={onExit}\r\n              className=\"flex items-center gap-2 text-sm font-semibold text-sky-600 hover:text-sky-700 dark:text-sky-400 dark:hover:text-sky-300\"\r\n            >\r\n              <span> Back</span>\r\n            </button>\r\n            <h1 className=\"text-2xl font-bold civics-text\">\r\n               Civics Reasoning Lab\r\n            </h1>\r\n            <div className=\"w-20 text-right text-sm\">\r\n              <div className=\"text-xs text-slate-600 dark:text-slate-400\">\r\n                {currentScenarioIndex + 1}/{CIVICS_SCENARIOS.length}\r\n              </div>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Session Summary */}\r\n          {sessionComplete && (\r\n            <div className=\"bg-emerald-50 dark:bg-emerald-900/20 border border-emerald-300 dark:border-emerald-700 rounded-xl p-6 text-center\">\r\n              <h2 className=\"text-xl font-bold text-emerald-900 dark:text-emerald-200 mb-2\">\r\n                 Round Complete!\r\n              </h2>\r\n              <p className=\"text-lg text-emerald-800 dark:text-emerald-300 mb-4\">\r\n                You answered{' '}\r\n                <strong>\r\n                  {correctCount} out of {CIVICS_SCENARIOS.length}\r\n                </strong>{' '}\r\n                correctly.\r\n              </p>\r\n              <button\r\n                onClick={handleResetSession}\r\n                className=\"px-6 py-2 rounded-lg bg-emerald-600 hover:bg-emerald-700 text-white font-semibold transition\"\r\n              >\r\n                Start New Round\r\n              </button>\r\n            </div>\r\n          )}\r\n\r\n          {!sessionComplete && (\r\n            <div className=\"space-y-6\">\r\n              {/* Scenario Header */}\r\n              <div>\r\n                <div className=\"flex items-center gap-3 mb-2\">\r\n                  <span\r\n                    className={`text-xs px-3 py-1 rounded-full font-semibold ${\r\n                      currentScenario.difficulty === 'easy'\r\n                        ? 'bg-emerald-100 dark:bg-emerald-900/40 text-emerald-800 dark:text-emerald-200'\r\n                        : currentScenario.difficulty === 'medium'\r\n                        ? 'bg-yellow-100 dark:bg-yellow-900/40 text-yellow-800 dark:text-yellow-200'\r\n                        : 'bg-red-100 dark:bg-red-900/40 text-red-800 dark:text-red-200'\r\n                    }`}\r\n                  >\r\n                    {currentScenario.difficulty.charAt(0).toUpperCase() +\r\n                      currentScenario.difficulty.slice(1)}\r\n                  </span>\r\n                </div>\r\n                <div className=\"flex flex-wrap gap-2 mb-4\">\r\n                  {currentScenario.tags.map((tag) => (\r\n                    <span\r\n                      key={tag}\r\n                      className=\"text-xs bg-slate-200 dark:bg-slate-700 px-2 py-1 rounded text-slate-700 dark:text-slate-300\"\r\n                    >\r\n                      {tag}\r\n                    </span>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n\r\n              {/* Scenario Text */}\r\n              <div className=\"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700 rounded-lg p-6\">\r\n                <p className=\"text-lg font-semibold civics-text\">\r\n                  {currentScenario.text}\r\n                </p>\r\n              </div>\r\n\r\n              {/* Answer Selection Grid */}\r\n              <div className=\"grid grid-cols-1 md:grid-cols-3 gap-6\">\r\n                {/* Branch Selection */}\r\n                <div className=\"space-y-3\">\r\n                  <h3 className=\"font-bold civics-text\">\r\n                    Branch of Government\r\n                  </h3>\r\n                  {BRANCH_OPTIONS.map((option) => (\r\n                    <button\r\n                      key={option.id}\r\n                      onClick={() => setSelectedBranch(option.id)}\r\n                      disabled={feedback !== null}\r\n                      className={`w-full text-left p-3 rounded-lg border-2 transition font-semibold ${\r\n                        selectedBranch === option.id\r\n                          ? feedback\r\n                            ? feedback.partialCorrect.branch\r\n                              ? 'border-emerald-500 bg-emerald-50 dark:bg-emerald-900/20 text-emerald-900 dark:text-emerald-100'\r\n                              : 'border-red-500 bg-red-50 dark:bg-red-900/20 text-red-900 dark:text-red-100'\r\n                            : 'border-blue-500 bg-blue-50 dark:bg-blue-900/20 text-blue-900 dark:text-blue-100'\r\n                          : feedback?.partialCorrect?.branch &&\r\n                            option.id === currentScenario.correctBranch\r\n                          ? 'border-emerald-500 bg-emerald-50 dark:bg-emerald-900/20 text-emerald-900 dark:text-emerald-100'\r\n                          : 'border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-600 civics-text hover:bg-slate-50 dark:hover:bg-slate-500 cursor-pointer'\r\n                      } ${feedback !== null ? 'cursor-default' : ''}`}\r\n                    >\r\n                      {option.label}\r\n                    </button>\r\n                  ))}\r\n                </div>\r\n\r\n                {/* Level Selection */}\r\n                <div className=\"space-y-3\">\r\n                  <h3 className=\"font-bold civics-text\">Level of Government</h3>\r\n                  {LEVEL_OPTIONS.map((option) => (\r\n                    <button\r\n                      key={option.id}\r\n                      onClick={() => setSelectedLevel(option.id)}\r\n                      disabled={feedback !== null}\r\n                      className={`w-full text-left p-3 rounded-lg border-2 transition font-semibold ${\r\n                        selectedLevel === option.id\r\n                          ? feedback\r\n                            ? feedback.partialCorrect.level\r\n                              ? 'border-emerald-500 bg-emerald-50 dark:bg-emerald-900/20 text-emerald-900 dark:text-emerald-100'\r\n                              : 'border-red-500 bg-red-50 dark:bg-red-900/20 text-red-900 dark:text-red-100'\r\n                            : 'border-blue-500 bg-blue-50 dark:bg-blue-900/20 text-blue-900 dark:text-blue-100'\r\n                          : feedback?.partialCorrect?.level &&\r\n                            option.id === currentScenario.correctLevel\r\n                          ? 'border-emerald-500 bg-emerald-50 dark:bg-emerald-900/20 text-emerald-900 dark:text-emerald-100'\r\n                          : 'border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-600 civics-text hover:bg-slate-50 dark:hover:bg-slate-500 cursor-pointer'\r\n                      } ${feedback !== null ? 'cursor-default' : ''}`}\r\n                    >\r\n                      {option.label}\r\n                    </button>\r\n                  ))}\r\n                </div>\r\n\r\n                {/* Power Type Selection */}\r\n                <div className=\"space-y-3\">\r\n                  <h3 className=\"font-bold civics-text\">Power Type</h3>\r\n                  {POWER_TYPE_OPTIONS.map((option) => (\r\n                    <button\r\n                      key={option.id}\r\n                      onClick={() => setSelectedPowerType(option.id)}\r\n                      disabled={feedback !== null}\r\n                      className={`w-full text-left p-3 rounded-lg border-2 transition font-semibold text-sm ${\r\n                        selectedPowerType === option.id\r\n                          ? feedback\r\n                            ? feedback.partialCorrect.powerType\r\n                              ? 'border-emerald-500 bg-emerald-50 dark:bg-emerald-900/20 text-emerald-900 dark:text-emerald-100'\r\n                              : 'border-red-500 bg-red-50 dark:bg-red-900/20 text-red-900 dark:text-red-100'\r\n                            : 'border-blue-500 bg-blue-50 dark:bg-blue-900/20 text-blue-900 dark:text-blue-100'\r\n                          : feedback?.partialCorrect?.powerType &&\r\n                            option.id === currentScenario.correctPowerType\r\n                          ? 'border-emerald-500 bg-emerald-50 dark:bg-emerald-900/20 text-emerald-900 dark:text-emerald-100'\r\n                          : 'border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-600 civics-text hover:bg-slate-50 dark:hover:bg-slate-500 cursor-pointer'\r\n                      } ${feedback !== null ? 'cursor-default' : ''}`}\r\n                    >\r\n                      {option.label}\r\n                    </button>\r\n                  ))}\r\n                </div>\r\n              </div>\r\n\r\n              {/* Check Answer / Feedback */}\r\n              <div className=\"space-y-4\">\r\n                {!feedback ? (\r\n                  <button\r\n                    onClick={handleCheckAnswer}\r\n                    disabled={\r\n                      !selectedBranch || !selectedLevel || !selectedPowerType\r\n                    }\r\n                    className=\"w-full px-6 py-3 rounded-lg bg-sky-600 hover:bg-sky-700 disabled:bg-slate-400 disabled:cursor-not-allowed dark:bg-sky-500 dark:hover:bg-sky-600 dark:disabled:bg-slate-600 text-white font-semibold transition\"\r\n                  >\r\n                    Check My Answer\r\n                  </button>\r\n                ) : (\r\n                  <>\r\n                    <div\r\n                      className={`rounded-lg p-4 border ${\r\n                        feedback.isCorrect\r\n                          ? 'bg-emerald-50 dark:bg-emerald-900/20 border-emerald-300 dark:border-emerald-600'\r\n                          : 'bg-yellow-50 dark:bg-yellow-900/20 border-yellow-300 dark:border-yellow-600'\r\n                      }`}\r\n                    >\r\n                      <p\r\n                        className={`font-bold mb-3 ${\r\n                          feedback.isCorrect\r\n                            ? 'text-emerald-900 dark:text-emerald-200'\r\n                            : 'text-yellow-900 dark:text-yellow-200'\r\n                        }`}\r\n                      >\r\n                        {feedback.isCorrect\r\n                          ? ' Perfect!'\r\n                          : ' Review Your Answers'}\r\n                      </p>\r\n\r\n                      {!feedback.isCorrect && (\r\n                        <div className=\"space-y-2 text-sm text-slate-700 dark:text-slate-300 mb-3\">\r\n                          <div className=\"flex items-center gap-2\">\r\n                            <span>\r\n                              {feedback.partialCorrect.branch ? '' : ''}{' '}\r\n                              Branch:{' '}\r\n                              <strong>{currentScenario.correctBranch}</strong>\r\n                            </span>\r\n                          </div>\r\n                          <div className=\"flex items-center gap-2\">\r\n                            <span>\r\n                              {feedback.partialCorrect.level ? '' : ''}{' '}\r\n                              Level:{' '}\r\n                              <strong>{currentScenario.correctLevel}</strong>\r\n                            </span>\r\n                          </div>\r\n                          <div className=\"flex items-center gap-2\">\r\n                            <span>\r\n                              {feedback.partialCorrect.powerType ? '' : ''}{' '}\r\n                              Power Type:{' '}\r\n                              <strong>\r\n                                {currentScenario.correctPowerType}\r\n                              </strong>\r\n                            </span>\r\n                          </div>\r\n                        </div>\r\n                      )}\r\n\r\n                      <p className=\"text-sm text-slate-700 dark:text-slate-300\">\r\n                        {currentScenario.explanation}\r\n                      </p>\r\n                    </div>\r\n\r\n                    <button\r\n                      onClick={handleNextScenario}\r\n                      className=\"w-full px-6 py-3 rounded-lg bg-sky-600 hover:bg-sky-700 dark:bg-sky-500 dark:hover:bg-sky-600 text-white font-semibold transition\"\r\n                    >\r\n                      {currentScenarioIndex === CIVICS_SCENARIOS.length - 1\r\n                        ? 'See Results'\r\n                        : 'Next Scenario'}\r\n                    </button>\r\n                  </>\r\n                )}\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","/**\r\n * history_timeline_sets.js - History Timeline Builder data\r\n * Chronological ordering and cause-effect scenarios\r\n */\r\n\r\nexport const HISTORY_TIMELINE_SETS = [\r\n  {\r\n    id: 'civil_rights_basic',\r\n    difficulty: 'medium',\r\n    tags: ['us_history', 'civil_rights', '20th_century'],\r\n    title: 'Key Civil Rights Events',\r\n    events: [\r\n      {\r\n        id: 'brown_v_board',\r\n        label: 'Brown v. Board of Education decision',\r\n        year: 1954,\r\n      },\r\n      {\r\n        id: 'montgomery_bus_boycott',\r\n        label: 'Montgomery Bus Boycott',\r\n        year: 1955,\r\n      },\r\n      { id: 'civil_rights_act', label: 'Civil Rights Act passed', year: 1964 },\r\n      {\r\n        id: 'voting_rights_act',\r\n        label: 'Voting Rights Act passed',\r\n        year: 1965,\r\n      },\r\n    ],\r\n    explanation:\r\n      'These events show the progression of the Civil Rights Movement. They demonstrate how legal challenges, grassroots activism, and legislative action worked together to advance racial equality.',\r\n  },\r\n  {\r\n    id: 'american_independence',\r\n    difficulty: 'easy',\r\n    tags: ['us_history', 'colonial', 'revolution'],\r\n    title: 'Path to American Independence',\r\n    events: [\r\n      {\r\n        id: 'declaration_independence',\r\n        label: 'Declaration of Independence signed',\r\n        year: 1776,\r\n      },\r\n      {\r\n        id: 'boston_tea_party',\r\n        label: 'Boston Tea Party (protest)',\r\n        year: 1773,\r\n      },\r\n      {\r\n        id: 'revolutionary_war_starts',\r\n        label: 'American Revolutionary War begins',\r\n        year: 1775,\r\n      },\r\n      {\r\n        id: 'treaty_paris',\r\n        label: 'Treaty of Paris (British recognize independence)',\r\n        year: 1783,\r\n      },\r\n    ],\r\n    explanation:\r\n      'These events trace the timeline from colonial grievances through the Revolutionary War to formal independence. Understanding this sequence is key to understanding American origins.',\r\n  },\r\n  {\r\n    id: 'westward_expansion',\r\n    difficulty: 'medium',\r\n    tags: ['us_history', 'expansion', '19th_century'],\r\n    title: 'Westward Expansion Timeline',\r\n    events: [\r\n      { id: 'louisiana_purchase', label: 'Louisiana Purchase', year: 1803 },\r\n      { id: 'lewis_clark', label: 'Lewis & Clark Expedition', year: 1804 },\r\n      {\r\n        id: 'indian_removal_act',\r\n        label: 'Indian Removal Act (forced relocation)',\r\n        year: 1830,\r\n      },\r\n      {\r\n        id: 'homestead_act',\r\n        label: 'Homestead Act (land grants to settlers)',\r\n        year: 1862,\r\n      },\r\n    ],\r\n    explanation:\r\n      'This timeline shows the expansion of the United States westward, including its effects on Native American populations. This period fundamentally shaped the geographic and political contours of the modern US.',\r\n  },\r\n  {\r\n    id: 'world_war_2',\r\n    difficulty: 'medium',\r\n    tags: ['world_history', '20th_century', 'war'],\r\n    title: 'World War II Key Events',\r\n    events: [\r\n      {\r\n        id: 'germany_invades_poland',\r\n        label: 'Germany invades Poland',\r\n        year: 1939,\r\n      },\r\n      {\r\n        id: 'pearl_harbor',\r\n        label: 'Attack on Pearl Harbor (US enters war)',\r\n        year: 1941,\r\n      },\r\n      { id: 'd_day', label: 'D-Day invasion of Normandy', year: 1944 },\r\n      {\r\n        id: 'japan_surrender',\r\n        label: 'Japan surrenders (war ends)',\r\n        year: 1945,\r\n      },\r\n    ],\r\n    explanation:\r\n      \"These events outline World War II's major turning points, from initial Axis aggression to the eventual Allied victory. This war reshaped the global political order.\",\r\n  },\r\n  {\r\n    id: 'great_depression_new_deal',\r\n    difficulty: 'hard',\r\n    tags: ['us_history', 'economy', '20th_century'],\r\n    title: 'Great Depression & New Deal Era',\r\n    events: [\r\n      {\r\n        id: 'stock_market_crash',\r\n        label: 'Stock Market Crash (Great Depression begins)',\r\n        year: 1929,\r\n      },\r\n      {\r\n        id: 'fdr_elected',\r\n        label: 'Franklin D. Roosevelt elected president',\r\n        year: 1932,\r\n      },\r\n      {\r\n        id: 'new_deal_starts',\r\n        label: 'New Deal programs begin',\r\n        year: 1933,\r\n      },\r\n      {\r\n        id: 'social_security',\r\n        label: 'Social Security Act passed',\r\n        year: 1935,\r\n      },\r\n    ],\r\n    explanation:\r\n      \"The Great Depression was the worst economic crisis in American history. FDR's New Deal programs fundamentally expanded the federal government's role in providing economic relief and social safety nets.\",\r\n  },\r\n  {\r\n    id: 'american_industrial_revolution',\r\n    difficulty: 'hard',\r\n    tags: ['us_history', 'economy', '19th_century'],\r\n    title: 'American Industrial Revolution',\r\n    events: [\r\n      { id: 'cotton_gin', label: 'Eli Whitney invents cotton gin', year: 1793 },\r\n      {\r\n        id: 'first_railroad',\r\n        label: 'First successful US railroad (Baltimore & Ohio)',\r\n        year: 1830,\r\n      },\r\n      { id: 'telegraph', label: 'Samuel Morse invents telegraph', year: 1844 },\r\n      {\r\n        id: 'transcontinental_railroad',\r\n        label: 'Transcontinental Railroad completed',\r\n        year: 1869,\r\n      },\r\n    ],\r\n    explanation:\r\n      'These technological innovations transformed American society from agricultural to industrial. They enabled mass production, rapid communication, and continental connection.',\r\n  },\r\n  {\r\n    id: 'civil_war_reconstruction',\r\n    difficulty: 'medium',\r\n    tags: ['us_history', 'civil_war', '19th_century'],\r\n    title: 'Civil War & Reconstruction',\r\n    events: [\r\n      {\r\n        id: 'fort_sumter',\r\n        label: 'Battle of Fort Sumter (war begins)',\r\n        year: 1861,\r\n      },\r\n      {\r\n        id: 'gettysburg',\r\n        label: 'Battle of Gettysburg (turning point)',\r\n        year: 1863,\r\n      },\r\n      {\r\n        id: 'emancipation_proclamation',\r\n        label: 'Emancipation Proclamation (enslaved people freed)',\r\n        year: 1863,\r\n      },\r\n      {\r\n        id: 'lee_surrenders',\r\n        label: 'General Lee surrenders at Appomattox',\r\n        year: 1865,\r\n      },\r\n    ],\r\n    explanation:\r\n      'The Civil War was fought to preserve the Union and end slavery. These events mark major military and political turning points in this pivotal conflict.',\r\n  },\r\n  {\r\n    id: 'cold_war_early',\r\n    difficulty: 'medium',\r\n    tags: ['world_history', 'cold_war', '20th_century'],\r\n    title: 'Early Cold War Events',\r\n    events: [\r\n      {\r\n        id: 'berlin_blockade',\r\n        label: 'Berlin Blockade and Airlift',\r\n        year: 1948,\r\n      },\r\n      { id: 'korean_war', label: 'Korean War begins', year: 1950 },\r\n      {\r\n        id: 'cuban_missile_crisis',\r\n        label: 'Cuban Missile Crisis (nuclear standoff)',\r\n        year: 1962,\r\n      },\r\n      {\r\n        id: 'soviet_space',\r\n        label: 'Soviet Union launches Sputnik',\r\n        year: 1957,\r\n      },\r\n    ],\r\n    explanation:\r\n      'These events define the early Cold War period between the United States and Soviet Union. They illustrate the ideological and military tensions that dominated post-WWII geopolitics.',\r\n  },\r\n];\r\n","import React, { useState, useEffect } from 'react';\r\nimport { HISTORY_TIMELINE_SETS } from '../data/social/history_timeline_sets.js';\r\n\r\n/**\r\n * HistoryTimelineBuilder - Chronology & Cause-Effect Tool\r\n * Students reorder historical events to practice chronological reasoning\r\n */\r\nexport default function HistoryTimelineBuilder({ onExit }) {\r\n  const [currentSetIndex, setCurrentSetIndex] = useState(0);\r\n  const [correctCount, setCorrectCount] = useState(0);\r\n  const [events, setEvents] = useState([]);\r\n  const [feedback, setFeedback] = useState(null);\r\n  const [sessionComplete, setSessionComplete] = useState(false);\r\n\r\n  const currentSet = HISTORY_TIMELINE_SETS[currentSetIndex];\r\n\r\n  // Initialize events when set changes\r\n  useEffect(() => {\r\n    // Shuffle events randomly for the student to sort\r\n    const shuffled = [...currentSet.events].sort(() => Math.random() - 0.5);\r\n    setEvents(shuffled);\r\n    setFeedback(null);\r\n  }, [currentSetIndex]);\r\n\r\n  const correctOrder = currentSet.events.sort((a, b) => a.year - b.year);\r\n\r\n  const handleMoveUp = (index) => {\r\n    if (index === 0) return;\r\n    const newEvents = [...events];\r\n    [newEvents[index], newEvents[index - 1]] = [\r\n      newEvents[index - 1],\r\n      newEvents[index],\r\n    ];\r\n    setEvents(newEvents);\r\n    setFeedback(null);\r\n  };\r\n\r\n  const handleMoveDown = (index) => {\r\n    if (index === events.length - 1) return;\r\n    const newEvents = [...events];\r\n    [newEvents[index], newEvents[index + 1]] = [\r\n      newEvents[index + 1],\r\n      newEvents[index],\r\n    ];\r\n    setEvents(newEvents);\r\n    setFeedback(null);\r\n  };\r\n\r\n  const handleCheckOrder = () => {\r\n    const isCorrect = events.every(\r\n      (event, index) => event.id === correctOrder[index].id\r\n    );\r\n    setFeedback({ isCorrect });\r\n\r\n    if (isCorrect) {\r\n      setCorrectCount(correctCount + 1);\r\n    }\r\n  };\r\n\r\n  const handleNextSet = () => {\r\n    if (currentSetIndex < HISTORY_TIMELINE_SETS.length - 1) {\r\n      setCurrentSetIndex(currentSetIndex + 1);\r\n      setFeedback(null);\r\n    } else {\r\n      setSessionComplete(true);\r\n    }\r\n  };\r\n\r\n  const handleResetSession = () => {\r\n    setCurrentSetIndex(0);\r\n    setCorrectCount(0);\r\n    setFeedback(null);\r\n    setSessionComplete(false);\r\n    const shuffled = [...HISTORY_TIMELINE_SETS[0].events].sort(\r\n      () => Math.random() - 0.5\r\n    );\r\n    setEvents(shuffled);\r\n  };\r\n\r\n  const isMisordered = (index) => {\r\n    if (!feedback || feedback.isCorrect) return false;\r\n    return events[index].id !== correctOrder[index].id;\r\n  };\r\n\r\n  return (\r\n    <div className=\"fade-in min-h-screen bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100\">\r\n      <div className=\"max-w-4xl mx-auto p-6 space-y-6\">\r\n        {/* Header */}\r\n        <div className=\"flex items-center justify-between border-b border-slate-200 dark:border-slate-700 pb-4\">\r\n          <button\r\n            onClick={onExit}\r\n            className=\"flex items-center gap-2 text-sm font-semibold text-sky-600 hover:text-sky-700 dark:text-sky-400 dark:hover:text-sky-300\"\r\n          >\r\n            <span> Back</span>\r\n          </button>\r\n          <h1 className=\"text-2xl font-bold\"> History Timeline Builder</h1>\r\n          <div className=\"w-20 text-right text-sm\">\r\n            <div className=\"text-xs text-slate-600 dark:text-slate-400\">\r\n              {currentSetIndex + 1}/{HISTORY_TIMELINE_SETS.length}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Session Summary */}\r\n        {sessionComplete && (\r\n          <div className=\"bg-emerald-50 dark:bg-emerald-900/20 border border-emerald-300 dark:border-emerald-700 rounded-xl p-6 text-center\">\r\n            <h2 className=\"text-xl font-bold text-emerald-900 dark:text-emerald-200 mb-2\">\r\n               Round Complete!\r\n            </h2>\r\n            <p className=\"text-lg text-emerald-800 dark:text-emerald-300 mb-4\">\r\n              You correctly ordered{' '}\r\n              <strong>\r\n                {correctCount} out of {HISTORY_TIMELINE_SETS.length}\r\n              </strong>{' '}\r\n              timelines.\r\n            </p>\r\n            <button\r\n              onClick={handleResetSession}\r\n              className=\"px-6 py-2 rounded-lg bg-emerald-600 hover:bg-emerald-700 text-white font-semibold transition\"\r\n            >\r\n              Start New Round\r\n            </button>\r\n          </div>\r\n        )}\r\n\r\n        {!sessionComplete && (\r\n          <div className=\"space-y-6\">\r\n            {/* Set Header */}\r\n            <div>\r\n              <div className=\"flex items-center gap-3 mb-2\">\r\n                <h2 className=\"text-xl font-bold\">{currentSet.title}</h2>\r\n                <span\r\n                  className={`text-xs px-3 py-1 rounded-full font-semibold ${\r\n                    currentSet.difficulty === 'easy'\r\n                      ? 'bg-emerald-100 dark:bg-emerald-900/40 text-emerald-800 dark:text-emerald-200'\r\n                      : currentSet.difficulty === 'medium'\r\n                      ? 'bg-yellow-100 dark:bg-yellow-900/40 text-yellow-800 dark:text-yellow-200'\r\n                      : 'bg-red-100 dark:bg-red-900/40 text-red-800 dark:text-red-200'\r\n                  }`}\r\n                >\r\n                  {currentSet.difficulty.charAt(0).toUpperCase() +\r\n                    currentSet.difficulty.slice(1)}\r\n                </span>\r\n              </div>\r\n              <div className=\"flex flex-wrap gap-2 mb-4\">\r\n                {currentSet.tags.map((tag) => (\r\n                  <span\r\n                    key={tag}\r\n                    className=\"text-xs bg-slate-200 dark:bg-slate-700 px-2 py-1 rounded text-slate-700 dark:text-slate-300\"\r\n                  >\r\n                    {tag}\r\n                  </span>\r\n                ))}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Instructions */}\r\n            <div className=\"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700 rounded-lg p-4\">\r\n              <p className=\"text-sm font-semibold text-slate-900 dark:text-slate-100\">\r\n                 Instructions: Arrange these historical events in\r\n                chronological order (earliest to latest). Use the arrow buttons\r\n                to reorder the events.\r\n              </p>\r\n            </div>\r\n\r\n            {/* Timeline Events */}\r\n            <div className=\"space-y-3\">\r\n              {events.map((event, index) => (\r\n                <div\r\n                  key={event.id}\r\n                  className={`flex items-center gap-4 p-4 rounded-lg border-2 transition ${\r\n                    isMisordered(index)\r\n                      ? 'border-red-400 dark:border-red-500 bg-red-50 dark:bg-red-900/20'\r\n                      : feedback?.isCorrect\r\n                      ? 'border-emerald-400 dark:border-emerald-500 bg-emerald-50 dark:bg-emerald-900/20'\r\n                      : 'border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-600'\r\n                  }`}\r\n                >\r\n                  {/* Position Number */}\r\n                  <div className=\"shrink-0 w-10 h-10 rounded-full bg-slate-200 dark:bg-slate-700 flex items-center justify-center font-bold text-sm\">\r\n                    {index + 1}\r\n                  </div>\r\n\r\n                  {/* Event Label & Year */}\r\n                  <div className=\"flex-1\">\r\n                    <p className=\"font-semibold text-slate-900 dark:text-slate-100\">\r\n                      {event.label}\r\n                    </p>\r\n                    <p className=\"text-sm text-slate-600 dark:text-slate-400\">\r\n                      {event.year}\r\n                    </p>\r\n                  </div>\r\n\r\n                  {/* Up/Down Buttons */}\r\n                  <div className=\"flex gap-2 shrink-0\">\r\n                    <button\r\n                      onClick={() => handleMoveUp(index)}\r\n                      disabled={index === 0 || feedback !== null}\r\n                      className=\"px-3 py-2 rounded bg-slate-300 dark:bg-slate-700 hover:bg-slate-400 dark:hover:bg-slate-600 disabled:bg-slate-200 dark:disabled:bg-slate-800 disabled:cursor-not-allowed transition font-bold\"\r\n                    >\r\n                      \r\n                    </button>\r\n                    <button\r\n                      onClick={() => handleMoveDown(index)}\r\n                      disabled={\r\n                        index === events.length - 1 || feedback !== null\r\n                      }\r\n                      className=\"px-3 py-2 rounded bg-slate-300 dark:bg-slate-700 hover:bg-slate-400 dark:hover:bg-slate-600 disabled:bg-slate-200 dark:disabled:bg-slate-800 disabled:cursor-not-allowed transition font-bold\"\r\n                    >\r\n                      \r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              ))}\r\n            </div>\r\n\r\n            {/* Check / Feedback */}\r\n            <div className=\"space-y-4\">\r\n              {!feedback ? (\r\n                <button\r\n                  onClick={handleCheckOrder}\r\n                  className=\"w-full px-6 py-3 rounded-lg bg-sky-600 hover:bg-sky-700 dark:bg-sky-500 dark:hover:bg-sky-600 text-white font-semibold transition\"\r\n                >\r\n                  Check Timeline Order\r\n                </button>\r\n              ) : (\r\n                <>\r\n                  <div\r\n                    className={`rounded-lg p-4 border ${\r\n                      feedback.isCorrect\r\n                        ? 'bg-emerald-50 dark:bg-emerald-900/20 border-emerald-300 dark:border-emerald-600'\r\n                        : 'bg-red-50 dark:bg-red-900/20 border-red-300 dark:border-red-600'\r\n                    }`}\r\n                  >\r\n                    <p\r\n                      className={`font-bold mb-3 ${\r\n                        feedback.isCorrect\r\n                          ? 'text-emerald-900 dark:text-emerald-200'\r\n                          : 'text-red-900 dark:text-red-200'\r\n                      }`}\r\n                    >\r\n                      {feedback.isCorrect\r\n                        ? ' Perfect Timeline!'\r\n                        : ' Not Quite Right'}\r\n                    </p>\r\n\r\n                    {!feedback.isCorrect && (\r\n                      <div className=\"mb-3\">\r\n                        <p className=\"text-sm font-semibold text-slate-700 dark:text-slate-300 mb-2\">\r\n                          Correct Order:\r\n                        </p>\r\n                        <div className=\"space-y-2\">\r\n                          {correctOrder.map((event, index) => (\r\n                            <div\r\n                              key={event.id}\r\n                              className=\"text-sm text-slate-700 dark:text-slate-300 p-2 bg-white dark:bg-slate-700 rounded border border-slate-200 dark:border-slate-600\"\r\n                            >\r\n                              <span className=\"font-bold\">{index + 1}.</span>{' '}\r\n                              {event.label}{' '}\r\n                              <span className=\"text-xs text-slate-500 dark:text-slate-400\">\r\n                                ({event.year})\r\n                              </span>\r\n                            </div>\r\n                          ))}\r\n                        </div>\r\n                      </div>\r\n                    )}\r\n\r\n                    <p className=\"text-sm text-slate-700 dark:text-slate-300\">\r\n                      {currentSet.explanation}\r\n                    </p>\r\n                  </div>\r\n\r\n                  <button\r\n                    onClick={handleNextSet}\r\n                    className=\"w-full px-6 py-3 rounded-lg bg-sky-600 hover:bg-sky-700 dark:bg-sky-500 dark:hover:bg-sky-600 text-white font-semibold transition\"\r\n                  >\r\n                    {currentSetIndex === HISTORY_TIMELINE_SETS.length - 1\r\n                      ? 'See Results'\r\n                      : 'Next Timeline'}\r\n                  </button>\r\n                </>\r\n              )}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","/**\r\n * electoral_college_scenarios.js - Electoral College Simulator data\r\n * Electoral vote math and winner-takes-all scenarios\r\n */\r\n\r\nexport const ELECTORAL_COLLEGE_SCENARIOS = [\r\n  {\r\n    id: 'simple_majority_1',\r\n    difficulty: 'easy',\r\n    tags: ['basics', 'electoral_votes', 'math'],\r\n    title: 'Simple Electoral Vote Majority',\r\n    prompt:\r\n      'Candidate A has 260 electoral votes. Candidate B has 240. There are 38 electoral votes left. How many more votes does Candidate A need to win the presidency (270 required)?',\r\n    type: 'numeric',\r\n    correctAnswer: 10,\r\n    explanation:\r\n      'To reach 270, Candidate A needs 10 more electoral votes (270 - 260 = 10). This is the minimum needed to win the presidency.',\r\n  },\r\n  {\r\n    id: 'winner_takes_all_1',\r\n    difficulty: 'easy',\r\n    tags: ['winner_takes_all', 'state_results'],\r\n    title: 'Winner-Takes-All Scenario',\r\n    prompt:\r\n      'In a state with 20 electoral votes, Candidate A wins 51% of the popular vote and Candidate B wins 49%. Under winner-takes-all rules, how many electoral votes does Candidate A receive?',\r\n    type: 'multiple_choice',\r\n    choices: [\r\n      { id: 'A', label: '10', isCorrect: false },\r\n      { id: 'B', label: '20', isCorrect: true },\r\n      { id: 'C', label: '11', isCorrect: false },\r\n      { id: 'D', label: '0', isCorrect: false },\r\n    ],\r\n    explanation:\r\n      'In most states, winner-takes-all means the candidate with the most votes in that state gets all of its electoral votes, regardless of the margin. Candidate A wins all 20 electoral votes despite the narrow margin.',\r\n  },\r\n  {\r\n    id: 'map_flip_1',\r\n    difficulty: 'medium',\r\n    tags: ['swing_states', 'strategy', 'math'],\r\n    title: 'Flipping a Swing State',\r\n    prompt:\r\n      'Candidate A currently has 268 electoral votes, and Candidate B has 270. A single swing state with 6 electoral votes is recounted and flips from B to A. Who wins after the recount?',\r\n    type: 'multiple_choice',\r\n    choices: [\r\n      { id: 'A', label: 'Candidate A now wins (274-264)', isCorrect: true },\r\n      { id: 'B', label: 'Candidate B still wins (270-274)', isCorrect: false },\r\n      { id: 'C', label: 'There is a 270-270 tie', isCorrect: false },\r\n      {\r\n        id: 'D',\r\n        label: 'The election is thrown to the Supreme Court',\r\n        isCorrect: false,\r\n      },\r\n    ],\r\n    explanation:\r\n      'If 6 electoral votes move from B to A: A gains 6 (268 + 6 = 274) and B loses 6 (270 - 6 = 264), so Candidate A wins with 274 electoral votes.',\r\n  },\r\n  {\r\n    id: 'popular_vote_vs_electoral',\r\n    difficulty: 'hard',\r\n    tags: ['popular_vote', 'electoral_college', 'disparity'],\r\n    title: 'Popular Vote vs. Electoral Vote',\r\n    prompt:\r\n      'Candidate A wins the national popular vote by 3 million votes but loses the Electoral College. In 48 states, the race is very close. In 2 large states, Candidate B wins by overwhelming margins. How is this possible?',\r\n    type: 'multiple_choice',\r\n    choices: [\r\n      {\r\n        id: 'A',\r\n        label: 'Candidate B concentrated wins in high-population states',\r\n        isCorrect: true,\r\n      },\r\n      {\r\n        id: 'B',\r\n        label: 'The Electoral College votes are weighted by land area',\r\n        isCorrect: false,\r\n      },\r\n      {\r\n        id: 'C',\r\n        label: 'Candidate A committed fraud in multiple states',\r\n        isCorrect: false,\r\n      },\r\n      {\r\n        id: 'D',\r\n        label: 'Congress changed the rules after voting ended',\r\n        isCorrect: false,\r\n      },\r\n    ],\r\n    explanation:\r\n      'The Electoral College system can produce outcomes where the winner of the national popular vote loses the presidency. This happens when the losing candidate wins some large states by huge margins (wasting votes) while losing close races in many smaller states. This has occurred 5 times in U.S. history.',\r\n  },\r\n  {\r\n    id: 'state_electoral_votes_1',\r\n    difficulty: 'easy',\r\n    tags: ['state_votes', 'representation', 'congress'],\r\n    title: 'How States Get Electoral Votes',\r\n    prompt:\r\n      'How many electoral votes does a state have in the Electoral College?',\r\n    type: 'multiple_choice',\r\n    choices: [\r\n      {\r\n        id: 'A',\r\n        label: 'Equal to its state population divided by 100,000',\r\n        isCorrect: false,\r\n      },\r\n      {\r\n        id: 'B',\r\n        label: 'Equal to its number of House members plus 2 Senators',\r\n        isCorrect: true,\r\n      },\r\n      {\r\n        id: 'C',\r\n        label: 'Equal to the number of registered voters',\r\n        isCorrect: false,\r\n      },\r\n      {\r\n        id: 'D',\r\n        label: 'Determined by the state legislature each year',\r\n        isCorrect: false,\r\n      },\r\n    ],\r\n    explanation:\r\n      'Each state gets one electoral vote for each representative in the House (based on population) plus 2 electoral votes for its Senators. This means larger states have more electoral votes, but every state has at least 3.',\r\n  },\r\n  {\r\n    id: 'total_electoral_votes',\r\n    difficulty: 'easy',\r\n    tags: ['basics', 'total_votes'],\r\n    title: 'Total Electoral Votes',\r\n    prompt:\r\n      'What is the total number of electoral votes in a presidential election?',\r\n    type: 'numeric',\r\n    correctAnswer: 538,\r\n    explanation:\r\n      'There are 538 total electoral votes: 435 House members + 100 Senators + 3 for Washington, D.C. (from the 23rd Amendment). A candidate needs 270 votes to win (a simple majority).',\r\n  },\r\n  {\r\n    id: 'swing_state_importance',\r\n    difficulty: 'medium',\r\n    tags: ['swing_states', 'strategy'],\r\n    title: 'Why Swing States Matter',\r\n    prompt:\r\n      'Why do presidential campaigns focus most on \"swing states\" rather than safely Democratic or Republican states?',\r\n    type: 'multiple_choice',\r\n    choices: [\r\n      {\r\n        id: 'A',\r\n        label: 'They have more electoral votes than other states',\r\n        isCorrect: false,\r\n      },\r\n      {\r\n        id: 'B',\r\n        label:\r\n          'The outcome in these states is uncertain and could decide the election',\r\n        isCorrect: true,\r\n      },\r\n      {\r\n        id: 'C',\r\n        label: 'They have the lowest state populations',\r\n        isCorrect: false,\r\n      },\r\n      {\r\n        id: 'D',\r\n        label: 'Federal law requires campaigns to visit swing states',\r\n        isCorrect: false,\r\n      },\r\n    ],\r\n    explanation:\r\n      'Swing states are competitive battlegrounds where either candidate could win. Focusing resources there makes strategic sense because these states could determine the presidency. Safe states are less critical to campaign strategy.',\r\n  },\r\n  {\r\n    id: 'electoral_tie_1',\r\n    difficulty: 'hard',\r\n    tags: ['tie', 'house_voting'],\r\n    title: 'Electoral College Tie',\r\n    prompt: 'What happens if the Electoral College results in a 269-269 tie?',\r\n    type: 'multiple_choice',\r\n    choices: [\r\n      {\r\n        id: 'A',\r\n        label: 'There is an immediate runoff election',\r\n        isCorrect: false,\r\n      },\r\n      {\r\n        id: 'B',\r\n        label: 'The House of Representatives votes to choose the president',\r\n        isCorrect: true,\r\n      },\r\n      {\r\n        id: 'C',\r\n        label: 'The Supreme Court decides the winner',\r\n        isCorrect: false,\r\n      },\r\n      {\r\n        id: 'D',\r\n        label: 'The sitting president continues in office',\r\n        isCorrect: false,\r\n      },\r\n    ],\r\n    explanation:\r\n      'If no candidate wins 270 electoral votes, the House of Representatives votes to elect the president (with each state delegation getting one vote). The Senate elects the vice president. This process is outlined in the 12th Amendment.',\r\n  },\r\n  {\r\n    id: 'early_voting_scenarios',\r\n    difficulty: 'medium',\r\n    tags: ['electoral_math', 'scenarios'],\r\n    title: 'Early Election Scenario',\r\n    prompt:\r\n      'Before the last 5 states vote, Candidate A has 245 electoral votes and Candidate B has 247. The remaining 5 states have: 15, 12, 8, 5, and 3 electoral votes. Can Candidate A still win?',\r\n    type: 'multiple_choice',\r\n    choices: [\r\n      {\r\n        id: 'A',\r\n        label: 'No, not enough electoral votes remain',\r\n        isCorrect: false,\r\n      },\r\n      {\r\n        id: 'B',\r\n        label: 'Yes, if Candidate A wins all remaining states (243 total)',\r\n        isCorrect: false,\r\n      },\r\n      {\r\n        id: 'C',\r\n        label: 'Yes, if Candidate A wins the largest 3 states',\r\n        isCorrect: true,\r\n      },\r\n      {\r\n        id: 'D',\r\n        label: 'It depends on how many faithless electors there are',\r\n        isCorrect: false,\r\n      },\r\n    ],\r\n    explanation:\r\n      'The remaining 43 electoral votes total: 15 + 12 + 8 + 5 + 3 = 43. If Candidate A wins the three largest states (15 + 12 + 8 = 35), they would have 245 + 35 = 280 electoral votes, which exceeds the 270 needed to win.',\r\n  },\r\n  {\r\n    id: 'state_delegation_voting',\r\n    difficulty: 'hard',\r\n    tags: ['house_voting', 'contingent_election'],\r\n    title: 'Contingent Election (House Vote)',\r\n    prompt:\r\n      'If the House of Representatives must elect the president because of an Electoral College tie, how many votes does each state get in the House vote?',\r\n    type: 'multiple_choice',\r\n    choices: [\r\n      { id: 'A', label: 'One vote per House representative', isCorrect: false },\r\n      {\r\n        id: 'B',\r\n        label: 'One vote per state (state delegation votes as a block)',\r\n        isCorrect: true,\r\n      },\r\n      {\r\n        id: 'C',\r\n        label: 'Votes weighted by state population',\r\n        isCorrect: false,\r\n      },\r\n      {\r\n        id: 'D',\r\n        label: 'Only representatives from swing states vote',\r\n        isCorrect: false,\r\n      },\r\n    ],\r\n    explanation:\r\n      'In a contingent election, each state delegation votes as one unit. This means small states have the same influence as large states. A candidate needs 26 state votes (a simple majority of the 50 states) to become president.',\r\n  },\r\n  {\r\n    id: 'faithless_elector',\r\n    difficulty: 'hard',\r\n    tags: ['electors', 'rare_scenarios'],\r\n    title: 'Faithless Electors',\r\n    prompt:\r\n      'A \"faithless elector\" is an elector who votes contrary to how their state voted. How many faithless electors would it take to change the outcome if the election is decided 271-267?',\r\n    type: 'numeric',\r\n    correctAnswer: 5,\r\n    explanation:\r\n      'To flip a 271-267 result, you would need 5 electors to switch: the leader would drop 4 votes (271 - 4 = 267) and the challenger would gain 4 (267 + 4 = 271), but actually you need 5 to flip a 2-vote margin. In practice, faithless electors are extremely rare and have never decided an election.',\r\n  },\r\n];\r\n","import React, { useState } from 'react';\r\nimport { ELECTORAL_COLLEGE_SCENARIOS } from '../data/social/electoral_college_scenarios.js';\r\n\r\n/**\r\n * ElectoralCollegeSimulator - Electoral Vote Math & Scenarios\r\n * Students practice electoral math, winner-takes-all, and swing state scenarios\r\n */\r\nexport default function ElectoralCollegeSimulator({ onExit }) {\r\n  const [currentScenarioIndex, setCurrentScenarioIndex] = useState(0);\r\n  const [correctCount, setCorrectCount] = useState(0);\r\n  const [numericInput, setNumericInput] = useState('');\r\n  const [selectedMultiChoice, setSelectedMultiChoice] = useState(null);\r\n  const [feedback, setFeedback] = useState(null);\r\n  const [sessionComplete, setSessionComplete] = useState(false);\r\n\r\n  const currentScenario = ELECTORAL_COLLEGE_SCENARIOS[currentScenarioIndex];\r\n  const isNumeric = currentScenario.type === 'numeric';\r\n\r\n  const handleCheckAnswer = () => {\r\n    let isCorrect = false;\r\n\r\n    if (isNumeric) {\r\n      isCorrect = parseInt(numericInput, 10) === currentScenario.correctAnswer;\r\n    } else {\r\n      isCorrect =\r\n        selectedMultiChoice ===\r\n        ELECTORAL_COLLEGE_SCENARIOS[currentScenarioIndex].choices.find(\r\n          (c) => c.isCorrect\r\n        ).id;\r\n    }\r\n\r\n    setFeedback({ isCorrect });\r\n\r\n    if (isCorrect) {\r\n      setCorrectCount(correctCount + 1);\r\n    }\r\n  };\r\n\r\n  const handleNextScenario = () => {\r\n    if (currentScenarioIndex < ELECTORAL_COLLEGE_SCENARIOS.length - 1) {\r\n      setCurrentScenarioIndex(currentScenarioIndex + 1);\r\n      setNumericInput('');\r\n      setSelectedMultiChoice(null);\r\n      setFeedback(null);\r\n    } else {\r\n      setSessionComplete(true);\r\n    }\r\n  };\r\n\r\n  const handleResetSession = () => {\r\n    setCurrentScenarioIndex(0);\r\n    setCorrectCount(0);\r\n    setNumericInput('');\r\n    setSelectedMultiChoice(null);\r\n    setFeedback(null);\r\n    setSessionComplete(false);\r\n  };\r\n\r\n  return (\r\n    <div className=\"fade-in min-h-screen bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100\">\r\n      <div className=\"max-w-4xl mx-auto p-6 space-y-6\">\r\n        {/* Header */}\r\n        <div className=\"flex items-center justify-between border-b border-slate-200 dark:border-slate-700 pb-4\">\r\n          <button\r\n            onClick={onExit}\r\n            className=\"flex items-center gap-2 text-sm font-semibold text-sky-600 hover:text-sky-700 dark:text-sky-400 dark:hover:text-sky-300\"\r\n          >\r\n            <span> Back</span>\r\n          </button>\r\n          <h1 className=\"text-2xl font-bold\"> Electoral College Simulator</h1>\r\n          <div className=\"w-20 text-right text-sm\">\r\n            <div className=\"text-xs text-slate-600 dark:text-slate-400\">\r\n              {currentScenarioIndex + 1}/{ELECTORAL_COLLEGE_SCENARIOS.length}\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        {/* Session Summary */}\r\n        {sessionComplete && (\r\n          <div className=\"bg-emerald-50 dark:bg-emerald-900/20 border border-emerald-300 dark:border-emerald-700 rounded-xl p-6 text-center\">\r\n            <h2 className=\"text-xl font-bold text-emerald-900 dark:text-emerald-200 mb-2\">\r\n               Round Complete!\r\n            </h2>\r\n            <p className=\"text-lg text-emerald-800 dark:text-emerald-300 mb-4\">\r\n              You answered{' '}\r\n              <strong>\r\n                {correctCount} out of {ELECTORAL_COLLEGE_SCENARIOS.length}\r\n              </strong>{' '}\r\n              correctly.\r\n            </p>\r\n            <button\r\n              onClick={handleResetSession}\r\n              className=\"px-6 py-2 rounded-lg bg-emerald-600 hover:bg-emerald-700 text-white font-semibold transition\"\r\n            >\r\n              Start New Round\r\n            </button>\r\n          </div>\r\n        )}\r\n\r\n        {!sessionComplete && (\r\n          <div className=\"space-y-6\">\r\n            {/* Scenario Header */}\r\n            <div>\r\n              <div className=\"flex items-center gap-3 mb-2\">\r\n                <h2 className=\"text-lg font-bold\">{currentScenario.title}</h2>\r\n                <span\r\n                  className={`text-xs px-3 py-1 rounded-full font-semibold ${\r\n                    currentScenario.difficulty === 'easy'\r\n                      ? 'bg-emerald-100 dark:bg-emerald-900/40 text-emerald-800 dark:text-emerald-200'\r\n                      : currentScenario.difficulty === 'medium'\r\n                      ? 'bg-yellow-100 dark:bg-yellow-900/40 text-yellow-800 dark:text-yellow-200'\r\n                      : 'bg-red-100 dark:bg-red-900/40 text-red-800 dark:text-red-200'\r\n                  }`}\r\n                >\r\n                  {currentScenario.difficulty.charAt(0).toUpperCase() +\r\n                    currentScenario.difficulty.slice(1)}\r\n                </span>\r\n              </div>\r\n              <div className=\"flex flex-wrap gap-2 mb-4\">\r\n                {currentScenario.tags.map((tag) => (\r\n                  <span\r\n                    key={tag}\r\n                    className=\"text-xs bg-slate-200 dark:bg-slate-700 px-2 py-1 rounded text-slate-700 dark:text-slate-300\"\r\n                  >\r\n                    {tag}\r\n                  </span>\r\n                ))}\r\n              </div>\r\n            </div>\r\n\r\n            {/* Prompt */}\r\n            <div className=\"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700 rounded-lg p-6\">\r\n              <p className=\"text-lg font-semibold text-slate-900 dark:text-slate-100\">\r\n                {currentScenario.prompt}\r\n              </p>\r\n            </div>\r\n\r\n            {/* Answer Input Area */}\r\n            <div className=\"space-y-4\">\r\n              {isNumeric ? (\r\n                <div>\r\n                  <label className=\"block text-sm font-semibold mb-2 text-slate-900 dark:text-slate-100\">\r\n                    Your Answer:\r\n                  </label>\r\n                  <input\r\n                    type=\"number\"\r\n                    value={numericInput}\r\n                    onChange={(e) => setNumericInput(e.target.value)}\r\n                    disabled={feedback !== null}\r\n                    className=\"w-full px-4 py-3 rounded-lg border-2 border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-600 text-slate-900 dark:text-slate-100 text-lg font-semibold disabled:bg-slate-100 dark:disabled:bg-slate-700\"\r\n                    placeholder=\"Enter a number\"\r\n                  />\r\n                </div>\r\n              ) : (\r\n                <div className=\"space-y-3\">\r\n                  {currentScenario.choices.map((choice) => (\r\n                    <button\r\n                      key={choice.id}\r\n                      onClick={() => setSelectedMultiChoice(choice.id)}\r\n                      disabled={feedback !== null}\r\n                      className={`w-full text-left p-4 rounded-lg border-2 transition font-semibold ${\r\n                        selectedMultiChoice === choice.id\r\n                          ? feedback?.isCorrect\r\n                            ? 'border-emerald-500 bg-emerald-50 dark:bg-emerald-900/20 text-emerald-900 dark:text-emerald-100'\r\n                            : 'border-red-500 bg-red-50 dark:bg-red-900/20 text-red-900 dark:text-red-100'\r\n                          : feedback && choice.isCorrect\r\n                          ? 'border-emerald-500 bg-emerald-50 dark:bg-emerald-900/20 text-emerald-900 dark:text-emerald-100'\r\n                          : 'border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-600 text-slate-900 dark:text-slate-100 hover:bg-slate-50 dark:hover:bg-slate-500 cursor-pointer'\r\n                      } ${feedback !== null ? 'cursor-default' : ''}`}\r\n                    >\r\n                      <span className=\"font-bold text-lg mr-3\">\r\n                        {choice.id}.\r\n                      </span>\r\n                      {choice.label}\r\n                    </button>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            {/* Check / Feedback */}\r\n            <div className=\"space-y-4\">\r\n              {!feedback ? (\r\n                <button\r\n                  onClick={handleCheckAnswer}\r\n                  disabled={\r\n                    isNumeric\r\n                      ? numericInput === ''\r\n                      : selectedMultiChoice === null\r\n                  }\r\n                  className=\"w-full px-6 py-3 rounded-lg bg-sky-600 hover:bg-sky-700 disabled:bg-slate-400 disabled:cursor-not-allowed dark:bg-sky-500 dark:hover:bg-sky-600 dark:disabled:bg-slate-600 text-white font-semibold transition\"\r\n                >\r\n                  Check My Answer\r\n                </button>\r\n              ) : (\r\n                <>\r\n                  <div\r\n                    className={`rounded-lg p-4 border ${\r\n                      feedback.isCorrect\r\n                        ? 'bg-emerald-50 dark:bg-emerald-900/20 border-emerald-300 dark:border-emerald-600'\r\n                        : 'bg-red-50 dark:bg-red-900/20 border-red-300 dark:border-red-600'\r\n                    }`}\r\n                  >\r\n                    <p\r\n                      className={`font-bold mb-2 ${\r\n                        feedback.isCorrect\r\n                          ? 'text-emerald-900 dark:text-emerald-200'\r\n                          : 'text-red-900 dark:text-red-200'\r\n                      }`}\r\n                    >\r\n                      {feedback.isCorrect ? ' Correct!' : ' Not Quite'}\r\n                    </p>\r\n\r\n                    {!feedback.isCorrect && isNumeric && (\r\n                      <p className=\"text-sm text-slate-700 dark:text-slate-300 mb-2\">\r\n                        The correct answer is:{' '}\r\n                        <strong className=\"text-lg\">\r\n                          {currentScenario.correctAnswer}\r\n                        </strong>\r\n                      </p>\r\n                    )}\r\n\r\n                    <p className=\"text-sm text-slate-700 dark:text-slate-300\">\r\n                      {currentScenario.explanation}\r\n                    </p>\r\n                  </div>\r\n\r\n                  <button\r\n                    onClick={handleNextScenario}\r\n                    className=\"w-full px-6 py-3 rounded-lg bg-sky-600 hover:bg-sky-700 dark:bg-sky-500 dark:hover:bg-sky-600 text-white font-semibold transition\"\r\n                  >\r\n                    {currentScenarioIndex ===\r\n                    ELECTORAL_COLLEGE_SCENARIOS.length - 1\r\n                      ? 'See Results'\r\n                      : 'Next Scenario'}\r\n                  </button>\r\n                </>\r\n              )}\r\n            </div>\r\n\r\n            {/* Scenario Info Box */}\r\n            <div className=\"bg-slate-100 dark:bg-slate-600 rounded-lg p-4 border border-slate-200 dark:border-slate-700\">\r\n              <div className=\"text-xs text-slate-600 dark:text-slate-400 space-y-1\">\r\n                <p>\r\n                  <strong>Quick Reference:</strong> 270 electoral votes needed\r\n                  to win the presidency. 538 total votes (435 House + 100 Senate\r\n                  + 3 D.C.).\r\n                </p>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","// Structured amendments database for Constitution Explorer\r\nexport const AMENDMENTS_DB = [\r\n  {\r\n    id: '1st',\r\n    topic: 'Freedoms',\r\n    simple: 'Freedom of speech, religion, press, assembly, and petition.',\r\n    original:\r\n      'Congress shall make no law respecting an establishment of religion, or prohibiting the free exercise thereof; or abridging the freedom of speech, or of the press; or the right of the people peaceably to assemble, and to petition the Government for a redress of grievances.',\r\n    difficulty: 'easy',\r\n    tags: ['speech_press', 'religion', 'assembly', 'petition'],\r\n  },\r\n  {\r\n    id: '2nd',\r\n    topic: 'Arms',\r\n    simple: 'Right to keep and bear arms (own guns).',\r\n    original:\r\n      'A well regulated Militia, being necessary to the security of a free State, the right of the people to keep and bear Arms, shall not be infringed.',\r\n    difficulty: 'medium',\r\n    tags: ['civil_rights'],\r\n  },\r\n  {\r\n    id: '4th',\r\n    topic: 'Privacy',\r\n    simple:\r\n      'Protection against unreasonable searches and seizures (need a warrant).',\r\n    original:\r\n      'The right of the people to be secure in their persons, houses, papers, and effects, against unreasonable searches and seizures, shall not be violated, and no Warrants shall issue, but upon probable cause, supported by Oath or affirmation, and particularly describing the place to be searched, and the persons or things to be seized.',\r\n    difficulty: 'medium',\r\n    tags: ['criminal_procedure', 'privacy'],\r\n  },\r\n  {\r\n    id: '5th',\r\n    topic: 'Due Process',\r\n    simple: 'Right to remain silent; no double jeopardy; due process required.',\r\n    original:\r\n      'No person shall be held to answer for a capital, or otherwise infamous crime, unless on a presentment or indictment of a Grand Jury... nor shall be compelled in any criminal case to be a witness against himself, nor be deprived of life, liberty, or property, without due process of law; nor shall private property be taken for public use, without just compensation.',\r\n    difficulty: 'hard',\r\n    tags: ['criminal_procedure', 'due_process', 'takings'],\r\n  },\r\n  {\r\n    id: '6th',\r\n    topic: 'Trial',\r\n    simple: 'Right to a speedy, public trial and a lawyer.',\r\n    original:\r\n      'In all criminal prosecutions, the accused shall enjoy the right to a speedy and public trial, by an impartial jury of the State and district wherein the crime shall have been committed... and to have the Assistance of Counsel for his defence.',\r\n    difficulty: 'medium',\r\n    tags: ['criminal_procedure', 'trial_rights'],\r\n  },\r\n  {\r\n    id: '8th',\r\n    topic: 'Punishment',\r\n    simple: 'No cruel or unusual punishment; no excessive bail.',\r\n    original:\r\n      'Excessive bail shall not be required, nor excessive fines imposed, nor cruel and unusual punishments inflicted.',\r\n    difficulty: 'easy',\r\n    tags: ['criminal_procedure', 'punishment'],\r\n  },\r\n  {\r\n    id: '13th',\r\n    topic: 'Slavery',\r\n    simple: 'Abolished slavery in the United States.',\r\n    original:\r\n      'Neither slavery nor involuntary servitude, except as a punishment for crime whereof the party shall have been duly convicted, shall exist within the United States, or any place subject to their jurisdiction.',\r\n    difficulty: 'easy',\r\n    tags: ['civil_rights'],\r\n  },\r\n  {\r\n    id: '14th',\r\n    topic: 'Equality',\r\n    simple:\r\n      'Grants citizenship to anyone born in the US; guarantees equal protection under the law.',\r\n    original:\r\n      'All persons born or naturalized in the United States... nor deny to any person within its jurisdiction the equal protection of the laws.',\r\n    difficulty: 'hard',\r\n    tags: ['civil_rights', 'equal_protection', 'due_process'],\r\n  },\r\n  {\r\n    id: '19th',\r\n    topic: 'Voting (Sex)',\r\n    simple: \"Women's right to vote.\",\r\n    original:\r\n      'The right of citizens of the United States to vote shall not be denied or abridged by the United States or by any State on account of sex.',\r\n    difficulty: 'medium',\r\n    tags: ['civil_rights', 'voting'],\r\n  },\r\n];\r\n\r\n// Future: packs can group scenarios by theme\r\nexport const PACKS = [\r\n  { id: 'criminal_procedure', label: 'Criminal Procedure Pack' },\r\n  { id: 'civil_rights', label: 'Civil Rights Pack' },\r\n  { id: 'speech_press', label: 'Press & Speech Pack' },\r\n];\r\n","// Practice scenarios for Constitution Explorer\r\nexport const PRACTICE_SCENARIOS = [\r\n  {\r\n    id: 'scn_001',\r\n    pack: 'speech_press',\r\n    prompt: 'A city passes a law banning peaceful protests in public parks.',\r\n    correctAmendmentId: '1st',\r\n    explanation:\r\n      'The First Amendment protects the right to assembly and petition, so banning peaceful protests infringes those rights.',\r\n    difficulty: 'easy',\r\n    tags: ['assembly', 'petition', 'speech_press'],\r\n  },\r\n  {\r\n    id: 'scn_002',\r\n    pack: 'criminal_procedure',\r\n    prompt:\r\n      'Police search a home without a warrant or probable cause and seize evidence.',\r\n    correctAmendmentId: '4th',\r\n    explanation:\r\n      'The Fourth Amendment protects against unreasonable searches and seizures and generally requires a warrant based on probable cause.',\r\n    difficulty: 'medium',\r\n    tags: ['criminal_procedure', 'privacy'],\r\n  },\r\n  {\r\n    id: 'scn_003',\r\n    pack: 'criminal_procedure',\r\n    prompt:\r\n      'A suspect is compelled to testify against themselves during a criminal trial.',\r\n    correctAmendmentId: '5th',\r\n    explanation:\r\n      'The Fifth Amendment protects against self-incrimination and ensures due process.',\r\n    difficulty: 'hard',\r\n    tags: ['criminal_procedure', 'due_process'],\r\n  },\r\n  {\r\n    id: 'scn_004',\r\n    pack: 'civil_rights',\r\n    prompt:\r\n      'A state denies equal protection of the laws to a group of citizens.',\r\n    correctAmendmentId: '14th',\r\n    explanation:\r\n      'The Fourteenth Amendment guarantees equal protection and due process for all persons.',\r\n    difficulty: 'hard',\r\n    tags: ['civil_rights', 'equal_protection'],\r\n  },\r\n];\r\n","import React, { useState } from 'react';\r\nimport { AMENDMENTS_DB } from '../data/social/constitution_amendments.js';\r\nimport { PRACTICE_SCENARIOS } from '../data/social/constitution_scenarios.js';\r\n\r\nconst constitutionStyles = `\r\n  .constitution-text {\r\n    color: #0f172a !important;\r\n  }\r\n  .dark .constitution-text {\r\n    color: #e2e8f0 !important;\r\n  }\r\n`;\r\n\r\nexport default function ConstitutionExplorer({ onExit, pack }) {\r\n  const [mode, setMode] = useState('simple'); // 'simple' | 'original'\r\n  const [search, setSearch] = useState('');\r\n  const [selectedScenario, setSelectedScenario] = useState(null);\r\n  const [selectedAmendmentId, setSelectedAmendmentId] = useState(null);\r\n  const [feedback, setFeedback] = useState(null);\r\n\r\n  const filteredAmendments = AMENDMENTS_DB.filter(\r\n    (item) =>\r\n      item.simple.toLowerCase().includes(search.toLowerCase()) ||\r\n      item.topic.toLowerCase().includes(search.toLowerCase()) ||\r\n      item.id.toLowerCase().includes(search.toLowerCase())\r\n  );\r\n\r\n  const availableScenarios = PRACTICE_SCENARIOS.filter((s) =>\r\n    pack ? s.pack === pack : true\r\n  );\r\n\r\n  const startScenario = (s) => {\r\n    setSelectedScenario(s);\r\n    setSelectedAmendmentId(null);\r\n    setFeedback(null);\r\n  };\r\n\r\n  const answerScenario = (amendmentId) => {\r\n    if (!selectedScenario) return;\r\n    setSelectedAmendmentId(amendmentId);\r\n    const correct = amendmentId === selectedScenario.correctAmendmentId;\r\n    setFeedback({ correct });\r\n  };\r\n\r\n  const resetScenario = () => {\r\n    setSelectedScenario(null);\r\n    setSelectedAmendmentId(null);\r\n    setFeedback(null);\r\n  };\r\n\r\n  const isHighlighted = (amendmentId) => {\r\n    if (!feedback || feedback.correct) return false;\r\n    return amendmentId === selectedScenario?.correctAmendmentId;\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <style>{constitutionStyles}</style>\r\n      <div className=\"fade-in min-h-screen bg-white dark:bg-slate-700 constitution-text\">\r\n        <div className=\"max-w-6xl mx-auto p-6 space-y-6\">\r\n          <div className=\"flex items-center justify-between border-b border-slate-200 dark:border-slate-700 pb-4\">\r\n            <button\r\n              onClick={onExit}\r\n              className=\"flex items-center gap-2 text-sm font-semibold text-sky-600 hover:text-sky-700 dark:text-sky-400\"\r\n            >\r\n              <span> Back</span>\r\n            </button>\r\n            <h1 className=\"text-2xl font-bold constitution-text\">\r\n              Constitution Explorer  Rights Arbitrator\r\n            </h1>\r\n            <div className=\"w-12\" />\r\n          </div>\r\n\r\n          {/* Practice Scenarios */}\r\n          <div className=\"bg-slate-50 dark:bg-slate-800/50 p-4 rounded-xl border border-slate-200 dark:border-slate-700\">\r\n            <div className=\"flex items-center justify-between mb-3\">\r\n              <h2 className=\"text-lg font-bold constitution-text\">\r\n                Practice Scenarios\r\n              </h2>\r\n              {selectedScenario && (\r\n                <button\r\n                  onClick={resetScenario}\r\n                  className=\"text-sm px-3 py-1 rounded bg-slate-200 dark:bg-slate-700 hover:bg-slate-300 dark:hover:bg-slate-600 constitution-text\"\r\n                >\r\n                  Clear\r\n                </button>\r\n              )}\r\n            </div>\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\r\n              {availableScenarios.map((s) => (\r\n                <button\r\n                  key={s.id}\r\n                  className={`text-left p-3 rounded-lg border transition ${\r\n                    selectedScenario?.id === s.id\r\n                      ? 'border-sky-400 bg-sky-50 dark:bg-sky-900/20'\r\n                      : 'border-slate-200 dark:border-slate-700 bg-white dark:bg-slate-600'\r\n                  }`}\r\n                  onClick={() => startScenario(s)}\r\n                >\r\n                  <div className=\"flex items-center justify-between\">\r\n                    <span className=\"font-semibold constitution-text\">\r\n                      {s.prompt}\r\n                    </span>\r\n                    <span className=\"text-xs text-slate-500\">\r\n                      {s.difficulty}\r\n                    </span>\r\n                  </div>\r\n                  <div className=\"mt-1 text-xs text-slate-500\">\r\n                    {s.tags.join(', ')}\r\n                  </div>\r\n                </button>\r\n              ))}\r\n            </div>\r\n            {selectedScenario && (\r\n              <div className=\"mt-4 p-3 rounded-lg bg-white/80 dark:bg-slate-800/80 border border-slate-200 dark:border-slate-700\">\r\n                <div className=\"text-sm mb-2 constitution-text\">\r\n                  Select the correct amendment:\r\n                </div>\r\n                <div className=\"flex flex-wrap gap-2\">\r\n                  {AMENDMENTS_DB.map((a) => (\r\n                    <button\r\n                      key={a.id}\r\n                      onClick={() => answerScenario(a.id)}\r\n                      className={`px-3 py-1.5 rounded border text-sm transition ${\r\n                        isHighlighted(a.id)\r\n                          ? 'border-emerald-500 bg-emerald-50 dark:bg-emerald-900/20 text-emerald-700 dark:text-emerald-200'\r\n                          : 'border-slate-300 dark:border-slate-600 bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600'\r\n                      }`}\r\n                    >\r\n                      {a.id}\r\n                    </button>\r\n                  ))}\r\n                </div>\r\n                {feedback && (\r\n                  <div className=\"mt-3 space-y-2\">\r\n                    <div\r\n                      className={`text-sm font-semibold constitution-text ${\r\n                        feedback.correct\r\n                          ? 'text-emerald-700 dark:text-emerald-200'\r\n                          : 'text-red-700 dark:text-red-300'\r\n                      }`}\r\n                    >\r\n                      {feedback.correct ? 'Correct!' : 'Incorrect'}\r\n                    </div>\r\n                    {!feedback.correct && (\r\n                      <div className=\"text-sm\">\r\n                        You selected:{' '}\r\n                        <span className=\"font-mono\">{selectedAmendmentId}</span>\r\n                        . Correct:{' '}\r\n                        <span className=\"font-mono\">\r\n                          {selectedScenario.correctAmendmentId}\r\n                        </span>\r\n                        .\r\n                      </div>\r\n                    )}\r\n                    <div className=\"text-xs text-slate-600 dark:text-slate-300\">\r\n                      {selectedScenario.explanation}\r\n                    </div>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Controls */}\r\n          <div className=\"flex flex-col sm:flex-row gap-4 justify-between bg-slate-50 dark:bg-slate-800/50 p-4 rounded-xl border border-slate-200 dark:border-slate-700\">\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Search (e.g. 'speech', 'voting', '14th')\"\r\n              className=\"w-full sm:w-72 px-4 py-2 rounded-lg border border-slate-300 dark:border-slate-600 bg-white dark:bg-slate-600 focus:ring-2 focus:ring-sky-500 outline-none transition\"\r\n              value={search}\r\n              onChange={(e) => setSearch(e.target.value)}\r\n            />\r\n\r\n            <div className=\"flex bg-white dark:bg-slate-600 rounded-lg p-1 border border-slate-200 dark:border-slate-700\">\r\n              <button\r\n                onClick={() => setMode('simple')}\r\n                className={`px-4 py-1.5 rounded-md text-sm font-semibold transition-all ${\r\n                  mode === 'simple'\r\n                    ? 'bg-sky-100 text-sky-700 dark:bg-sky-900/50 dark:text-sky-300 shadow-sm'\r\n                    : 'text-slate-500 hover:text-slate-700 dark:hover:text-slate-300'\r\n                }`}\r\n              >\r\n                Plain English\r\n              </button>\r\n              <button\r\n                onClick={() => setMode('original')}\r\n                className={`px-4 py-1.5 rounded-md text-sm font-semibold transition-all ${\r\n                  mode === 'original'\r\n                    ? 'bg-amber-100 text-amber-800 dark:bg-amber-900/50 dark:text-amber-200 shadow-sm'\r\n                    : 'text-slate-500 hover:text-slate-700 dark:hover:text-slate-300'\r\n                }`}\r\n              >\r\n                Original Text\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Cards Grid */}\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n            {filteredAmendments.map((amendment) => (\r\n              <div\r\n                key={amendment.id}\r\n                className=\"flex flex-col p-5 rounded-xl border border-slate-200 dark:border-slate-700 bg-white/95 dark:bg-slate-800/95 shadow-sm hover:shadow-md transition-shadow\"\r\n              >\r\n                <div className=\"flex justify-between items-start mb-3\">\r\n                  <span className=\"px-2 py-1 rounded bg-slate-100 dark:bg-slate-700 text-xs font-bold uppercase tracking-wider constitution-text\">\r\n                    {amendment.id} Amendment\r\n                  </span>\r\n                  <span className=\"text-xs font-medium text-sky-600 dark:text-sky-400\">\r\n                    {amendment.topic}\r\n                  </span>\r\n                </div>\r\n                <p\r\n                  className={`text-base leading-relaxed flex-grow constitution-text ${\r\n                    mode === 'original' ? 'font-serif italic' : 'font-sans'\r\n                  }`}\r\n                >\r\n                  {mode === 'original'\r\n                    ? `\"${amendment.original}\"`\r\n                    : amendment.simple}\r\n                </p>\r\n                <div className=\"mt-3 flex items-center justify-between text-xs text-slate-500\">\r\n                  <span>Difficulty: {amendment.difficulty}</span>\r\n                  <span className=\"truncate max-w-[60%]\">\r\n                    {amendment.tags.join(', ')}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n            ))}\r\n            {filteredAmendments.length === 0 && (\r\n              <div className=\"col-span-full text-center py-12 text-slate-500\">\r\n                No amendments found matching \"{search}\".\r\n              </div>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n","// Economics scenarios for the Market Simulator\r\nexport const SCENARIOS = [\r\n  {\r\n    id: 'econ_001',\r\n    prompt:\r\n      'A new technology lowers production costs across the industry. What happens?',\r\n    affect: 'supply', // training mode step 1\r\n    direction: 'increase', // training mode step 2\r\n    explanation:\r\n      'Lower input costs increase supply (shift right), reducing price and increasing quantity.',\r\n    difficulty: 'easy',\r\n    tags: ['technology', 'input_costs'],\r\n  },\r\n  {\r\n    id: 'econ_002',\r\n    prompt: 'Consumer incomes rise sharply for a normal good. What happens?',\r\n    affect: 'demand',\r\n    direction: 'increase',\r\n    explanation:\r\n      'Higher income for a normal good increases demand (shift right), raising price and quantity.',\r\n    difficulty: 'medium',\r\n    tags: ['income', 'tastes'],\r\n  },\r\n  {\r\n    id: 'econ_003',\r\n    prompt: 'A health scare reduces consumer preference for a product.',\r\n    affect: 'demand',\r\n    direction: 'decrease',\r\n    explanation:\r\n      'Lower preference decreases demand (shift left), reducing price and quantity.',\r\n    difficulty: 'medium',\r\n    tags: ['tastes'],\r\n  },\r\n  {\r\n    id: 'econ_004',\r\n    prompt: 'A tax raises input costs for producers.',\r\n    affect: 'supply',\r\n    direction: 'decrease',\r\n    explanation:\r\n      'Higher input costs decrease supply (shift left), raising price and lowering quantity.',\r\n    difficulty: 'hard',\r\n    tags: ['input_costs', 'taxes'],\r\n  },\r\n];\r\n","import React, { useState, useEffect, useRef } from 'react';\r\nimport { SCENARIOS } from '../data/economics/econ_scenarios.js';\r\n\r\nexport default function EconomicsGraphTool({ onExit }) {\r\n  const boardRef = useRef(null);\r\n  const boardInstance = useRef(null);\r\n  const initialized = useRef(false);\r\n\r\n  const [trainingMode, setTrainingMode] = useState(false);\r\n  const [stepAffect, setStepAffect] = useState(null); // 'supply' | 'demand'\r\n  const [stepDirection, setStepDirection] = useState(null); // 'increase' | 'decrease'\r\n\r\n  const [demandShift, setDemandShift] = useState(0); // -4 to 4\r\n  const [supplyShift, setSupplyShift] = useState(0); // -4 to 4\r\n  const [equilibrium, setEquilibrium] = useState({ p: 5, q: 5 });\r\n\r\n  const [activeScenarioIdx, setActiveScenarioIdx] = useState(0);\r\n  const scenario = SCENARIOS[activeScenarioIdx];\r\n  const [premadeFeedback, setPremadeFeedback] = useState('');\r\n  const [showExplanation, setShowExplanation] = useState(false);\r\n\r\n  const checkPremadeAnswer = (idx) => {\r\n    const opts = [\r\n      'Price decreases; Quantity increases',\r\n      'Price increases; Quantity decreases',\r\n      'Price increases; Quantity increases',\r\n      'Price decreases; Quantity decreases',\r\n    ];\r\n    const correct =\r\n      scenario.affect === 'supply' && scenario.direction === 'increase'\r\n        ? idx === 0\r\n        : null;\r\n    if (correct === null) {\r\n      // generic: demand increase => price up, quantity up; demand decrease => price down, quantity down\r\n      // supply increase => price down, quantity up; supply decrease => price up, quantity down\r\n      const mapping = {\r\n        demand_increase: 2,\r\n        demand_decrease: 3,\r\n        supply_increase: 0,\r\n        supply_decrease: 1,\r\n      };\r\n      const key = `${scenario.affect}_${scenario.direction}`;\r\n      const correctIdx = mapping[key];\r\n      setPremadeFeedback(\r\n        idx === correctIdx\r\n          ? 'Correct!'\r\n          : 'Not quite. Try adjusting the curve to match the concept.'\r\n      );\r\n    } else {\r\n      setPremadeFeedback(\r\n        correct\r\n          ? 'Correct!'\r\n          : 'Not quite. Try moving the supply slider right and observe equilibrium.'\r\n      );\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (!window.JXG || !boardRef.current) return;\r\n    if (initialized.current) return; // avoid duplicate init\r\n\r\n    initialized.current = true;\r\n    const board = window.JXG.JSXGraph.initBoard(boardRef.current.id, {\r\n      boundingbox: [-1, 12, 12, -1],\r\n      axis: false,\r\n      showCopyright: false,\r\n      showNavigation: false,\r\n      keepAspectRatio: true,\r\n      pan: { enabled: false },\r\n      zoom: { enabled: false },\r\n    });\r\n\r\n    board.on('down', () => false);\r\n    board.on('move', () => false);\r\n    board.on('up', () => false);\r\n\r\n    board.create(\r\n      'axis',\r\n      [\r\n        [0, 0],\r\n        [1, 0],\r\n      ],\r\n      {\r\n        name: 'Quantity',\r\n        withLabel: true,\r\n        label: { position: 'rt', offset: [-10, 10] },\r\n        fixed: true,\r\n        highlight: false,\r\n        strokeColor: '#64748b',\r\n      }\r\n    );\r\n    board.create(\r\n      'axis',\r\n      [\r\n        [0, 0],\r\n        [0, 1],\r\n      ],\r\n      {\r\n        name: 'Price',\r\n        withLabel: true,\r\n        label: { position: 'rt', offset: [-20, 0] },\r\n        fixed: true,\r\n        highlight: false,\r\n        strokeColor: '#64748b',\r\n      }\r\n    );\r\n\r\n    boardInstance.current = board;\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    const board = boardInstance.current;\r\n    if (!board) return;\r\n    board.suspendUpdate();\r\n\r\n    const d_intercept = 10 + demandShift;\r\n    const s_intercept = 0 + supplyShift;\r\n\r\n    const eq_Q = (d_intercept - s_intercept) / 2;\r\n    const eq_P = eq_Q + s_intercept;\r\n    setEquilibrium({ p: eq_P, q: eq_Q });\r\n\r\n    // Remove prior dynamic elements\r\n    if (board.objectsList) {\r\n      board.objectsList.forEach((el) => {\r\n        if (\r\n          (el.elType === 'line' ||\r\n            el.elType === 'point' ||\r\n            el.elType === 'text' ||\r\n            el.elType === 'segment') &&\r\n          el.name !== 'Quantity' &&\r\n          el.name !== 'Price'\r\n        ) {\r\n          board.removeObject(el);\r\n        }\r\n      });\r\n    }\r\n\r\n    // Demand line\r\n    board.create(\r\n      'line',\r\n      [\r\n        [0, d_intercept],\r\n        [10, d_intercept - 10],\r\n      ],\r\n      {\r\n        strokeColor: '#3b82f6',\r\n        strokeWidth: 3,\r\n        name: 'Demand',\r\n        withLabel: true,\r\n        label: { position: 'top', offset: [10, 10] },\r\n        fixed: true,\r\n        highlight: false,\r\n      }\r\n    );\r\n    // Supply line\r\n    board.create(\r\n      'line',\r\n      [\r\n        [0, s_intercept],\r\n        [10, 10 + s_intercept],\r\n      ],\r\n      {\r\n        strokeColor: '#ef4444',\r\n        strokeWidth: 3,\r\n        name: 'Supply',\r\n        withLabel: true,\r\n        label: { position: 'top', offset: [10, -10] },\r\n        fixed: true,\r\n        highlight: false,\r\n      }\r\n    );\r\n\r\n    // Equilibrium point\r\n    board.create('point', [eq_Q, eq_P], {\r\n      name: '',\r\n      face: 'o',\r\n      size: 5,\r\n      strokeColor: '#22c55e',\r\n      fillColor: '#22c55e',\r\n      fixed: true,\r\n      highlight: false,\r\n    });\r\n    // Guides\r\n    board.create(\r\n      'segment',\r\n      [\r\n        [eq_Q, 0],\r\n        [eq_Q, eq_P],\r\n      ],\r\n      {\r\n        strokeColor: '#94a3b8',\r\n        dash: 2,\r\n        strokeWidth: 1,\r\n        fixed: true,\r\n        highlight: false,\r\n      }\r\n    );\r\n    board.create(\r\n      'segment',\r\n      [\r\n        [0, eq_P],\r\n        [eq_Q, eq_P],\r\n      ],\r\n      {\r\n        strokeColor: '#94a3b8',\r\n        dash: 2,\r\n        strokeWidth: 1,\r\n        fixed: true,\r\n        highlight: false,\r\n      }\r\n    );\r\n\r\n    board.unsuspendUpdate();\r\n  }, [demandShift, supplyShift]);\r\n\r\n  useEffect(\r\n    () => () => {\r\n      if (boardInstance.current) {\r\n        try {\r\n          window.JXG?.JSXGraph?.freeBoard(boardInstance.current);\r\n        } catch {}\r\n        boardInstance.current = null;\r\n        initialized.current = false;\r\n      }\r\n    },\r\n    []\r\n  );\r\n\r\n  const applyTrainingSelection = () => {\r\n    if (!trainingMode) return;\r\n    if (stepAffect === 'demand') {\r\n      setDemandShift(stepDirection === 'increase' ? 2 : -2);\r\n    } else if (stepAffect === 'supply') {\r\n      setSupplyShift(stepDirection === 'increase' ? 2 : -2);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"fade-in min-h-screen bg-white dark:bg-slate-700 text-slate-900 dark:text-slate-100 p-6\">\r\n      <header className=\"flex justify-between items-center border-b border-slate-200 dark:border-slate-700 pb-4 mb-6\">\r\n        <button\r\n          onClick={onExit}\r\n          className=\"text-sm font-semibold text-sky-600 hover:text-sky-700\"\r\n        >\r\n           Back to Social Studies\r\n        </button>\r\n        <h2 className=\"text-2xl font-bold\">\r\n          Market Simulator  Supply & Demand Trainer\r\n        </h2>\r\n        <div className=\"w-16\"></div>\r\n      </header>\r\n\r\n      <div className=\"flex flex-col lg:flex-row gap-8\">\r\n        <div className=\"flex-1 bg-white/95 dark:bg-slate-600/95 rounded-xl border border-slate-200 dark:border-slate-700 shadow-sm overflow-hidden h-[500px] relative\">\r\n          <div\r\n            id=\"econ-board\"\r\n            ref={boardRef}\r\n            className=\"jxgbox w-full h-full\"\r\n            style={{ width: '100%', height: '100%', pointerEvents: 'none' }}\r\n            aria-hidden=\"true\"\r\n          />\r\n          <div className=\"absolute top-4 right-4 bg-white/90 dark:bg-slate-600/90 p-3 rounded-lg border border-slate-200 dark:border-slate-600 shadow text-sm\">\r\n            <div className=\"font-bold text-slate-500 uppercase text-xs\">\r\n              Equilibrium\r\n            </div>\r\n            <div className=\"text-emerald-600 font-mono text-lg\">\r\n              Price: ${equilibrium.p.toFixed(2)}\r\n            </div>\r\n            <div className=\"text-emerald-600 font-mono text-lg\">\r\n              Quantity: {equilibrium.q.toFixed(0)} units\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"w-full lg:w-80 space-y-6\">\r\n          {/* Training Mode */}\r\n          <div className=\"p-5 bg-slate-50 dark:bg-slate-600/50 border border-slate-200 dark:border-slate-700 rounded-xl\">\r\n            <div className=\"flex items-center justify-between\">\r\n              <h3 className=\"font-bold\">Training Mode</h3>\r\n              <button\r\n                onClick={() => {\r\n                  const next = !trainingMode;\r\n                  setTrainingMode(next);\r\n                  setStepAffect(null);\r\n                  setStepDirection(null);\r\n                }}\r\n                className={`px-3 py-1 rounded text-sm ${\r\n                  trainingMode\r\n                    ? 'bg-emerald-600 text-white'\r\n                    : 'bg-slate-200 dark:bg-slate-700'\r\n                }`}\r\n              >\r\n                {trainingMode ? 'ON' : 'OFF'}\r\n              </button>\r\n            </div>\r\n            {trainingMode && (\r\n              <div className=\"mt-4 space-y-3\">\r\n                <div>\r\n                  <div className=\"font-medium mb-2\">\r\n                    Step 1: Does this affect Supply or Demand?\r\n                  </div>\r\n                  <div className=\"flex gap-2\">\r\n                    <button\r\n                      className={`px-3 py-1 rounded ${\r\n                        stepAffect === 'supply'\r\n                          ? 'bg-sky-600 text-white'\r\n                          : 'bg-slate-200 dark:bg-slate-700'\r\n                      }`}\r\n                      onClick={() => setStepAffect('supply')}\r\n                    >\r\n                      Supply\r\n                    </button>\r\n                    <button\r\n                      className={`px-3 py-1 rounded ${\r\n                        stepAffect === 'demand'\r\n                          ? 'bg-sky-600 text-white'\r\n                          : 'bg-slate-200 dark:bg-slate-700'\r\n                      }`}\r\n                      onClick={() => setStepAffect('demand')}\r\n                    >\r\n                      Demand\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n                <div>\r\n                  <div className=\"font-medium mb-2\">\r\n                    Step 2: Increase or Decrease?\r\n                  </div>\r\n                  <div className=\"flex gap-2\">\r\n                    <button\r\n                      className={`px-3 py-1 rounded ${\r\n                        stepDirection === 'increase'\r\n                          ? 'bg-sky-600 text-white'\r\n                          : 'bg-slate-200 dark:bg-slate-700'\r\n                      }`}\r\n                      onClick={() => setStepDirection('increase')}\r\n                    >\r\n                      Increase\r\n                    </button>\r\n                    <button\r\n                      className={`px-3 py-1 rounded ${\r\n                        stepDirection === 'decrease'\r\n                          ? 'bg-sky-600 text-white'\r\n                          : 'bg-slate-200 dark:bg-slate-700'\r\n                      }`}\r\n                      onClick={() => setStepDirection('decrease')}\r\n                    >\r\n                      Decrease\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n                <div>\r\n                  <button\r\n                    onClick={applyTrainingSelection}\r\n                    className=\"px-3 py-1 rounded bg-emerald-600 text-white\"\r\n                  >\r\n                    Apply Selection\r\n                  </button>\r\n                </div>\r\n              </div>\r\n            )}\r\n          </div>\r\n\r\n          {/* Demand Controls */}\r\n          <div className=\"p-5 bg-blue-50 dark:bg-blue-900/20 border border-blue-100 dark:border-blue-800 rounded-xl\">\r\n            <h3 className=\"font-bold text-blue-800 dark:text-blue-300 mb-1\">\r\n              Demand Factors\r\n            </h3>\r\n            <p className=\"text-xs text-blue-600 dark:text-blue-400 mb-4\">\r\n              Examples: Consumer income, trends, population.\r\n            </p>\r\n            <label className=\"block text-sm font-medium mb-2\">\r\n              Shift Demand Curve\r\n            </label>\r\n            <input\r\n              type=\"range\"\r\n              min=\"-4\"\r\n              max=\"4\"\r\n              step=\"1\"\r\n              value={demandShift}\r\n              onChange={(e) => setDemandShift(Number(e.target.value))}\r\n              className=\"w-full accent-blue-600 cursor-pointer\"\r\n            />\r\n            <div className=\"flex justify-between text-xs text-slate-500 mt-1\">\r\n              <span>Decrease</span>\r\n              <span>Increase</span>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Supply Controls */}\r\n          <div className=\"p-5 bg-red-50 dark:bg-red-900/20 border border-red-100 dark:border-red-800 rounded-xl\">\r\n            <h3 className=\"font-bold text-red-800 dark:text-red-300 mb-1\">\r\n              Supply Factors\r\n            </h3>\r\n            <p className=\"text-xs text-red-600 dark:text-red-400 mb-4\">\r\n              Examples: Technology, cost of inputs, taxes.\r\n            </p>\r\n            <label className=\"block text-sm font-medium mb-2\">\r\n              Shift Supply Curve\r\n            </label>\r\n            <input\r\n              type=\"range\"\r\n              min=\"-4\"\r\n              max=\"4\"\r\n              step=\"1\"\r\n              value={supplyShift}\r\n              onChange={(e) => setSupplyShift(Number(e.target.value))}\r\n              className=\"w-full accent-red-600 cursor-pointer\"\r\n            />\r\n            <div className=\"flex justify-between text-xs text-slate-500 mt-1\">\r\n              <span>\r\n                Increase Supply\r\n                <br />\r\n                (Lower Cost)\r\n              </span>\r\n              <span>\r\n                Decrease Supply\r\n                <br />\r\n                (Higher Cost)\r\n              </span>\r\n            </div>\r\n          </div>\r\n\r\n          {/* Scenario Trainer */}\r\n          <div className=\"p-4 bg-slate-50 dark:bg-slate-600 rounded-xl text-sm text-slate-900 dark:text-slate-100 border border-slate-200 dark:border-slate-700\">\r\n            <div className=\"flex items-center justify-between mb-2\">\r\n              <p className=\"font-semibold\">Scenario Trainer</p>\r\n              <select\r\n                className=\"text-sm bg-white dark:bg-slate-600 border border-slate-300 dark:border-slate-600 rounded px-2 py-1\"\r\n                value={activeScenarioIdx}\r\n                onChange={(e) => setActiveScenarioIdx(Number(e.target.value))}\r\n              >\r\n                {SCENARIOS.map((s, i) => (\r\n                  <option key={s.id} value={i}>\r\n                    {s.id}  {s.difficulty}\r\n                  </option>\r\n                ))}\r\n              </select>\r\n            </div>\r\n            <p className=\"mb-2\">{scenario.prompt}</p>\r\n            <div className=\"grid grid-cols-1 gap-2\">\r\n              {[\r\n                'Price decreases; Quantity increases',\r\n                'Price increases; Quantity decreases',\r\n                'Price increases; Quantity increases',\r\n                'Price decreases; Quantity decreases',\r\n              ].map((opt, idx) => (\r\n                <button\r\n                  key={idx}\r\n                  type=\"button\"\r\n                  onClick={() => {\r\n                    setShowExplanation(false);\r\n                    checkPremadeAnswer(idx);\r\n                  }}\r\n                  className=\"rounded-md px-3 py-2 text-left transition bg-slate-100 dark:bg-slate-700 hover:bg-slate-200 dark:hover:bg-slate-600\"\r\n                >\r\n                  {String.fromCharCode(65 + idx)}. {opt}\r\n                </button>\r\n              ))}\r\n            </div>\r\n            {premadeFeedback && (\r\n              <div className=\"mt-2 p-2 rounded-md bg-emerald-50 dark:bg-emerald-900/20 border border-emerald-200 dark:border-emerald-800/40 text-emerald-700 dark:text-emerald-200\">\r\n                {premadeFeedback}\r\n              </div>\r\n            )}\r\n            <div className=\"mt-2 flex items-center gap-2\">\r\n              <button\r\n                className=\"text-xs px-2 py-1 rounded bg-slate-200 dark:bg-slate-700\"\r\n                onClick={() => setShowExplanation((v) => !v)}\r\n              >\r\n                Show Explanation\r\n              </button>\r\n            </div>\r\n            {showExplanation && (\r\n              <p className=\"mt-2 text-xs text-slate-600 dark:text-slate-300\">\r\n                Explanation: {scenario.explanation}\r\n              </p>\r\n            )}\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, { useState } from 'react';\r\nimport { getSubjectTheme } from '../theme/designSystem';\r\nimport GeometryFigure from './tools/GeometryFigure';\r\nimport GraphTool from './tools/GraphTool';\r\nimport StepByStepSolver from './tools/StepByStepSolver';\r\nimport StatisticsTool from './tools/StatisticsTool';\r\nimport FormulaSheetModal from './tools/FormulaSheetModal';\r\nimport ScienceFormulaSheet from './tools/ScienceFormulaSheet';\r\nimport ScienceFormulaPractice from './tools/ScienceFormulaPractice';\r\nimport ScienceConceptPractice from './tools/ScienceConceptPractice';\r\nimport ChemistryEquationPractice from './tools/ChemistryEquationPractice';\r\nimport PunnettSquarePractice from './tools/PunnettSquarePractice';\r\nimport Calculator from './tools/Calculator';\r\nimport MapExplorer from '../../tools/MapExplorer';\r\nimport CivicsReasoningLab from '../../tools/CivicsReasoningLab';\r\nimport HistoryTimelineBuilder from '../../tools/HistoryTimelineBuilder';\r\nimport ElectoralCollegeSimulator from '../../tools/ElectoralCollegeSimulator';\r\nimport ConstitutionExplorer from '../../tools/ConstitutionExplorer';\r\nimport EconomicsGraphTool from '../../tools/EconomicsGraphTool';\r\n\r\n// Wrapper components to adapt onExit to onClose\r\nconst MapExplorerWrapper = ({ onClose, dark }) => (\r\n  <MapExplorer onExit={onClose} />\r\n);\r\nconst CivicsReasoningLabWrapper = ({ onClose, dark }) => (\r\n  <CivicsReasoningLab onExit={onClose} />\r\n);\r\nconst HistoryTimelineBuilderWrapper = ({ onClose, dark }) => (\r\n  <HistoryTimelineBuilder onExit={onClose} />\r\n);\r\nconst ElectoralCollegeSimulatorWrapper = ({ onClose, dark }) => (\r\n  <ElectoralCollegeSimulator onExit={onClose} />\r\n);\r\nconst ConstitutionExplorerWrapper = ({ onClose, dark }) => (\r\n  <ConstitutionExplorer onExit={onClose} pack={null} />\r\n);\r\nconst EconomicsGraphToolWrapper = ({ onClose, dark }) => (\r\n  <EconomicsGraphTool onExit={onClose} />\r\n);\r\n\r\n/**\r\n * SubjectToolsModal - Centralized tools panel for each subject\r\n * Houses all subject-specific tools in a clean modal interface\r\n */\r\nexport default function SubjectToolsModal({ subject, dark = false, onClose }) {\r\n  const [selectedTool, setSelectedTool] = useState(null);\r\n  const theme = getSubjectTheme(subject?.toLowerCase(), dark);\r\n\r\n  // Define tools per subject\r\n  const toolsConfig = {\r\n    Math: [\r\n      {\r\n        id: 'calculator',\r\n        name: 'TI-30XS Calculator',\r\n        icon: '',\r\n        component: Calculator,\r\n      },\r\n      {\r\n        id: 'geometry',\r\n        name: 'Geometry Figures',\r\n        icon: '',\r\n        component: GeometryFigure,\r\n      },\r\n      { id: 'graph', name: 'Graphing Tool', icon: '', component: GraphTool },\r\n      {\r\n        id: 'solver',\r\n        name: 'Step-by-Step Solver',\r\n        icon: '',\r\n        component: StepByStepSolver,\r\n      },\r\n      {\r\n        id: 'statistics',\r\n        name: 'Statistics Calculator',\r\n        icon: '',\r\n        component: StatisticsTool,\r\n      },\r\n      {\r\n        id: 'formulas',\r\n        name: 'Formula Sheet',\r\n        icon: '',\r\n        component: FormulaSheetModal,\r\n      },\r\n    ],\r\n    Science: [\r\n      {\r\n        id: 'formulas',\r\n        name: 'Formula Sheet',\r\n        icon: '',\r\n        component: ScienceFormulaSheet,\r\n      },\r\n      {\r\n        id: 'formula-practice',\r\n        name: 'Formula Practice',\r\n        icon: '',\r\n        component: ScienceFormulaPractice,\r\n      },\r\n      {\r\n        id: 'concept-practice',\r\n        name: 'Concept Practice',\r\n        icon: '',\r\n        component: ScienceConceptPractice,\r\n      },\r\n      {\r\n        id: 'punnett-square',\r\n        name: 'Punnett Square Practice',\r\n        icon: '',\r\n        component: PunnettSquarePractice,\r\n      },\r\n      {\r\n        id: 'chemistry-equations',\r\n        name: 'Chemistry Equations',\r\n        icon: '',\r\n        component: ChemistryEquationPractice,\r\n      },\r\n    ],\r\n    'Reasoning Through Language Arts (RLA)': [\r\n      // Future: Reading comprehension tools, grammar checkers, etc.\r\n    ],\r\n    'Social Studies': [\r\n      {\r\n        id: 'map-explorer',\r\n        name: 'Map Explorer',\r\n        icon: '',\r\n        component: MapExplorerWrapper,\r\n      },\r\n      {\r\n        id: 'civics-reasoning',\r\n        name: 'Civics Reasoning Lab',\r\n        icon: '',\r\n        component: CivicsReasoningLabWrapper,\r\n      },\r\n      {\r\n        id: 'history-timeline',\r\n        name: 'History Timeline Builder',\r\n        icon: '',\r\n        component: HistoryTimelineBuilderWrapper,\r\n      },\r\n      {\r\n        id: 'constitution-explorer',\r\n        name: 'Constitution Explorer',\r\n        icon: '',\r\n        component: ConstitutionExplorerWrapper,\r\n      },\r\n      {\r\n        id: 'electoral-college',\r\n        name: 'Electoral College Simulator',\r\n        icon: '',\r\n        component: ElectoralCollegeSimulatorWrapper,\r\n      },\r\n      {\r\n        id: 'economics-market',\r\n        name: 'Economics Market Simulator',\r\n        icon: '',\r\n        component: EconomicsGraphToolWrapper,\r\n      },\r\n    ],\r\n  };\r\n\r\n  const tools = toolsConfig[subject] || [];\r\n  const ActiveToolComponent = tools.find(\r\n    (t) => t.id === selectedTool\r\n  )?.component;\r\n\r\n  if (!subject) return null;\r\n\r\n  return (\r\n    <div\r\n      className=\"fixed inset-0 z-50 flex items-center justify-center p-4\"\r\n      style={{ backgroundColor: 'rgba(0, 0, 0, 0.75)' }}\r\n      onClick={onClose}\r\n    >\r\n      <div\r\n        className=\"w-full max-w-6xl max-h-[90vh] rounded-2xl shadow-2xl overflow-hidden flex flex-col\"\r\n        style={{\r\n          backgroundColor: dark ? '#1e293b' : '#ffffff',\r\n          backgroundClip: 'padding-box',\r\n          border: `2px solid ${theme?.accent || '#64748b'}`,\r\n          backdropFilter: 'none',\r\n          WebkitBackdropFilter: 'none',\r\n          opacity: 1,\r\n        }}\r\n        onClick={(e) => e.stopPropagation()}\r\n      >\r\n        {/* Header */}\r\n        <div\r\n          className=\"p-6 flex items-center justify-between\"\r\n          style={{\r\n            background: dark\r\n              ? theme?.gradient ||\r\n                'linear-gradient(135deg, #64748b 0%, #475569 100%)'\r\n              : '#f0f9ff',\r\n            color: dark ? '#ffffff' : '#0f172a',\r\n            opacity: 1,\r\n          }}\r\n        >\r\n          <div>\r\n            <h2 className=\"text-2xl font-bold\">{subject} Tools</h2>\r\n            <p className=\"text-sm opacity-90 mt-1\">\r\n              Select a tool below to access practice resources\r\n            </p>\r\n          </div>\r\n          <button\r\n            onClick={onClose}\r\n            className=\"text-3xl font-bold hover:opacity-80 transition-opacity w-10 h-10 flex items-center justify-center rounded-lg hover:bg-white/20\"\r\n            aria-label=\"Close tools panel\"\r\n          >\r\n            \r\n          </button>\r\n        </div>\r\n\r\n        {/* Content Area */}\r\n        <div\r\n          className=\"flex-1 overflow-y-auto p-6\"\r\n          style={{ \r\n            backgroundColor: dark ? '#1e293b' : '#ffffff',\r\n            opacity: 1,\r\n          }}\r\n        >\r\n          {!selectedTool ? (\r\n            // Tool Grid - Selection View\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n              {tools.length > 0 ? (\r\n                tools.map((tool) => (\r\n                  <button\r\n                    key={tool.id}\r\n                    onClick={() => setSelectedTool(tool.id)}\r\n                    className=\"p-6 rounded-xl border-2 text-left transition-all hover:scale-105 hover:shadow-lg\"\r\n                    style={{\r\n                      backgroundColor: dark ? '#4b5563' : '#f1f5f9',\r\n                      borderColor: dark\r\n                        ? theme?.accent || '#64748b'\r\n                        : '#cbd5e1',\r\n                      color: dark ? '#e2e8f0' : '#0f172a',\r\n                      opacity: 1,\r\n                    }}\r\n                  >\r\n                    <div className=\"text-5xl mb-3\">{tool.icon}</div>\r\n                    <h3 className=\"text-lg font-bold mb-2\">{tool.name}</h3>\r\n                    <p className=\"text-sm opacity-75\">Click to open</p>\r\n                  </button>\r\n                ))\r\n              ) : (\r\n                <div className=\"col-span-full text-center py-12\">\r\n                  <div className=\"text-6xl mb-4\"></div>\r\n                  <h3\r\n                    className=\"text-xl font-semibold mb-2\"\r\n                    style={{ color: dark ? '#e2e8f0' : '#1e293b' }}\r\n                  >\r\n                    Tools Coming Soon\r\n                  </h3>\r\n                  <p\r\n                    className=\"text-sm opacity-75\"\r\n                    style={{ color: dark ? '#94a3b8' : '#64748b' }}\r\n                  >\r\n                    Subject-specific tools are being developed\r\n                  </p>\r\n                </div>\r\n              )}\r\n            </div>\r\n          ) : (\r\n            // Tool Display - Active Tool View\r\n            <div>\r\n              <button\r\n                onClick={() => setSelectedTool(null)}\r\n                className=\"mb-4 px-4 py-2 rounded-lg font-medium transition-colors\"\r\n                style={{\r\n                  backgroundColor: dark ? '#475569' : '#e2e8f0',\r\n                  color: dark ? '#e2e8f0' : '#1e293b',\r\n                }}\r\n              >\r\n                 Back to Tools\r\n              </button>\r\n\r\n              {ActiveToolComponent && (\r\n                <ActiveToolComponent\r\n                  onClose={() => setSelectedTool(null)}\r\n                  dark={dark}\r\n                />\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n\r\n        {/* Footer */}\r\n        <div\r\n          className=\"p-4 border-t flex justify-between items-center\"\r\n          style={{\r\n            backgroundColor: dark ? '#0f172a' : '#f8fafc',\r\n            borderColor: dark ? '#334155' : '#e2e8f0',\r\n            color: dark ? '#94a3b8' : '#64748b',\r\n          }}\r\n        >\r\n          <span className=\"text-sm\">\r\n            {tools.length} tool{tools.length !== 1 ? 's' : ''} available\r\n          </span>\r\n          <button\r\n            onClick={onClose}\r\n            className=\"px-4 py-2 rounded-lg font-medium transition-colors\"\r\n            style={{\r\n              backgroundColor: theme?.accent || '#64748b',\r\n              color: '#ffffff',\r\n            }}\r\n          >\r\n            Close\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n","import React, {\r\n  useState,\r\n  useEffect,\r\n  useMemo,\r\n  useRef,\r\n  useCallback,\r\n  useContext,\r\n  useReducer,\r\n  createContext,\r\n} from 'react';\r\nimport ReactDOM from 'react-dom/client';\r\nimport { normalizeImageUrl } from '../../utils/normalizeImageUrl.js';\r\nimport { AuthScreen as SharedAuthScreen } from '../../components/auth/AuthScreen.jsx';\r\nimport SuperAdminAllQuestions from '../views/SuperAdminAllQuestions.jsx';\r\nimport SuperAdminQuestionBrowser from '../views/SuperAdminQuestionBrowser.jsx';\r\n\r\n// Compatibility shim: prefer new JSON-based catalogs, but expose legacy globals\r\n(function () {\r\n  try {\r\n    if (typeof window === 'undefined') return;\r\n    const catalog =\r\n      window.UnifiedQuizCatalog ||\r\n      window.AppData ||\r\n      (window.Data && window.Data.expandedQuizData) ||\r\n      {};\r\n    if (!window.ExpandedQuizData && catalog) {\r\n      window.ExpandedQuizData = catalog;\r\n    }\r\n    if (!window.MergedExpandedQuizData && window.ExpandedQuizData) {\r\n      window.MergedExpandedQuizData = window.ExpandedQuizData;\r\n    }\r\n  } catch {}\r\n})();\r\n\r\n// pull hooks from the global React (because we're using CDN React, not imports)\r\n\r\n// optional but helpful\r\n\r\nconsole.log(\r\n  'React is',\r\n  typeof React,\r\n  'ReactDOM is',\r\n  typeof ReactDOM,\r\n  'useState is',\r\n  typeof useState\r\n);\r\n\r\nconst SUBJECT_PROGRESS_KEYS = [\r\n  'Math',\r\n  'Reasoning Through Language Arts (RLA)',\r\n  'Science',\r\n  'Social Studies',\r\n  'Workforce Readiness',\r\n];\r\n\r\n// Canonical order for rendering subject panels (display order)\r\nconst SUBJECT_DISPLAY_ORDER = [\r\n  'Math',\r\n  'Reasoning Through Language Arts (RLA)',\r\n  'Science',\r\n  'Social Studies',\r\n  'Workforce Readiness',\r\n];\r\n\r\nconst GED_PASSING_SCORE = 145;\r\n\r\n// global subject ids + badge paths so every component can share them\r\nconst SUBJECT_ID_MAP = {\r\n  Math: 'math',\r\n  Science: 'science',\r\n  'Social Studies': 'social_studies',\r\n  'Reasoning Through Language Arts (RLA)': 'rla',\r\n  RLA: 'rla',\r\n  'Workforce Readiness': 'workforce',\r\n};\r\n\r\nconst BADGE_IMG_PATHS = {\r\n  math: '/badges/math.svg',\r\n  science: '/badges/science.svg',\r\n  social_studies: '/badges/social-studies.svg',\r\n  rla: '/badges/rla.svg',\r\n};\r\n\r\n// Global premade catalog; ensure it's on window to be shareable across late loaders\r\nlet PREMADE_QUIZ_CATALOG =\r\n  typeof window !== 'undefined' && window.PREMADE_QUIZ_CATALOG\r\n    ? window.PREMADE_QUIZ_CATALOG\r\n    : {};\r\nif (typeof window !== 'undefined') {\r\n  window.PREMADE_QUIZ_CATALOG = PREMADE_QUIZ_CATALOG;\r\n}\r\n\r\n// Build PREMADE_QUIZ_CATALOG from window.ExpandedQuizData so totals render even if backend fails\r\nfunction hydratePremadeCatalogFromWindow() {\r\n  try {\r\n    const src =\r\n      typeof window !== 'undefined'\r\n        ? window.MergedExpandedQuizData ||\r\n          window.ExpandedQuizData ||\r\n          (window.Data && window.Data.expandedQuizData) ||\r\n          window.AppData ||\r\n          {}\r\n        : {};\r\n    const out = Object.assign({}, src);\r\n    PREMADE_QUIZ_CATALOG = out;\r\n    if (typeof window !== 'undefined') {\r\n      window.PREMADE_QUIZ_CATALOG = PREMADE_QUIZ_CATALOG;\r\n    }\r\n    console.log(\r\n      '[hydrate] Catalog updated:',\r\n      Object.keys(out)\r\n        .map((k) => `${k}: ${out[k].length}`)\r\n        .join(', ')\r\n    );\r\n  } catch (e) {\r\n    console.error('[hydrate] Failed:', e);\r\n  }\r\n}\r\n\r\n// Export for event listener\r\nif (typeof window !== 'undefined') {\r\n  window.hydratePremadeCatalogFromWindow = hydratePremadeCatalogFromWindow;\r\n}\r\n\r\n// Hydrate early so createEmptyProgress can pick up totals\r\nhydratePremadeCatalogFromWindow();\r\n// Regression guard: warn if catalog is empty\r\ntry {\r\n  if (\r\n    !Array.isArray(PREMADE_QUIZ_CATALOG?.['Math']) ||\r\n    PREMADE_QUIZ_CATALOG['Math'].length === 0\r\n  ) {\r\n    console.warn(\r\n      '[progress] Math premade catalog is empty - progress bars will show 0/0'\r\n    );\r\n  }\r\n} catch {}\r\n\r\nconst getPremadeQuizTotal = (subject) => {\r\n  try {\r\n    // Prefer hydrated catalog derived from ExpandedQuizData\r\n    const list = PREMADE_QUIZ_CATALOG?.[subject];\r\n    if (Array.isArray(list)) return list.length;\r\n    // Fallback: derive from AppData if available\r\n    const src =\r\n      typeof window !== 'undefined' && window.UnifiedQuizCatalog\r\n        ? window.UnifiedQuizCatalog\r\n        : typeof window !== 'undefined'\r\n        ? window.AppData\r\n        : AppData;\r\n    const subjectData = src?.[subject];\r\n    if (!subjectData) return 0;\r\n    let total = 0;\r\n    if (Array.isArray(subjectData.quizzes)) total += subjectData.quizzes.length;\r\n    const cats = subjectData.categories || {};\r\n    for (const catName of Object.keys(cats)) {\r\n      const topics = Array.isArray(cats[catName]?.topics)\r\n        ? cats[catName].topics\r\n        : [];\r\n      topics.forEach((t) => {\r\n        if (Array.isArray(t?.quizzes)) total += t.quizzes.length;\r\n        else if (Array.isArray(t?.questions)) total += 1;\r\n      });\r\n    }\r\n    return total;\r\n  } catch {\r\n    return 0;\r\n  }\r\n};\r\n\r\nconst createEmptyProgress = () =>\r\n  SUBJECT_PROGRESS_KEYS.reduce((acc, subject) => {\r\n    acc[subject] = {\r\n      attempts: [],\r\n      attemptCount: 0,\r\n      averageScaledScore: null,\r\n      completedCount: 0,\r\n      completionPercentage: 0,\r\n      passedExamCodes: [],\r\n      totalPremadeExams: getPremadeQuizTotal(subject),\r\n      lastAttempt: null,\r\n    };\r\n    return acc;\r\n  }, {});\r\n\r\nconst buildProgressFromAttempts = (attempts = []) => {\r\n  const progress = createEmptyProgress();\r\n  const subjectStats = SUBJECT_PROGRESS_KEYS.reduce((acc, subject) => {\r\n    acc[subject] = { scoreSum: 0, count: 0, passed: new Set() };\r\n    return acc;\r\n  }, {});\r\n\r\n  const normalizedAttempts = Array.isArray(attempts) ? attempts : [];\r\n\r\n  normalizedAttempts.forEach((entry) => {\r\n    const subjectKey = entry?.subject;\r\n    if (!subjectKey || !progress[subjectKey]) {\r\n      return;\r\n    }\r\n\r\n    const normalized = {\r\n      id: entry?.id ?? null,\r\n      quizCode:\r\n        entry?.quizCode ||\r\n        entry?.quiz_code ||\r\n        entry?.quizId ||\r\n        entry?.quiz_id ||\r\n        null,\r\n      quizTitle:\r\n        entry?.quizTitle || entry?.quiz_title || entry?.quizName || null,\r\n      quizType: entry?.quizType || entry?.quiz_type || null,\r\n      totalQuestions:\r\n        typeof entry?.totalQuestions === 'number'\r\n          ? entry.totalQuestions\r\n          : Number.isFinite(Number(entry?.total_questions))\r\n          ? Math.round(Number(entry.total_questions))\r\n          : Number.isFinite(Number(entry?.totalQuestions))\r\n          ? Math.round(Number(entry.totalQuestions))\r\n          : null,\r\n      scaledScore:\r\n        typeof entry?.scaledScore === 'number'\r\n          ? Math.round(entry.scaledScore)\r\n          : Number.isFinite(Number(entry?.scaled_score))\r\n          ? Math.round(Number(entry.scaled_score))\r\n          : null,\r\n      attemptedAt:\r\n        entry?.attemptedAt || entry?.attempted_at || entry?.takenAt || null,\r\n    };\r\n\r\n    const derivedPassed = (() => {\r\n      if (typeof entry?.passed === 'boolean') {\r\n        return entry.passed;\r\n      }\r\n      if (typeof entry?.passed === 'string') {\r\n        const lowered = entry.passed.trim().toLowerCase();\r\n        if (lowered === 'true' || lowered === '1') return true;\r\n        if (lowered === 'false' || lowered === '0') return false;\r\n      }\r\n      if (normalized.scaledScore != null) {\r\n        return normalized.scaledScore >= GED_PASSING_SCORE;\r\n      }\r\n      return null;\r\n    })();\r\n\r\n    normalized.passed = derivedPassed;\r\n\r\n    progress[subjectKey].attempts.push(normalized);\r\n\r\n    if (normalized.scaledScore != null) {\r\n      subjectStats[subjectKey].scoreSum += normalized.scaledScore;\r\n      subjectStats[subjectKey].count += 1;\r\n    }\r\n\r\n    if (normalized.passed && normalized.quizCode) {\r\n      subjectStats[subjectKey].passed.add(normalized.quizCode);\r\n    }\r\n  });\r\n\r\n  SUBJECT_PROGRESS_KEYS.forEach((subject) => {\r\n    const stats = subjectStats[subject];\r\n    const subjectProgress = progress[subject];\r\n    const totalPremade = getPremadeQuizTotal(subject);\r\n\r\n    subjectProgress.attempts.sort((a, b) => {\r\n      const aDate = a.attemptedAt ? new Date(a.attemptedAt).getTime() : 0;\r\n      const bDate = b.attemptedAt ? new Date(b.attemptedAt).getTime() : 0;\r\n      if (bDate === aDate) {\r\n        return (b.id ?? 0) - (a.id ?? 0);\r\n      }\r\n      return bDate - aDate;\r\n    });\r\n\r\n    subjectProgress.attemptCount = subjectProgress.attempts.length;\r\n    subjectProgress.averageScaledScore = stats.count\r\n      ? Math.round(stats.scoreSum / stats.count)\r\n      : null;\r\n    subjectProgress.completedCount = stats.passed.size;\r\n    subjectProgress.passedExamCodes = Array.from(stats.passed);\r\n    subjectProgress.totalPremadeExams = totalPremade;\r\n    subjectProgress.completionPercentage =\r\n      totalPremade > 0\r\n        ? Math.min(100, Math.round((stats.passed.size / totalPremade) * 100))\r\n        : 0;\r\n    subjectProgress.lastAttempt = subjectProgress.attempts[0] || null;\r\n  });\r\n\r\n  return progress;\r\n};\r\n\r\nconst ensureUserProfile = (user) => {\r\n  if (!user || typeof user !== 'object') {\r\n    return null;\r\n  }\r\n  const email = typeof user.email === 'string' ? user.email : '';\r\n  const baseName =\r\n    user.name && typeof user.name === 'string' && user.name.trim()\r\n      ? user.name.trim()\r\n      : email.includes('@')\r\n      ? email.split('@')[0]\r\n      : email || 'Learner';\r\n  const picture =\r\n    user.picture && typeof user.picture === 'string' && user.picture.trim()\r\n      ? user.picture.trim()\r\n      : `https://ui-avatars.com/api/?background=0ea5e9&color=fff&name=${encodeURIComponent(\r\n          baseName\r\n        )}`;\r\n  const role = typeof user.role === 'string' ? user.role : 'student';\r\n  const organizationId = user.organization_id ?? null;\r\n  const organizationName = user.organization_name ?? null;\r\n\r\n  return {\r\n    ...user,\r\n    name: baseName,\r\n    picture,\r\n    role,\r\n    organization_id: organizationId,\r\n    organization_name: organizationName,\r\n  };\r\n};\r\n\r\nconst DEFAULT_COLOR_SCHEME = {\r\n  background: 'var(--nav-active-bg)',\r\n  onBackgroundText: 'var(--nav-active-text)',\r\n  accent: 'var(--accent)',\r\n  accentText: 'var(--accent-text)',\r\n  navAnsweredBg: 'var(--nav-answered-bg)',\r\n  navAnsweredText: 'var(--nav-answered-text)',\r\n  navDefaultBg: 'var(--nav-default-bg)',\r\n  navDefaultText: 'var(--nav-default-text)',\r\n  navMarkedRing: 'var(--nav-marked-ring)',\r\n  optionSelectedBg: 'var(--accent-soft)',\r\n  optionSelectedBorder: 'var(--accent-border)',\r\n  optionHover: 'var(--option-hover-bg)',\r\n  scoreBackground: 'var(--bg-overlay)',\r\n  scoreText: 'var(--accent-text)',\r\n  scoreBorder: 'var(--border-subtle)',\r\n  surface: 'var(--bg-surface)',\r\n  surfaceStrong: 'var(--bg-overlay)',\r\n  surfaceBorder: 'var(--border-subtle)',\r\n  divider: 'var(--border-subtle)',\r\n  text: 'var(--text-primary)',\r\n  mutedText: 'var(--text-secondary)',\r\n  inputBorder: 'var(--border-subtle)',\r\n  ring: 'var(--accent-ring)',\r\n  timerLowBg: 'var(--timer-low-bg)',\r\n  timerLowText: 'var(--timer-low-text)',\r\n  timerDefaultBg: 'var(--timer-default-bg)',\r\n  timerDefaultText: 'var(--timer-default-text)',\r\n};\r\n\r\nconst SUBJECT_COLORS = {\r\n  Science: {\r\n    background: 'var(--subject-science-accent)',\r\n    text: 'var(--subject-science-surface-text)',\r\n    heroText: 'var(--subject-science-text)',\r\n    border: 'var(--subject-science-border)',\r\n    scoreBackground: 'var(--bg-overlay)',\r\n    scoreText: 'var(--subject-science-text)',\r\n    scoreBorder: 'var(--subject-science-border)',\r\n    accent: 'var(--subject-science-accent)',\r\n    accentText: 'var(--subject-science-accent-text)',\r\n  },\r\n  'Social Studies': {\r\n    background: 'var(--subject-social-accent)',\r\n    text: 'var(--subject-social-surface-text)',\r\n    heroText: 'var(--subject-social-text)',\r\n    border: 'var(--subject-social-border)',\r\n    scoreBackground: 'var(--bg-overlay)',\r\n    scoreText: 'var(--subject-social-text)',\r\n    scoreBorder: 'var(--subject-social-border)',\r\n    accent: 'var(--subject-social-accent)',\r\n    accentText: 'var(--subject-social-accent-text)',\r\n  },\r\n  'Reasoning Through Language Arts (RLA)': {\r\n    background: 'var(--subject-rla-accent)',\r\n    text: 'var(--subject-rla-surface-text)',\r\n    heroText: 'var(--subject-rla-text)',\r\n    border: 'var(--subject-rla-border)',\r\n    scoreBackground: 'var(--bg-overlay)',\r\n    scoreText: 'var(--subject-rla-text)',\r\n    scoreBorder: 'var(--subject-rla-border)',\r\n    accent: 'var(--subject-rla-accent)',\r\n    accentText: 'var(--subject-rla-accent-text)',\r\n  },\r\n  Math: {\r\n    background: 'var(--subject-math-accent)',\r\n    text: 'var(--math-text)',\r\n    heroText: 'var(--subject-math-text)',\r\n    border: 'var(--math-surface-border)',\r\n    scoreBackground: 'var(--bg-overlay)',\r\n    scoreText: 'var(--math-text)',\r\n    scoreBorder: 'var(--math-surface-border)',\r\n    accent: 'var(--subject-math-accent)',\r\n    accentText: 'var(--subject-math-accent-text)',\r\n    surface: 'var(--math-surface)',\r\n    surfaceStrong: 'var(--math-surface)',\r\n    surfaceBorder: 'var(--math-surface-border)',\r\n    divider: 'var(--math-divider)',\r\n    mutedText: 'var(--math-muted-text)',\r\n    onBackgroundText: 'var(--math-text)',\r\n  },\r\n  Simulations: {\r\n    background: 'var(--subject-simulations-accent)',\r\n    text: 'var(--subject-simulations-surface-text)',\r\n    heroText: 'var(--subject-simulations-text)',\r\n    border: 'var(--subject-simulations-border)',\r\n    scoreBackground: 'var(--bg-overlay)',\r\n    scoreText: 'var(--subject-simulations-text)',\r\n    scoreBorder: 'var(--subject-simulations-border)',\r\n    accent: 'var(--subject-simulations-accent)',\r\n    accentText: 'var(--subject-simulations-accent-text)',\r\n  },\r\n  'Workforce Readiness': {\r\n    background: 'linear-gradient(135deg, #8b5cf6 0%, #6366f1 100%)',\r\n    text: '#ffffff',\r\n    heroText: '#ffffff',\r\n    border: 'rgba(139, 92, 246, 0.5)',\r\n    scoreBackground: 'var(--bg-overlay)',\r\n    scoreText: '#8b5cf6',\r\n    scoreBorder: '#8b5cf6',\r\n    accent: '#8b5cf6',\r\n    accentText: '#ffffff',\r\n  },\r\n};\r\n\r\nconst SUBJECT_BG_GRADIENTS = {\r\n  Math: 'var(--subject-math-gradient)',\r\n  Science: 'var(--subject-science-gradient)',\r\n  'Social Studies': 'var(--subject-social-gradient)',\r\n  'Reasoning Through Language Arts (RLA)': 'var(--subject-rla-gradient)',\r\n  Simulations: 'var(--subject-simulations-gradient)',\r\n  'Workforce Readiness': 'linear-gradient(135deg, #8b5cf6 0%, #6366f1 100%)',\r\n};\r\n\r\nconst SUBJECT_LIGHT_SURFACE_GRADIENTS = {\r\n  Math: 'linear-gradient(135deg, rgba(255,255,255,0.98), rgba(2,132,199,0.12))',\r\n  Science:\r\n    'linear-gradient(135deg, rgba(255,255,255,0.98), rgba(220,38,38,0.12))',\r\n  'Social Studies':\r\n    'linear-gradient(135deg, rgba(255,255,255,0.98), rgba(22,163,74,0.12))',\r\n  'Reasoning Through Language Arts (RLA)':\r\n    'linear-gradient(135deg, rgba(255,255,255,0.98), rgba(124,58,237,0.12))',\r\n  Simulations:\r\n    'linear-gradient(135deg, rgba(255,255,255,0.98), rgba(249,115,22,0.12))',\r\n};\r\n\r\nconst SUBJECT_LIGHT_TINTS = {\r\n  Math: 'rgba(2,132,199,0.2)',\r\n  Science: 'rgba(220,38,38,0.2)',\r\n  'Social Studies': 'rgba(22,163,74,0.2)',\r\n  'Reasoning Through Language Arts (RLA)': 'rgba(124,58,237,0.2)',\r\n  Simulations: 'rgba(249,115,22,0.2)',\r\n};\r\n\r\nconst SUBJECT_SHORT_LABELS = {\r\n  Science: 'Science',\r\n  Math: 'Math',\r\n  'Social Studies': 'Social Studies',\r\n  'Reasoning Through Language Arts (RLA)': 'RLA',\r\n};\r\n\r\nconst VOCABULARY_SUBJECT_COLORS = {\r\n  Science: '#dc2626',\r\n  Math: '#0284c7',\r\n  'Social Studies': '#16a34a',\r\n  'Reasoning Through Language Arts (RLA)': '#7c3aed',\r\n};\r\n\r\nconst MAX_TICKER_WORDS_PER_SUBJECT = 10;\r\n\r\nconst FALLBACK_VOCABULARY = {\r\n  Science: [\r\n    {\r\n      term: 'Hypothesis',\r\n      definition:\r\n        'A testable explanation for an observation that can be supported or refuted through experimentation.',\r\n    },\r\n    {\r\n      term: 'Variable',\r\n      definition: 'A factor in an experiment that can change or be controlled.',\r\n    },\r\n    {\r\n      term: 'Control Group',\r\n      definition:\r\n        'The group in an experiment that does not receive the independent variable and is used for comparison.',\r\n    },\r\n    {\r\n      term: 'Ecosystem',\r\n      definition:\r\n        'A community of living organisms interacting with each other and with their physical environment.',\r\n    },\r\n    {\r\n      term: 'Photosynthesis',\r\n      definition:\r\n        'The process by which plants use light energy to convert carbon dioxide and water into glucose and oxygen.',\r\n    },\r\n    {\r\n      term: 'Cellular Respiration',\r\n      definition:\r\n        'The process in which cells break down glucose and oxygen to release energy, carbon dioxide, and water.',\r\n    },\r\n    {\r\n      term: 'Mitosis',\r\n      definition:\r\n        'A type of cell division that results in two identical daughter cells.',\r\n    },\r\n    {\r\n      term: 'DNA',\r\n      definition:\r\n        'The molecule that carries genetic information in living organisms.',\r\n    },\r\n    {\r\n      term: 'Atom',\r\n      definition:\r\n        'The smallest unit of an element that retains the properties of that element.',\r\n    },\r\n    {\r\n      term: 'Molecule',\r\n      definition: 'Two or more atoms that are chemically bonded together.',\r\n    },\r\n    {\r\n      term: 'Gravity',\r\n      definition: 'The force of attraction between objects with mass.',\r\n    },\r\n    {\r\n      term: 'Qualitative Observation',\r\n      definition:\r\n        'An observation that describes qualities or characteristics without using numbers.',\r\n    },\r\n    {\r\n      term: 'Quantitative Observation',\r\n      definition:\r\n        'An observation that uses numbers or measurements to describe what is observed.',\r\n    },\r\n    {\r\n      term: 'Homeostasis',\r\n      definition:\r\n        'The process by which organisms maintain stable internal conditions despite external changes.',\r\n    },\r\n    {\r\n      term: 'Independent Variable',\r\n      definition:\r\n        'The factor that is purposely changed in an experiment to test its effect.',\r\n    },\r\n    {\r\n      term: 'Dependent Variable',\r\n      definition:\r\n        'The factor that is measured in an experiment and changes in response to the independent variable.',\r\n    },\r\n    {\r\n      term: 'Scientific Method',\r\n      definition:\r\n        'A systematic process of asking questions, forming hypotheses, conducting experiments, and drawing conclusions.',\r\n    },\r\n    {\r\n      term: 'Plate Tectonics',\r\n      definition:\r\n        \"The theory explaining the movement of Earth's lithospheric plates and the activity at their boundaries.\",\r\n    },\r\n    {\r\n      term: 'Fossil',\r\n      definition:\r\n        'The preserved remains, impression, or trace of an organism from the past.',\r\n    },\r\n    {\r\n      term: 'Energy Transfer',\r\n      definition:\r\n        'The movement of energy from one object or system to another.',\r\n    },\r\n  ],\r\n  Math: [\r\n    {\r\n      term: 'Integer',\r\n      definition: 'A whole number that can be positive, negative, or zero.',\r\n    },\r\n    {\r\n      term: 'Fraction',\r\n      definition:\r\n        'A number that represents a part of a whole or a part of a set.',\r\n    },\r\n    {\r\n      term: 'Decimal',\r\n      definition:\r\n        'A number that uses a decimal point to show a value smaller than one.',\r\n    },\r\n    {\r\n      term: 'Percent',\r\n      definition: 'A ratio that compares a number to 100.',\r\n    },\r\n    {\r\n      term: 'Ratio',\r\n      definition: 'A comparison of two quantities by division.',\r\n    },\r\n    {\r\n      term: 'Proportion',\r\n      definition: 'An equation stating that two ratios are equivalent.',\r\n    },\r\n    {\r\n      term: 'Equation',\r\n      definition:\r\n        'A mathematical statement that shows two expressions are equal.',\r\n    },\r\n    {\r\n      term: 'Variable',\r\n      definition:\r\n        'A symbol, usually a letter, that represents an unknown value.',\r\n    },\r\n    {\r\n      term: 'Coefficient',\r\n      definition:\r\n        'The number that is multiplied by a variable in an algebraic expression.',\r\n    },\r\n    {\r\n      term: 'Expression',\r\n      definition:\r\n        'A mathematical phrase that can contain numbers, variables, and operations.',\r\n    },\r\n    {\r\n      term: 'Inequality',\r\n      definition:\r\n        'A mathematical statement that compares two expressions using greater than, less than, or equal to symbols.',\r\n    },\r\n    {\r\n      term: 'Slope',\r\n      definition:\r\n        'A measure of the steepness of a line, found by the ratio of rise over run.',\r\n    },\r\n    {\r\n      term: 'Quadratic Equation',\r\n      definition:\r\n        'An equation in the form ax + bx + c = 0, where a, b, and c are constants and a ? 0.',\r\n    },\r\n    {\r\n      term: 'Linear Function',\r\n      definition: 'A function whose graph is a straight line.',\r\n    },\r\n    {\r\n      term: 'Pythagorean Theorem',\r\n      definition:\r\n        'A formula that relates the side lengths of a right triangle: a + b = c.',\r\n    },\r\n    {\r\n      term: 'Mean',\r\n      definition:\r\n        'The average of a set of numbers, found by adding the numbers and dividing by how many there are.',\r\n    },\r\n    {\r\n      term: 'Median',\r\n      definition: 'The middle value in an ordered set of numbers.',\r\n    },\r\n    {\r\n      term: 'Mode',\r\n      definition: 'The number that appears most often in a set of data.',\r\n    },\r\n    {\r\n      term: 'Range',\r\n      definition:\r\n        'The difference between the highest and lowest values in a data set.',\r\n    },\r\n    {\r\n      term: 'Probability',\r\n      definition:\r\n        'The likelihood that an event will occur, expressed as a ratio, fraction, or percent.',\r\n    },\r\n    {\r\n      term: 'Factor',\r\n      definition: 'A number that divides another number evenly.',\r\n    },\r\n    {\r\n      term: 'Multiple',\r\n      definition: 'The product of a number and any whole number.',\r\n    },\r\n    {\r\n      term: 'Prime Number',\r\n      definition:\r\n        'A whole number greater than 1 that has exactly two factors: 1 and itself.',\r\n    },\r\n    {\r\n      term: 'Composite Number',\r\n      definition:\r\n        'A whole number greater than 1 that has more than two factors.',\r\n    },\r\n    {\r\n      term: 'Perimeter',\r\n      definition: 'The total distance around the outside of a shape.',\r\n    },\r\n    {\r\n      term: 'Area',\r\n      definition: 'The amount of surface covered by a shape.',\r\n    },\r\n    {\r\n      term: 'Volume',\r\n      definition: 'The amount of space a three-dimensional object occupies.',\r\n    },\r\n    {\r\n      term: 'Circumference',\r\n      definition: 'The distance around a circle.',\r\n    },\r\n    {\r\n      term: 'Exponent',\r\n      definition:\r\n        'A small number written above and to the right of a base number that shows how many times the base is multiplied by itself.',\r\n    },\r\n    {\r\n      term: 'Order of Operations',\r\n      definition:\r\n        'The rules that tell you the correct sequence to evaluate a mathematical expression (PEMDAS).',\r\n    },\r\n  ],\r\n  'Reasoning Through Language Arts (RLA)': [\r\n    {\r\n      term: 'Main Idea',\r\n      definition:\r\n        'The central point or most important concept that an author wants the reader to understand.',\r\n    },\r\n    {\r\n      term: 'Supporting Detail',\r\n      definition:\r\n        'Information that explains, proves, or enhances the main idea.',\r\n    },\r\n    {\r\n      term: 'Inference',\r\n      definition:\r\n        'A conclusion reached by using evidence from the text and your own reasoning.',\r\n    },\r\n    {\r\n      term: 'Tone',\r\n      definition: \"The author's attitude toward the subject or audience.\",\r\n    },\r\n    {\r\n      term: 'Theme',\r\n      definition:\r\n        'The underlying message or lesson the author wants to convey.',\r\n    },\r\n    {\r\n      term: 'Thesis Statement',\r\n      definition:\r\n        'A sentence that states the main point or argument of an essay.',\r\n    },\r\n    {\r\n      term: 'Topic Sentence',\r\n      definition: 'The sentence that expresses the main idea of a paragraph.',\r\n    },\r\n    {\r\n      term: 'Transition',\r\n      definition:\r\n        'A word or phrase that connects ideas and helps writing flow smoothly.',\r\n    },\r\n    {\r\n      term: 'Evidence',\r\n      definition: 'Facts, examples, or details used to support a claim.',\r\n    },\r\n    {\r\n      term: 'Claim',\r\n      definition: 'A statement or position that requires support.',\r\n    },\r\n    {\r\n      term: 'Counterclaim',\r\n      definition: \"An opposing viewpoint that challenges the writer's claim.\",\r\n    },\r\n    {\r\n      term: 'Audience',\r\n      definition:\r\n        'The specific group of readers or listeners a text is written for.',\r\n    },\r\n    {\r\n      term: 'Purpose',\r\n      definition:\r\n        'The reason why an author writes a text: to inform, persuade, entertain, or explain.',\r\n    },\r\n    {\r\n      term: 'Figurative Language',\r\n      definition:\r\n        'Words or expressions that go beyond literal meaning, such as metaphors and similes.',\r\n    },\r\n    {\r\n      term: 'Metaphor',\r\n      definition:\r\n        'A comparison between two unlike things without using like or as.',\r\n    },\r\n    {\r\n      term: 'Simile',\r\n      definition:\r\n        'A comparison between two unlike things using the words like or as.',\r\n    },\r\n    {\r\n      term: 'Connotation',\r\n      definition: 'The emotional or cultural meaning attached to a word.',\r\n    },\r\n    {\r\n      term: 'Denotation',\r\n      definition: 'The literal, dictionary definition of a word.',\r\n    },\r\n    {\r\n      term: 'Context Clues',\r\n      definition:\r\n        'Hints within a sentence or paragraph that help the reader determine the meaning of an unfamiliar word.',\r\n    },\r\n    {\r\n      term: 'Revising',\r\n      definition:\r\n        'Improving a draft by adding, removing, or rearranging ideas for clarity and effectiveness.',\r\n    },\r\n    {\r\n      term: 'Editing',\r\n      definition:\r\n        'Correcting grammar, spelling, and punctuation errors in a draft.',\r\n    },\r\n    {\r\n      term: 'Proofreading',\r\n      definition:\r\n        'Reviewing a final draft carefully to catch small errors before publishing.',\r\n    },\r\n    {\r\n      term: 'Persuasive Writing',\r\n      definition:\r\n        'Writing that aims to convince the reader to accept a viewpoint or take a specific action.',\r\n    },\r\n    {\r\n      term: 'Narrative Writing',\r\n      definition:\r\n        'Writing that tells a story with characters, setting, and plot.',\r\n    },\r\n    {\r\n      term: 'Informational Text',\r\n      definition: 'Nonfiction writing that provides facts about a topic.',\r\n    },\r\n    {\r\n      term: 'Point of View',\r\n      definition: 'The perspective from which a story is told.',\r\n    },\r\n    {\r\n      term: 'First-Person Point of View',\r\n      definition:\r\n        'A storytelling perspective in which the narrator is a character in the story and uses words like I and we.',\r\n    },\r\n    {\r\n      term: 'Third-Person Point of View',\r\n      definition:\r\n        'A storytelling perspective where the narrator is outside the story and uses words like he, she, or they.',\r\n    },\r\n    {\r\n      term: 'Chronological Order',\r\n      definition:\r\n        'A text structure that presents events in the order they happened.',\r\n    },\r\n    {\r\n      term: 'Cause and Effect',\r\n      definition:\r\n        'A text structure that explains why something happens and the result of it.',\r\n    },\r\n  ],\r\n  'Social Studies': [\r\n    {\r\n      term: 'Democracy',\r\n      definition:\r\n        'A system of government in which citizens hold the power to make decisions through voting.',\r\n    },\r\n    {\r\n      term: 'Republic',\r\n      definition:\r\n        'A form of government in which citizens elect representatives to make decisions on their behalf.',\r\n    },\r\n    {\r\n      term: 'Constitution',\r\n      definition:\r\n        'A written plan that outlines the structure, powers, and limits of a government.',\r\n    },\r\n    {\r\n      term: 'Amendment',\r\n      definition:\r\n        'A change or addition to a legal or governmental document, such as the U.S. Constitution.',\r\n    },\r\n    {\r\n      term: 'Federalism',\r\n      definition:\r\n        'A system of government in which power is divided between a national government and state governments.',\r\n    },\r\n    {\r\n      term: 'Separation of Powers',\r\n      definition:\r\n        'The division of government responsibilities into distinct branches to prevent any one branch from becoming too powerful.',\r\n    },\r\n    {\r\n      term: 'Checks and Balances',\r\n      definition:\r\n        'A system that allows each branch of government to limit the powers of the other branches.',\r\n    },\r\n    {\r\n      term: 'Suffrage',\r\n      definition: 'The right to vote in political elections.',\r\n    },\r\n    {\r\n      term: 'Civil Rights',\r\n      definition:\r\n        'The rights of citizens to political and social freedom and equality.',\r\n    },\r\n    {\r\n      term: 'Industrialization',\r\n      definition:\r\n        'The development of industries in a country or region on a wide scale.',\r\n    },\r\n    {\r\n      term: 'Urbanization',\r\n      definition:\r\n        'The growth of cities and the movement of people from rural areas to urban centers.',\r\n    },\r\n    {\r\n      term: 'Immigration',\r\n      definition: 'The movement of people into a country from another country.',\r\n    },\r\n    {\r\n      term: 'Cultural Diffusion',\r\n      definition:\r\n        'The spread of cultural beliefs and practices from one group to another.',\r\n    },\r\n    {\r\n      term: 'Economy',\r\n      definition:\r\n        'The system by which goods and services are produced, distributed, and consumed.',\r\n    },\r\n    {\r\n      term: 'Inflation',\r\n      definition:\r\n        'A general increase in prices and a decrease in the purchasing value of money.',\r\n    },\r\n    {\r\n      term: 'Gross Domestic Product',\r\n      definition:\r\n        'The total value of all goods and services produced in a country during a specific time period.',\r\n    },\r\n    {\r\n      term: 'Supply and Demand',\r\n      definition:\r\n        'The relationship between the amount of a product available and the desire of buyers for it, which affects price.',\r\n    },\r\n    {\r\n      term: 'Primary Source',\r\n      definition:\r\n        'An original document or firsthand account created at the time of an event.',\r\n    },\r\n    {\r\n      term: 'Secondary Source',\r\n      definition:\r\n        'A document or account that interprets or analyzes primary sources.',\r\n    },\r\n    {\r\n      term: 'Manifest Destiny',\r\n      definition:\r\n        'The 19th-century belief that the United States was destined to expand across the North American continent.',\r\n    },\r\n    {\r\n      term: 'Reconstruction',\r\n      definition:\r\n        'The period after the U.S. Civil War when southern states were reorganized and reintegrated into the Union.',\r\n    },\r\n    {\r\n      term: 'Great Depression',\r\n      definition:\r\n        'A severe worldwide economic downturn that took place during the 1930s.',\r\n    },\r\n    {\r\n      term: 'Cold War',\r\n      definition:\r\n        'The period of political tension and military rivalry between the United States and the Soviet Union after World War II.',\r\n    },\r\n    {\r\n      term: 'Bill of Rights',\r\n      definition:\r\n        'The first ten amendments to the U.S. Constitution that protect individual liberties.',\r\n    },\r\n    {\r\n      term: 'Legislature',\r\n      definition: 'The branch of government responsible for making laws.',\r\n    },\r\n    {\r\n      term: 'Executive Branch',\r\n      definition: 'The branch of government responsible for enforcing laws.',\r\n    },\r\n    {\r\n      term: 'Judicial Branch',\r\n      definition:\r\n        'The branch of government responsible for interpreting laws and administering justice.',\r\n    },\r\n    {\r\n      term: 'Monarchy',\r\n      definition:\r\n        'A form of government in which a single person, such as a king or queen, rules for life.',\r\n    },\r\n    {\r\n      term: 'Tariff',\r\n      definition: 'A tax imposed on imported goods.',\r\n    },\r\n    {\r\n      term: 'Treaty',\r\n      definition: 'A formal agreement between two or more countries.',\r\n    },\r\n  ],\r\n};\r\n\r\nfunction normalizeVocabularyEntry(entry) {\r\n  if (!entry) return null;\r\n  if (typeof entry === 'string') {\r\n    const trimmed = entry.trim();\r\n    return trimmed ? { term: trimmed, definition: '' } : null;\r\n  }\r\n  if (typeof entry !== 'object') return null;\r\n  const term = typeof entry.term === 'string' ? entry.term.trim() : '';\r\n  if (!term) return null;\r\n  const definition =\r\n    typeof entry.definition === 'string' ? entry.definition.trim() : '';\r\n  const example = typeof entry.example === 'string' ? entry.example.trim() : '';\r\n  const normalized = { term, definition };\r\n  if (example) {\r\n    normalized.example = example;\r\n  }\r\n  return normalized;\r\n}\r\n\r\nfunction mergeVocabularyData(base, override) {\r\n  const result = { ...base };\r\n  if (!override || typeof override !== 'object') {\r\n    return result;\r\n  }\r\n  Object.entries(override).forEach(([subject, entries]) => {\r\n    if (!Array.isArray(entries)) {\r\n      return;\r\n    }\r\n    const normalizedEntries = entries\r\n      .map(normalizeVocabularyEntry)\r\n      .filter(Boolean);\r\n    if (normalizedEntries.length) {\r\n      result[subject] = normalizedEntries;\r\n    }\r\n  });\r\n  return result;\r\n}\r\n\r\nclass ErrorBoundary extends React.Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { err: null };\r\n  }\r\n\r\n  static getDerivedStateFromError(err) {\r\n    return { err };\r\n  }\r\n\r\n  componentDidCatch(err, info) {\r\n    console.error('Render error:', err, info);\r\n  }\r\n\r\n  render() {\r\n    if (this.state.err) {\r\n      return (\r\n        <div\r\n          style={{\r\n            padding: '16px',\r\n            background: '#fee2e2',\r\n            color: '#991b1b',\r\n            fontFamily: 'Inter, sans-serif',\r\n          }}\r\n        >\r\n          <h2 style={{ marginTop: 0 }}>Something went wrong.</h2>\r\n          <pre style={{ whiteSpace: 'pre-wrap' }}>{String(this.state.err)}</pre>\r\n        </div>\r\n      );\r\n    }\r\n\r\n    return this.props.children;\r\n  }\r\n}\r\n\r\n// (removed invalid JSX fragment)\r\n\r\n// Pull sanitizer helpers from global window if present\r\nconst {\r\n  tokenizeMathSegments,\r\n  restoreMathSegments,\r\n  normalizeCurrencyOutsideMath,\r\n  normalizeLatexMacrosInMath,\r\n  stripTextMacroInPlain,\r\n  applyPhraseSpacingRepairs,\r\n  addMissingBackslashesInMath,\r\n  fixAllMathInText,\r\n  collapseUnderscoredLatexMacros,\r\n} = (typeof window !== 'undefined' && window.TextSanitizer) || {};\r\n\r\n// Fallback alias for API_BASE for legacy code safety\r\nconst API_BASE = API_BASE_URL;\r\nconst SCORE_FETCH_INTERVAL_MS = 45000;\r\n\r\nasync function generateTopicQuiz(subjectParam, topic, difficulty) {\r\n  const response = await fetch(\r\n    `${API_BASE_URL}/api/topic-based/${encodeURIComponent(subjectParam)}`,\r\n    {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify({ topic, difficulty }),\r\n    }\r\n  );\r\n\r\n  let payload = null;\r\n  try {\r\n    payload = await response.json();\r\n  } catch (err) {\r\n    throw new Error('The quiz service returned invalid JSON.');\r\n  }\r\n\r\n  if (!response.ok) {\r\n    const message =\r\n      payload?.error || `Request failed with status ${response.status}`;\r\n    throw new Error(message);\r\n  }\r\n\r\n  if (!payload?.success || !Array.isArray(payload.items)) {\r\n    throw new Error('The quiz service returned an unexpected payload.');\r\n  }\r\n\r\n  return payload.items.map((item, idx) => ({\r\n    ...item,\r\n    questionNumber: item.questionNumber ?? idx + 1,\r\n  }));\r\n}\r\nconst SUBJECT_PARAM_MAP = {\r\n  Science: 'Science',\r\n  'Social Studies': 'Social Studies',\r\n  Math: 'Math',\r\n  'Reasoning Through Language Arts (RLA)': 'RLA',\r\n  RLA: 'RLA',\r\n};\r\n\r\nconst resolveSubjectParam = (subject) => {\r\n  if (!subject) {\r\n    return '';\r\n  }\r\n  return SUBJECT_PARAM_MAP[subject] || subject;\r\n};\r\n\r\nfunction applySafeMathFix(text) {\r\n  if (typeof text !== 'string') {\r\n    return text;\r\n  }\r\n  if (typeof fixAllMathInText === 'function') {\r\n    return fixAllMathInText(text);\r\n  }\r\n  let working = text;\r\n  if (typeof collapseUnderscoredLatexMacros === 'function') {\r\n    working = collapseUnderscoredLatexMacros(working);\r\n  }\r\n  if (typeof addMissingBackslashesInMath === 'function') {\r\n    return addMissingBackslashesInMath(working);\r\n  }\r\n  const legacy =\r\n    typeof window !== 'undefined' &&\r\n    window.TextSanitizer &&\r\n    window.TextSanitizer.addMissingBackslashesInMath;\r\n  if (typeof legacy === 'function') {\r\n    return legacy(working);\r\n  }\r\n  return working;\r\n}\r\n\r\nconst ALLOWED_HTML_TAGS = [\r\n  'a',\r\n  'b',\r\n  'strong',\r\n  'i',\r\n  'em',\r\n  'u',\r\n  's',\r\n  'span',\r\n  'p',\r\n  'br',\r\n  'ul',\r\n  'ol',\r\n  'li',\r\n  'table',\r\n  'thead',\r\n  'tbody',\r\n  'tfoot',\r\n  'tr',\r\n  'th',\r\n  'td',\r\n  'caption',\r\n  'colgroup',\r\n  'col',\r\n  'code',\r\n  'pre',\r\n  'sup',\r\n  'sub',\r\n  'div',\r\n  'img',\r\n];\r\nconst ALLOWED_HTML_ATTR = [\r\n  'href',\r\n  'title',\r\n  'target',\r\n  'rel',\r\n  'colspan',\r\n  'rowspan',\r\n  'align',\r\n  'scope',\r\n  'src',\r\n  'alt',\r\n  'class',\r\n];\r\nconst ENTITY_DECODER =\r\n  typeof document !== 'undefined' ? document.createElement('textarea') : null;\r\n\r\n// Utility: strip all HTML tags from a string while decoding entities\r\nfunction stripHtmlTag(input) {\r\n  if (input == null) return '';\r\n  const value = String(input);\r\n  // Quick exit if no angle brackets present\r\n  if (!/[<>]/.test(value)) {\r\n    if (ENTITY_DECODER) {\r\n      ENTITY_DECODER.innerHTML = value;\r\n      return ENTITY_DECODER.value;\r\n    }\r\n    return value;\r\n  }\r\n  const withoutTags = value.replace(/<[^>]*>/g, '');\r\n  if (ENTITY_DECODER) {\r\n    ENTITY_DECODER.innerHTML = withoutTags;\r\n    return ENTITY_DECODER.value;\r\n  }\r\n  return withoutTags;\r\n}\r\n\r\nfunction collapseSplitLatexCommands(source) {\r\n  if (typeof source !== 'string' || source.length === 0) {\r\n    return source;\r\n  }\r\n\r\n  let normalized = source.replace(/\\\\{2}(?=[A-Za-z_])/g, '\\\\');\r\n\r\n  let previous;\r\n  do {\r\n    previous = normalized;\r\n    normalized = normalized.replace(/([A-Za-z])\\\\_/g, '$1');\r\n  } while (normalized !== previous);\r\n\r\n  return normalized.replace(\r\n    /\\\\([A-Za-z])(?:\\\\([A-Za-z]))+/g,\r\n    (match) => `\\\\${match.replace(/\\\\/g, '')}`\r\n  );\r\n}\r\n\r\nfunction normalizeLatex(text) {\r\n  if (typeof text !== 'string' || text.length === 0) {\r\n    return text;\r\n  }\r\n\r\n  let normalized = text;\r\n\r\n  normalized = normalized.replace(\r\n    /(?<!\\\\)\\$([0-9]+(?:\\.[0-9]{1,2})?)/g,\r\n    (_match, amount) => `\\\\$${amount}`\r\n  );\r\n\r\n  normalized = normalized\r\n    .replace(/\\$\\$([\\s\\S]*?)\\$\\$/g, '$1')\r\n    .replace(/(?<!\\\\)\\$([^$]*?)(?<!\\\\)\\$/g, '$1')\r\n    .replace(/\\\\\\(([^]*?)\\\\\\)/g, '$1')\r\n    .replace(/\\\\\\[([^]*?)\\\\\\]/g, '$1');\r\n\r\n  // unwrap accidentally math-wrapped currency, e.g. \"$12.50$\" -> \"$12.50\"\r\n  normalized = normalized.replace(\r\n    /\\$(\\s*\\d+(?:[.,]\\d{1,2}))\\$/g,\r\n    (_m, amount) => `$${amount.trim()}`\r\n  );\r\n  // close-up whitespace after literal $, e.g. \"$   12\" -> \"$12\"\r\n  normalized = normalized.replace(/\\$\\s+(\\d)/g, '$$1');\r\n\r\n  normalized = normalized.replace(/\\\\dfrac/g, '\\\\frac');\r\n\r\n  normalized = normalized\r\n    // repair /frac, ^rac, rac, stray spaces before 'rac'\r\n    .replace(/(?:\\\\|\\/|[\\u2191\\^])\\s*rac\\s*\\{/g, '\\\\frac{')\r\n    .replace(/\\\\frac\\s+([^\\s{}]+)\\s+([^\\s{}]+)/g, '\\\\frac{$1}{$2}')\r\n    .replace(\r\n      /\\\\frac\\s*\\{\\s*([^{}]+?)\\s*\\}\\s*\\{\\s*([^{}]+?)\\s*\\}/g,\r\n      (_match, a, b) => `\\\\frac{${a.trim()}}{${b.trim()}}`\r\n    );\r\n\r\n  normalized = collapseSplitLatexCommands(normalized);\r\n\r\n  if (typeof collapseUnderscoredLatexMacros === 'function') {\r\n    normalized = collapseUnderscoredLatexMacros(normalized);\r\n  }\r\n\r\n  normalized = normalized.replace(/(?<![A-Za-z])rac\\s*\\{/g, '\\\\frac{');\r\n\r\n  normalized = normalized.replace(\r\n    /<\\/?(?:table|thead|tbody|tfoot|tr|th|td|caption|colgroup|col)[^>]*>/gi,\r\n    ' '\r\n  );\r\n  normalized = normalized.replace(/<[^>]+>/g, ' ');\r\n\r\n  normalized = normalized.replace(/(?<!\\\\)\\*/g, '\\\\*');\r\n\r\n  normalized = normalized.replace(/(?<!\\\\)_/g, (match, offset, source) => {\r\n    const prev = offset > 0 ? source[offset - 1] : '';\r\n    if (/^[A-Za-z0-9)]$/.test(prev)) {\r\n      return match;\r\n    }\r\n    return '\\\\_';\r\n  });\r\n\r\n  return normalized.replace(/\\s{2,}/g, ' ').trim();\r\n}\r\n\r\nfunction normalizeLatexForKaTeX(latex) {\r\n  if (typeof latex !== 'string') return latex;\r\n  return latex\r\n    .replace(/\\\\\\\\([A-Za-z]+)/g, '\\\\$1')\r\n    .replace(/\\\\left\\s*/g, '')\r\n    .replace(/\\\\right\\s*/g, '');\r\n}\r\n\r\nconst KATEX_RENDER_OPTIONS = { throwOnError: false, strict: 'ignore' };\r\n\r\nfunction renderLatexToHtml(latexInput) {\r\n  if (typeof latexInput !== 'string') {\r\n    return '';\r\n  }\r\n  if (typeof katex === 'undefined') {\r\n    throw new Error('KaTeX not available');\r\n  }\r\n  const latex = normalizeLatexForKaTeX(latexInput);\r\n  if (\r\n    typeof document !== 'undefined' &&\r\n    typeof document.createElement === 'function' &&\r\n    typeof katex.render === 'function'\r\n  ) {\r\n    const container = document.createElement('span');\r\n    katex.render(latex, container, KATEX_RENDER_OPTIONS);\r\n    return container.innerHTML;\r\n  }\r\n  if (typeof katex.renderToString === 'function') {\r\n    return katex.renderToString(latex, KATEX_RENDER_OPTIONS);\r\n  }\r\n  throw new Error('KaTeX render helpers missing');\r\n}\r\n\r\nfunction normalizeFormulaLatex(latex) {\r\n  if (typeof latex !== 'string') {\r\n    return '';\r\n  }\r\n\r\n  let working = latex;\r\n\r\n  try {\r\n    working = applySafeMathFix(working);\r\n  } catch (error) {\r\n    console.warn('Failed to sanitize formula latex:', error?.message || error);\r\n  }\r\n\r\n  try {\r\n    working = normalizeLatex(working);\r\n  } catch (error) {\r\n    console.warn('Failed to normalize formula latex:', error?.message || error);\r\n  }\r\n\r\n  return working;\r\n}\r\n\r\nfunction smartWrapLatex(input) {\r\n  if (typeof input !== 'string' || input.length === 0) {\r\n    return input;\r\n  }\r\n\r\n  const slots = [];\r\n  const masked = input.replace(/\\\\\\([^\\)]*\\\\\\)|\\$[^$]+\\$/g, (match) => {\r\n    slots.push(match);\r\n    return `@@M${slots.length - 1}@@`;\r\n  });\r\n\r\n  const MACRO_PATTERN =\r\n    /\\\\(?:frac|sqrt|text|pi|times|cdot|le|ge|lt|gt|neq|approx|sin|cos|tan|log|ln|pm|mp|theta|alpha|beta|gamma)\\b/y;\r\n\r\n  const grabBraces = (source, start) => {\r\n    if (source[start] !== '{') {\r\n      return 0;\r\n    }\r\n    let depth = 0;\r\n    let index = start;\r\n    while (index < source.length) {\r\n      const ch = source[index++];\r\n      if (ch === '{') {\r\n        depth += 1;\r\n      } else if (ch === '}') {\r\n        depth -= 1;\r\n        if (depth === 0) {\r\n          return index - start;\r\n        }\r\n      }\r\n    }\r\n    return 0;\r\n  };\r\n\r\n  let result = '';\r\n  let cursor = 0;\r\n\r\n  while (cursor < masked.length) {\r\n    const char = masked[cursor];\r\n    if (char === '\\\\') {\r\n      MACRO_PATTERN.lastIndex = cursor;\r\n      const match = MACRO_PATTERN.exec(masked);\r\n      if (match) {\r\n        let end = MACRO_PATTERN.lastIndex;\r\n        if (match[0] === '\\\\frac') {\r\n          const first = grabBraces(masked, end);\r\n          if (first) {\r\n            end += first;\r\n            const second = grabBraces(masked, end);\r\n            if (second) {\r\n              end += second;\r\n            }\r\n          }\r\n        } else {\r\n          const groupLen = grabBraces(masked, end);\r\n          if (groupLen) {\r\n            end += groupLen;\r\n          }\r\n        }\r\n        const segment = masked.slice(cursor, end);\r\n        result += `\\\\(${segment}\\\\)`;\r\n        cursor = end;\r\n        continue;\r\n      }\r\n    }\r\n    result += char;\r\n    cursor += 1;\r\n  }\r\n\r\n  // Sanity cases:\r\n  // equation \\frac{x}{4} = \\frac{15}{20}?\r\n  // 1\\frac{1}{2} cups\r\n  // no more than \\text{P500}, spent \\text{P120}\r\n  // /frac{3}{4}, ^rac{2}{3}, rac{1}{2}\r\n\r\n  return result.replace(/@@M(\\d+)@@/g, (_match, index) => slots[Number(index)]);\r\n}\r\n\r\nfunction escapeHtml(value) {\r\n  if (typeof value !== 'string' || value.length === 0) {\r\n    return '';\r\n  }\r\n  return value\r\n    .replace(/&/g, '&amp;')\r\n    .replace(/</g, '&lt;')\r\n    .replace(/>/g, '&gt;');\r\n}\r\n\r\nfunction stripLeakedMathPlaceholders(text) {\r\n  if (typeof text !== 'string' || text.length === 0) {\r\n    return text;\r\n  }\r\n  return text\r\n    .replace(/(?:\\f|\\\\f)\\\\?_?MATH_SEGMENT_[A-Z0-9]+/gi, '')\r\n    .replace(/MATH_SEGMENT_[A-Z0-9]+/gi, '');\r\n}\r\n\r\nfunction formatExponents(input) {\r\n  if (typeof input !== 'string') return input;\r\n\r\n  const safe = input\r\n    .replace(/&/g, '&amp;')\r\n    .replace(/</g, '&lt;')\r\n    .replace(/>/g, '&gt;');\r\n\r\n  return safe.replace(\r\n    /([A-Za-z0-9\\)])\\^(\\d+)/g,\r\n    (_, base, exp) => `${base}<sup>${exp}</sup>`\r\n  );\r\n}\r\n\r\nfunction renderStem(text) {\r\n  if (typeof text !== 'string') {\r\n    return '';\r\n  }\r\n\r\n  const cleanedText = preprocessRawContent(text, { normalizeSpacing: true });\r\n  const segments = extractMathSegments(cleanedText);\r\n  const renderedParts = [];\r\n\r\n  for (const segment of segments) {\r\n    if (segment.type === 'math') {\r\n      const pretty = formatExponents(segment.value);\r\n      renderedParts.push(`<span class=\"math-inline\">${pretty}</span>`);\r\n    } else {\r\n      renderedParts.push(segment.value);\r\n    }\r\n  }\r\n\r\n  const combinedHtml = renderedParts.join('');\r\n  const sanitizer =\r\n    window.DOMPurify && window.DOMPurify.sanitize\r\n      ? window.DOMPurify.sanitize\r\n      : (v) => v;\r\n  return sanitizer(combinedHtml, {\r\n    ALLOWED_TAGS: [...ALLOWED_HTML_TAGS, 'span', 'sup', 'path', 'svg'],\r\n    ALLOWED_ATTR: [...ALLOWED_HTML_ATTR, 'style', 'd', 'viewBox', 'xmlns'],\r\n  });\r\n}\r\n\r\n// Render KaTeX for premade/static quizzes only; leaves AI/dynamic to renderStem\r\nfunction renderStemWithKatex(text) {\r\n  if (typeof text !== 'string') return '';\r\n\r\n  // Work on RAW text: do not preprocess away math delimiters for premade content\r\n  const segments = extractMathSegments(text);\r\n  const parts = [];\r\n\r\n  const moneyRegex = /^\\$\\d+(?:\\.\\d{1,2})?$/; // \"$16\" or \"$12.50\"\r\n  const pureNumber = /^\\d+(?:\\.\\d{1,2})?$/; // 16 or 12.50\r\n\r\n  for (const seg of segments.length\r\n    ? segments\r\n    : [{ type: 'text', value: text }]) {\r\n    if (seg.type !== 'math') {\r\n      // Sanitize non-math text directly; keep allowed tags minimal\r\n      const sanitizer =\r\n        window.DOMPurify && window.DOMPurify.sanitize\r\n          ? window.DOMPurify.sanitize\r\n          : null;\r\n      const cleaned = sanitizer\r\n        ? sanitizer(seg.value, {\r\n            ALLOWED_TAGS: ALLOWED_HTML_TAGS,\r\n            ALLOWED_ATTR: ALLOWED_HTML_ATTR,\r\n          })\r\n        : escapeHtml(seg.value);\r\n      parts.push(cleaned);\r\n      continue;\r\n    }\r\n\r\n    const raw = seg.raw || '';\r\n    const body = (seg.value || '').trim();\r\n\r\n    // Money guard: If raw has single-dollar delimiters and body is a plain number, treat as currency text\r\n    const isSingleDollarWrapped =\r\n      /^\\$[^$][\\s\\S]*\\$$/.test(raw) && !/^\\$\\$[\\s\\S]*\\$\\$/.test(raw);\r\n    const isPlainMoney = isSingleDollarWrapped && pureNumber.test(body);\r\n\r\n    if (isPlainMoney) {\r\n      const escaped = `\\\\$${body}`;\r\n      parts.push(`<span class=\"math-inline\">${escaped}</span>`);\r\n      continue;\r\n    }\r\n\r\n    // Also handle the rare case where the content itself starts with $digits ... within other delimiters\r\n    if (moneyRegex.test(body)) {\r\n      const escaped = body.replace(/^\\$/, '\\\\$');\r\n      parts.push(`<span class=\"math-inline\">${escaped}</span>`);\r\n      continue;\r\n    }\r\n\r\n    try {\r\n      const html = katex.renderToString(body, {\r\n        throwOnError: false,\r\n        displayMode: Boolean(seg.displayMode),\r\n      });\r\n      parts.push(html);\r\n    } catch (e) {\r\n      // Fallback to plain sanitized text for this segment (guard DOMPurify)\r\n      const _san =\r\n        window.DOMPurify && window.DOMPurify.sanitize\r\n          ? window.DOMPurify.sanitize\r\n          : null;\r\n      const safe = _san\r\n        ? _san(body, {\r\n            ALLOWED_TAGS: ALLOWED_HTML_TAGS,\r\n            ALLOWED_ATTR: ALLOWED_HTML_ATTR,\r\n          })\r\n        : escapeHtml(body);\r\n      parts.push(`<span class=\"math-inline\">${safe}</span>`);\r\n    }\r\n  }\r\n\r\n  const combined = parts.join('');\r\n  // Final pass sanitize (guard DOMPurify)\r\n  const finalSan =\r\n    window.DOMPurify && window.DOMPurify.sanitize\r\n      ? window.DOMPurify.sanitize\r\n      : null;\r\n  return finalSan\r\n    ? finalSan(combined, {\r\n        ALLOWED_TAGS: [...ALLOWED_HTML_TAGS, 'span', 'sup', 'svg', 'path'],\r\n        ALLOWED_ATTR: [...ALLOWED_HTML_ATTR, 'style', 'd', 'viewBox', 'xmlns'],\r\n      })\r\n    : combined;\r\n}\r\n\r\nconst GEOMETRY_FIGURES_ENABLED = Boolean(\r\n  typeof window !== 'undefined' &&\r\n    window.__APP_CONFIG__ &&\r\n    window.__APP_CONFIG__.geometryFiguresEnabled\r\n);\r\n\r\nconst DEFAULT_FIGURE_STYLE = {\r\n  stroke: '#000000',\r\n  fill: 'rgba(96, 165, 250, 0.12)',\r\n  labelColor: '#000000',\r\n  pointFill: '#ffffff',\r\n};\r\n\r\nconst normalizeNumber = (value) => {\r\n  if (typeof value === 'number') return value;\r\n  const parsed = Number(value);\r\n  return Number.isFinite(parsed) ? parsed : undefined;\r\n};\r\n\r\nconst normalizePoint = (point = {}) => {\r\n  const x = normalizeNumber(point.x);\r\n  const y = normalizeNumber(point.y);\r\n  if (typeof x !== 'number' || typeof y !== 'number') {\r\n    return undefined;\r\n  }\r\n  return {\r\n    x,\r\n    y,\r\n    label: typeof point.label === 'string' ? point.label : undefined,\r\n  };\r\n};\r\n\r\nconst mapPoints = (list) => {\r\n  if (!Array.isArray(list)) return [];\r\n  return list.map(normalizePoint).filter(Boolean);\r\n};\r\n\r\nconst midpoint = (a, b) => ({\r\n  x: (a.x + b.x) / 2,\r\n  y: (a.y + b.y) / 2,\r\n});\r\n\r\nconst findPointByLabel = (points, label) => {\r\n  if (!label) return undefined;\r\n  return points.find((pt) => pt.label === label);\r\n};\r\n\r\nconst renderPointMarkers = (points, style) => {\r\n  return points.map((pt, index) => (\r\n    <g key={`pt-${index}`}>\r\n      <circle\r\n        cx={pt.x}\r\n        cy={pt.y}\r\n        r={1.8}\r\n        fill={style.pointFill}\r\n        stroke={style.stroke}\r\n        strokeWidth={0.6}\r\n      />\r\n      {pt.label && (\r\n        <text\r\n          x={pt.x + 2.8}\r\n          y={pt.y - 2.2}\r\n          fontSize={6}\r\n          fill={style.labelColor}\r\n        >\r\n          {pt.label}\r\n        </text>\r\n      )}\r\n    </g>\r\n  ));\r\n};\r\n\r\nconst renderSideLabels = (points, sideLabels = [], style) => {\r\n  if (!Array.isArray(sideLabels)) return [];\r\n  return sideLabels\r\n    .map((entry, index) => {\r\n      if (\r\n        !entry ||\r\n        !Array.isArray(entry.between) ||\r\n        entry.between.length !== 2 ||\r\n        typeof entry.text !== 'string'\r\n      ) {\r\n        return null;\r\n      }\r\n      const a = findPointByLabel(points, entry.between[0]);\r\n      const b = findPointByLabel(points, entry.between[1]);\r\n      if (!a || !b) return null;\r\n      const mid = midpoint(a, b);\r\n      return (\r\n        <text\r\n          key={`side-label-${index}`}\r\n          x={mid.x}\r\n          y={mid.y - 1.5}\r\n          fontSize={6}\r\n          textAnchor=\"middle\"\r\n          fill={style.labelColor}\r\n        >\r\n          {entry.text}\r\n        </text>\r\n      );\r\n    })\r\n    .filter(Boolean);\r\n};\r\n\r\nconst renderAdditionalLabels = (labels = [], style) => {\r\n  if (!Array.isArray(labels)) return [];\r\n  return labels\r\n    .map((label, index) => {\r\n      const normalized = normalizePoint(label);\r\n      if (!normalized || typeof label.text !== 'string') {\r\n        return null;\r\n      }\r\n      const dx = normalizeNumber(label.dx) || 0;\r\n      const dy = normalizeNumber(label.dy) || 0;\r\n      return (\r\n        <text\r\n          key={`label-${index}`}\r\n          x={normalized.x + dx}\r\n          y={normalized.y + dy}\r\n          fontSize={6}\r\n          textAnchor={label.textAnchor || 'middle'}\r\n          fill={style.labelColor}\r\n        >\r\n          {label.text}\r\n        </text>\r\n      );\r\n    })\r\n    .filter(Boolean);\r\n};\r\n\r\nconst renderSegments = (segments = [], style) => {\r\n  if (!Array.isArray(segments)) return [];\r\n  return segments\r\n    .map((segment, index) => {\r\n      if (\r\n        !segment ||\r\n        !Array.isArray(segment.from) ||\r\n        !Array.isArray(segment.to)\r\n      ) {\r\n        return null;\r\n      }\r\n      const from = segment.from.map(normalizeNumber);\r\n      const to = segment.to.map(normalizeNumber);\r\n      if (\r\n        from.length !== 2 ||\r\n        to.length !== 2 ||\r\n        from.some((v) => typeof v !== 'number') ||\r\n        to.some((v) => typeof v !== 'number')\r\n      ) {\r\n        return null;\r\n      }\r\n      const dashArray = segment.dashed ? '4,3' : undefined;\r\n      const labelText =\r\n        typeof segment.label === 'string' ? segment.label : null;\r\n      const labelOffset = Array.isArray(segment.labelOffset)\r\n        ? segment.labelOffset.map(normalizeNumber)\r\n        : [];\r\n      const mid = { x: (from[0] + to[0]) / 2, y: (from[1] + to[1]) / 2 };\r\n\r\n      return (\r\n        <g key={`segment-${index}`}>\r\n          <line\r\n            x1={from[0]}\r\n            y1={from[1]}\r\n            x2={to[0]}\r\n            y2={to[1]}\r\n            stroke={style.stroke}\r\n            strokeWidth={1}\r\n            strokeDasharray={dashArray}\r\n          />\r\n          {labelText && (\r\n            <text\r\n              x={mid.x + (labelOffset[0] || 0)}\r\n              y={mid.y + (labelOffset[1] || -2)}\r\n              fontSize={6}\r\n              textAnchor=\"middle\"\r\n              fill={style.labelColor}\r\n            >\r\n              {labelText}\r\n            </text>\r\n          )}\r\n        </g>\r\n      );\r\n    })\r\n    .filter(Boolean);\r\n};\r\n\r\nconst polygonRenderer = (params = {}, style, { includeRightAngle } = {}) => {\r\n  const points = mapPoints(params.points);\r\n  if (points.length < 3) return null;\r\n\r\n  const polygonPoints = points.map((pt) => `${pt.x},${pt.y}`).join(' ');\r\n  const elements = [\r\n    <polygon\r\n      key=\"polygon\"\r\n      points={polygonPoints}\r\n      fill={style.fill}\r\n      stroke={style.stroke}\r\n      strokeWidth={1.5}\r\n    />,\r\n    ...renderPointMarkers(points, style),\r\n    ...renderSideLabels(points, params.sideLabels, style),\r\n    ...renderAdditionalLabels(params.labels, style),\r\n    ...renderSegments(params.segments, style),\r\n  ];\r\n\r\n  if (includeRightAngle && params.rightAngle) {\r\n    const vertexLabel = params.rightAngle.vertex;\r\n    const size = normalizeNumber(params.rightAngle.size) || 8;\r\n    const vertex = findPointByLabel(points, vertexLabel) || points[0];\r\n    const vertexIndex = points.findIndex((pt) => pt === vertex);\r\n    const prev = points[(vertexIndex - 1 + points.length) % points.length];\r\n    const next = points[(vertexIndex + 1) % points.length];\r\n    if (prev && next) {\r\n      const v1 = { x: prev.x - vertex.x, y: prev.y - vertex.y };\r\n      const v2 = { x: next.x - vertex.x, y: next.y - vertex.y };\r\n      const len1 = Math.hypot(v1.x, v1.y) || 1;\r\n      const len2 = Math.hypot(v2.x, v2.y) || 1;\r\n      const u1 = { x: (v1.x / len1) * size, y: (v1.y / len1) * size };\r\n      const u2 = { x: (v2.x / len2) * size, y: (v2.y / len2) * size };\r\n      const p1 = { x: vertex.x + u1.x, y: vertex.y + u1.y };\r\n      const p2 = { x: p1.x + u2.x, y: p1.y + u2.y };\r\n      const p3 = { x: vertex.x + u2.x, y: vertex.y + u2.y };\r\n      elements.push(\r\n        <polygon\r\n          key=\"right-angle\"\r\n          points={`${vertex.x},${vertex.y} ${p1.x},${p1.y} ${p2.x},${p2.y} ${p3.x},${p3.y}`}\r\n          fill=\"rgba(30, 64, 175, 0.12)\"\r\n          stroke={style.stroke}\r\n          strokeWidth={0.8}\r\n        />\r\n      );\r\n    }\r\n  }\r\n\r\n  return {\r\n    elements,\r\n    pointsForBounds: points,\r\n  };\r\n};\r\n\r\nconst rectangleRenderer = (params = {}, style) => {\r\n  const origin = normalizePoint(params.origin) || { x: 15, y: 15 };\r\n  const width = normalizeNumber(params.width);\r\n  const height = normalizeNumber(params.height);\r\n  if (typeof width !== 'number' || typeof height !== 'number') return null;\r\n  const points = [\r\n    origin,\r\n    { x: origin.x + width, y: origin.y },\r\n    { x: origin.x + width, y: origin.y + height },\r\n    { x: origin.x, y: origin.y + height },\r\n  ];\r\n\r\n  const base = polygonRenderer(\r\n    {\r\n      points,\r\n      labels: params.labels,\r\n      sideLabels: params.sideLabels,\r\n      segments: params.segments,\r\n    },\r\n    style\r\n  );\r\n  if (!base) return null;\r\n  return base;\r\n};\r\n\r\nconst circleRenderer = (params = {}, style) => {\r\n  const center = normalizePoint(params.center) || { x: 50, y: 50 };\r\n  const radius = normalizeNumber(params.radius);\r\n  if (typeof radius !== 'number') return null;\r\n  const points = mapPoints(params.points);\r\n  const elements = [\r\n    <circle\r\n      key=\"circle\"\r\n      cx={center.x}\r\n      cy={center.y}\r\n      r={radius}\r\n      fill={style.fill}\r\n      stroke={style.stroke}\r\n      strokeWidth={1.5}\r\n    />,\r\n    ...renderPointMarkers(points, style),\r\n    ...renderAdditionalLabels(params.labels, style),\r\n    ...renderSegments(params.segments, style),\r\n  ];\r\n\r\n  if (params.radiusLabel) {\r\n    elements.push(\r\n      <text\r\n        key=\"radius-label\"\r\n        x={center.x + radius / 2}\r\n        y={center.y - 2}\r\n        fontSize={6}\r\n        textAnchor=\"middle\"\r\n        fill={style.labelColor}\r\n      >\r\n        {params.radiusLabel}\r\n      </text>\r\n    );\r\n  }\r\n\r\n  if (params.showRadius !== false) {\r\n    elements.push(\r\n      <line\r\n        key=\"radius-line\"\r\n        x1={center.x}\r\n        y1={center.y}\r\n        x2={center.x + radius}\r\n        y2={center.y}\r\n        stroke={style.stroke}\r\n        strokeWidth={1}\r\n        strokeDasharray=\"4,3\"\r\n      />\r\n    );\r\n  }\r\n\r\n  return {\r\n    elements,\r\n    pointsForBounds: [\r\n      ...points,\r\n      { x: center.x + radius, y: center.y },\r\n      { x: center.x - radius, y: center.y },\r\n      { x: center.x, y: center.y + radius },\r\n      { x: center.x, y: center.y - radius },\r\n    ],\r\n  };\r\n};\r\n\r\nconst regularPolygonRenderer = (params = {}, style) => {\r\n  const center = normalizePoint(params.center) || { x: 50, y: 50 };\r\n  const radius = normalizeNumber(params.radius);\r\n  const sides = Math.max(3, Math.floor(normalizeNumber(params.sides) || 0));\r\n  if (typeof radius !== 'number' || !Number.isFinite(sides) || sides < 3)\r\n    return null;\r\n  const startAngle =\r\n    (normalizeNumber(params.startAngle) || -90) * (Math.PI / 180);\r\n  const points = Array.from({ length: sides }).map((_, index) => {\r\n    const angle = startAngle + (index * 2 * Math.PI) / sides;\r\n    return {\r\n      x: center.x + radius * Math.cos(angle),\r\n      y: center.y + radius * Math.sin(angle),\r\n      label:\r\n        params.pointLabels && params.pointLabels[index]\r\n          ? params.pointLabels[index]\r\n          : undefined,\r\n    };\r\n  });\r\n\r\n  return polygonRenderer(\r\n    {\r\n      points,\r\n      labels: params.labels,\r\n      sideLabels: params.sideLabels,\r\n      segments: params.segments,\r\n    },\r\n    style\r\n  );\r\n};\r\n\r\nconst angleRenderer = (params = {}, style) => {\r\n  const vertex = normalizePoint(params.vertex);\r\n  const ray1 = normalizePoint(params.ray1);\r\n  const ray2 = normalizePoint(params.ray2);\r\n  if (!vertex || !ray1 || !ray2) return null;\r\n\r\n  const pointsForBounds = [vertex, ray1, ray2];\r\n  const elements = [\r\n    <line\r\n      key=\"ray1\"\r\n      x1={vertex.x}\r\n      y1={vertex.y}\r\n      x2={ray1.x}\r\n      y2={ray1.y}\r\n      stroke={style.stroke}\r\n      strokeWidth={1.2}\r\n    />,\r\n    <line\r\n      key=\"ray2\"\r\n      x1={vertex.x}\r\n      y1={vertex.y}\r\n      x2={ray2.x}\r\n      y2={ray2.y}\r\n      stroke={style.stroke}\r\n      strokeWidth={1.2}\r\n    />,\r\n    ...renderPointMarkers([vertex, ray1, ray2], style),\r\n    ...renderAdditionalLabels(params.labels, style),\r\n    ...renderSegments(params.segments, style),\r\n  ];\r\n\r\n  const angleLabel =\r\n    typeof params.angleLabel === 'string' ? params.angleLabel : null;\r\n  const radius = normalizeNumber(params.arcRadius) || 12;\r\n\r\n  const drawAngleArc = () => {\r\n    const startVec = { x: ray1.x - vertex.x, y: ray1.y - vertex.y };\r\n    const endVec = { x: ray2.x - vertex.x, y: ray2.y - vertex.y };\r\n    const startAngle = Math.atan2(startVec.y, startVec.x);\r\n    let endAngle = Math.atan2(endVec.y, endVec.x);\r\n    while (endAngle < startAngle) {\r\n      endAngle += Math.PI * 2;\r\n    }\r\n    const arcSweep = endAngle - startAngle;\r\n    const largeArcFlag = arcSweep > Math.PI ? 1 : 0;\r\n    const arcEnd = {\r\n      x: vertex.x + radius * Math.cos(endAngle),\r\n      y: vertex.y + radius * Math.sin(endAngle),\r\n    };\r\n    const arcStart = {\r\n      x: vertex.x + radius * Math.cos(startAngle),\r\n      y: vertex.y + radius * Math.sin(startAngle),\r\n    };\r\n\r\n    elements.push(\r\n      <path\r\n        key=\"angle-arc\"\r\n        d={`M ${arcStart.x} ${arcStart.y} A ${radius} ${radius} 0 ${largeArcFlag} 1 ${arcEnd.x} ${arcEnd.y}`}\r\n        fill=\"none\"\r\n        stroke={style.stroke}\r\n        strokeWidth={1}\r\n      />\r\n    );\r\n\r\n    if (angleLabel) {\r\n      const labelAngle = startAngle + arcSweep / 2;\r\n      const labelPoint = {\r\n        x: vertex.x + (radius + 6) * Math.cos(labelAngle),\r\n        y: vertex.y + (radius + 6) * Math.sin(labelAngle),\r\n      };\r\n      elements.push(\r\n        <text\r\n          key=\"angle-label\"\r\n          x={labelPoint.x}\r\n          y={labelPoint.y}\r\n          fontSize={6}\r\n          textAnchor=\"middle\"\r\n          fill={style.labelColor}\r\n        >\r\n          {angleLabel}\r\n        </text>\r\n      );\r\n    }\r\n  };\r\n\r\n  drawAngleArc();\r\n\r\n  return { elements, pointsForBounds };\r\n};\r\n\r\nconst cylinderNetRenderer = (params = {}, style) => {\r\n  const radius = Math.abs(normalizeNumber(params.radius));\r\n  const height = Math.abs(normalizeNumber(params.height));\r\n  if (!Number.isFinite(radius) || !Number.isFinite(height)) return null;\r\n  const circumference = 2 * Math.PI * radius;\r\n  const rectWidth = Math.max(circumference, radius * 4);\r\n  const rectHeight = height;\r\n  const padding = 10;\r\n  const topCenter = { x: padding + rectWidth / 2, y: padding + radius }; // radius used as circle radius on diagram scale\r\n  const bottomCenter = {\r\n    x: padding + rectWidth / 2,\r\n    y: padding + rectHeight + radius * 3,\r\n  };\r\n\r\n  const elements = [\r\n    <rect\r\n      key=\"lateral\"\r\n      x={padding}\r\n      y={padding + radius * 2}\r\n      width={rectWidth}\r\n      height={rectHeight}\r\n      fill={style.fill}\r\n      stroke={style.stroke}\r\n      strokeWidth={1.2}\r\n    />,\r\n    <circle\r\n      key=\"top-circle\"\r\n      cx={topCenter.x}\r\n      cy={topCenter.y}\r\n      r={radius * 1.5}\r\n      fill={style.fill}\r\n      stroke={style.stroke}\r\n      strokeWidth={1.2}\r\n    />, // scaled for clarity\r\n    <circle\r\n      key=\"bottom-circle\"\r\n      cx={bottomCenter.x}\r\n      cy={bottomCenter.y}\r\n      r={radius * 1.5}\r\n      fill={style.fill}\r\n      stroke={style.stroke}\r\n      strokeWidth={1.2}\r\n    />,\r\n    <text\r\n      key=\"height-label\"\r\n      x={padding + rectWidth + 6}\r\n      y={padding + radius * 2 + rectHeight / 2}\r\n      fontSize={6}\r\n      fill={style.labelColor}\r\n    >\r\n      h = {height}\r\n    </text>,\r\n    <text\r\n      key=\"circumference-label\"\r\n      x={padding + rectWidth / 2}\r\n      y={padding + radius * 2 + rectHeight + 8}\r\n      fontSize={6}\r\n      textAnchor=\"middle\"\r\n      fill={style.labelColor}\r\n    >\r\n      circumference = {circumference.toFixed(2)}\r\n    </text>,\r\n    <text\r\n      key=\"radius-label-top\"\r\n      x={topCenter.x + radius * 1.5 + 6}\r\n      y={topCenter.y}\r\n      fontSize={6}\r\n      fill={style.labelColor}\r\n    >\r\n      r = {radius}\r\n    </text>,\r\n    ...renderAdditionalLabels(params.labels, style),\r\n  ];\r\n\r\n  return {\r\n    elements,\r\n    pointsForBounds: [\r\n      { x: padding, y: padding },\r\n      { x: padding + rectWidth, y: padding + radius * 2 + rectHeight },\r\n      { x: bottomCenter.x + radius * 1.5, y: bottomCenter.y + radius * 1.5 },\r\n    ],\r\n  };\r\n};\r\n\r\nconst rectPrismNetRenderer = (params = {}, style) => {\r\n  const length = Math.abs(normalizeNumber(params.length));\r\n  const width = Math.abs(normalizeNumber(params.width));\r\n  const height = Math.abs(normalizeNumber(params.height));\r\n  if (\r\n    !Number.isFinite(length) ||\r\n    !Number.isFinite(width) ||\r\n    !Number.isFinite(height)\r\n  )\r\n    return null;\r\n\r\n  const padding = 10;\r\n  const scale = 1;\r\n  const L = length * scale;\r\n  const W = width * scale;\r\n  const H = height * scale;\r\n\r\n  const elements = [];\r\n  const pointsForBounds = [];\r\n\r\n  const drawRect = (x, y, w, h, key, label) => {\r\n    elements.push(\r\n      <rect\r\n        key={key}\r\n        x={x}\r\n        y={y}\r\n        width={w}\r\n        height={h}\r\n        fill={style.fill}\r\n        stroke={style.stroke}\r\n        strokeWidth={1.2}\r\n      />\r\n    );\r\n    if (label) {\r\n      elements.push(\r\n        <text\r\n          key={`${key}-label`}\r\n          x={x + w / 2}\r\n          y={y + h / 2}\r\n          fontSize={6}\r\n          textAnchor=\"middle\"\r\n          fill={style.labelColor}\r\n        >\r\n          {label}\r\n        </text>\r\n      );\r\n    }\r\n    pointsForBounds.push({ x, y }, { x: x + w, y: y + h });\r\n  };\r\n\r\n  const startX = padding + W;\r\n  const startY = padding + H;\r\n\r\n  drawRect(startX, startY, L, H, 'front', `h = ${height}`);\r\n  drawRect(startX + L, startY, W, H, 'right', `w = ${width}`);\r\n  drawRect(startX - W, startY, W, H, 'left', `w = ${width}`);\r\n  drawRect(startX + L + W, startY, W, H, 'extra', '');\r\n  drawRect(startX, startY - H, L, H, 'top', `l = ${length}`);\r\n  drawRect(startX, startY + H, L, H, 'bottom', `l = ${length}`);\r\n\r\n  elements.push(...renderAdditionalLabels(params.labels, style));\r\n\r\n  return { elements, pointsForBounds };\r\n};\r\n\r\nconst geometryRenderers = {\r\n  triangle: (params, style) =>\r\n    polygonRenderer(params, style || DEFAULT_FIGURE_STYLE, {}),\r\n  right_triangle: (params, style) =>\r\n    polygonRenderer(params, style || DEFAULT_FIGURE_STYLE, {\r\n      includeRightAngle: true,\r\n    }),\r\n  rectangle: (params, style) =>\r\n    rectangleRenderer(params, style || DEFAULT_FIGURE_STYLE),\r\n  circle: (params, style) =>\r\n    circleRenderer(params, style || DEFAULT_FIGURE_STYLE),\r\n  polygon: (params, style) =>\r\n    polygonRenderer(params, style || DEFAULT_FIGURE_STYLE, {}),\r\n  regular_polygon: (params, style) =>\r\n    regularPolygonRenderer(params, style || DEFAULT_FIGURE_STYLE),\r\n  line_angle: (params, style) =>\r\n    angleRenderer(params, style || DEFAULT_FIGURE_STYLE),\r\n  cylinder_net: (params, style) =>\r\n    cylinderNetRenderer(params, style || DEFAULT_FIGURE_STYLE),\r\n  rect_prism_net: (params, style) =>\r\n    rectPrismNetRenderer(params, style || DEFAULT_FIGURE_STYLE),\r\n};\r\n\r\nfunction GeometryFigure({ spec, className }) {\r\n  if (!GEOMETRY_FIGURES_ENABLED || !spec || typeof spec !== 'object') {\r\n    return null;\r\n  }\r\n\r\n  const style = {\r\n    ...DEFAULT_FIGURE_STYLE,\r\n    ...(spec.style || {}),\r\n  };\r\n\r\n  const renderer = geometryRenderers[spec.shape];\r\n  if (!renderer) {\r\n    console.warn('Unsupported geometry shape:', spec.shape);\r\n    return null;\r\n  }\r\n\r\n  const renderResult = renderer(spec.params || {}, style);\r\n  if (!renderResult) {\r\n    return null;\r\n  }\r\n\r\n  const points =\r\n    renderResult.pointsForBounds && renderResult.pointsForBounds.length > 0\r\n      ? renderResult.pointsForBounds\r\n      : [\r\n          { x: 0, y: 0 },\r\n          { x: 100, y: 100 },\r\n        ];\r\n\r\n  let minX = Math.min(...points.map((pt) => pt.x));\r\n  let maxX = Math.max(...points.map((pt) => pt.x));\r\n  let minY = Math.min(...points.map((pt) => pt.y));\r\n  let maxY = Math.max(...points.map((pt) => pt.y));\r\n\r\n  if (spec.view) {\r\n    const { xMin, xMax, yMin, yMax } = spec.view;\r\n    if (typeof xMin === 'number') minX = Math.min(minX, xMin);\r\n    if (typeof xMax === 'number') maxX = Math.max(maxX, xMax);\r\n    if (typeof yMin === 'number') minY = Math.min(minY, yMin);\r\n    if (typeof yMax === 'number') maxY = Math.max(maxY, yMax);\r\n  }\r\n\r\n  const padding =\r\n    spec.view && typeof spec.view.padding === 'number' ? spec.view.padding : 8;\r\n  const width = Math.max(maxX - minX, 20);\r\n  const height = Math.max(maxY - minY, 20);\r\n\r\n  const viewBox = `${minX - padding} ${minY - padding} ${width + padding * 2} ${\r\n    height + padding * 2\r\n  }`;\r\n\r\n  return (\r\n    <svg\r\n      className={className}\r\n      viewBox={viewBox}\r\n      xmlns=\"http://www.w3.org/2000/svg\"\r\n      role=\"img\"\r\n      aria-label=\"Geometry figure\"\r\n      preserveAspectRatio=\"xMidYMid meet\"\r\n    >\r\n      {renderResult.elements}\r\n    </svg>\r\n  );\r\n}\r\n\r\nfunction postRenderGuardrails(container, { itemIndex } = {}) {\r\n  if (\r\n    !container ||\r\n    typeof document === 'undefined' ||\r\n    typeof NodeFilter === 'undefined' ||\r\n    !container.innerHTML\r\n  ) {\r\n    return;\r\n  }\r\n\r\n  const issues = new Set();\r\n  const walker = document.createTreeWalker(\r\n    container,\r\n    NodeFilter.SHOW_TEXT,\r\n    null\r\n  );\r\n  const tableTextNodes = [];\r\n  while (walker.nextNode()) {\r\n    const currentNode = walker.currentNode;\r\n    if (!currentNode || !currentNode.nodeValue) continue;\r\n    const value = currentNode.nodeValue;\r\n    if (/<\\s*(?:tr|th|td)/i.test(value)) {\r\n      tableTextNodes.push(currentNode);\r\n    }\r\n  }\r\n\r\n  tableTextNodes.forEach((node) => {\r\n    if (!node.parentNode) return;\r\n    const codeEl = document.createElement('code');\r\n    codeEl.className = 'raw-html-fragment';\r\n    codeEl.textContent = node.nodeValue;\r\n    node.parentNode.replaceChild(codeEl, node);\r\n    issues.add('tableMarkup');\r\n  });\r\n\r\n  if (issues.size > 0) {\r\n    const context =\r\n      typeof itemIndex !== 'undefined' ? ` for item ${itemIndex}` : '';\r\n    console.warn(\r\n      `[MathText] Post-render guardrails triggered${context}: ${Array.from(\r\n        issues\r\n      ).join(', ')}`\r\n    );\r\n  }\r\n}\r\n\r\nfunction MathText({ text, className, subject }) {\r\n  if (typeof text !== 'string' || text.trim() === '') {\r\n    return <span className={className}></span>;\r\n  }\r\n\r\n  let renderedHtml;\r\n\r\n  // ONLY run the complex math/currency renderer for the Math subject.\r\n  if (subject === 'Math') {\r\n    renderedHtml = renderStem(text);\r\n  } else {\r\n    // For all other subjects, just sanitize the HTML and display it (guard if DOMPurify missing).\r\n    const san =\r\n      window.DOMPurify && window.DOMPurify.sanitize\r\n        ? window.DOMPurify.sanitize\r\n        : (v) => v;\r\n    renderedHtml = san(text);\r\n  }\r\n\r\n  const formattedHtml = formatFractions(renderedHtml);\r\n\r\n  return (\r\n    <span\r\n      className={className}\r\n      dangerouslySetInnerHTML={safeHtml(formattedHtml)}\r\n    />\r\n  );\r\n}\r\n\r\n// formatMathText()\r\n// Apply both plain-text fraction wrapping and inline exponent superscripting\r\n// to already-sanitized HTML. This is intended for AI/dynamic (non-premade)\r\n// content that uses a/b and a^b without LaTeX delimiters.\r\nfunction formatMathText(html) {\r\n  if (typeof html !== 'string' || html.length === 0) return html;\r\n\r\n  // First, wrap a/b style fractions\r\n  let out = formatFractions(html);\r\n\r\n  // Then, convert a^b to a<sup>b</sup> for simple bases and integer exponents\r\n  // We avoid touching inside attributes; caret rarely appears there and the\r\n  // input has already been sanitized.\r\n  out = out.replace(\r\n    /([A-Za-z0-9\\)])\\^(\\d+)/g,\r\n    (_m, base, exp) => `${base}<sup>${exp}</sup>`\r\n  );\r\n\r\n  return out;\r\n}\r\n\r\n// Wrap caret exponents and simple fractions inside inline math delimiters\r\n// so KaTeX renders them as superscripts and fractions instead of plain text.\r\nfunction wrapInlineMathForKatex(text) {\r\n  if (typeof text !== 'string' || text.length === 0) return text;\r\n\r\n  const segments = extractMathSegments(text);\r\n  const source = segments.length ? segments : [{ type: 'text', value: text }];\r\n\r\n  return source\r\n    .map((seg) => {\r\n      if (seg.type === 'math') {\r\n        return seg.raw || seg.value;\r\n      }\r\n\r\n      // exponents like x^2 or (x+1)^3\r\n      let value = seg.value.replace(\r\n        /([A-Za-z0-9)]+)\\^(\\d+)/g,\r\n        (_m, base, exp) => `\\\\(${base}^{${exp}}\\\\)`\r\n      );\r\n\r\n      // fractions like 3/4, 1/2x -> \\frac{1}{2}x\r\n      value = value.replace(\r\n        /(\\d+)\\s*\\/\\s*(\\d+)([A-Za-z])/g,\r\n        (_m, num, den, trailing) => `\\\\(\\\\frac{${num}}{${den}}${trailing}\\\\)`\r\n      );\r\n      value = value.replace(\r\n        /(\\d+|[A-Za-z])\\s*\\/\\s*(\\d+|[A-Za-z])/g,\r\n        (_m, num, den) => `\\\\(\\\\frac{${num}}{${den}}\\\\)`\r\n      );\r\n\r\n      return value;\r\n    })\r\n    .join('');\r\n}\r\n\r\n// Safely fix common mojibake/unicode issues in displayed text only\r\nfunction sanitizeUnicode(s) {\r\n  if (typeof s !== 'string' || s.length === 0) return s;\r\n  try {\r\n    let t = s;\r\n    // Chemical formulas and units\r\n    t = t.replace(/H\\uFFFD\\uFFFDO/g, 'H2O');\r\n    t = t.replace(/g\\/cm\\uFFFD/g, 'g/cm');\r\n    t = t.replace(/cm\\uFFFD/g, 'cm');\r\n    // Degree symbol\r\n    t = t.replace(/\\uFFFDC/g, 'C');\r\n    // Common math superscripts in text blocks\r\n    t = t.replace(/([abc])\\uFFFD/g, '$1');\r\n    // Ranges like 3522\r\n    t = t.replace(/(\\d)\\s?\\uFFFD\\s?(\\d)/g, '$1$2');\r\n    // Not-equal patterns\r\n    t = t.replace(/\\uFFFD\\uFFFD 0/g, '? 0');\r\n    // Topic labels and ellipsis\r\n    t = t.replace(/Topic A\\uFFFDZ/g, 'Topic AZ');\r\n    t = t.replace(/More in this topic\\uFFFD/g, 'More in this topic');\r\n    // Arrow in genetics example\r\n    t = t.replace(/pp \\uFFFD/g, 'pp ?');\r\n    // Strip stray emoji diamonds\r\n    t = t.replace(/\\uFFFD\\uFFFD??/g, '');\r\n    return t;\r\n  } catch (_e) {\r\n    return s;\r\n  }\r\n}\r\n\r\nfunction renderQuestionTextForDisplay(text, isPremade) {\r\n  const sanitized = sanitizeUnicode(text);\r\n\r\n  // Normalize caret/fraction math into inline KaTeX delimiters for all content\r\n  const katexReady = wrapInlineMathForKatex(sanitized);\r\n\r\n  try {\r\n    const html = renderStemWithKatex(katexReady);\r\n    return { __html: html };\r\n  } catch (err) {\r\n    console.warn('KaTeX render fallback:', err?.message || err);\r\n  }\r\n\r\n  // Fallback: plain-text render with superscripts\r\n  const html = renderStem(katexReady);\r\n  const finalHtml = formatMathText(html);\r\n  return { __html: finalHtml };\r\n}\r\n\r\nfunction normalizeLineBreaks(value) {\r\n  if (typeof value !== 'string') return value;\r\n  return value\r\n    .replace(/\\r\\n?/g, '\\n')\r\n    .replace(/([^\\n])\\n(?!\\n)/g, '$1 ')\r\n    .replace(/\\n{3,}/g, '\\n\\n');\r\n}\r\n\r\nfunction surroundOperatorWithSpaces(source, match, offset) {\r\n  const before = offset > 0 ? source[offset - 1] : '';\r\n  const after =\r\n    offset + match.length < source.length ? source[offset + match.length] : '';\r\n  const isAlphaBefore = before && /[A-Za-z]/.test(before);\r\n  const isAlphaAfter = after && /[A-Za-z]/.test(after);\r\n  if (isAlphaBefore || isAlphaAfter) {\r\n    return match;\r\n  }\r\n  const trimmed = match.replace(/\\s+/g, ' ').trim();\r\n  const leading = before && !/[\\s\\n]/.test(before) ? ' ' : '';\r\n  const trailing = after && !/[\\s\\n]/.test(after) ? ' ' : '';\r\n  return `${leading}${trimmed}${trailing}`;\r\n}\r\n\r\nfunction normalizePunctuationSpacing(value) {\r\n  if (typeof value !== 'string') return value;\r\n  let result = value.replace(\r\n    /([.,;:!?])(?=\\S)/g,\r\n    (match, punct, offset, string) => {\r\n      const nextChar = string[offset + match.length];\r\n      if (!nextChar) return match;\r\n      if (/\\s/.test(nextChar)) return match;\r\n      if (\r\n        (punct === ':' || punct === ',' || punct === '.') &&\r\n        /[0-9]/.test(nextChar)\r\n      ) {\r\n        return match;\r\n      }\r\n      if ((punct === ':' || punct === '.') && nextChar === '/') {\r\n        return match;\r\n      }\r\n      return `${punct} `;\r\n    }\r\n  );\r\n  const wordOperators = ['plus', 'minus', 'times'];\r\n  wordOperators.forEach((op) => {\r\n    const regex = new RegExp(op, 'gi');\r\n    result = result.replace(regex, (match, offset, string) =>\r\n      surroundOperatorWithSpaces(string, match, offset)\r\n    );\r\n  });\r\n  const dividedRegex = /divided\\s+by/gi;\r\n  result = result.replace(dividedRegex, (match, offset, string) =>\r\n    surroundOperatorWithSpaces(string, match, offset)\r\n  );\r\n  result = result.replace(/[^\\S\\r\\n]+([.,;:!?])/g, '$1');\r\n  result = result.replace(/[^\\S\\r\\n]{2,}/g, ' ');\r\n  return result;\r\n}\r\n\r\nconst LATEX_CONTROL_CHAR_ESCAPE = {\r\n  '\\f': 'f',\r\n  '\\n': 'n',\r\n  '\\t': 't',\r\n  '\\r': 'r',\r\n  '\\b': 'b',\r\n  '\\v': 'v',\r\n};\r\n\r\nfunction escapeLatexControlCharacters(input) {\r\n  return input.replace(/[\\f\\n\\t\\r\\b\\v]/g, (char) => {\r\n    const replacement = LATEX_CONTROL_CHAR_ESCAPE[char];\r\n    return replacement ? `\\\\${replacement}` : char;\r\n  });\r\n}\r\n\r\nfunction repairLatexCorruption(value) {\r\n  if (typeof value !== 'string') return value;\r\n  let working = value.replace(/(?:\\^|\\f)rac\\{/gi, '\\\\frac{');\r\n  working = working.replace(\r\n    /\\$\\$([\\s\\S]+?)\\$\\$/g,\r\n    (_, inner) => `$$${escapeLatexControlCharacters(inner)}$$`\r\n  );\r\n  working = working.replace(\r\n    /\\$([\\s\\S]+?)\\$/g,\r\n    (_, inner) => `$${escapeLatexControlCharacters(inner)}$`\r\n  );\r\n  working = working.replace(\r\n    /\\\\\\(([\\s\\S]+?)\\\\\\)/g,\r\n    (_, inner) => `\\\\(${escapeLatexControlCharacters(inner)}\\\\)`\r\n  );\r\n  return working;\r\n}\r\n\r\nfunction decodeHtmlEntities(value) {\r\n  if (typeof value !== 'string') return '';\r\n  if (!ENTITY_DECODER) return value;\r\n  ENTITY_DECODER.innerHTML = value;\r\n  return ENTITY_DECODER.value;\r\n}\r\n\r\nfunction neutralizeUnpairedDollarSigns(text) {\r\n  if (typeof text !== 'string' || text.indexOf('$') === -1) {\r\n    return text;\r\n  }\r\n\r\n  if (!(tokenizeMathSegments && restoreMathSegments)) {\r\n    return text.replace(/(^|[^\\\\])\\$(?!\\d)/g, (_, prefix) => `${prefix}&#36;`);\r\n  }\r\n\r\n  const { masked, segments } = tokenizeMathSegments(text);\r\n  const working = masked.replace(\r\n    /(^|[^\\\\])\\$(?!\\d)/g,\r\n    (_, prefix) => `${prefix}&#36;`\r\n  );\r\n  return restoreMathSegments(working, segments);\r\n}\r\n\r\nfunction escapeCurrencyDollarsMathSafe(input) {\r\n  if (typeof input !== 'string') return input;\r\n\r\n  if (!(tokenizeMathSegments && restoreMathSegments)) {\r\n    let fallback = input.replace(/\\\\$(\\s*\\d[\\d.,]*)/g, '&#36;$1');\r\n    fallback = fallback.replace(/(\\d[\\d.,]*)(\\s*)\\$(?!\\d)/g, '&#36;$1');\r\n    return fallback.replace(\r\n      /(^|[^&])\\$(?!\\d)/g,\r\n      (_, prefix) => `${prefix}&#36;`\r\n    );\r\n  }\r\n\r\n  const { masked, segments } = tokenizeMathSegments(input);\r\n  let working = masked.replace(/\\\\$(\\s*\\d[\\d.,]*)/g, '&#36;$1');\r\n  working = working.replace(/(\\d[\\d.,]*)(\\s*)\\$(?!\\d)/g, '&#36;$1');\r\n  working = working.replace(\r\n    /(^|[^&])\\$(?!\\d)/g,\r\n    (_, prefix) => `${prefix}&#36;`\r\n  );\r\n  return restoreMathSegments(working, segments);\r\n}\r\n\r\nfunction stripBackslashesOutsideMath(input) {\r\n  if (typeof input !== 'string') return input;\r\n\r\n  if (!(tokenizeMathSegments && restoreMathSegments)) {\r\n    return input.replace(/\\\\(?=\\d|\\$)/g, '');\r\n  }\r\n\r\n  const { masked, segments } = tokenizeMathSegments(input);\r\n  const cleaned = masked.replace(/\\\\(?=\\d|\\$)/g, '');\r\n  return restoreMathSegments(cleaned, segments);\r\n}\r\n\r\nfunction deglueCommonBigrams(s) {\r\n  if (typeof s !== 'string') return s;\r\n  const replacements = {\r\n    inthe: 'in the',\r\n    ofthe: 'of the',\r\n    forthe: 'for the',\r\n    tothe: 'to the',\r\n    theof: 'the of',\r\n  };\r\n\r\n  return s.replace(/\\b(inthe|ofthe|forthe|tothe|theof)\\b/gi, (match) => {\r\n    const replacement = replacements[match.toLowerCase()];\r\n    if (!replacement) {\r\n      return match;\r\n    }\r\n    if (match === match.toUpperCase()) {\r\n      return replacement.toUpperCase();\r\n    }\r\n    if (match[0] === match[0].toUpperCase()) {\r\n      return replacement.charAt(0).toUpperCase() + replacement.slice(1);\r\n    }\r\n    return replacement;\r\n  });\r\n}\r\n\r\nfunction addSpacesAroundInlineMath(s) {\r\n  if (typeof s !== 'string') return s;\r\n  return s\r\n    .replace(/([A-Za-z])\\$(?!\\$)/g, '$1 $')\r\n    .replace(/\\$(?!\\$)([A-Za-z])/g, ' $1');\r\n}\r\n\r\nfunction repairSpacedTags(s) {\r\n  if (typeof s !== 'string') return s;\r\n  return s\r\n    .replace(/<\\s*\\/\\s*([a-z]+)\\s*>/gi, '</$1>')\r\n    .replace(/<\\s*([a-z]+)(\\s[^>]*)?>/gi, (_, tagName, attrs = '') => {\r\n      const normalizedAttrs = attrs ? attrs.replace(/\\s+$/, '') : '';\r\n      return `<${tagName}${normalizedAttrs}>`;\r\n    });\r\n}\r\n\r\nfunction protectTables(text) {\r\n  if (typeof text !== 'string' || text.toLowerCase().indexOf('<table') === -1) {\r\n    return text;\r\n  }\r\n\r\n  return text.replace(/<table[\\s\\S]*?<\\/table>/gi, (tableContent) =>\r\n    tableContent.replace(/\\$/g, '&#36;')\r\n  );\r\n}\r\n\r\nfunction preprocessRawContent(value, { normalizeSpacing = false } = {}) {\r\n  if (typeof value !== 'string') return '';\r\n  let working = normalizeLineBreaks(value);\r\n  if (normalizeSpacing) {\r\n    working = normalizePunctuationSpacing(working);\r\n  }\r\n  working = repairLatexCorruption(working);\r\n  working = decodeHtmlEntities(working);\r\n\r\n  if (tokenizeMathSegments && restoreMathSegments) {\r\n    const { masked, segments } = tokenizeMathSegments(working);\r\n    let plain = masked;\r\n    if (stripTextMacroInPlain) {\r\n      plain = stripTextMacroInPlain(plain);\r\n    }\r\n    if (applyPhraseSpacingRepairs) {\r\n      plain = applyPhraseSpacingRepairs(plain);\r\n    }\r\n    if (normalizeCurrencyOutsideMath) {\r\n      plain = normalizeCurrencyOutsideMath(plain);\r\n    }\r\n    working = restoreMathSegments(plain, segments);\r\n  } else {\r\n    if (stripTextMacroInPlain) {\r\n      working = stripTextMacroInPlain(working);\r\n    }\r\n    if (applyPhraseSpacingRepairs) {\r\n      working = applyPhraseSpacingRepairs(working);\r\n    }\r\n    if (normalizeCurrencyOutsideMath) {\r\n      working = normalizeCurrencyOutsideMath(working);\r\n    }\r\n  }\r\n\r\n  working = stripBackslashesOutsideMath(working);\r\n  working = neutralizeUnpairedDollarSigns(working);\r\n  working = escapeCurrencyDollarsMathSafe(working);\r\n  working = working.replace(/(\\d[\\d.,]*)(\\s*)&\\#36;/g, '&#36;$1');\r\n  working = addSpacesAroundInlineMath(working);\r\n  working = repairSpacedTags(working);\r\n  working = protectTables(working);\r\n  working = deglueCommonBigrams(working);\r\n  working = working.replace(/\\$\\s*([A-Za-z])\\s*\\$/g, '$1');\r\n  return working;\r\n}\r\n\r\nfunction extractMathSegments(input) {\r\n  const segments = [];\r\n  if (typeof input !== 'string' || !input.length) {\r\n    return segments;\r\n  }\r\n  const mathRegex =\r\n    /\\$\\$([\\s\\S]+?)\\$\\$|\\\\\\[([\\s\\S]+?)\\\\\\]|\\$([\\s\\S]+?)\\$|\\\\\\(([\\s\\S]+?)\\\\\\)/g;\r\n  let lastIndex = 0;\r\n  let match;\r\n  while ((match = mathRegex.exec(input)) !== null) {\r\n    if (match.index > lastIndex) {\r\n      segments.push({\r\n        type: 'text',\r\n        value: input.slice(lastIndex, match.index),\r\n      });\r\n    }\r\n    if (typeof match[1] !== 'undefined') {\r\n      segments.push({\r\n        type: 'math',\r\n        value: match[1],\r\n        displayMode: true,\r\n        raw: match[0],\r\n      });\r\n    } else if (typeof match[2] !== 'undefined') {\r\n      segments.push({\r\n        type: 'math',\r\n        value: match[2],\r\n        displayMode: true,\r\n        raw: match[0],\r\n      });\r\n    } else if (typeof match[3] !== 'undefined') {\r\n      segments.push({\r\n        type: 'math',\r\n        value: match[3],\r\n        displayMode: false,\r\n        raw: match[0],\r\n      });\r\n    } else {\r\n      segments.push({\r\n        type: 'math',\r\n        value: match[4],\r\n        displayMode: false,\r\n        raw: match[0],\r\n      });\r\n    }\r\n    lastIndex = mathRegex.lastIndex;\r\n  }\r\n  if (lastIndex < input.length) {\r\n    segments.push({ type: 'text', value: input.slice(lastIndex) });\r\n  }\r\n  return segments;\r\n}\r\n\r\nfunction sanitizeHtmlContent(\r\n  content,\r\n  {\r\n    normalizeSpacing = false,\r\n    skipPreprocess = false,\r\n    subject = null,\r\n    trustedHtml = false, // set true for vetted premade content so we can render even if DOMPurify is unavailable\r\n  } = {}\r\n) {\r\n  if (typeof content !== 'string') return '';\r\n  let working = content;\r\n  if (!skipPreprocess) {\r\n    working = preprocessRawContent(working, { normalizeSpacing });\r\n  }\r\n\r\n  // HARDCODED FIX: Aggressively rewrite ALL image URLs to Netlify CDN\r\n  try {\r\n    const parser = new DOMParser();\r\n    const doc = parser.parseFromString(working, 'text/html');\r\n    const imgs = doc.querySelectorAll('img[src]');\r\n    if (imgs && imgs.length) {\r\n      imgs.forEach((img) => {\r\n        const raw = img.getAttribute('src') || '';\r\n        // Skip data: and blob: URLs\r\n        if (raw.startsWith('data:') || raw.startsWith('blob:')) return;\r\n\r\n        const resolved = resolveAssetUrl(raw, subject);\r\n        console.log(`[sanitizeHtmlContent] Rewriting: ${raw} -> ${resolved}`);\r\n        img.setAttribute('src', resolved);\r\n      });\r\n      working = doc.body.innerHTML;\r\n    }\r\n  } catch (_e) {\r\n    console.error('[sanitizeHtmlContent] Image rewrite error:', _e);\r\n  }\r\n\r\n  // Convert any inline pipe tables (including compressed single-line with \"||\") into HTML tables\r\n  working = normalizeInlineTablesFront(working);\r\n\r\n  const sanitizer =\r\n    window.DOMPurify && window.DOMPurify.sanitize\r\n      ? window.DOMPurify.sanitize\r\n      : null;\r\n  if (sanitizer) {\r\n    let sanitized = formatFractions(\r\n      sanitizer(working, {\r\n        ALLOWED_TAGS: ALLOWED_HTML_TAGS,\r\n        ALLOWED_ATTR: ALLOWED_HTML_ATTR,\r\n      })\r\n    );\r\n    // Convert Tailwind classes to inline CSS for table elements\r\n    sanitized = convertTailwindTableClassesToInlineCss(sanitized);\r\n    return sanitized;\r\n  }\r\n\r\n  // Fallback: if DOMPurify is missing but the content is trusted (premade), render without escaping\r\n  if (trustedHtml) {\r\n    let trusted = formatFractions(working);\r\n    trusted = convertTailwindTableClassesToInlineCss(trusted);\r\n    return trusted;\r\n  }\r\n\r\n  let result = formatFractions(\r\n    working.replace(/&/g, '&amp;').replace(/</g, '&lt;').replace(/>/g, '&gt;')\r\n  );\r\n  // Convert Tailwind classes to inline CSS for table elements\r\n  result = convertTailwindTableClassesToInlineCss(result);\r\n  return result;\r\n}\r\n\r\n// Convert Tailwind classes to inline CSS for tables\r\nfunction convertTailwindTableClassesToInlineCss(html) {\r\n  if (typeof html !== 'string' || !/<table/i.test(html)) return html;\r\n\r\n  const tailwindMap = {\r\n    // Table\r\n    'w-full': 'width: 100%;',\r\n    'text-left': 'text-align: left;',\r\n    'mt-2': 'margin-top: 0.5rem;',\r\n    'mt-3': 'margin-top: 0.75rem;',\r\n    'mt-4': 'margin-top: 1rem;',\r\n\r\n    // Cells\r\n    'p-2': 'padding: 0.5rem;',\r\n    'p-3': 'padding: 0.75rem;',\r\n    'p-4': 'padding: 1rem;',\r\n    'border-b': 'border-bottom: 1px solid #e5e7eb;',\r\n    border: 'border: 1px solid #e5e7eb;',\r\n\r\n    // Common utilities\r\n    'text-center': 'text-align: center;',\r\n    'text-right': 'text-align: right;',\r\n    'font-bold': 'font-weight: bold;',\r\n    'font-semibold': 'font-weight: 600;',\r\n  };\r\n\r\n  return html.replace(\r\n    /<(table|thead|tbody|tr|th|td)([^>]*)class=\"([^\"]+)\"([^>]*)>/gi,\r\n    (match, tag, before, classes, after) => {\r\n      const classList = classes.split(/\\s+/);\r\n      const styles = classList\r\n        .map((cls) => tailwindMap[cls.trim()])\r\n        .filter(Boolean)\r\n        .join('');\r\n\r\n      if (styles) {\r\n        return `<${tag}${before}style=\"${styles}\"${after}>`;\r\n      }\r\n      return match;\r\n    }\r\n  );\r\n}\r\n\r\n// Frontend safety: convert pipe-style tables to HTML so styles apply even if backend missed them\r\nfunction normalizeInlineTablesFront(html) {\r\n  if (typeof html !== 'string' || !html.trim()) return html;\r\n  if (/<table/i.test(html)) return html; // already fine\r\n  if (!html.includes('|')) return html;\r\n\r\n  let rows;\r\n  if (html.includes('||')) {\r\n    rows = html\r\n      .split('||')\r\n      .map((r) => r.trim())\r\n      .filter(Boolean);\r\n  } else {\r\n    rows = html\r\n      .split(/\\r?\\n/)\r\n      .filter((l) => l.includes('|'))\r\n      .map((r) => r.trim())\r\n      .filter(Boolean);\r\n  }\r\n\r\n  if (!rows.length) return html;\r\n\r\n  const trs = [];\r\n  for (const r of rows) {\r\n    if (/^\\|?\\s*-{3,}/.test(r)) continue; // skip separator rows\r\n    const cells = r\r\n      .replace(/^\\|/, '')\r\n      .replace(/\\|$/, '')\r\n      .split('|')\r\n      .map((c) => c.trim());\r\n    const tds = cells.map((c) => `<td>${c}</td>`).join('');\r\n    trs.push(`<tr>${tds}</tr>`);\r\n  }\r\n\r\n  if (!trs.length) return html;\r\n  return `<table class=\"data-table\"><tbody>${trs.join('')}</tbody></table>`;\r\n}\r\n\r\n// formatFractions()\r\n// This finds plain-text math-style fractions and wraps them in <span class=\"frac\">...</span>\r\n// We ONLY match \"number/number\" or \"(...)/number\" or \"(...)/(...)\"\r\nfunction formatFractions(text) {\r\n  if (!text || typeof text !== 'string') return text;\r\n\r\n  // 1. (2x + 1)/3  or  (a+b)/(c+d)\r\n  const complexPattern = /\\(([^\\)]+)\\)\\s*\\/\\s*\\(([^\\)]+)\\)/g;\r\n\r\n  // 2. (2x + 1)/3  (paren over number)\r\n  const parenOverNumberPattern = /\\(([^\\)]+)\\)\\s*\\/\\s*([0-9]+(\\.[0-9]+)?)/g;\r\n\r\n  // 3. 3/4 or 12/5 etc. Standalone numeric fractions\r\n  const simpleNumericPattern =\r\n    /\\b([0-9]+(\\.[0-9]+)?)\\s*\\/\\s*([0-9]+(\\.[0-9]+)?)\\b/g;\r\n\r\n  let out = text;\r\n\r\n  // Order matters: handle the more complex forms first so we don't double-wrap\r\n  out = out.replace(\r\n    complexPattern,\r\n    (match) => `<span class=\"frac\">${match}</span>`\r\n  );\r\n  out = out.replace(\r\n    parenOverNumberPattern,\r\n    (match) => `<span class=\"frac\">${match}</span>`\r\n  );\r\n  out = out.replace(\r\n    simpleNumericPattern,\r\n    (match) => `<span class=\"frac\">${match}</span>`\r\n  );\r\n\r\n  return out;\r\n}\r\n\r\nfunction cleanRepeatedText(text) {\r\n  if (!text || typeof text !== 'string') return text;\r\n  const half = Math.floor(text.length / 2);\r\n  if (text.length % 2 === 0) {\r\n    const firstHalf = text.substring(0, half);\r\n    const secondHalf = text.substring(half);\r\n    if (firstHalf === secondHalf) {\r\n      return firstHalf;\r\n    }\r\n  }\r\n  return text;\r\n}\r\n\r\nfunction parseHtmlTable(htmlString) {\r\n  const parser = new DOMParser();\r\n  const doc = parser.parseFromString(htmlString, 'text/html');\r\n  const table = doc.querySelector('table');\r\n  if (!table) return null;\r\n  const headers = [...table.querySelectorAll('th')].map((th) => th.innerText);\r\n  const rows = [...table.querySelectorAll('tbody tr')];\r\n  const labels = rows.map((row) => row.querySelector('td')?.innerText || '');\r\n  const datasets = [];\r\n  for (let i = 1; i < headers.length; i++) {\r\n    datasets.push({\r\n      label: headers[i],\r\n      data: rows.map(\r\n        (row) =>\r\n          parseFloat(\r\n            row.querySelectorAll('td')[i]?.innerText.replace(/[^0-9.-]+/g, '')\r\n          ) || 0\r\n      ),\r\n      backgroundColor: `rgba(59, 130, 246, 0.6)`,\r\n    });\r\n  }\r\n  return { labels, datasets };\r\n}\r\n\r\nfunction ChartDisplay({ chartData }) {\r\n  const chartRef = React.useRef(null);\r\n  const chartInstanceRef = React.useRef(null);\r\n\r\n  React.useEffect(() => {\r\n    if (!chartRef.current || !chartData) return;\r\n\r\n    // Destroy any existing instance before creating a new one\r\n    if (chartInstanceRef.current) {\r\n      try {\r\n        chartInstanceRef.current.destroy();\r\n      } catch (e) {}\r\n      chartInstanceRef.current = null;\r\n    }\r\n\r\n    chartInstanceRef.current = new Chart(chartRef.current, {\r\n      type: 'bar',\r\n      data: { labels: chartData.labels, datasets: chartData.datasets },\r\n      options: {\r\n        responsive: true,\r\n        maintainAspectRatio: false,\r\n        animation: { duration: 300 },\r\n      },\r\n    });\r\n\r\n    return () => {\r\n      if (chartInstanceRef.current) {\r\n        try {\r\n          chartInstanceRef.current.destroy();\r\n        } catch (e) {}\r\n        chartInstanceRef.current = null;\r\n      }\r\n    };\r\n  }, [chartData]);\r\n\r\n  return <canvas ref={chartRef} />;\r\n}\r\n\r\n// Science formula sheet data\r\nconst ScienceFormulas = [\r\n  {\r\n    name: 'Density',\r\n    formula: 'd = \\\\frac{m}{V}',\r\n    variables: 'd = density (mass per unit volume), m = mass, V = volume',\r\n  },\r\n  {\r\n    name: 'Average Speed',\r\n    formula: 'v = \\\\frac{d}{t}',\r\n    variables: 'v = average speed, d = distance traveled, t = elapsed time',\r\n  },\r\n  {\r\n    name: 'Force',\r\n    formula: 'F = ma',\r\n    variables: 'F = net force, m = mass, a = acceleration',\r\n  },\r\n  {\r\n    name: 'Work',\r\n    formula: 'W = F \\\\times d',\r\n    variables:\r\n      'W = work, F = applied force, d = displacement in the direction of the force',\r\n  },\r\n  {\r\n    name: 'Mean (Average)',\r\n    formula:\r\n      '\\\\bar{x} = \\\\frac{\\\\text{Total of all data values}}{\\\\text{How many values there are}}',\r\n    variables:\r\n      '\\\\bar{x} = mean (average) of the data set: add all values together and divide by how many values there are',\r\n  },\r\n  {\r\n    name: 'Range',\r\n    formula: '\\\\text{Range} = \\\\text{Maximum value} - \\\\text{Minimum value}',\r\n    variables:\r\n      'Describes the spread between the largest and smallest values in a data set.',\r\n  },\r\n];\r\n\r\nconst SCI_NUMERACY_QUESTIONS = [\r\n  {\r\n    questionNumber: 1,\r\n    qaProfileKey: 'numeracy',\r\n    type: 'knowledge',\r\n    passage:\r\n      '<p>A botanist measures the height (in cm) of five plants: 15, 18, 15, 22, and 20.</p>',\r\n    question:\r\n      'What is the <strong>mean (average)</strong> height of the plants?',\r\n    answerOptions: [\r\n      {\r\n        text: '15 cm',\r\n        rationale: '15 is the mode (most common), not the mean.',\r\n        isCorrect: false,\r\n      },\r\n      {\r\n        text: '18 cm',\r\n        rationale: 'Correct. (15+18+15+22+20)=90; 905=18.',\r\n        isCorrect: true,\r\n      },\r\n      {\r\n        text: '18.5 cm',\r\n        rationale: 'Close, but not the exact average.',\r\n        isCorrect: false,\r\n      },\r\n      {\r\n        text: '22 cm',\r\n        rationale: '22 is just the tallest plant.',\r\n        isCorrect: false,\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    questionNumber: 2,\r\n    qaProfileKey: 'numeracy',\r\n    type: 'knowledge',\r\n    passage:\r\n      '<p>In pea plants, purple flowers (P) are dominant over white flowers (p). Two heterozygous plants (Pp  Pp) are crossed.</p>',\r\n    question:\r\n      'What percent of offspring are expected to have <strong>white</strong> flowers?',\r\n    answerOptions: [\r\n      {\r\n        text: '0%',\r\n        rationale: 'Incorrect. White can appear if the plant gets pp.',\r\n        isCorrect: false,\r\n      },\r\n      {\r\n        text: '25%',\r\n        rationale:\r\n          'Correct. The Punnett square gives PP, Pp, Pp, pp  1 of 4 is pp (white).',\r\n        isCorrect: true,\r\n      },\r\n      {\r\n        text: '50%',\r\n        rationale: '50% would be too high; only 1 of 4 is pp.',\r\n        isCorrect: false,\r\n      },\r\n      {\r\n        text: '75%',\r\n        rationale: '75% would be purple, not white.',\r\n        isCorrect: false,\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    questionNumber: 3,\r\n    qaProfileKey: 'numeracy',\r\n    type: 'knowledge',\r\n    passage: '<p>A rock has a mass of 60 g and displaces 20 cm of water.</p>',\r\n    question: \"What is the rock's density?\",\r\n    answerOptions: [\r\n      {\r\n        text: '1 g/cm',\r\n        rationale: 'That would be 20 g  20 cm.',\r\n        isCorrect: false,\r\n      },\r\n      {\r\n        text: '3 g/cm',\r\n        rationale: 'Correct. Density = mass  volume = 60  20 = 3 g/cm.',\r\n        isCorrect: true,\r\n      },\r\n      {\r\n        text: '20 g/cm',\r\n        rationale: \"That's just the volume, not density.\",\r\n        isCorrect: false,\r\n      },\r\n      {\r\n        text: '40 g/cm',\r\n        rationale: 'Not based on 60  20.',\r\n        isCorrect: false,\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    questionNumber: 4,\r\n    qaProfileKey: 'numeracy',\r\n    type: 'knowledge',\r\n    passage: '<p>A car travels 150 km in 3 hours at a constant speed.</p>',\r\n    question: \"What is the car's average speed?\",\r\n    answerOptions: [\r\n      {\r\n        text: '50 km/h',\r\n        rationale: 'Correct. 150 km  3 h = 50 km/h.',\r\n        isCorrect: true,\r\n      },\r\n      {\r\n        text: '30 km/h',\r\n        rationale: 'Too low. That would be 90 km over 3 h.',\r\n        isCorrect: false,\r\n      },\r\n      {\r\n        text: '100 km/h',\r\n        rationale: 'Too high. That would be 300 km in 3 h.',\r\n        isCorrect: false,\r\n      },\r\n      {\r\n        text: '450 km/h',\r\n        rationale: 'Impossible for the data given.',\r\n        isCorrect: false,\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    questionNumber: 5,\r\n    qaProfileKey: 'numeracy',\r\n    type: 'knowledge',\r\n    passage:\r\n      '<p>A student pushes a box with a force of 50 N across the floor for 4 m.</p>',\r\n    question: 'How much work was done on the box?',\r\n    answerOptions: [\r\n      {\r\n        text: '12.5 J',\r\n        rationale: 'This divides instead of multiplying.',\r\n        isCorrect: false,\r\n      },\r\n      {\r\n        text: '46 N',\r\n        rationale: 'Newtons measure force, not work (energy).',\r\n        isCorrect: false,\r\n      },\r\n      {\r\n        text: '200 J',\r\n        rationale: 'Correct. Work W = F  d = 50 N  4 m = 200 J.',\r\n        isCorrect: true,\r\n      },\r\n      {\r\n        text: '200 N',\r\n        rationale: 'Units are wrong  work is in joules.',\r\n        isCorrect: false,\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    questionNumber: 6,\r\n    qaProfileKey: 'numeracy',\r\n    type: 'knowledge',\r\n    passage: '<p>A 2 kg cart accelerates at 3 m/s.</p>',\r\n    question: 'What net force is acting on the cart?',\r\n    answerOptions: [\r\n      {\r\n        text: '0.67 N',\r\n        rationale: 'That divides instead of multiplies.',\r\n        isCorrect: false,\r\n      },\r\n      {\r\n        text: '1.5 N',\r\n        rationale: 'Still dividing, not multiplying.',\r\n        isCorrect: false,\r\n      },\r\n      {\r\n        text: '5 N',\r\n        rationale: 'Close, but 2  3 is 6, not 5.',\r\n        isCorrect: false,\r\n      },\r\n      {\r\n        text: '6 N',\r\n        rationale: 'Correct. F = m  a = 2 kg  3 m/s = 6 N.',\r\n        isCorrect: true,\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    questionNumber: 7,\r\n    qaProfileKey: 'numeracy',\r\n    type: 'knowledge',\r\n    passage: `<p>A student heats four samples of the same liquid:</p>\r\n          <table class=\"min-w-full text-sm text-left\">\r\n            <thead><tr><th>Trial</th><th>Start Temp (C)</th><th>End Temp (C)</th></tr></thead>\r\n            <tbody>\r\n              <tr><td>A</td><td>22</td><td>30</td></tr>\r\n              <tr><td>B</td><td>22</td><td>29</td></tr>\r\n              <tr><td>C</td><td>22</td><td>35</td></tr>\r\n              <tr><td>D</td><td>22</td><td>28</td></tr>\r\n            </tbody>\r\n          </table>`,\r\n    question: 'Which trial had the greatest temperature increase?',\r\n    answerOptions: [\r\n      {\r\n        text: 'Trial A',\r\n        rationale: 'Increase was 30-22 = 8C.',\r\n        isCorrect: false,\r\n      },\r\n      { text: 'Trial B', rationale: 'Increase was 7C.', isCorrect: false },\r\n      {\r\n        text: 'Trial C',\r\n        rationale: 'Correct. Increase was 35-22 = 13C, the largest.',\r\n        isCorrect: true,\r\n      },\r\n      { text: 'Trial D', rationale: 'Increase was 6C.', isCorrect: false },\r\n    ],\r\n  },\r\n  {\r\n    questionNumber: 8,\r\n    qaProfileKey: 'numeracy',\r\n    type: 'knowledge',\r\n    passage:\r\n      '<p>Colony counts of bacteria on 5 plates were 12, 15, 15, 18, and 30 (in thousands).</p>',\r\n    question: 'What is the <strong>range</strong> of the data?',\r\n    answerOptions: [\r\n      {\r\n        text: '12',\r\n        rationale: '12 is just the smallest value.',\r\n        isCorrect: false,\r\n      },\r\n      { text: '18', rationale: '18 is not max - min.', isCorrect: false },\r\n      {\r\n        text: '30',\r\n        rationale: '30 is just the largest value.',\r\n        isCorrect: false,\r\n      },\r\n      {\r\n        text: '18 (thousand)',\r\n        rationale: 'Correct. Range = 30 - 12 = 18.',\r\n        isCorrect: true,\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    questionNumber: 9,\r\n    qaProfileKey: 'numeracy',\r\n    type: 'knowledge',\r\n    passage:\r\n      '<p>In the first 20 minutes of a run, a runner goes 10 km. After 10 minutes the runner had 5 km. Assume constant speed.</p>',\r\n    question: \"What is the runner's speed during this period (in km/min)?\",\r\n    answerOptions: [\r\n      {\r\n        text: '0.25 km/min',\r\n        rationale: 'Too low (that would be 5 km in 20 min).',\r\n        isCorrect: false,\r\n      },\r\n      {\r\n        text: '0.5 km/min',\r\n        rationale: 'Correct. 10 km  20 min = 0.5 km/min.',\r\n        isCorrect: true,\r\n      },\r\n      {\r\n        text: '2 km/min',\r\n        rationale: 'Too high. That would be 40 km in 20 min.',\r\n        isCorrect: false,\r\n      },\r\n      {\r\n        text: '20 km/min',\r\n        rationale: 'Way too high for a human runner.',\r\n        isCorrect: false,\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    questionNumber: 10,\r\n    qaProfileKey: 'numeracy',\r\n    type: 'knowledge',\r\n    passage:\r\n      '<p>A sealed container (nothing can enter or escape) has a total mass of 120 g before a chemical reaction and 120 g after.</p>',\r\n    question: 'Which statement is best supported by this data?',\r\n    answerOptions: [\r\n      {\r\n        text: 'Mass is created during the reaction.',\r\n        rationale: \"No; mass didn't increase.\",\r\n        isCorrect: false,\r\n      },\r\n      {\r\n        text: 'Mass is destroyed during the reaction.',\r\n        rationale: \"No; mass didn't decrease.\",\r\n        isCorrect: false,\r\n      },\r\n      {\r\n        text: 'Mass is conserved during the reaction.',\r\n        rationale: 'Correct. The total stayed 120 g.',\r\n        isCorrect: true,\r\n      },\r\n      {\r\n        text: 'The container leaked gas.',\r\n        rationale: 'If it leaked, mass would drop.',\r\n        isCorrect: false,\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    questionNumber: 11,\r\n    qaProfileKey: 'numeracy',\r\n    type: 'knowledge',\r\n    passage:\r\n      '<p>A pump moves 12 liters of water in 4 minutes at a constant rate.</p>',\r\n    question: 'How many liters will it move in 10 minutes?',\r\n    answerOptions: [\r\n      {\r\n        text: '20 L',\r\n        rationale: 'That assumes 2 L/min. Actual rate is 3 L/min.',\r\n        isCorrect: false,\r\n      },\r\n      {\r\n        text: '24 L',\r\n        rationale: \"That's 12 L in 4 min scaled to 8 min, not 10.\",\r\n        isCorrect: false,\r\n      },\r\n      {\r\n        text: '30 L',\r\n        rationale: 'Correct. 12  4 = 3 L/min. 3  10 = 30 L.',\r\n        isCorrect: true,\r\n      },\r\n      {\r\n        text: '120 L',\r\n        rationale: 'Way too high for this rate.',\r\n        isCorrect: false,\r\n      },\r\n    ],\r\n  },\r\n  {\r\n    questionNumber: 12,\r\n    qaProfileKey: 'numeracy',\r\n    type: 'knowledge',\r\n    passage:\r\n      '<p>A household budget is $3,000 per month. Housing is 35% of the budget.</p>',\r\n    question: 'How much money goes to housing each month?',\r\n    answerOptions: [\r\n      {\r\n        text: '$700',\r\n        rationale: \"That's 700 / 3000  23%. Too low.\",\r\n        isCorrect: false,\r\n      },\r\n      { text: '$900', rationale: \"That's 30% of $3,000.\", isCorrect: false },\r\n      {\r\n        text: '$1,050',\r\n        rationale: 'Correct. 35% of $3,000 = 0.35  3000 = $1,050.',\r\n        isCorrect: true,\r\n      },\r\n      {\r\n        text: '$1,500',\r\n        rationale: 'That would be 50%, not 35%.',\r\n        isCorrect: false,\r\n      },\r\n    ],\r\n  },\r\n];\r\n\r\nconst AppData = {\r\n  Science: {\r\n    icon: 'BeakerIcon',\r\n    categories: {\r\n      'Life Science': {\r\n        description:\r\n          'Explore the fundamental principles of living organisms, from the cellular level to entire ecosystems.',\r\n        topics: [\r\n          {\r\n            id: 'sci_life_science_basics',\r\n            title: 'Life Science Basics',\r\n            description:\r\n              'Cell structure, function, photosynthesis, and cellular respiration.',\r\n            questions: [\r\n              {\r\n                questionNumber: 1,\r\n                type: 'text',\r\n                passage:\r\n                  \"All living organisms are composed of cells, the basic units of life. The cell theory states that all living things are made of cells, cells are the basic unit of structure and function, and all cells come from pre-existing cells. Within a cell, organelles perform specific functions. The nucleus contains the cell's genetic material (DNA), and mitochondria are responsible for generating energy through cellular respiration.\",\r\n                question:\r\n                  'According to the passage, what is the primary function of mitochondria?',\r\n                answerOptions: [\r\n                  {\r\n                    text: \"Storing the cell's genetic material.\",\r\n                    rationale: 'This is the function of the nucleus.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Controlling all cell activities.',\r\n                    rationale: 'This is a broader function of the nucleus.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Generating energy for the cell.',\r\n                    rationale:\r\n                      'Correct. The passage states mitochondria generate energy.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'Creating new cells.',\r\n                    rationale:\r\n                      'New cells come from pre-existing cells, a process of the entire cell.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 2,\r\n                type: 'knowledge',\r\n                question:\r\n                  'Which of the following is the correct order of organization in living things, from simplest to most complex?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'Organism, Organ System, Organ, Tissue, Cell',\r\n                    rationale: 'This order is reversed.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Cell, Tissue, Organ, Organ System, Organism',\r\n                    rationale:\r\n                      'Correct. Cells form tissues, tissues form organs, organs form organ systems, and organ systems make up an organism.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'Tissue, Cell, Organ, Organism, Organ System',\r\n                    rationale: 'This order is incorrect.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Cell, Organ, Tissue, Organism, Organ System',\r\n                    rationale: 'This order is incorrect.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 3,\r\n                type: 'text',\r\n                passage:\r\n                  'Photosynthesis is the process used by plants, algae, and some bacteria to convert light energy into chemical energy. The process uses sunlight, water, and carbon dioxide to create glucose (sugar for energy) and oxygen. This is why plants are called producers; they create their own food.',\r\n                question:\r\n                  'What are the three essential inputs for photosynthesis?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'Sunlight, oxygen, and water.',\r\n                    rationale: 'Oxygen is an output, not an input.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Sunlight, carbon dioxide, and glucose.',\r\n                    rationale: 'Glucose is an output.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Sunlight, water, and carbon dioxide.',\r\n                    rationale:\r\n                      'Correct. The passage lists these three as the necessary ingredients.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'Water, oxygen, and glucose.',\r\n                    rationale: 'Oxygen and glucose are outputs.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 4,\r\n                type: 'knowledge',\r\n                question:\r\n                  'Which human body system is responsible for transporting oxygen, nutrients, and hormones to cells and removing waste products?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'Respiratory System',\r\n                    rationale:\r\n                      'The respiratory system is responsible for gas exchange (breathing).',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Nervous System',\r\n                    rationale:\r\n                      \"The nervous system is the body's command center, using electrical signals.\",\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Digestive System',\r\n                    rationale: 'The digestive system breaks down food.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Circulatory System',\r\n                    rationale:\r\n                      \"Correct. The circulatory system, including the heart, blood, and blood vessels, is the body's transport network.\",\r\n                    isCorrect: true,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 5,\r\n                type: 'text',\r\n                passage:\r\n                  'DNA (Deoxyribonucleic acid) is a molecule that carries the genetic instructions for the development, functioning, growth, and reproduction of all known organisms. A gene is a specific sequence of DNA that codes for a functional product, either RNA or a protein.',\r\n                question: 'What is the relationship between DNA and genes?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'A gene is a segment of DNA that codes for a specific product.',\r\n                    rationale:\r\n                      'Correct. The passage defines a gene as a specific sequence of DNA.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'DNA is a type of gene.',\r\n                    rationale:\r\n                      'This is reversed. A gene is a type of DNA sequence.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'DNA and genes are completely unrelated.',\r\n                    rationale: 'They are directly related.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'A gene is larger than a DNA molecule.',\r\n                    rationale: 'A gene is a part of a larger DNA molecule.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 6,\r\n                type: 'knowledge',\r\n                question: 'In genetics, what does a Punnett square predict?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'The exact genetic makeup of an offspring.',\r\n                    rationale:\r\n                      'It predicts probability, not the exact outcome.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'The probability of an offspring inheriting a particular trait.',\r\n                    rationale:\r\n                      'Correct. A Punnett square is a tool used to predict the possible genetic outcomes and their probabilities.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'The number of chromosomes in a cell.',\r\n                    rationale:\r\n                      'This is determined by a karyotype, not a Punnett square.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'The rate of cellular respiration.',\r\n                    rationale: 'This is unrelated to Punnett squares.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 7,\r\n                type: 'knowledge',\r\n                question:\r\n                  'Which part of the plant cell is primarily responsible for photosynthesis?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'Nucleus',\r\n                    rationale:\r\n                      \"The nucleus contains the cell's genetic material.\",\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Mitochondrion',\r\n                    rationale:\r\n                      'Mitochondria are responsible for cellular respiration.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Chloroplast',\r\n                    rationale:\r\n                      'Correct. Chloroplasts contain chlorophyll, the pigment that captures light energy.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'Cell Wall',\r\n                    rationale: 'The cell wall provides structural support.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 8,\r\n                type: 'text',\r\n                passage:\r\n                  'Homeostasis is the state of steady internal, physical, and chemical conditions maintained by living systems. This is the condition of optimal functioning for the organism and includes many variables, such as body temperature and fluid balance, being kept within certain pre-set limits.',\r\n                question:\r\n                  'Shivering when you are cold is an example of the body trying to maintain homeostasis by:',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'generating heat through muscle contractions.',\r\n                    rationale:\r\n                      'Correct. Shivering is an involuntary muscle contraction that generates heat to raise body temperature.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: \"reducing the body's core temperature.\",\r\n                    rationale:\r\n                      'It is an attempt to increase, not reduce, temperature.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'saving energy.',\r\n                    rationale: 'Shivering consumes energy.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'increasing fluid balance.',\r\n                    rationale:\r\n                      'This is unrelated to the primary purpose of shivering.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 9,\r\n                type: 'knowledge',\r\n                question:\r\n                  'In the human respiratory system, what is the primary function of the alveoli?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'To filter dust and particles from the air.',\r\n                    rationale:\r\n                      'This is mainly done by hairs and mucus in the nasal passages and trachea.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'To produce sound for speech.',\r\n                    rationale:\r\n                      'This is the function of the larynx (voice box).',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'To exchange oxygen and carbon dioxide with the blood.',\r\n                    rationale:\r\n                      'Correct. The alveoli are tiny air sacs where gas exchange occurs.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'To pump air into and out of the lungs.',\r\n                    rationale: 'This is the function of the diaphragm muscle.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 10,\r\n                type: 'knowledge',\r\n                question:\r\n                  'An allele is a variant form of a gene. If an individual has two identical alleles for a particular gene, they are:',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'Heterozygous for that gene.',\r\n                    rationale:\r\n                      'Heterozygous means having two different alleles.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Homozygous for that gene.',\r\n                    rationale: \"Correct. 'Homo-' means same.\",\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'Recessive for that gene.',\r\n                    rationale:\r\n                      'Recessive describes an allele that is masked by a dominant one.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Dominant for that gene.',\r\n                    rationale:\r\n                      'Dominant describes an allele that masks a recessive one.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 11,\r\n                type: 'text',\r\n                passage:\r\n                  'The nervous system is composed of two main parts: the Central Nervous System (CNS), which consists of the brain and spinal cord, and the Peripheral Nervous System (PNS), which consists of the nerves that branch out from the CNS to the rest of the body.',\r\n                question:\r\n                  'A nerve in your arm that sends a signal to your brain is part of which system?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'The Central Nervous System (CNS)',\r\n                    rationale: 'The CNS is the brain and spinal cord.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'The Peripheral Nervous System (PNS)',\r\n                    rationale:\r\n                      'Correct. Nerves outside the brain and spinal cord are part of the PNS.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'Both the CNS and PNS',\r\n                    rationale: 'It is part of the PNS.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'The Circulatory System',\r\n                    rationale: 'This is a different body system.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 12,\r\n                type: 'knowledge',\r\n                question:\r\n                  'What is the primary function of the digestive system?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'To break down food and absorb nutrients.',\r\n                    rationale:\r\n                      'Correct. The digestive system processes food for energy and nutrients.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'To eliminate waste from the blood.',\r\n                    rationale:\r\n                      'This is primarily the function of the urinary system.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'To send signals throughout the body.',\r\n                    rationale: 'This is the function of the nervous system.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'To produce hormones.',\r\n                    rationale: 'This is the function of the endocrine system.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 13,\r\n                type: 'text',\r\n                passage:\r\n                  \"Cellular respiration is a set of metabolic reactions and processes that take place in the cells of organisms to convert chemical energy from nutrients into adenosine triphosphate (ATP), and then release waste products. It is the process of 'burning' glucose for energy.\",\r\n                question: 'Cellular respiration occurs in which organelle?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'Chloroplast',\r\n                    rationale: 'Chloroplasts are for photosynthesis.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Nucleus',\r\n                    rationale: 'The nucleus contains genetic material.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Mitochondria',\r\n                    rationale:\r\n                      \"Correct. Mitochondria are known as the 'powerhouses' of the cell because this is where cellular respiration happens.\",\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'Ribosome',\r\n                    rationale:\r\n                      'Ribosomes are responsible for protein synthesis.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 14,\r\n                type: 'knowledge',\r\n                question:\r\n                  'Which of the following is an example of an inherited trait in humans?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'Eye color',\r\n                    rationale:\r\n                      'Correct. Eye color is determined by genes passed from parents to offspring.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'A scar from an injury',\r\n                    rationale:\r\n                      'This is an acquired characteristic, not inherited.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'The ability to speak English',\r\n                    rationale: 'This is a learned behavior.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'A tattoo',\r\n                    rationale: 'This is an acquired body modification.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 15,\r\n                type: 'knowledge',\r\n                question:\r\n                  'What is the difference between a dominant and a recessive allele?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'A dominant allele is always better than a recessive allele.',\r\n                    rationale: 'Dominance does not imply superiority.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'A dominant allele will mask the expression of a recessive allele.',\r\n                    rationale:\r\n                      'Correct. If a dominant allele is present, its trait will be expressed.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'Recessive alleles are more common in the population.',\r\n                    rationale:\r\n                      'Dominance is not related to how common an allele is.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Dominant alleles are only found in homozygous individuals.',\r\n                    rationale:\r\n                      'Dominant alleles are expressed in both homozygous and heterozygous individuals.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n            ],\r\n          },\r\n          {\r\n            id: 'sci_ecosystems_environment',\r\n            title: 'Ecosystems & Environment',\r\n            description:\r\n              'Ecology, food webs, and human impact on the environment.',\r\n            questions: [\r\n              {\r\n                questionNumber: 1,\r\n                type: 'text',\r\n                passage:\r\n                  'An ecosystem consists of all the living organisms (biotic factors) in a particular area, along with all the non-living (abiotic) components of the environment, such as sunlight, soil, water, and temperature. These components are linked together through nutrient cycles and energy flows.',\r\n                question:\r\n                  'Which of the following is an example of an abiotic factor in an ecosystem?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'A tree',\r\n                    rationale: 'A tree is a living organism (biotic).',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'A fungus',\r\n                    rationale: 'A fungus is a living organism (biotic).',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'The amount of annual rainfall',\r\n                    rationale:\r\n                      'Correct. Rainfall is a non-living component of the environment.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'An insect',\r\n                    rationale: 'An insect is a living organism (biotic).',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 2,\r\n                type: 'knowledge',\r\n                question:\r\n                  'In a food web, an organism that produces its own food, usually through photosynthesis, is called a:',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'Consumer',\r\n                    rationale: 'Consumers eat other organisms.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Producer',\r\n                    rationale:\r\n                      'Correct. Producers, like plants, form the base of the food web.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'Decomposer',\r\n                    rationale: 'Decomposers break down dead organic matter.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Scavenger',\r\n                    rationale: 'Scavengers are a type of consumer.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 3,\r\n                type: 'image',\r\n                imageUrl: '/images/Science/ged-scince-fig-12.png',\r\n                question:\r\n                  'In this food web, which organism is a primary consumer?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'The grass',\r\n                    rationale: 'The grass is a producer.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'The rabbit',\r\n                    rationale:\r\n                      'Correct. The rabbit eats the producer (grass), making it a primary consumer.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'The hawk',\r\n                    rationale:\r\n                      'The hawk eats other consumers, making it a secondary or tertiary consumer.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'The fungi',\r\n                    rationale: 'The fungi are decomposers.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 4,\r\n                type: 'text',\r\n                passage:\r\n                  'The energy pyramid illustrates the flow of energy from one trophic (feeding) level to the next in an ecosystem. A large amount of energy is lost at each level, usually as heat. Typically, only about 10% of the energy from one level is transferred to the level above it.',\r\n                question:\r\n                  'If the producers in an ecosystem contain 10,000 units of energy, approximately how much energy would be available to the secondary consumers?',\r\n                answerOptions: [\r\n                  {\r\n                    text: '10,000 units',\r\n                    rationale: 'This is the energy at the producer level.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: '1,000 units',\r\n                    rationale:\r\n                      'This is the energy available to the primary consumers (10% of 10,000).',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: '100 units',\r\n                    rationale:\r\n                      'Correct. Secondary consumers are two levels up. 10% of 10,000 is 1,000 (primary consumers), and 10% of 1,000 is 100.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: '10 units',\r\n                    rationale:\r\n                      'This would be the energy available to tertiary consumers.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 5,\r\n                type: 'knowledge',\r\n                question:\r\n                  'The process by which water evaporates from oceans, condenses into clouds, falls as precipitation, and returns to the ocean is known as:',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'The carbon cycle',\r\n                    rationale:\r\n                      'The carbon cycle describes the movement of carbon.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'The nitrogen cycle',\r\n                    rationale:\r\n                      'The nitrogen cycle describes the movement of nitrogen.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'The water cycle',\r\n                    rationale:\r\n                      'Correct. This describes the continuous movement of water on, above, and below the surface of the Earth.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'Photosynthesis',\r\n                    rationale:\r\n                      'Photosynthesis is a process used by plants to create energy.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 6,\r\n                type: 'text',\r\n                passage:\r\n                  'Human activities, such as the burning of fossil fuels (coal, oil, and natural gas), release large amounts of carbon dioxide into the atmosphere. Carbon dioxide is a greenhouse gas, which traps heat and contributes to the warming of the planet, a phenomenon known as global warming or climate change.',\r\n                question:\r\n                  'According to the passage, what is the primary cause of the recent increase in atmospheric carbon dioxide?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'Volcanic eruptions',\r\n                    rationale:\r\n                      'While volcanoes release CO2, human activities are the primary cause of the recent increase.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Deforestation',\r\n                    rationale:\r\n                      'Deforestation contributes, but the burning of fossil fuels is the primary cause mentioned.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'The burning of fossil fuels',\r\n                    rationale:\r\n                      'Correct. The passage explicitly states this as the main source.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'The process of photosynthesis',\r\n                    rationale:\r\n                      'Photosynthesis removes carbon dioxide from the atmosphere.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 7,\r\n                type: 'knowledge',\r\n                question:\r\n                  'A symbiotic relationship where one organism benefits and the other is neither harmed nor helped is called:',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'Mutualism',\r\n                    rationale: 'In mutualism, both organisms benefit.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Parasitism',\r\n                    rationale:\r\n                      'In parasitism, one organism benefits and the other is harmed.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Commensalism',\r\n                    rationale:\r\n                      'Correct. A classic example is a barnacle on a whale.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'Competition',\r\n                    rationale:\r\n                      'Competition is a relationship where two or more organisms vie for the same limited resources.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 8,\r\n                type: 'text',\r\n                passage:\r\n                  'Biodiversity refers to the variety of life in a particular habitat or ecosystem. High biodiversity is often a sign of a healthy ecosystem. It increases ecosystem productivity and resilience, meaning the ecosystem is better able to withstand and recover from disasters.',\r\n                question:\r\n                  'What is the primary benefit of high biodiversity in an ecosystem?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'It ensures that all organisms are the same size.',\r\n                    rationale: 'Biodiversity means variety, not uniformity.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: \"It increases the ecosystem's stability and resilience.\",\r\n                    rationale:\r\n                      'Correct. The passage states that high biodiversity makes an ecosystem more resilient.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'It decreases the total number of organisms.',\r\n                    rationale:\r\n                      'High biodiversity usually correlates with a high number of organisms.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'It simplifies the food web.',\r\n                    rationale:\r\n                      'High biodiversity leads to more complex food webs.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 9,\r\n                type: 'knowledge',\r\n                question:\r\n                  'What is the main role of decomposers, such as bacteria and fungi, in an ecosystem?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'To produce energy from sunlight.',\r\n                    rationale: 'This is the role of producers.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'To consume other organisms for energy.',\r\n                    rationale: 'This is the role of consumers.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'To break down dead organic matter and return nutrients to the soil.',\r\n                    rationale:\r\n                      'Correct. Decomposers are essential for recycling nutrients.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'To control the population of primary consumers.',\r\n                    rationale:\r\n                      'This is a role of secondary consumers (predators).',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 10,\r\n                type: 'text',\r\n                passage:\r\n                  'Natural selection is the process through which populations of living organisms adapt and change. Individuals in a population are naturally variable, meaning that they are all different in some ways. This variation means that some individuals have traits better suited to the environment than others. Individuals with adaptive traits are more likely to survive and reproduce, passing those traits on to their offspring.',\r\n                question:\r\n                  'Which of the following is a key requirement for natural selection to occur?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'All individuals in a population must be identical.',\r\n                    rationale:\r\n                      'Variation is necessary for natural selection to act upon.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'The environment must remain constant over time.',\r\n                    rationale:\r\n                      'Environmental changes are often the driving force of natural selection.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'There must be variation in heritable traits within a population.',\r\n                    rationale:\r\n                      \"Correct. Without variation, some individuals would not be better suited than others, and there would be nothing to 'select'.\",\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'Organisms must consciously choose to adapt.',\r\n                    rationale:\r\n                      'Adaptation through natural selection is a passive process, not a conscious choice.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 11,\r\n                type: 'knowledge',\r\n                question:\r\n                  'An invasive species is an organism that is not native to a specific location and has a tendency to spread to a degree believed to cause damage to the environment, economy, or human health. Why are invasive species often so successful in new ecosystems?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'Because they are usually larger than native species.',\r\n                    rationale: 'Size is not the determining factor.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Because they often lack natural predators in the new environment.',\r\n                    rationale:\r\n                      'Correct. Without predators to control their population, they can multiply rapidly and outcompete native species.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'Because they only eat food that native species do not.',\r\n                    rationale:\r\n                      'They often compete directly with native species for food.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Because they reproduce more slowly than native species.',\r\n                    rationale: 'They often reproduce more quickly.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 12,\r\n                type: 'knowledge',\r\n                question:\r\n                  'The gradual process by which ecosystems change and develop over time is called:',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'Evolution',\r\n                    rationale:\r\n                      'Evolution refers to the change in heritable traits of populations over generations.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Succession',\r\n                    rationale:\r\n                      'Correct. Ecological succession is the process of change in the species structure of an ecological community over time.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'Homeostasis',\r\n                    rationale:\r\n                      'Homeostasis is the maintenance of a stable internal environment.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Photosynthesis',\r\n                    rationale:\r\n                      'This is the process of creating energy from sunlight.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 13,\r\n                type: 'text',\r\n                passage:\r\n                  'Acid rain is caused by emissions of sulfur dioxide and nitrogen oxide, which react with the water molecules in the atmosphere to produce acids. These emissions primarily come from the burning of fossil fuels in power plants and vehicles. Acid rain can have harmful effects on soil, forests, and aquatic ecosystems.',\r\n                question: 'What is the primary cause of acid rain?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'An increase in the pH of rainwater.',\r\n                    rationale:\r\n                      'Acid rain involves a decrease in pH (making it more acidic).',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Pollutants from burning fossil fuels reacting with water in the atmosphere.',\r\n                    rationale:\r\n                      'Correct. The passage identifies sulfur dioxide and nitrogen oxide from fossil fuels as the primary cause.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'The natural carbonation of rainwater.',\r\n                    rationale:\r\n                      'Natural rainwater is slightly acidic, but acid rain is much more so due to pollution.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Runoff from agricultural fertilizers.',\r\n                    rationale:\r\n                      'Fertilizer runoff causes other problems, like eutrophication, but not acid rain.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 14,\r\n                type: 'knowledge',\r\n                question:\r\n                  'A food chain shows a single pathway of energy transfer. Which of the following is a correct and logical food chain?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'Hawk -> Snake -> Mouse -> Grass',\r\n                    rationale: 'This food chain is backwards.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Grass -> Mouse -> Snake -> Hawk',\r\n                    rationale:\r\n                      'Correct. This shows the correct flow of energy from producer to primary consumer to secondary consumer to tertiary consumer.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'Mouse -> Grass -> Hawk -> Snake',\r\n                    rationale: 'This order is illogical.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Sun -> Grass -> Hawk -> Mouse',\r\n                    rationale: 'This order is illogical.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 15,\r\n                type: 'knowledge',\r\n                question: \"The concept of a 'carbon footprint' refers to:\",\r\n                answerOptions: [\r\n                  {\r\n                    text: 'The total amount of carbon stored in the soil.',\r\n                    rationale:\r\n                      'This is part of the carbon cycle, but not a carbon footprint.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'The total amount of greenhouse gases generated by our actions.',\r\n                    rationale:\r\n                      \"Correct. It is a measure of an individual's or organization's impact on the climate.\",\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'The physical mark left by carbon-based life forms.',\r\n                    rationale:\r\n                      'This is a literal interpretation, not the correct meaning.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'The number of trees planted to offset carbon emissions.',\r\n                    rationale:\r\n                      'This is a way to reduce a carbon footprint, not the footprint itself.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n            ],\r\n          },\r\n        ],\r\n      },\r\n      'Physical Science': {\r\n        description:\r\n          'Investigate the principles of chemistry and physics that govern the world around us.',\r\n        topics: [\r\n          {\r\n            id: 'sci_chem_fundamentals',\r\n            title: 'Chemistry Fundamentals',\r\n            description:\r\n              'Properties of matter, atoms, elements, and the periodic table.',\r\n            questions: [\r\n              {\r\n                questionNumber: 1,\r\n                type: 'text',\r\n                passage:\r\n                  'All matter is made up of atoms, which are the smallest units of an element that maintain the properties of that element. Atoms are composed of three main subatomic particles: protons, neutrons, and electrons. Protons have a positive charge, neutrons have no charge, and electrons have a negative charge.',\r\n                question: 'Which subatomic particle has a positive charge?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'Proton',\r\n                    rationale:\r\n                      'Correct. The passage states that protons have a positive charge.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'Neutron',\r\n                    rationale: 'Neutrons have no charge.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Electron',\r\n                    rationale: 'Electrons have a negative charge.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Atom',\r\n                    rationale:\r\n                      'An atom is the whole unit, not a subatomic particle.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 2,\r\n                type: 'knowledge',\r\n                question:\r\n                  'In an atom, which two subatomic particles are found in the nucleus?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'Protons and electrons',\r\n                    rationale: 'Electrons orbit the nucleus.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Protons and neutrons',\r\n                    rationale:\r\n                      'Correct. The nucleus at the center of the atom contains the protons and neutrons.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'Neutrons and electrons',\r\n                    rationale: 'Electrons orbit the nucleus.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Only protons',\r\n                    rationale:\r\n                      'The nucleus also contains neutrons (except for the most common isotope of hydrogen).',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 3,\r\n                type: 'text',\r\n                passage:\r\n                  'The periodic table of elements arranges all known elements in order of increasing atomic number. The atomic number of an element is equal to the number of protons in the nucleus of an atom of that element. This number is unique to each element.',\r\n                question:\r\n                  'The identity of an element is determined by its number of:',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'Neutrons',\r\n                    rationale:\r\n                      'The number of neutrons can vary, creating isotopes.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Electrons',\r\n                    rationale:\r\n                      'The number of electrons can change when an atom forms an ion.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Protons',\r\n                    rationale:\r\n                      'Correct. The passage states that the atomic number, which is the number of protons, is unique to each element.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'Energy levels',\r\n                    rationale: 'The number of energy levels can change.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 4,\r\n                type: 'image',\r\n                imageUrl: '/images/Social Studies/licensed-image (5).jpg',\r\n                question:\r\n                  'This image shows a typical entry on the periodic table for the element Carbon (C). What is the atomic number of Carbon?',\r\n                answerOptions: [\r\n                  {\r\n                    text: '12.011',\r\n                    rationale: 'This is the atomic mass.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: '6',\r\n                    rationale:\r\n                      'Correct. The number at the top is the atomic number.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'C',\r\n                    rationale: 'This is the element symbol.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Carbon',\r\n                    rationale: 'This is the element name.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 5,\r\n                type: 'knowledge',\r\n                question:\r\n                  'What is the difference between an element and a compound?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'An element is a liquid, while a compound is a solid.',\r\n                    rationale:\r\n                      'Elements and compounds can exist in any state of matter.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'An element consists of only one type of atom, while a compound consists of two or more different types of atoms chemically bonded together.',\r\n                    rationale:\r\n                      'Correct. For example, oxygen (O) is an element, while water (H2O) is a compound.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'Elements are found in nature, while compounds are man-made.',\r\n                    rationale:\r\n                      'Many compounds, like water and carbon dioxide, are found in nature.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'There is no difference.',\r\n                    rationale: 'There is a fundamental chemical difference.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 6,\r\n                type: 'text',\r\n                passage:\r\n                  'A chemical reaction is a process that leads to the chemical transformation of one set of chemical substances to another. The substances initially involved in a chemical reaction are called reactants, and the substances produced are called products. The law of conservation of mass states that mass is neither created nor destroyed in a chemical reaction.',\r\n                question:\r\n                  'If 10 grams of reactant A are combined with 5 grams of reactant B in a sealed container and react completely, what will be the total mass of the products?',\r\n                answerOptions: [\r\n                  {\r\n                    text: '5 grams',\r\n                    rationale:\r\n                      'This would violate the law of conservation of mass.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: '10 grams',\r\n                    rationale:\r\n                      'This would violate the law of conservation of mass.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: '15 grams',\r\n                    rationale:\r\n                      'Correct. According to the law of conservation of mass, the total mass of the reactants must equal the total mass of the products.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'It is impossible to tell.',\r\n                    rationale:\r\n                      'The law of conservation of mass allows us to determine the mass.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 7,\r\n                type: 'knowledge',\r\n                question:\r\n                  'Which of the following represents a physical change, not a chemical change?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'Burning wood',\r\n                    rationale:\r\n                      'Burning is a chemical change (combustion) that creates new substances like ash and smoke.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Rusting iron',\r\n                    rationale:\r\n                      'Rusting is a chemical change (oxidation) that creates a new substance, iron oxide.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Boiling water',\r\n                    rationale:\r\n                      'Correct. Boiling water changes its state from liquid to gas (steam), but it is still chemically H2O. This is a physical change.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'Baking a cake',\r\n                    rationale:\r\n                      'Baking involves chemical reactions that change the ingredients into a new substance.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 8,\r\n                type: 'text',\r\n                passage:\r\n                  'The pH scale measures how acidic or basic a substance is. The scale ranges from 0 to 14. A pH of 7 is neutral. A pH less than 7 indicates acidity, while a pH greater than 7 indicates a base (alkalinity).',\r\n                question: 'A substance with a pH of 3 is considered:',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'Acidic',\r\n                    rationale: 'Correct. A pH less than 7 is acidic.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'Basic (alkaline)',\r\n                    rationale: 'A pH greater than 7 is basic.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Neutral',\r\n                    rationale: 'A pH of 7 is neutral.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'A solid',\r\n                    rationale: 'pH measures acidity, not state of matter.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 9,\r\n                type: 'knowledge',\r\n                question:\r\n                  'What is a substance that is dissolved in another substance to form a solution called?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'Solvent',\r\n                    rationale:\r\n                      'The solvent is the substance that does the dissolving (e.g., water).',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Solute',\r\n                    rationale:\r\n                      'Correct. The solute is the substance that is dissolved (e.g., salt in saltwater).',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'Mixture',\r\n                    rationale:\r\n                      'A mixture is the combination of two or more substances that are not chemically bonded.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Element',\r\n                    rationale:\r\n                      'An element is a pure substance consisting of only one type of atom.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 10,\r\n                type: 'knowledge',\r\n                question:\r\n                  \"In the chemical formula for water, H2O, what does the subscript '2' indicate?\",\r\n                answerOptions: [\r\n                  {\r\n                    text: 'There are two water molecules.',\r\n                    rationale:\r\n                      'A coefficient in front of the formula would indicate the number of molecules.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'There are two oxygen atoms.',\r\n                    rationale: \"The '2' is next to the 'H', not the 'O'.\",\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'There are two hydrogen atoms.',\r\n                    rationale:\r\n                      'Correct. The subscript indicates the number of atoms of the element immediately preceding it.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'The molecule has a charge of +2.',\r\n                    rationale: 'A superscript would indicate the charge.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 11,\r\n                type: 'knowledge',\r\n                question:\r\n                  \"The columns of the periodic table are called 'groups' or 'families.' Elements in the same group have similar:\",\r\n                answerOptions: [\r\n                  {\r\n                    text: 'Atomic masses',\r\n                    rationale: 'Atomic masses increase as you go down a group.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Chemical properties',\r\n                    rationale:\r\n                      'Correct. Elements in the same group have the same number of valence electrons, which gives them similar chemical behaviors.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'Numbers of protons',\r\n                    rationale: 'The number of protons increases down a group.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Numbers of energy shells',\r\n                    rationale:\r\n                      'The number of energy shells increases as you go down a group.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 12,\r\n                type: 'text',\r\n                passage:\r\n                  'A covalent bond is a chemical bond that involves the sharing of electron pairs between atoms. An ionic bond is formed when one atom transfers one or more electrons to another atom, creating ionscharged atoms that are then attracted to each other.',\r\n                question:\r\n                  'What is the key difference between a covalent bond and an ionic bond?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'Covalent bonds involve sharing electrons, while ionic bonds involve transferring electrons.',\r\n                    rationale:\r\n                      'Correct. The passage defines this as the fundamental difference.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'Covalent bonds are stronger than ionic bonds.',\r\n                    rationale:\r\n                      'The relative strength can vary depending on the specific atoms involved.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Covalent bonds form between metals, and ionic bonds form between nonmetals.',\r\n                    rationale:\r\n                      'Ionic bonds typically form between a metal and a nonmetal, while covalent bonds form between nonmetals.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Covalent bonds create ions, while ionic bonds do not.',\r\n                    rationale:\r\n                      'This is the opposite of what the passage states.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 13,\r\n                type: 'knowledge',\r\n                question: 'Which of the following is a property of a solid?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'It takes the shape of its container.',\r\n                    rationale: 'This is a property of liquids and gases.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'It has a definite shape and a definite volume.',\r\n                    rationale:\r\n                      'Correct. The particles in a solid are tightly packed and vibrate in fixed positions.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'It is easily compressible.',\r\n                    rationale: 'This is a property of gases.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'It has no definite shape or volume.',\r\n                    rationale: 'This is a property of gases.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 14,\r\n                type: 'knowledge',\r\n                question:\r\n                  'A substance that speeds up a chemical reaction without being consumed in the reaction is called a(n):',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'Reactant',\r\n                    rationale: 'A reactant is consumed in the reaction.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Product',\r\n                    rationale: 'A product is formed by the reaction.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Catalyst',\r\n                    rationale:\r\n                      'Correct. Catalysts lower the activation energy of a reaction, making it happen faster.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'Inhibitor',\r\n                    rationale: 'An inhibitor slows down a chemical reaction.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 15,\r\n                type: 'text',\r\n                passage:\r\n                  'Isotopes are variants of a particular chemical element which differ in neutron number, and consequently in mass number. All isotopes of a given element have the same number of protons in each atom.',\r\n                question:\r\n                  'Carbon-12 and Carbon-14 are isotopes of carbon. What is different between an atom of Carbon-12 and an atom of Carbon-14?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'The number of protons.',\r\n                    rationale:\r\n                      'They are both carbon, so they must have the same number of protons (6).',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'The number of electrons.',\r\n                    rationale:\r\n                      'In a neutral atom, the number of electrons equals the number of protons.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'The number of neutrons.',\r\n                    rationale:\r\n                      'Correct. Carbon-14 has two more neutrons than Carbon-12, which accounts for the difference in their mass numbers.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'Their chemical symbol.',\r\n                    rationale: 'They both have the chemical symbol C.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n            ],\r\n          },\r\n          {\r\n            id: 'sci_physics_motion',\r\n            title: 'Physics in Motion',\r\n            description:\r\n              \"Newton's laws of motion, energy transformations, and waves.\",\r\n            questions: [\r\n              {\r\n                questionNumber: 1,\r\n                type: 'text',\r\n                passage:\r\n                  \"Newton's First Law of Motion, often called the law of inertia, states that an object at rest will stay at rest, and an object in motion will stay in motion with the same speed and in the same direction unless acted upon by an unbalanced force.\",\r\n                question:\r\n                  \"A book is sitting on a table. According to Newton's First Law, it will not move unless:\",\r\n                answerOptions: [\r\n                  {\r\n                    text: 'it runs out of energy.',\r\n                    rationale:\r\n                      'An object at rest has no kinetic energy to run out of.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'an unbalanced force acts on it.',\r\n                    rationale:\r\n                      'Correct. A force, like a push or a pull, is required to change its state of rest.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'gravity stops acting on it.',\r\n                    rationale:\r\n                      'Gravity is a force constantly acting on the book.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'its inertia is used up.',\r\n                    rationale:\r\n                      'Inertia is a property of mass, not something that can be used up.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 2,\r\n                type: 'text',\r\n                passage:\r\n                  \"Newton's Second Law of Motion states that the acceleration of an object is directly proportional to the net force acting on it and inversely proportional to its mass. This is often written as the formula F = ma (Force = mass  acceleration).\",\r\n                question:\r\n                  'If you push two objects with the same amount of force, which one will accelerate more?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'The object with the larger mass.',\r\n                    rationale:\r\n                      'According to F=ma, if F is constant, a larger mass (m) results in smaller acceleration (a).',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'The object with the smaller mass.',\r\n                    rationale:\r\n                      'Correct. If F is constant, a smaller mass (m) will experience a larger acceleration (a).',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'They will both accelerate at the same rate.',\r\n                    rationale: 'Acceleration depends on mass.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Neither will accelerate.',\r\n                    rationale:\r\n                      'If a net force is applied, they will accelerate.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 3,\r\n                type: 'knowledge',\r\n                question:\r\n                  \"Newton's Third Law of Motion states that for every action, there is an equal and opposite reaction. Which of the following is the best example of this law?\",\r\n                answerOptions: [\r\n                  {\r\n                    text: 'A rocket moving upwards by pushing exhaust gases downwards.',\r\n                    rationale:\r\n                      'Correct. The action is the rocket pushing the gas down; the reaction is the gas pushing the rocket up.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'A car slowing down when the brakes are applied.',\r\n                    rationale:\r\n                      'This is an example of the First and Second Laws (a force causing deceleration).',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'A ball rolling to a stop due to friction.',\r\n                    rationale:\r\n                      \"This is an example of the First Law (an unbalanced force, friction, changing the object's motion).\",\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'A person sitting on a chair.',\r\n                    rationale:\r\n                      'While action-reaction forces are present (person pushes on chair, chair pushes on person), the rocket is a more dynamic example of the law in action.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 4,\r\n                type: 'text',\r\n                passage:\r\n                  \"Energy can be classified into two main types: potential and kinetic. Potential energy is stored energy, often due to an object's position or state. Kinetic energy is the energy of motion.\",\r\n                question:\r\n                  'A roller coaster car poised at the very top of a tall hill has its maximum:',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'Kinetic energy',\r\n                    rationale:\r\n                      'Kinetic energy is the energy of motion. At the top of the hill, the car is momentarily at rest, so its kinetic energy is at a minimum.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Potential energy',\r\n                    rationale:\r\n                      'Correct. Its height gives it the maximum amount of stored gravitational potential energy, which will be converted to kinetic energy as it rolls down.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'Frictional energy',\r\n                    rationale:\r\n                      'Friction is a force that converts kinetic energy into heat, not a primary energy type in this context.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Both kinetic and potential energy are at a minimum.',\r\n                    rationale: 'Potential energy is at its maximum.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 5,\r\n                type: 'knowledge',\r\n                question: 'The law of conservation of energy states that:',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'Energy can be created but not destroyed.',\r\n                    rationale: 'Energy cannot be created.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Energy cannot be created or destroyed, only transformed from one form to another.',\r\n                    rationale:\r\n                      'Correct. This is the fundamental principle of energy conservation.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'Kinetic energy is always greater than potential energy.',\r\n                    rationale:\r\n                      'The balance between kinetic and potential energy can vary.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Energy is lost as heat in every transformation.',\r\n                    rationale:\r\n                      'While some energy is often lost as heat, the total amount of energy is conserved.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 6,\r\n                type: 'text',\r\n                passage:\r\n                  'A wave is a disturbance that transfers energy from one place to another. In a transverse wave, the particles of the medium move perpendicular to the direction of energy transfer. In a longitudinal wave, the particles move parallel to the direction of energy transfer.',\r\n                question:\r\n                  'A sound wave, which consists of compressions and rarefactions of air particles, is an example of a:',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'Transverse wave',\r\n                    rationale: 'Light is an example of a transverse wave.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Longitudinal wave',\r\n                    rationale:\r\n                      'Correct. In a sound wave, the air particles vibrate back and forth in the same direction that the sound is traveling.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'Stationary wave',\r\n                    rationale:\r\n                      'A stationary wave does not transfer energy from one place to another.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Surface wave',\r\n                    rationale:\r\n                      'A surface wave occurs at the interface between two media.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 7,\r\n                type: 'knowledge',\r\n                question:\r\n                  'What is the term for the number of complete wave cycles that pass a point in a given amount of time?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'Wavelength',\r\n                    rationale:\r\n                      'Wavelength is the distance between two corresponding parts of a wave.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Amplitude',\r\n                    rationale:\r\n                      'Amplitude is the maximum displacement or distance moved by a point on a vibrating body or wave measured from its equilibrium position.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Frequency',\r\n                    rationale:\r\n                      'Correct. Frequency is typically measured in Hertz (Hz), which is cycles per second.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'Speed',\r\n                    rationale:\r\n                      'Speed is the distance the wave travels per unit of time.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 8,\r\n                type: 'knowledge',\r\n                question:\r\n                  'In an electrical circuit, what is the property that opposes the flow of electric current?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'Voltage',\r\n                    rationale:\r\n                      'Voltage is the electrical potential difference that drives the current.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Current',\r\n                    rationale: 'Current is the flow of electric charge.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Resistance',\r\n                    rationale:\r\n                      'Correct. Resistance, measured in ohms, is the opposition to the passage of an electric current.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'Power',\r\n                    rationale:\r\n                      'Power is the rate at which electrical energy is transferred.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 9,\r\n                type: 'text',\r\n                passage:\r\n                  \"Ohm's Law describes the relationship between voltage (V), current (I), and resistance (R) in an electrical circuit. The formula is V = IR. This means that for a given resistance, the current is directly proportional to the voltage.\",\r\n                question:\r\n                  'If the voltage in a circuit is increased while the resistance stays the same, what will happen to the current?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'It will decrease.',\r\n                    rationale:\r\n                      'According to V=IR, if V increases and R is constant, I must also increase.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'It will increase.',\r\n                    rationale:\r\n                      'Correct. The law states a direct proportionality between voltage and current.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'It will stay the same.',\r\n                    rationale:\r\n                      'The current will change if the voltage changes.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'It will reverse direction.',\r\n                    rationale:\r\n                      'The direction of the current is determined by the polarity of the voltage source.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 10,\r\n                type: 'knowledge',\r\n                question:\r\n                  'Which of the following is the best example of a conductor of electricity?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'Rubber',\r\n                    rationale: 'Rubber is an insulator.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Glass',\r\n                    rationale: 'Glass is an insulator.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Copper',\r\n                    rationale:\r\n                      'Correct. Metals like copper have free electrons that allow electric current to flow easily.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'Wood',\r\n                    rationale: 'Wood is an insulator.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 11,\r\n                type: 'knowledge',\r\n                question:\r\n                  'The force of gravity between two objects depends on two factors:',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'Their masses and the distance between them.',\r\n                    rationale:\r\n                      \"Correct. Newton's law of universal gravitation states that the force is proportional to the product of their masses and inversely proportional to the square of the distance between them.\",\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'Their speed and their temperature.',\r\n                    rationale:\r\n                      'These factors do not directly determine the force of gravity.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Their chemical composition and their electrical charge.',\r\n                    rationale:\r\n                      'These factors are not part of the law of gravitation.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Their volume and their shape.',\r\n                    rationale:\r\n                      'While related to mass and distance, it is mass itself, not volume or shape, that is the key factor.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 12,\r\n                type: 'text',\r\n                passage:\r\n                  \"Speed is a scalar quantity that refers to 'how fast an object is moving.' Velocity is a vector quantity that refers to 'the rate at which an object changes its position.' The key difference is that velocity includes direction.\",\r\n                question:\r\n                  'A car is traveling at a constant 60 miles per hour as it goes around a circular track. Which of the following is true?',\r\n                answerOptions: [\r\n                  {\r\n                    text: \"The car's speed and velocity are both constant.\",\r\n                    rationale:\r\n                      'The speed is constant, but the velocity is not.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: \"The car's speed is constant, but its velocity is changing.\",\r\n                    rationale:\r\n                      \"Correct. Even though the speed is constant, the car's direction is constantly changing, which means its velocity is also changing.\",\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: \"The car's speed is changing, but its velocity is constant.\",\r\n                    rationale: 'The speed is stated as constant.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: \"The car's speed and velocity are both changing.\",\r\n                    rationale: 'The speed is constant.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 13,\r\n                type: 'knowledge',\r\n                question:\r\n                  'What type of energy is stored in the bonds of chemical compounds, such as in food or batteries?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'Kinetic energy',\r\n                    rationale: 'Kinetic energy is the energy of motion.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Thermal energy',\r\n                    rationale:\r\n                      'Thermal energy is related to the temperature of an object.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Chemical potential energy',\r\n                    rationale:\r\n                      'Correct. This is the energy stored in the chemical bonds of a substance.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'Gravitational potential energy',\r\n                    rationale:\r\n                      \"This is energy stored due to an object's height.\",\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 14,\r\n                type: 'text',\r\n                passage:\r\n                  'Magnetism is a force produced by moving electric charges. All magnets have two poles, a north pole and a south pole. Like poles repel each other, while opposite poles attract each other.',\r\n                question:\r\n                  'If you bring the north pole of one magnet close to the north pole of another magnet, what will happen?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'The magnets will attract each other.',\r\n                    rationale: 'Opposite poles attract.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'The magnets will repel each other.',\r\n                    rationale:\r\n                      'Correct. The passage states that like poles repel.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'Nothing will happen.',\r\n                    rationale: 'A magnetic force will be exerted.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'The magnets will lose their magnetism.',\r\n                    rationale:\r\n                      'This will not cause them to lose their magnetism.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 15,\r\n                type: 'knowledge',\r\n                question: 'Which of the following is a unit of force?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'Meter',\r\n                    rationale: 'A meter is a unit of distance.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Kilogram',\r\n                    rationale: 'A kilogram is a unit of mass.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Second',\r\n                    rationale: 'A second is a unit of time.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Newton',\r\n                    rationale:\r\n                      'Correct. The Newton (N) is the standard unit of force in the International System of Units (SI).',\r\n                    isCorrect: true,\r\n                  },\r\n                ],\r\n              },\r\n            ],\r\n          },\r\n        ],\r\n      },\r\n      'Scientific Numeracy': {\r\n        description:\r\n          'Practice applying mathematical skills to interpret scientific data, charts, and formulas.',\r\n        image: './images/scientific_numeracy_icon.png',\r\n        topics: [\r\n          {\r\n            id: 'sci_scientific_numeracy_core',\r\n            title: 'Scientific Numeracy',\r\n            description: 'Core Skills Practice Set',\r\n            config: {\r\n              calculator: true,\r\n              formulaSheet: true,\r\n              totalTime: 20 * 60,\r\n            },\r\n            questions: SCI_NUMERACY_QUESTIONS,\r\n          },\r\n        ],\r\n      },\r\n      'Earth & Space Science': {\r\n        description:\r\n          'Study the systems of planet Earth and its place in the universe.',\r\n        topics: [\r\n          {\r\n            id: 'sci_earth_space',\r\n            title: 'Earth & Space Systems',\r\n            description:\r\n              'Plate tectonics, the rock cycle, and the solar system.',\r\n            questions: [\r\n              {\r\n                questionNumber: 1,\r\n                type: 'text',\r\n                passage:\r\n                  \"The Earth's lithosphere is divided into several large and small tectonic plates that float on the semi-fluid asthenosphere beneath. The movement of these plates is responsible for major geological events such as earthquakes, volcanic eruptions, and the formation of mountain ranges.\",\r\n                question: 'The theory of plate tectonics helps to explain:',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'The changing of the seasons.',\r\n                    rationale:\r\n                      \"The seasons are caused by the tilt of the Earth's axis.\",\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'The occurrence of earthquakes and the formation of mountains.',\r\n                    rationale:\r\n                      'Correct. The passage directly links plate movement to these geological events.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'The phases of the moon.',\r\n                    rationale:\r\n                      \"The moon's phases are caused by its orbit around the Earth.\",\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'The water cycle.',\r\n                    rationale: 'The water cycle is driven by solar energy.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 2,\r\n                type: 'knowledge',\r\n                question:\r\n                  'What type of plate boundary is formed when two tectonic plates collide with each other?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'Divergent boundary',\r\n                    rationale: 'At a divergent boundary, plates move apart.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Convergent boundary',\r\n                    rationale: \"Correct. 'Converge' means to come together.\",\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'Transform boundary',\r\n                    rationale:\r\n                      'At a transform boundary, plates slide past each other.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Static boundary',\r\n                    rationale: 'There is no such term in plate tectonics.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 3,\r\n                type: 'text',\r\n                passage:\r\n                  'The rock cycle is a model that describes the formation, breakdown, and reformation of a rock as a result of sedimentary, igneous, and metamorphic processes. For example, when magma or lava cools and solidifies, it forms igneous rock. When this rock is weathered and eroded, the sediments can be compacted to form sedimentary rock.',\r\n                question:\r\n                  'According to the passage, how is igneous rock formed?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'From the cooling and solidification of magma or lava.',\r\n                    rationale:\r\n                      'Correct. The passage explicitly states this is how igneous rock is formed.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'From the compaction and cementation of sediments.',\r\n                    rationale:\r\n                      'This describes the formation of sedimentary rock.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'From the application of heat and pressure to existing rock.',\r\n                    rationale:\r\n                      'This describes the formation of metamorphic rock.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'From the weathering of metamorphic rock.',\r\n                    rationale:\r\n                      'Weathering breaks down rock; it does not form it.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 4,\r\n                type: 'knowledge',\r\n                question:\r\n                  'Which type of rock is formed from the shells, skeletons, and other remains of living organisms?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'Igneous rock',\r\n                    rationale: 'Igneous rock is formed from cooled magma.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Metamorphic rock',\r\n                    rationale:\r\n                      'Metamorphic rock is formed by heat and pressure.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Organic sedimentary rock',\r\n                    rationale:\r\n                      'Correct. Rocks like limestone and coal are formed from the accumulation of organic debris.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'Chemical sedimentary rock',\r\n                    rationale:\r\n                      'Chemical sedimentary rocks form when minerals precipitate from a solution.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 5,\r\n                type: 'text',\r\n                passage:\r\n                  \"Weathering is the process that breaks down rocks, soils, and minerals as well as wood and artificial materials through contact with the Earth's atmosphere, water, and biological organisms. Erosion is the process by which soil and rock particles are worn away and moved elsewhere by gravity, or by a moving transport agent such as water, wind, or ice.\",\r\n                question:\r\n                  'What is the key difference between weathering and erosion?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'Weathering breaks down rocks, while erosion moves the broken pieces.',\r\n                    rationale:\r\n                      'Correct. Weathering is the breaking, and erosion is the taking.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'Weathering only happens to soil, while erosion only happens to rock.',\r\n                    rationale:\r\n                      'Both processes can happen to both soil and rock.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Weathering is a chemical process, while erosion is a physical process.',\r\n                    rationale:\r\n                      'Both processes can be either physical or chemical.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'There is no difference; they are the same process.',\r\n                    rationale: 'They are two distinct but related processes.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 6,\r\n                type: 'knowledge',\r\n                question:\r\n                  'Which of the following is the best example of chemical weathering?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'A rock breaking apart due to ice freezing and expanding in its cracks.',\r\n                    rationale:\r\n                      'This is an example of physical weathering (ice wedging).',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'The smoothing of a rock by a river.',\r\n                    rationale:\r\n                      'This is an example of physical weathering and erosion.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'The dissolving of limestone by acid rain.',\r\n                    rationale:\r\n                      'Correct. This is a chemical reaction that breaks down the rock.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'The roots of a tree growing into and splitting a rock.',\r\n                    rationale:\r\n                      'This is an example of physical weathering (biological).',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 7,\r\n                type: 'knowledge',\r\n                question:\r\n                  'What is the correct order of the planets in our solar system, starting from the one closest to the Sun?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'Earth, Mars, Jupiter, Saturn, Venus, Mercury, Uranus, Neptune',\r\n                    rationale: 'This order is incorrect.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Mercury, Venus, Earth, Mars, Jupiter, Saturn, Uranus, Neptune',\r\n                    rationale:\r\n                      'Correct. This is the order of the eight planets.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'Mercury, Venus, Mars, Earth, Jupiter, Saturn, Uranus, Neptune',\r\n                    rationale: 'Earth and Mars are in the wrong order.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Jupiter, Saturn, Uranus, Neptune, Mercury, Venus, Earth, Mars',\r\n                    rationale:\r\n                      'This separates the gas giants and terrestrial planets but is not the correct order from the sun.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 8,\r\n                type: 'text',\r\n                passage:\r\n                  'A star is a luminous ball of gas, mostly hydrogen and helium, held together by its own gravity. Nuclear fusion reactions in its core support the star against gravity and produce photons and heat, as well as small amounts of heavier elements. The Sun is the closest star to Earth.',\r\n                question:\r\n                  'What is the primary process that generates energy in a star like our Sun?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'Nuclear fusion',\r\n                    rationale:\r\n                      \"Correct. The passage states that nuclear fusion reactions in the core produce the star's energy.\",\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'Chemical combustion (burning)',\r\n                    rationale:\r\n                      \"Stars are not 'burning' in the traditional sense; it is a nuclear process.\",\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Gravitational collapse',\r\n                    rationale:\r\n                      'Gravity holds the star together, but fusion is what generates the outward energy.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Radioactive decay',\r\n                    rationale:\r\n                      \"This process occurs but is not the primary source of a star's energy.\",\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 9,\r\n                type: 'knowledge',\r\n                question: 'Why do we experience seasons on Earth?',\r\n                answerOptions: [\r\n                  {\r\n                    text: \"Because the Earth's distance from the Sun changes throughout the year.\",\r\n                    rationale:\r\n                      'While the distance does change slightly, this is not the primary cause of the seasons.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: \"Because of the tilt of the Earth's axis relative to its orbit around the Sun.\",\r\n                    rationale:\r\n                      'Correct. The tilt causes different parts of the Earth to receive more direct sunlight at different times of the year.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: \"Because the Sun's energy output changes throughout the year.\",\r\n                    rationale:\r\n                      \"The Sun's energy output is relatively constant.\",\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Because of the changing phases of the Moon.',\r\n                    rationale: \"The Moon's phases do not affect the seasons.\",\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 10,\r\n                type: 'knowledge',\r\n                question:\r\n                  'What causes the phases of the Moon (e.g., new moon, full moon, quarter moon)?',\r\n                answerOptions: [\r\n                  {\r\n                    text: \"The Earth's shadow falling on the Moon.\",\r\n                    rationale:\r\n                      'This describes a lunar eclipse, not the regular phases.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'The changing amount of the sunlit side of the Moon that we can see from Earth as it orbits us.',\r\n                    rationale:\r\n                      \"Correct. The phases are a result of our viewing angle of the Moon's illuminated surface.\",\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'Clouds blocking our view of the Moon.',\r\n                    rationale:\r\n                      'Clouds can obscure the moon, but they do not cause its phases.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'The Moon physically changing its shape.',\r\n                    rationale:\r\n                      'The Moon is always a sphere; only our view of it changes.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 11,\r\n                type: 'text',\r\n                passage:\r\n                  'Meteorology is the science dealing with the atmosphere and its phenomena, including weather and climate. Weather refers to the short-term conditions of the atmosphere at a particular time and place, including temperature, humidity, precipitation, and wind. Climate, on the other hand, is the long-term average of weather patterns in a region.',\r\n                question:\r\n                  'Which of the following is a description of climate, not weather?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'It is currently raining in Chicago.',\r\n                    rationale: 'This is a short-term condition (weather).',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'The Sahara Desert receives very little rainfall on average throughout the year.',\r\n                    rationale:\r\n                      'Correct. This describes a long-term average pattern, which is climate.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: \"Tomorrow's forecast is for a high of 75 degrees.\",\r\n                    rationale: 'This is a short-term prediction (weather).',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'The wind is blowing from the west today.',\r\n                    rationale: 'This is a short-term condition (weather).',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 12,\r\n                type: 'knowledge',\r\n                question:\r\n                  'What is the layer of gases surrounding the Earth called?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'The lithosphere',\r\n                    rationale:\r\n                      'The lithosphere is the rigid outer part of the earth, consisting of the crust and upper mantle.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'The hydrosphere',\r\n                    rationale:\r\n                      \"The hydrosphere is all the waters on the earth's surface, such as lakes and seas.\",\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'The atmosphere',\r\n                    rationale:\r\n                      'Correct. The atmosphere is the envelope of gases surrounding the earth.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'The asthenosphere',\r\n                    rationale:\r\n                      \"The asthenosphere is the upper layer of the earth's mantle, below the lithosphere.\",\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 13,\r\n                type: 'knowledge',\r\n                question: 'A solar eclipse occurs when:',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'The Earth passes between the Sun and the Moon.',\r\n                    rationale: 'This describes a lunar eclipse.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: \"The Moon passes between the Sun and the Earth, blocking the Sun's light.\",\r\n                    rationale:\r\n                      'Correct. This alignment casts a shadow on the Earth.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'The Sun passes between the Earth and the Moon.',\r\n                    rationale: 'This is not a possible alignment.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Another planet passes between the Earth and the Sun.',\r\n                    rationale: 'This is called a transit, not a solar eclipse.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 14,\r\n                type: 'image',\r\n                imageUrl: '/images/Science/ged-scince-fig-7.png',\r\n                question:\r\n                  'This diagram illustrates the rock cycle. What process is required to turn a sedimentary rock into a metamorphic rock?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'Weathering and erosion',\r\n                    rationale: 'This would break the rock down into sediments.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Melting and cooling',\r\n                    rationale: 'This would turn it into igneous rock.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Heat and pressure',\r\n                    rationale:\r\n                      'Correct. The diagram shows that heat and pressure transform existing rocks into metamorphic rocks.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'Compaction and cementation',\r\n                    rationale:\r\n                      'This is the process that forms sedimentary rocks from sediment.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 15,\r\n                type: 'knowledge',\r\n                question:\r\n                  \"Which planet is known as the 'Red Planet' due to its reddish, iron-rich soil?\",\r\n                answerOptions: [\r\n                  {\r\n                    text: 'Jupiter',\r\n                    rationale:\r\n                      \"Jupiter is a gas giant known for its Great Red Spot, but it is not the 'Red Planet.'\",\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Venus',\r\n                    rationale: 'Venus has a thick, yellowish atmosphere.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Mars',\r\n                    rationale:\r\n                      'Correct. Mars gets its distinctive red color from iron oxide (rust) on its surface.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'Saturn',\r\n                    rationale: 'Saturn is a gas giant known for its rings.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n            ],\r\n          },\r\n        ],\r\n      },\r\n    },\r\n  },\r\n  Math: {\r\n    icon: 'CalculatorIcon',\r\n    categories: {\r\n      'Quantitative Problem Solving': {\r\n        description: 'Solve problems using numbers, data, and statistics.',\r\n        icon: 'ChartBarIcon', // New Icon\r\n        topics: [\r\n          {\r\n            id: 'math_quant_basics',\r\n            title: 'Whole Numbers, Fractions & Decimals',\r\n            description: 'Operations with integers, fractions, and decimals.',\r\n            type: 'quiz',\r\n            questions: [\r\n              {\r\n                questionNumber: 1,\r\n                calculator: false,\r\n                question:\r\n                  'A construction project requires $\\\\frac{5}{8}$ inch bolts. If a worker has a bolt that is $\\\\frac{3}{4}$ inch, is it too large or too small, and by how much?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'The bolt is $\\\\frac{1}{8}$ inch too large.',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      'To compare $\\\\frac{3}{4}$ and $\\\\frac{5}{8}$, find a common denominator, which is 8. $\\\\frac{3}{4}$ is equal to $\\\\frac{6}{8}$, so it exceeds $\\\\frac{5}{8}$ by $\\\\frac{1}{8}$.',\r\n                  },\r\n                  {\r\n                    text: 'The bolt is $\\\\frac{1}{8}$ inch too small.',\r\n                    isCorrect: false,\r\n                    rationale:\r\n                      '$\\\\frac{3}{4}$ is equal to $\\\\frac{6}{8}$, which is larger than $\\\\frac{5}{8}$, not smaller.',\r\n                  },\r\n                  {\r\n                    text: 'The bolt is $\\\\frac{1}{4}$ inch too large.',\r\n                    isCorrect: false,\r\n                    rationale:\r\n                      'The difference between $\\\\frac{3}{4}$ and $\\\\frac{5}{8}$ is $\\\\frac{1}{8}$ inch, not $\\\\frac{1}{4}$ inch.',\r\n                  },\r\n                  {\r\n                    text: 'The bolt matches the required size exactly.',\r\n                    isCorrect: false,\r\n                    rationale: 'The sizes differ by $\\\\frac{1}{8}$ inch.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 2,\r\n                calculator: false,\r\n                question:\r\n                  'A recipe calls for $2 \\\\frac{1}{2}$ cups of flour. If you want to make half the recipe, how much flour do you need?',\r\n                answerOptions: [\r\n                  {\r\n                    text: '$\\\\frac{5}{4}$ cups',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      'Half of $2 \\\\frac{1}{2}$ is $\\\\left(\\\\frac{5}{2}\\\\right) \\\\div 2 = \\\\frac{5}{4}$ cups.',\r\n                  },\r\n                  {\r\n                    text: '$\\\\frac{3}{2}$ cups',\r\n                    isCorrect: false,\r\n                    rationale:\r\n                      'This would be more than half of the original amount.',\r\n                  },\r\n                  {\r\n                    text: '$1$ cup',\r\n                    isCorrect: false,\r\n                    rationale:\r\n                      'This is less than half of $2 \\\\frac{1}{2}$ cups.',\r\n                  },\r\n                  {\r\n                    text: '$\\\\frac{7}{4}$ cups',\r\n                    isCorrect: false,\r\n                    rationale: 'This is greater than the correct amount.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 3,\r\n                calculator: false,\r\n                question:\r\n                  \"A stock's price dropped by \\\\$1.25 on Monday and then rose by \\\\$2.50 on Tuesday. What was the net change in the stock's price over the two days?\",\r\n                answerOptions: [\r\n                  {\r\n                    text: 'A gain of \\\\$1.25',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      'The net change is $-1.25 + 2.50 = 1.25$, so the stock gained \\\\$1.25.',\r\n                  },\r\n                  {\r\n                    text: 'A loss of \\\\$1.25',\r\n                    isCorrect: false,\r\n                    rationale:\r\n                      'Because the net change is positive, the stock did not lose value.',\r\n                  },\r\n                  {\r\n                    text: 'A gain of \\\\$3.75',\r\n                    isCorrect: false,\r\n                    rationale:\r\n                      'Adding the magnitudes $1.25$ and $2.50$ assumes both days were gains.',\r\n                  },\r\n                  {\r\n                    text: 'A loss of \\\\$3.75',\r\n                    isCorrect: false,\r\n                    rationale:\r\n                      'Both days were not losses, so the total change cannot be negative \\\\$3.75.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 4,\r\n                calculator: false,\r\n                question:\r\n                  'If a pizza is cut into 8 slices and you eat 3 of them, what fraction of the pizza is left?',\r\n                answerOptions: [\r\n                  {\r\n                    text: '$\\\\frac{3}{8}$',\r\n                    isCorrect: false,\r\n                    rationale: 'This is the fraction eaten.',\r\n                  },\r\n                  {\r\n                    text: '$\\\\frac{5}{8}$',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      'If 3 out of 8 slices are eaten, $8 - 3 = 5$ slices are left.',\r\n                  },\r\n                  {\r\n                    text: '$\\\\frac{1}{2}$',\r\n                    isCorrect: false,\r\n                    rationale: '$\\\\frac{1}{2}$ would be 4 slices.',\r\n                  },\r\n                  {\r\n                    text: '$\\\\frac{3}{5}$',\r\n                    isCorrect: false,\r\n                    rationale:\r\n                      'This incorrectly uses the eaten slices as the denominator.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 5,\r\n                calculator: false,\r\n                question:\r\n                  \"A customer's total bill is \\\\$34.56. If they pay with a \\\\$50 bill, how much change should they receive?\",\r\n                answerOptions: [\r\n                  {\r\n                    text: '\\\\$15.44',\r\n                    isCorrect: true,\r\n                    rationale: '\\\\$50.00 - \\\\$34.56 = \\\\$15.44.',\r\n                  },\r\n                  {\r\n                    text: '\\\\$16.44',\r\n                    isCorrect: false,\r\n                    rationale:\r\n                      'This result comes from subtracting incorrectly.',\r\n                  },\r\n                  {\r\n                    text: '\\\\$15.54',\r\n                    isCorrect: false,\r\n                    rationale: 'The cents are miscalculated.',\r\n                  },\r\n                  {\r\n                    text: '\\\\$25.44',\r\n                    isCorrect: false,\r\n                    rationale:\r\n                      'This would be the change if the bill were \\\\$24.56.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 6,\r\n                calculator: true,\r\n                question:\r\n                  'A piece of wood is 8 feet long. If you cut it into 4 equal pieces, how long will each piece be in feet?',\r\n                answerOptions: [\r\n                  {\r\n                    text: '2 feet',\r\n                    isCorrect: true,\r\n                    rationale: '$8 \\\\text{ feet} / 4 = 2 \\\\text{ feet}$.',\r\n                  },\r\n                  {\r\n                    text: '4 feet',\r\n                    isCorrect: false,\r\n                    rationale: 'This would be cutting it in half.',\r\n                  },\r\n                  {\r\n                    text: '1 foot',\r\n                    isCorrect: false,\r\n                    rationale: 'This would be cutting it into 8 pieces.',\r\n                  },\r\n                  {\r\n                    text: '32 feet',\r\n                    isCorrect: false,\r\n                    rationale: 'This is multiplication, not division.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 7,\r\n                calculator: true,\r\n                question:\r\n                  'What is $0.75$ expressed as a fraction in simplest form?',\r\n                answerOptions: [\r\n                  {\r\n                    text: '$\\\\frac{75}{100}$',\r\n                    isCorrect: false,\r\n                    rationale: 'This is correct but not in simplest form.',\r\n                  },\r\n                  {\r\n                    text: '$\\\\frac{3}{4}$',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      '$0.75$ is $\\\\frac{75}{100}$, which simplifies to $\\\\frac{3}{4}$ by dividing both numerator and denominator by 25.',\r\n                  },\r\n                  {\r\n                    text: '$\\\\frac{1}{2}$',\r\n                    isCorrect: false,\r\n                    rationale: '$\\\\frac{1}{2}$ is $0.50$.',\r\n                  },\r\n                  {\r\n                    text: '$\\\\frac{4}{3}$',\r\n                    isCorrect: false,\r\n                    rationale: 'This is the reciprocal of the correct answer.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 8,\r\n                calculator: true,\r\n                question:\r\n                  'The temperature was $-5F$ in the morning and rose to $12F$ in the afternoon. How many degrees did the temperature increase?',\r\n                answerOptions: [\r\n                  {\r\n                    text: '7 degrees',\r\n                    isCorrect: false,\r\n                    rationale:\r\n                      'This is the difference between 12 and 5, not 12 and -5.',\r\n                  },\r\n                  {\r\n                    text: '17 degrees',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      'The increase is $12 - (-5) = 12 + 5 = 17$ degrees.',\r\n                  },\r\n                  {\r\n                    text: '-17 degrees',\r\n                    isCorrect: false,\r\n                    rationale:\r\n                      'The temperature increased, so the change is positive.',\r\n                  },\r\n                  {\r\n                    text: '12 degrees',\r\n                    isCorrect: false,\r\n                    rationale:\r\n                      'This ignores the starting negative temperature.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 9,\r\n                calculator: true,\r\n                question:\r\n                  'A carpenter has a board that is $10 \\\\frac{1}{2}$ feet long. He needs to cut a piece that is $3 \\\\frac{3}{4}$ feet long. How much of the board is left?',\r\n                answerOptions: [\r\n                  {\r\n                    text: '$\\\\frac{27}{4}$ feet',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      '$10 \\\\frac{1}{2} - 3 \\\\frac{3}{4} = \\\\frac{21}{2} - \\\\frac{15}{4} = \\\\frac{42}{4} - \\\\frac{15}{4} = \\\\frac{27}{4}$ feet.',\r\n                  },\r\n                  {\r\n                    text: '$\\\\frac{29}{4}$ feet',\r\n                    isCorrect: false,\r\n                    rationale:\r\n                      'This would come from subtracting $3 \\\\frac{1}{4}$ instead of $3 \\\\frac{3}{4}$.',\r\n                  },\r\n                  {\r\n                    text: '$\\\\frac{13}{2}$ feet',\r\n                    isCorrect: false,\r\n                    rationale:\r\n                      'This corresponds to $6 \\\\frac{1}{2}$ feet, which is too small.',\r\n                  },\r\n                  {\r\n                    text: '7 feet',\r\n                    isCorrect: false,\r\n                    rationale:\r\n                      'This ignores the fractional part of the remaining length.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 10,\r\n                calculator: true,\r\n                question:\r\n                  'If you drive 4.5 miles to the store, then 2.3 miles to the post office, and finally 6.1 miles home, how many miles did you drive in total?',\r\n                answerOptions: [\r\n                  {\r\n                    text: '12.9 miles',\r\n                    isCorrect: true,\r\n                    rationale: '$4.5 + 2.3 + 6.1 = 12.9$ miles.',\r\n                  },\r\n                  {\r\n                    text: '11.9 miles',\r\n                    isCorrect: false,\r\n                    rationale: 'This is a calculation error.',\r\n                  },\r\n                  {\r\n                    text: '13.0 miles',\r\n                    isCorrect: false,\r\n                    rationale: 'This is a calculation error.',\r\n                  },\r\n                  {\r\n                    text: '10.9 miles',\r\n                    isCorrect: false,\r\n                    rationale: 'This is a calculation error.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 11,\r\n                calculator: true,\r\n                question:\r\n                  'Which of the following numbers is the largest: $0.6, 0.65, 0.065, 0.605$?',\r\n                answerOptions: [\r\n                  {\r\n                    text: '0.6',\r\n                    isCorrect: false,\r\n                    rationale: '$0.6$ is equal to $0.600$.',\r\n                  },\r\n                  {\r\n                    text: '0.65',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      'Comparing the decimal places, $0.650$ is the largest value.',\r\n                  },\r\n                  {\r\n                    text: '0.065',\r\n                    isCorrect: false,\r\n                    rationale: 'This is the smallest value.',\r\n                  },\r\n                  {\r\n                    text: '0.605',\r\n                    isCorrect: false,\r\n                    rationale: '$0.605$ is smaller than $0.650$.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 12,\r\n                calculator: true,\r\n                question:\r\n                  \"A company's profit was \\\\$5,670 in one month. The next month, it was -\\\\$830 (a loss). What is the difference between the two months' profits?\",\r\n                answerOptions: [\r\n                  {\r\n                    text: '\\\\$4,840',\r\n                    isCorrect: false,\r\n                    rationale:\r\n                      'This is the sum if both months were profitable.',\r\n                  },\r\n                  {\r\n                    text: '\\\\$6,500',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      'The difference is \\\\$5,670 - (-\\\\$830) = \\\\$5,670 + \\\\$830 = \\\\$6,500.',\r\n                  },\r\n                  {\r\n                    text: '\\\\$5,500',\r\n                    isCorrect: false,\r\n                    rationale:\r\n                      'This miscalculates the change between the months.',\r\n                  },\r\n                  {\r\n                    text: '-\\\\$830',\r\n                    isCorrect: false,\r\n                    rationale:\r\n                      'This is the profit for the second month, not the difference.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 13,\r\n                calculator: true,\r\n                question:\r\n                  'If a baker has 12 cups of sugar and each cake requires $1 \\\\frac{1}{2}$ cups of sugar, how many cakes can the baker make?',\r\n                answerOptions: [\r\n                  {\r\n                    text: '6 cakes',\r\n                    isCorrect: false,\r\n                    rationale: 'This is an incorrect calculation.',\r\n                  },\r\n                  {\r\n                    text: '8 cakes',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      '$12 / (1 \\\\frac{1}{2}) = 12 / (\\\\frac{3}{2}) = 12 * (\\\\frac{2}{3}) = 24 / 3 = 8$ cakes.',\r\n                  },\r\n                  {\r\n                    text: '9 cakes',\r\n                    isCorrect: false,\r\n                    rationale: 'This is an incorrect calculation.',\r\n                  },\r\n                  {\r\n                    text: '18 cakes',\r\n                    isCorrect: false,\r\n                    rationale: 'This is multiplication, not division.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 14,\r\n                calculator: true,\r\n                question:\r\n                  'Order the following fractions from smallest to largest: $\\\\frac{1}{2}, \\\\frac{3}{5}, \\\\frac{2}{3}$.',\r\n                answerOptions: [\r\n                  {\r\n                    text: '$\\\\frac{3}{5}, \\\\frac{1}{2}, \\\\frac{2}{3}$',\r\n                    isCorrect: false,\r\n                    rationale:\r\n                      'Find a common denominator (30): $\\\\frac{1}{2}=\\\\frac{15}{30}, \\\\frac{3}{5}=\\\\frac{18}{30}, \\\\frac{2}{3}=\\\\frac{20}{30}$.',\r\n                  },\r\n                  {\r\n                    text: '$\\\\frac{1}{2}, \\\\frac{3}{5}, \\\\frac{2}{3}$',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      'In decimal form: $\\\\frac{1}{2}=0.5, \\\\frac{3}{5}=0.6, \\\\frac{2}{3} \\\\approx 0.66...$ The correct order is $\\\\frac{1}{2}, \\\\frac{3}{5}, \\\\frac{2}{3}$.',\r\n                  },\r\n                  {\r\n                    text: '$\\\\frac{2}{3}, \\\\frac{3}{5}, \\\\frac{1}{2}$',\r\n                    isCorrect: false,\r\n                    rationale: 'This is largest to smallest.',\r\n                  },\r\n                  {\r\n                    text: '$\\\\frac{1}{2}, \\\\frac{2}{3}, \\\\frac{3}{5}$',\r\n                    isCorrect: false,\r\n                    rationale: 'This order is incorrect.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 15,\r\n                calculator: true,\r\n                question:\r\n                  'A submarine is at a depth of -350 feet. It then rises 120 feet. What is its new depth?',\r\n                answerOptions: [\r\n                  {\r\n                    text: '-470 feet',\r\n                    isCorrect: false,\r\n                    rationale:\r\n                      'This would be the depth if it descended further.',\r\n                  },\r\n                  {\r\n                    text: '-230 feet',\r\n                    isCorrect: true,\r\n                    rationale: '$-350 + 120 = -230$ feet.',\r\n                  },\r\n                  {\r\n                    text: '230 feet',\r\n                    isCorrect: false,\r\n                    rationale: 'The submarine is still below sea level.',\r\n                  },\r\n                  {\r\n                    text: '-120 feet',\r\n                    isCorrect: false,\r\n                    rationale: 'This is the amount it rose, not its new depth.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 16,\r\n                calculator: true,\r\n                question:\r\n                  'A baker uses $\\\\frac{1}{4}$ of a bag of flour for a batch of cookies. If the bag originally contained 20 cups of flour, how many cups are left?',\r\n                answerOptions: [\r\n                  {\r\n                    text: '5 cups',\r\n                    isCorrect: false,\r\n                    rationale:\r\n                      'This is the amount of flour used, not the amount left.',\r\n                  },\r\n                  {\r\n                    text: '15 cups',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      'The baker used $\\\\frac{1}{4} \\\\times 20 = 5$ cups. The amount left is $20 - 5 = 15$ cups.',\r\n                  },\r\n                  {\r\n                    text: '10 cups',\r\n                    isCorrect: false,\r\n                    rationale: 'This is a calculation error.',\r\n                  },\r\n                  {\r\n                    text: '16 cups',\r\n                    isCorrect: false,\r\n                    rationale: 'This is a calculation error.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 17,\r\n                calculator: true,\r\n                question:\r\n                  \"Sarah's temperature was 102.5F. After taking some medicine, her temperature dropped by 3.8F. What is her new temperature?\",\r\n                answerOptions: [\r\n                  {\r\n                    text: '98.7F',\r\n                    isCorrect: true,\r\n                    rationale: '$102.5 - 3.8 = 98.7$F.',\r\n                  },\r\n                  {\r\n                    text: '99.7F',\r\n                    isCorrect: false,\r\n                    rationale: 'This is a calculation error.',\r\n                  },\r\n                  {\r\n                    text: '106.3F',\r\n                    isCorrect: false,\r\n                    rationale:\r\n                      'This is the result of adding the numbers, not subtracting.',\r\n                  },\r\n                  {\r\n                    text: '98.2F',\r\n                    isCorrect: false,\r\n                    rationale: 'This is a calculation error.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 18,\r\n                calculator: true,\r\n                question:\r\n                  \"A car travels 350 miles on a full tank of gas. If the tank holds 14 gallons, what is the car's fuel efficiency in miles per gallon (MPG)?\",\r\n                answerOptions: [\r\n                  {\r\n                    text: '20 MPG',\r\n                    isCorrect: false,\r\n                    rationale: 'This is a calculation error.',\r\n                  },\r\n                  {\r\n                    text: '25 MPG',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      'Fuel efficiency is total miles divided by gallons used: $350 / 14 = 25$ MPG.',\r\n                  },\r\n                  {\r\n                    text: '30 MPG',\r\n                    isCorrect: false,\r\n                    rationale: 'This is a calculation error.',\r\n                  },\r\n                  {\r\n                    text: '35 MPG',\r\n                    isCorrect: false,\r\n                    rationale: 'This is a calculation error.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 19,\r\n                calculator: true,\r\n                question:\r\n                  'A recipe requires $\\\\frac{3}{4}$ cup of sugar. If you want to make a triple batch, how much sugar do you need?',\r\n                answerOptions: [\r\n                  {\r\n                    text: '$\\\\frac{9}{4}$ cups',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      'Triple batch means multiplying by 3: $3 \\\\times \\\\frac{3}{4} = \\\\frac{9}{4}$ cups.',\r\n                  },\r\n                  {\r\n                    text: '$\\\\frac{3}{2}$ cups',\r\n                    isCorrect: false,\r\n                    rationale: 'This represents only doubling the recipe.',\r\n                  },\r\n                  {\r\n                    text: '$\\\\frac{15}{4}$ cups',\r\n                    isCorrect: false,\r\n                    rationale:\r\n                      'This would correspond to five times the original amount.',\r\n                  },\r\n                  {\r\n                    text: '3 cups',\r\n                    isCorrect: false,\r\n                    rationale:\r\n                      'This replaces the fraction with a whole number incorrectly.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 20,\r\n                calculator: false,\r\n                question:\r\n                  'The temperature was -8C in the morning and rose by 15C. What is the new temperature?',\r\n                answerOptions: [\r\n                  {\r\n                    text: '-23C',\r\n                    isCorrect: false,\r\n                    rationale:\r\n                      'This would be the temperature if it dropped by 15 degrees.',\r\n                  },\r\n                  {\r\n                    text: '7C',\r\n                    isCorrect: true,\r\n                    rationale: '-8 + 15 = 7C.',\r\n                  },\r\n                  {\r\n                    text: '23C',\r\n                    isCorrect: false,\r\n                    rationale: 'Incorrect calculation.',\r\n                  },\r\n                  {\r\n                    text: '-7C',\r\n                    isCorrect: false,\r\n                    rationale: 'Incorrect calculation.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 21,\r\n                calculator: true,\r\n                question:\r\n                  \"A runner completed a race in 45.67 seconds. The second-place runner finished 1.89 seconds slower. What was the second-place runner's time?\",\r\n                answerOptions: [\r\n                  {\r\n                    text: '43.78 seconds',\r\n                    isCorrect: false,\r\n                    rationale: 'This would be 1.89 seconds faster.',\r\n                  },\r\n                  {\r\n                    text: '47.56 seconds',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      'Slower means adding the time. 45.67 + 1.89 = 47.56 seconds.',\r\n                  },\r\n                  {\r\n                    text: '46.56 seconds',\r\n                    isCorrect: false,\r\n                    rationale: 'Incorrect calculation.',\r\n                  },\r\n                  {\r\n                    text: '47.46 seconds',\r\n                    isCorrect: false,\r\n                    rationale: 'Incorrect calculation.',\r\n                  },\r\n                ],\r\n              },\r\n            ],\r\n          },\r\n          {\r\n            id: 'math_quant_ratios_percents',\r\n            title: 'Ratios, Proportions & Percents',\r\n            description:\r\n              'Solving real-world problems with ratios and percentages.',\r\n            type: 'quiz',\r\n            questions: [\r\n              {\r\n                questionNumber: 1,\r\n                calculator: false,\r\n                question:\r\n                  'A shirt that originally costs $40 is on sale for $25\\\\%$ off. What is the sale price of the shirt?',\r\n                answerOptions: [\r\n                  {\r\n                    text: '$10',\r\n                    isCorrect: false,\r\n                    rationale:\r\n                      'This is the discount amount, not the final price.',\r\n                  },\r\n                  {\r\n                    text: '$30',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      'The discount is $25\\\\%$ of $\\\\$40$, which is $0.25 \\\\times 40 = \\\\$10$. The sale price is $\\\\$40 - \\\\$10 = \\\\$30$.',\r\n                  },\r\n                  {\r\n                    text: '$50',\r\n                    isCorrect: false,\r\n                    rationale: 'This is the price after a 25% increase.',\r\n                  },\r\n                  {\r\n                    text: '$35',\r\n                    isCorrect: false,\r\n                    rationale: 'This is a calculation error.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 2,\r\n                calculator: false,\r\n                question:\r\n                  'A map has a scale where 1 inch represents 50 miles. If two cities are 3.5 inches apart on the map, what is the actual distance between them?',\r\n                answerOptions: [\r\n                  {\r\n                    text: '150 miles',\r\n                    isCorrect: false,\r\n                    rationale: 'This is a calculation error.',\r\n                  },\r\n                  {\r\n                    text: '175 miles',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      'Set up a proportion: $\\\\frac{1 \\\\text{ in}}{50 \\\\text{ mi}} = \\\\frac{3.5 \\\\text{ in}}{x \\\\text{ mi}}$. Solving for x gives $3.5 \\\\times 50 = 175$ miles.',\r\n                  },\r\n                  {\r\n                    text: '200 miles',\r\n                    isCorrect: false,\r\n                    rationale: 'This is a calculation error.',\r\n                  },\r\n                  {\r\n                    text: '14.3 miles',\r\n                    isCorrect: false,\r\n                    rationale: 'This is division, not multiplication.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 3,\r\n                calculator: false,\r\n                question:\r\n                  'In a bag of marbles, the ratio of blue marbles to red marbles is $3:5$. If there are 15 red marbles, how many blue marbles are there?',\r\n                answerOptions: [\r\n                  {\r\n                    text: '9',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      'Set up a proportion: $\\\\frac{3 \\\\text{ blue}}{5 \\\\text{ red}} = \\\\frac{x \\\\text{ blue}}{15 \\\\text{ red}}$. To get from 5 to 15, you multiply by 3. So, multiply 3 by 3 to get 9.',\r\n                  },\r\n                  {\r\n                    text: '25',\r\n                    isCorrect: false,\r\n                    rationale:\r\n                      'This would be the result if the ratio were 5:3.',\r\n                  },\r\n                  {\r\n                    text: '15',\r\n                    isCorrect: false,\r\n                    rationale: 'This is the number of red marbles.',\r\n                  },\r\n                  {\r\n                    text: '3',\r\n                    isCorrect: false,\r\n                    rationale:\r\n                      'This is part of the ratio, not the final number.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 4,\r\n                calculator: false,\r\n                question:\r\n                  'A restaurant bill is $80. If you want to leave a $20\\\\%$ tip, how much should the tip be?',\r\n                answerOptions: [\r\n                  {\r\n                    text: '$8',\r\n                    isCorrect: false,\r\n                    rationale: 'This would be a 10% tip.',\r\n                  },\r\n                  {\r\n                    text: '$16',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      '$20\\\\%$ of $\\\\$80$ is $0.20 \\\\times 80 = \\\\$16$.',\r\n                  },\r\n                  {\r\n                    text: '$20',\r\n                    isCorrect: false,\r\n                    rationale: 'This would be a 25% tip.',\r\n                  },\r\n                  {\r\n                    text: '$96',\r\n                    isCorrect: false,\r\n                    rationale: 'This is the total bill plus the tip.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 5,\r\n                calculator: false,\r\n                question:\r\n                  'You scored 45 out of 50 on a test. What is your score as a percentage?',\r\n                answerOptions: [\r\n                  {\r\n                    text: '$85\\\\%$',\r\n                    isCorrect: false,\r\n                    rationale: 'This is a calculation error.',\r\n                  },\r\n                  {\r\n                    text: '$90\\\\%$',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      '$(\\\\frac{45}{50}) \\\\times 100 = 0.9 \\\\times 100 = 90\\\\%$.',\r\n                  },\r\n                  {\r\n                    text: '$95\\\\%$',\r\n                    isCorrect: false,\r\n                    rationale: 'This is a calculation error.',\r\n                  },\r\n                  {\r\n                    text: '$45\\\\%$',\r\n                    isCorrect: false,\r\n                    rationale: 'This is the raw score, not the percentage.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 6,\r\n                calculator: true,\r\n                question:\r\n                  'The price of a computer increased from $500 to $600. What was the percent increase?',\r\n                answerOptions: [\r\n                  {\r\n                    text: '$10\\\\%$',\r\n                    isCorrect: false,\r\n                    rationale: 'This is a calculation error.',\r\n                  },\r\n                  {\r\n                    text: '$20\\\\%$',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      'The increase is $\\\\$100$. The percent increase is (increase / original price) * 100 = (100 / 500) * 100 = $0.2 \\\\times 100 = 20\\\\%$.',\r\n                  },\r\n                  {\r\n                    text: '$25\\\\%$',\r\n                    isCorrect: false,\r\n                    rationale: 'This is a calculation error.',\r\n                  },\r\n                  {\r\n                    text: '$100\\\\%$',\r\n                    isCorrect: false,\r\n                    rationale: 'This would mean the price doubled.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 7,\r\n                calculator: true,\r\n                question:\r\n                  'A car can travel 300 miles on 12 gallons of gasoline. How many gallons are needed to travel 450 miles?',\r\n                answerOptions: [\r\n                  {\r\n                    text: '15 gallons',\r\n                    isCorrect: false,\r\n                    rationale: 'This is an incorrect calculation.',\r\n                  },\r\n                  {\r\n                    text: '18 gallons',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      'The car gets $\\\\frac{300}{12} = 25$ miles per gallon. To travel 450 miles, you need $\\\\frac{450}{25} = 18$ gallons.',\r\n                  },\r\n                  {\r\n                    text: '20 gallons',\r\n                    isCorrect: false,\r\n                    rationale: 'This is an incorrect calculation.',\r\n                  },\r\n                  {\r\n                    text: '24 gallons',\r\n                    isCorrect: false,\r\n                    rationale: 'This is an incorrect calculation.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 8,\r\n                calculator: true,\r\n                question:\r\n                  'A survey of 200 people found that 120 of them prefer coffee to tea. What is the ratio of people who prefer coffee to the total number of people surveyed, in simplest form?',\r\n                answerOptions: [\r\n                  {\r\n                    text: '$120:200$',\r\n                    isCorrect: false,\r\n                    rationale:\r\n                      'This is the correct ratio but not in simplest form.',\r\n                  },\r\n                  {\r\n                    text: '$3:5$',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      'The ratio is $\\\\frac{120}{200}$. Divide both sides by the greatest common divisor, 40, to get $\\\\frac{3}{5}$.',\r\n                  },\r\n                  {\r\n                    text: '$2:3$',\r\n                    isCorrect: false,\r\n                    rationale:\r\n                      'This is the ratio of tea drinkers to coffee drinkers.',\r\n                  },\r\n                  {\r\n                    text: '$3:2$',\r\n                    isCorrect: false,\r\n                    rationale:\r\n                      'This is the ratio of coffee drinkers to tea drinkers.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 9,\r\n                calculator: true,\r\n                question:\r\n                  'If sales tax is $7\\\\%$, how much tax would you pay on a $150 purchase?',\r\n                answerOptions: [\r\n                  {\r\n                    text: '$7.00',\r\n                    isCorrect: false,\r\n                    rationale: 'This is a calculation error.',\r\n                  },\r\n                  {\r\n                    text: '$10.50',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      '$7\\\\%$ of $\\\\$150$ is $0.07 \\\\times 150 = \\\\$10.50$.',\r\n                  },\r\n                  {\r\n                    text: '$15.00',\r\n                    isCorrect: false,\r\n                    rationale: 'This would be a 10% tax.',\r\n                  },\r\n                  {\r\n                    text: '$1.05',\r\n                    isCorrect: false,\r\n                    rationale: 'This is a decimal placement error.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 10,\r\n                calculator: true,\r\n                question:\r\n                  'A recipe calls for 2 cups of sugar for every 5 cups of flour. If you use 15 cups of flour, how much sugar do you need?',\r\n                answerOptions: [\r\n                  {\r\n                    text: '4 cups',\r\n                    isCorrect: false,\r\n                    rationale: 'This is an incorrect calculation.',\r\n                  },\r\n                  {\r\n                    text: '5 cups',\r\n                    isCorrect: false,\r\n                    rationale: 'This is an incorrect calculation.',\r\n                  },\r\n                  {\r\n                    text: '6 cups',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      'The ratio is $\\\\frac{2}{5}$. Set up the proportion $\\\\frac{2}{5} = \\\\frac{x}{15}$. To get from 5 to 15, you multiply by 3. So, $2 \\\\times 3 = 6$ cups.',\r\n                  },\r\n                  {\r\n                    text: '7.5 cups',\r\n                    isCorrect: false,\r\n                    rationale: 'This is an incorrect calculation.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 11,\r\n                calculator: true,\r\n                question:\r\n                  'A store buys a TV for $200 and marks it up by $60\\\\%$ to sell. What is the selling price?',\r\n                answerOptions: [\r\n                  {\r\n                    text: '$260',\r\n                    isCorrect: false,\r\n                    rationale: 'This would be a 30% markup.',\r\n                  },\r\n                  {\r\n                    text: '$320',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      'The markup is $60\\\\%$ of $\\\\$200$, which is $0.60 \\\\times 200 = \\\\$120$. The selling price is $\\\\$200 + \\\\$120 = \\\\$320$.',\r\n                  },\r\n                  {\r\n                    text: '$280',\r\n                    isCorrect: false,\r\n                    rationale: 'This would be a 40% markup.',\r\n                  },\r\n                  {\r\n                    text: '$120',\r\n                    isCorrect: false,\r\n                    rationale:\r\n                      'This is the markup amount, not the final price.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 12,\r\n                calculator: true,\r\n                question:\r\n                  \"If a city's population grew by $5\\\\%$ last year and the original population was 80,000, what is the new population?\",\r\n                answerOptions: [\r\n                  {\r\n                    text: '80,400',\r\n                    isCorrect: false,\r\n                    rationale: 'This is a calculation error.',\r\n                  },\r\n                  {\r\n                    text: '84,000',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      'The growth is $5\\\\%$ of 80,000, which is $0.05 \\\\times 80,000 = 4,000$. The new population is $80,000 + 4,000 = 84,000$.',\r\n                  },\r\n                  {\r\n                    text: '85,000',\r\n                    isCorrect: false,\r\n                    rationale: 'This is a calculation error.',\r\n                  },\r\n                  {\r\n                    text: '120,000',\r\n                    isCorrect: false,\r\n                    rationale: 'This would be a 50% growth.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 13,\r\n                calculator: true,\r\n                question:\r\n                  'Two numbers are in the ratio of $7:4$. If the smaller number is 28, what is the larger number?',\r\n                answerOptions: [\r\n                  {\r\n                    text: '49',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      'The ratio is $\\\\frac{7}{4}$. Set up the proportion $\\\\frac{7}{4} = \\\\frac{x}{28}$. To get from 4 to 28, you multiply by 7. So, $7 \\\\times 7 = 49$.',\r\n                  },\r\n                  {\r\n                    text: '16',\r\n                    isCorrect: false,\r\n                    rationale: 'This is a calculation error.',\r\n                  },\r\n                  {\r\n                    text: '56',\r\n                    isCorrect: false,\r\n                    rationale: 'This is a calculation error.',\r\n                  },\r\n                  {\r\n                    text: '28',\r\n                    isCorrect: false,\r\n                    rationale: 'This is the smaller number.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 14,\r\n                calculator: true,\r\n                question:\r\n                  'A company has 500 employees. If $15\\\\%$ of the employees have been with the company for more than 10 years, how many employees is that?',\r\n                answerOptions: [\r\n                  {\r\n                    text: '50',\r\n                    isCorrect: false,\r\n                    rationale: 'This would be 10%.',\r\n                  },\r\n                  {\r\n                    text: '75',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      '$15\\\\%$ of 500 is $0.15 \\\\times 500 = 75$ employees.',\r\n                  },\r\n                  {\r\n                    text: '100',\r\n                    isCorrect: false,\r\n                    rationale: 'This would be 20%.',\r\n                  },\r\n                  {\r\n                    text: '150',\r\n                    isCorrect: false,\r\n                    rationale: 'This would be 30%.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 15,\r\n                calculator: true,\r\n                question:\r\n                  'If you need to mix cement and sand in a ratio of $1:3$, how much sand would you need if you use 5 bags of cement?',\r\n                answerOptions: [\r\n                  {\r\n                    text: '3 bags',\r\n                    isCorrect: false,\r\n                    rationale: 'This is the ratio value, not the total amount.',\r\n                  },\r\n                  {\r\n                    text: '5 bags',\r\n                    isCorrect: false,\r\n                    rationale: 'This is the amount of cement.',\r\n                  },\r\n                  {\r\n                    text: '15 bags',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      'The ratio is 1 part cement to 3 parts sand. If you have 5 bags of cement, you need $5 \\\\times 3 = 15$ bags of sand.',\r\n                  },\r\n                  {\r\n                    text: '20 bags',\r\n                    isCorrect: false,\r\n                    rationale: 'This is the total number of bags.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 16,\r\n                calculator: true,\r\n                question:\r\n                  'A runner completes 8 laps around a track in 12 minutes. At this rate, how many laps can the runner complete in 30 minutes?',\r\n                answerOptions: [\r\n                  {\r\n                    text: '15 laps',\r\n                    isCorrect: false,\r\n                    rationale: 'This is an incorrect calculation.',\r\n                  },\r\n                  {\r\n                    text: '20 laps',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      \"The runner's rate is $\\\\frac{12 \\\\text{ min}}{8 \\\\text{ laps}} = 1.5$ minutes per lap. In 30 minutes, the runner can complete $\\\\frac{30}{1.5} = 20$ laps. Alternatively, set up a proportion: $\\\\frac{8}{12} = \\\\frac{x}{30}$, which gives $12x = 240$, so $x=20$.\",\r\n                  },\r\n                  {\r\n                    text: '24 laps',\r\n                    isCorrect: false,\r\n                    rationale: 'This is an incorrect calculation.',\r\n                  },\r\n                  {\r\n                    text: '18 laps',\r\n                    isCorrect: false,\r\n                    rationale: 'This is an incorrect calculation.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 17,\r\n                calculator: true,\r\n                question:\r\n                  'The ratio of boys to girls in a school is 5:6. If there are 240 girls, what is the total number of students in the school?',\r\n                answerOptions: [\r\n                  {\r\n                    text: '200',\r\n                    isCorrect: false,\r\n                    rationale:\r\n                      'This is the number of boys, not the total number of students.',\r\n                  },\r\n                  {\r\n                    text: '440',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      'Set up the proportion $\\\\frac{5 \\\\text{ boys}}{6 \\\\text{ girls}} = \\\\frac{x \\\\text{ boys}}{240 \\\\text{ girls}}$. This gives $6x = 1200$, so $x = 200$ boys. The total number of students is 200 boys + 240 girls = 440.',\r\n                  },\r\n                  {\r\n                    text: '480',\r\n                    isCorrect: false,\r\n                    rationale: 'This is an incorrect calculation.',\r\n                  },\r\n                  {\r\n                    text: '540',\r\n                    isCorrect: false,\r\n                    rationale: 'This is an incorrect calculation.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 18,\r\n                calculator: true,\r\n                question:\r\n                  'A pair of jeans originally priced at $75 is on sale for 40% off. What is the sale price?',\r\n                answerOptions: [\r\n                  {\r\n                    text: '$30',\r\n                    isCorrect: false,\r\n                    rationale:\r\n                      'This is the discount amount, not the final sale price.',\r\n                  },\r\n                  {\r\n                    text: '$45',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      'The discount is $40\\\\%$ of $\\\\$75$, which is $0.40 \\\\times 75 = \\\\$30$. The sale price is the original price minus the discount: $\\\\$75 - \\\\$30 = \\\\$45$.',\r\n                  },\r\n                  {\r\n                    text: '$105',\r\n                    isCorrect: false,\r\n                    rationale:\r\n                      'This is the original price plus the discount amount.',\r\n                  },\r\n                  {\r\n                    text: '$55',\r\n                    isCorrect: false,\r\n                    rationale: 'This is an incorrect calculation.',\r\n                  },\r\n                ],\r\n              },\r\n            ],\r\n          },\r\n          {\r\n            id: 'math_quant_stats_probability',\r\n            title: 'Statistics & Probability',\r\n            description: 'Mean, median, mode, range, and basic probability.',\r\n            type: 'quiz',\r\n            questions: [\r\n              {\r\n                questionNumber: 1,\r\n                calculator: false,\r\n                type: 'chart',\r\n                passage:\r\n                  \"<div class='passage-text'><b>Test Scores: 85, 92, 78, 88, 92</b></div>\",\r\n                question: 'What is the mode of the test scores listed?',\r\n                answerOptions: [\r\n                  {\r\n                    text: '87',\r\n                    isCorrect: false,\r\n                    rationale: '87 is the mean, not the mode.',\r\n                  },\r\n                  {\r\n                    text: '88',\r\n                    isCorrect: false,\r\n                    rationale: '88 is the median, not the mode.',\r\n                  },\r\n                  {\r\n                    text: '92',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      'The mode is the number that appears most frequently. 92 appears twice.',\r\n                  },\r\n                  {\r\n                    text: '14',\r\n                    isCorrect: false,\r\n                    rationale: '14 is the range, not the mode.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 2,\r\n                calculator: false,\r\n                type: 'chart',\r\n                passage:\r\n                  \"<div class='passage-text'><b>Test Scores: 85, 92, 78, 88, 92</b></div>\",\r\n                question:\r\n                  'What is the mean (average) of the test scores listed?',\r\n                answerOptions: [\r\n                  {\r\n                    text: '87',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      'The sum of the scores ($85+92+78+88+92$) is 435. The mean is $435 / 5 = 87$.',\r\n                  },\r\n                  {\r\n                    text: '88',\r\n                    isCorrect: false,\r\n                    rationale: '88 is the median.',\r\n                  },\r\n                  {\r\n                    text: '92',\r\n                    isCorrect: false,\r\n                    rationale: '92 is the mode.',\r\n                  },\r\n                  {\r\n                    text: '78',\r\n                    isCorrect: false,\r\n                    rationale: '78 is the lowest score.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 3,\r\n                calculator: false,\r\n                type: 'chart',\r\n                passage:\r\n                  \"<div class='passage-text'><b>Test Scores: 85, 92, 78, 88, 92</b></div>\",\r\n                question: 'What is the median of the test scores listed?',\r\n                answerOptions: [\r\n                  {\r\n                    text: '85',\r\n                    isCorrect: false,\r\n                    rationale: 'This is one of the scores, but not the median.',\r\n                  },\r\n                  {\r\n                    text: '88',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      'First, order the scores: 78, 85, 88, 92, 92. The median is the middle value, which is 88.',\r\n                  },\r\n                  {\r\n                    text: '92',\r\n                    isCorrect: false,\r\n                    rationale: '92 is the mode.',\r\n                  },\r\n                  {\r\n                    text: '87',\r\n                    isCorrect: false,\r\n                    rationale: '87 is the mean.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 4,\r\n                calculator: false,\r\n                question:\r\n                  'A bag contains 4 red, 5 blue, and 6 green marbles. What is the probability of randomly drawing a blue marble?',\r\n                answerOptions: [\r\n                  {\r\n                    text: '$\\\\frac{1}{3}$',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      'There are 5 blue marbles and a total of $4+5+6=15$ marbles. The probability is $\\\\frac{5}{15}$, which simplifies to $\\\\frac{1}{3}$.',\r\n                  },\r\n                  {\r\n                    text: '$\\\\frac{1}{5}$',\r\n                    isCorrect: false,\r\n                    rationale: 'This is an incorrect calculation.',\r\n                  },\r\n                  {\r\n                    text: '$\\\\frac{5}{10}$',\r\n                    isCorrect: false,\r\n                    rationale: 'This is an incorrect calculation.',\r\n                  },\r\n                  {\r\n                    text: '$\\\\frac{1}{15}$',\r\n                    isCorrect: false,\r\n                    rationale:\r\n                      'This would be the probability of drawing one specific marble.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 5,\r\n                calculator: false,\r\n                type: 'chart',\r\n                passage:\r\n                  \"<div class='passage-text'><b>Daily High Temperatures (F): 65, 68, 72, 72, 75, 78, 81</b></div>\",\r\n                question: 'What is the range of the daily high temperatures?',\r\n                answerOptions: [\r\n                  {\r\n                    text: '72',\r\n                    isCorrect: false,\r\n                    rationale: '72 is the mode and median.',\r\n                  },\r\n                  {\r\n                    text: '16',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      'The range is the difference between the highest and lowest value: $81 - 65 = 16$.',\r\n                  },\r\n                  {\r\n                    text: '73',\r\n                    isCorrect: false,\r\n                    rationale: '73 is the mean.',\r\n                  },\r\n                  {\r\n                    text: '81',\r\n                    isCorrect: false,\r\n                    rationale: '81 is the highest temperature.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 6,\r\n                calculator: true,\r\n                question:\r\n                  'If you roll a standard six-sided die, what is the probability of rolling an even number?',\r\n                answerOptions: [\r\n                  {\r\n                    text: '$\\\\frac{1}{6}$',\r\n                    isCorrect: false,\r\n                    rationale:\r\n                      'This is the probability of rolling one specific number.',\r\n                  },\r\n                  {\r\n                    text: '$\\\\frac{1}{3}$',\r\n                    isCorrect: false,\r\n                    rationale:\r\n                      'There are 3 even numbers (2, 4, 6) out of 6 total possibilities.',\r\n                  },\r\n                  {\r\n                    text: '$\\\\frac{1}{2}$',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      'There are 3 even numbers (2, 4, 6) out of 6 total possibilities. The probability is $\\\\frac{3}{6}$, which simplifies to $\\\\frac{1}{2}$.',\r\n                  },\r\n                  {\r\n                    text: '$\\\\frac{2}{3}$',\r\n                    isCorrect: false,\r\n                    rationale:\r\n                      'This is the probability of rolling a number greater than 2.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 7,\r\n                calculator: true,\r\n                type: 'chart',\r\n                passage:\r\n                  \"<div class='passage-text'><b>Ages of employees: 22, 25, 28, 34, 46</b></div>\",\r\n                question: 'What is the median age of the employees?',\r\n                answerOptions: [\r\n                  {\r\n                    text: '22',\r\n                    isCorrect: false,\r\n                    rationale: 'This is the minimum age.',\r\n                  },\r\n                  {\r\n                    text: '28',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      'The ages are already in order. The median is the middle value, which is 28.',\r\n                  },\r\n                  {\r\n                    text: '31',\r\n                    isCorrect: false,\r\n                    rationale: '31 is the mean.',\r\n                  },\r\n                  {\r\n                    text: '46',\r\n                    isCorrect: false,\r\n                    rationale: 'This is the maximum age.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 8,\r\n                calculator: true,\r\n                question:\r\n                  'A spinner is divided into 8 equal sections, numbered 1 through 8. What is the probability of spinning a number greater than 5?',\r\n                answerOptions: [\r\n                  {\r\n                    text: '$\\\\frac{1}{8}$',\r\n                    isCorrect: false,\r\n                    rationale:\r\n                      'This is the probability of spinning one specific number.',\r\n                  },\r\n                  {\r\n                    text: '$\\\\frac{3}{8}$',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      \"The numbers greater than 5 are 6, 7, and 8. That's 3 favorable outcomes out of 8 total possibilities.\",\r\n                  },\r\n                  {\r\n                    text: '$\\\\frac{5}{8}$',\r\n                    isCorrect: false,\r\n                    rationale: 'This is the probability of spinning 5 or less.',\r\n                  },\r\n                  {\r\n                    text: '$\\\\frac{1}{2}$',\r\n                    isCorrect: false,\r\n                    rationale: '$\\\\frac{1}{2}$ would be 4 sections.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 9,\r\n                calculator: true,\r\n                type: 'chart',\r\n                passage:\r\n                  \"<div class='passage-text'><b>Number of books read per month: 2, 3, 3, 5, 7, 10</b></div>\",\r\n                question: 'What is the mean number of books read?',\r\n                answerOptions: [\r\n                  { text: '3', isCorrect: false, rationale: '3 is the mode.' },\r\n                  {\r\n                    text: '4',\r\n                    isCorrect: false,\r\n                    rationale: '4 is the median.',\r\n                  },\r\n                  {\r\n                    text: '5',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      'The sum is $2+3+3+5+7+10 = 30$. The mean is $30 / 6 = 5$.',\r\n                  },\r\n                  { text: '8', isCorrect: false, rationale: '8 is the range.' },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 10,\r\n                calculator: true,\r\n                question:\r\n                  'From a standard deck of 52 cards, what is the probability of drawing a king?',\r\n                answerOptions: [\r\n                  {\r\n                    text: '$\\\\frac{1}{52}$',\r\n                    isCorrect: false,\r\n                    rationale:\r\n                      'This is the probability of drawing a specific king, not any king.',\r\n                  },\r\n                  {\r\n                    text: '$\\\\frac{1}{13}$',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      'There are 4 kings in a 52-card deck. The probability is $\\\\frac{4}{52}$, which simplifies to $\\\\frac{1}{13}$.',\r\n                  },\r\n                  {\r\n                    text: '$\\\\frac{1}{4}$',\r\n                    isCorrect: false,\r\n                    rationale:\r\n                      'This is the probability of drawing a specific suit.',\r\n                  },\r\n                  {\r\n                    text: '$\\\\frac{4}{13}$',\r\n                    isCorrect: false,\r\n                    rationale: 'This is an incorrect calculation.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 11,\r\n                calculator: true,\r\n                type: 'chart',\r\n                passage:\r\n                  \"<div class='passage-text'><b>Points scored in 5 games: 10, 15, 12, 10, 18</b></div>\",\r\n                question: 'What is the mode of the points scored?',\r\n                answerOptions: [\r\n                  {\r\n                    text: '10',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      'The mode is the value that appears most frequently. 10 appears twice.',\r\n                  },\r\n                  {\r\n                    text: '12',\r\n                    isCorrect: false,\r\n                    rationale: '12 is the median.',\r\n                  },\r\n                  {\r\n                    text: '13',\r\n                    isCorrect: false,\r\n                    rationale: '13 is the mean.',\r\n                  },\r\n                  { text: '8', isCorrect: false, rationale: '8 is the range.' },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 12,\r\n                calculator: true,\r\n                question:\r\n                  'If you flip a coin twice, what is the probability of getting heads both times?',\r\n                answerOptions: [\r\n                  {\r\n                    text: '$\\\\frac{1}{2}$',\r\n                    isCorrect: false,\r\n                    rationale:\r\n                      'This is the probability of getting heads on a single flip.',\r\n                  },\r\n                  {\r\n                    text: '$\\\\frac{1}{3}$',\r\n                    isCorrect: false,\r\n                    rationale:\r\n                      'There are 4 possible outcomes (HH, HT, TH, TT).',\r\n                  },\r\n                  {\r\n                    text: '$\\\\frac{1}{4}$',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      'The probability of the first heads is $\\\\frac{1}{2}$. The probability of the second is $\\\\frac{1}{2}$. The combined probability is $\\\\frac{1}{2} \\\\times \\\\frac{1}{2} = \\\\frac{1}{4}$.',\r\n                  },\r\n                  {\r\n                    text: '1',\r\n                    isCorrect: false,\r\n                    rationale: 'This would mean it is a certain outcome.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 13,\r\n                calculator: true,\r\n                type: 'chart',\r\n                passage:\r\n                  \"<div class='passage-text'><b>A student's grades are 80, 85, and 90. What grade do they need on the fourth test to have an average of 85?</b></div>\",\r\n                question:\r\n                  'What grade is needed on the fourth test for an average of 85?',\r\n                answerOptions: [\r\n                  {\r\n                    text: '80',\r\n                    isCorrect: false,\r\n                    rationale: 'This would result in an average of 83.75.',\r\n                  },\r\n                  {\r\n                    text: '85',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      'To have an average of 85 over 4 tests, the total score must be $85 \\\\times 4 = 340$. The current sum is $80+85+90 = 255$. The needed score is $340 - 255 = 85$.',\r\n                  },\r\n                  {\r\n                    text: '90',\r\n                    isCorrect: false,\r\n                    rationale: 'This would result in an average of 86.25.',\r\n                  },\r\n                  {\r\n                    text: '95',\r\n                    isCorrect: false,\r\n                    rationale: 'This would result in an average of 87.5.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 14,\r\n                calculator: true,\r\n                question:\r\n                  'A company has 100 employees. 60 are full-time and 40 are part-time. If an employee is selected at random, what is the probability they are part-time?',\r\n                answerOptions: [\r\n                  {\r\n                    text: '$\\\\frac{3}{5}$',\r\n                    isCorrect: false,\r\n                    rationale:\r\n                      'This is the probability of selecting a full-time employee.',\r\n                  },\r\n                  {\r\n                    text: '$\\\\frac{2}{5}$',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      'The probability is $\\\\frac{40}{100}$, which simplifies to $\\\\frac{2}{5}$.',\r\n                  },\r\n                  {\r\n                    text: '$\\\\frac{1}{2}$',\r\n                    isCorrect: false,\r\n                    rationale: 'This would be true if there were 50 of each.',\r\n                  },\r\n                  {\r\n                    text: '$\\\\frac{1}{40}$',\r\n                    isCorrect: false,\r\n                    rationale: 'This is an incorrect calculation.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 15,\r\n                calculator: true,\r\n                type: 'chart',\r\n                passage:\r\n                  \"<div class='passage-text'><b>Number of daily customers: 102, 115, 98, 120, 115, 130</b></div>\",\r\n                question: 'What is the median number of customers?',\r\n                answerOptions: [\r\n                  {\r\n                    text: '115',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      'Order the numbers: 98, 102, 115, 115, 120, 130. The median is the average of the two middle numbers (115 and 115), which is 115.',\r\n                  },\r\n                  {\r\n                    text: '113.3',\r\n                    isCorrect: false,\r\n                    rationale: 'This is the mean.',\r\n                  },\r\n                  {\r\n                    text: '98',\r\n                    isCorrect: false,\r\n                    rationale: 'This is the minimum.',\r\n                  },\r\n                  {\r\n                    text: '32',\r\n                    isCorrect: false,\r\n                    rationale: 'This is the range.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 16,\r\n                calculator: true,\r\n                type: 'chart',\r\n                passage:\r\n                  \"<div class='passage-text'><b>Final Exam Scores: 75, 80, 80, 85, 90, 95, 100</b></div>\",\r\n                question: 'What is the mode of the final exam scores?',\r\n                answerOptions: [\r\n                  {\r\n                    text: '80',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      'The mode is the number that appears most frequently in a data set. The score 80 appears twice.',\r\n                  },\r\n                  {\r\n                    text: '85',\r\n                    isCorrect: false,\r\n                    rationale: '85 is the median of the scores.',\r\n                  },\r\n                  {\r\n                    text: '86.4',\r\n                    isCorrect: false,\r\n                    rationale: 'This is the approximate mean of the scores.',\r\n                  },\r\n                  {\r\n                    text: '25',\r\n                    isCorrect: false,\r\n                    rationale: '25 is the range of the scores (100 - 75).',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 17,\r\n                calculator: true,\r\n                question:\r\n                  'A bag contains 3 red marbles, 7 blue marbles, and 5 green marbles. What is the probability of NOT drawing a blue marble?',\r\n                answerOptions: [\r\n                  {\r\n                    text: '$\\\\frac{7}{15}$',\r\n                    isCorrect: false,\r\n                    rationale:\r\n                      'This is the probability of drawing a blue marble.',\r\n                  },\r\n                  {\r\n                    text: '$\\\\frac{8}{15}$',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      'There are 15 total marbles (3+7+5). The number of non-blue marbles is 3 (red) + 5 (green) = 8. So the probability is 8/15.',\r\n                  },\r\n                  {\r\n                    text: '$\\\\frac{1}{3}$',\r\n                    isCorrect: false,\r\n                    rationale:\r\n                      'This is the probability of drawing a green marble (5/15).',\r\n                  },\r\n                  {\r\n                    text: '$\\\\frac{1}{5}$',\r\n                    isCorrect: false,\r\n                    rationale:\r\n                      'This is the probability of drawing a red marble (3/15).',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 15,\r\n                calculator: true,\r\n                type: 'graph',\r\n                passage:\r\n                  \"<div class='passage-text'>A line passes through the points (0, 2) and (3, 8).</div>\",\r\n                question: 'What is the slope of the line?',\r\n                answerOptions: [\r\n                  {\r\n                    text: '2',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      'The slope is the change in y divided by the change in x: $(8 - 2) / (3 - 0) = 6 / 3 = 2$.',\r\n                  },\r\n                  {\r\n                    text: '3',\r\n                    isCorrect: false,\r\n                    rationale: 'This is the change in x.',\r\n                  },\r\n                  {\r\n                    text: '6',\r\n                    isCorrect: false,\r\n                    rationale: 'This is the change in y.',\r\n                  },\r\n                  {\r\n                    text: '$\\\\frac{1}{2}$',\r\n                    isCorrect: false,\r\n                    rationale: 'This is the reciprocal of the correct slope.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 16,\r\n                calculator: true,\r\n                question:\r\n                  'What is the y-intercept of the equation $y = 3x - 4$?',\r\n                answerOptions: [\r\n                  {\r\n                    text: '3',\r\n                    isCorrect: false,\r\n                    rationale: '3 is the slope of the line.',\r\n                  },\r\n                  {\r\n                    text: '-4',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      \"In the slope-intercept form $y = mx + b$, 'b' is the y-intercept. In this case, it's -4.\",\r\n                  },\r\n                  {\r\n                    text: '4',\r\n                    isCorrect: false,\r\n                    rationale: 'The y-intercept is negative.',\r\n                  },\r\n                  {\r\n                    text: '$\\\\frac{4}{3}$',\r\n                    isCorrect: false,\r\n                    rationale: 'This is the x-intercept.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 17,\r\n                calculator: false,\r\n                question:\r\n                  'If $f(x) = 2x^2 + 5x - 3$, what is the value of $f(-2)$?',\r\n                answerOptions: [\r\n                  {\r\n                    text: '-5',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      'Substitute -2 for x: $f(-2) = 2(-2)^2 + 5(-2) - 3 = 2(4) - 10 - 3 = 8 - 10 - 3 = -5$.',\r\n                  },\r\n                  {\r\n                    text: '1',\r\n                    isCorrect: false,\r\n                    rationale: 'Incorrect calculation. $2(4) - 10 - 3 = -5$.',\r\n                  },\r\n                  {\r\n                    text: '21',\r\n                    isCorrect: false,\r\n                    rationale:\r\n                      'Incorrectly handled the negative signs. $5(-2)$ is -10.',\r\n                  },\r\n                  {\r\n                    text: '-15',\r\n                    isCorrect: false,\r\n                    rationale:\r\n                      'Incorrect calculation of the exponent. $(-2)^2$ is 4, not -4.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 15,\r\n                calculator: true,\r\n                question:\r\n                  'A rectangle is 8 inches long and 5 inches wide. What is its area?',\r\n                answerOptions: [\r\n                  {\r\n                    text: '40 sq in',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      'The area of a rectangle is length times width. $8 \\\\times 5 = 40$.',\r\n                  },\r\n                  {\r\n                    text: '26 in',\r\n                    isCorrect: false,\r\n                    rationale: 'This is the perimeter of the rectangle.',\r\n                  },\r\n                  {\r\n                    text: '13 in',\r\n                    isCorrect: false,\r\n                    rationale: 'This is the sum of the length and width.',\r\n                  },\r\n                  {\r\n                    text: '64 sq in',\r\n                    isCorrect: false,\r\n                    rationale:\r\n                      'This would be the area if it were a square with side 8.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 16,\r\n                calculator: true,\r\n                question:\r\n                  'What is the circumference of a circle with a radius of 5 cm? (Use $\\\\pi \\\\approx 3.14$)',\r\n                answerOptions: [\r\n                  {\r\n                    text: '15.7 cm',\r\n                    isCorrect: false,\r\n                    rationale: 'This is the semi-circumference ($\\\\pi r$).',\r\n                  },\r\n                  {\r\n                    text: '31.4 cm',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      'The formula for circumference is $C = 2\\\\pi r$. So, $C = 2 \\\\times 3.14 \\\\times 5 = 31.4$ cm.',\r\n                  },\r\n                  {\r\n                    text: '78.5 sq cm',\r\n                    isCorrect: false,\r\n                    rationale: 'This is the area of the circle ($\\\\pi r^2$).',\r\n                  },\r\n                  {\r\n                    text: '10 cm',\r\n                    isCorrect: false,\r\n                    rationale: 'This is the diameter of the circle.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 17,\r\n                calculator: false,\r\n                question:\r\n                  'Two angles in a triangle measure 40 degrees and 60 degrees. What is the measure of the third angle?',\r\n                answerOptions: [\r\n                  {\r\n                    text: '80 degrees',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      'The sum of angles in a triangle is always 180 degrees. $180 - (40 + 60) = 180 - 100 = 80$ degrees.',\r\n                  },\r\n                  {\r\n                    text: '100 degrees',\r\n                    isCorrect: false,\r\n                    rationale: 'This is the sum of the two given angles.',\r\n                  },\r\n                  {\r\n                    text: '90 degrees',\r\n                    isCorrect: false,\r\n                    rationale:\r\n                      'This would only be true for a right-angled triangle where the other two angles sum to 90.',\r\n                  },\r\n                  {\r\n                    text: 'Cannot be determined',\r\n                    isCorrect: false,\r\n                    rationale:\r\n                      'The third angle can be determined with the given information.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 18,\r\n                calculator: true,\r\n                question:\r\n                  'What is the volume of a cube with a side length of 4 inches?',\r\n                answerOptions: [\r\n                  {\r\n                    text: '12 cubic in',\r\n                    isCorrect: false,\r\n                    rationale: 'This is the sum of the side lengths (4+4+4).',\r\n                  },\r\n                  {\r\n                    text: '16 sq in',\r\n                    isCorrect: false,\r\n                    rationale: 'This is the area of one face of the cube.',\r\n                  },\r\n                  {\r\n                    text: '64 cubic in',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      'The volume of a cube is the side length cubed. $V = s^3 = 4^3 = 64$ cubic inches.',\r\n                  },\r\n                  {\r\n                    text: '96 sq in',\r\n                    isCorrect: false,\r\n                    rationale:\r\n                      'This is the surface area of the cube ($6 \\\\times s^2$).',\r\n                  },\r\n                ],\r\n              },\r\n            ],\r\n          },\r\n        ],\r\n      },\r\n      'Algebraic Problem Solving': {\r\n        description: 'Master expressions, equations, graphing, and functions.',\r\n        icon: 'VariableIcon', // New Icon\r\n        topics: [\r\n          {\r\n            id: 'math_alg_expressions',\r\n            title: 'Expressions & Polynomials',\r\n            description: 'Working with variables, exponents, and polynomials.',\r\n            type: 'quiz',\r\n            questions: [\r\n              {\r\n                questionNumber: 1,\r\n                calculator: false,\r\n                question: 'Simplify the expression: $3x + 2y - x + 5y$',\r\n                answerOptions: [\r\n                  {\r\n                    text: '$2x + 7y$',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      'Combine like terms: $(3x - x) + (2y + 5y) = 2x + 7y$.',\r\n                  },\r\n                  {\r\n                    text: '$4x + 7y$',\r\n                    isCorrect: false,\r\n                    rationale: 'Incorrectly added $3x$ and $x$.',\r\n                  },\r\n                  {\r\n                    text: '$2x + 3y$',\r\n                    isCorrect: false,\r\n                    rationale: 'Incorrectly subtracted $2y$ from $5y$.',\r\n                  },\r\n                  {\r\n                    text: '$9xy$',\r\n                    isCorrect: false,\r\n                    rationale: 'You cannot combine $x$ and $y$ terms.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 2,\r\n                calculator: false,\r\n                question:\r\n                  'If $x = 4$, what is the value of the expression $5x - 3$?',\r\n                answerOptions: [\r\n                  {\r\n                    text: '17',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      'Substitute $x$ with 4: $5(4) - 3 = 20 - 3 = 17$.',\r\n                  },\r\n                  {\r\n                    text: '23',\r\n                    isCorrect: false,\r\n                    rationale: 'This would be the result if you added 3.',\r\n                  },\r\n                  {\r\n                    text: '2',\r\n                    isCorrect: false,\r\n                    rationale: 'This is an incorrect calculation.',\r\n                  },\r\n                  {\r\n                    text: '12',\r\n                    isCorrect: false,\r\n                    rationale: 'This is an incorrect calculation.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 3,\r\n                calculator: false,\r\n                question: 'What is the result of $(2x + 3) + (x - 1)$?',\r\n                answerOptions: [\r\n                  {\r\n                    text: '$3x + 2$',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      'Combine like terms: $(2x + x) + (3 - 1) = 3x + 2$.',\r\n                  },\r\n                  {\r\n                    text: '$2x + 2$',\r\n                    isCorrect: false,\r\n                    rationale: 'Forgot to add the $x$ terms correctly.',\r\n                  },\r\n                  {\r\n                    text: '$3x + 4$',\r\n                    isCorrect: false,\r\n                    rationale: 'Incorrectly added 3 and 1.',\r\n                  },\r\n                  {\r\n                    text: '$2x^2 - 2$',\r\n                    isCorrect: false,\r\n                    rationale:\r\n                      'This is incorrect; this is addition, not multiplication.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 4,\r\n                calculator: false,\r\n                question: 'Which of the following is equivalent to $3(x + 5)$?',\r\n                answerOptions: [\r\n                  {\r\n                    text: '$3x + 5$',\r\n                    isCorrect: false,\r\n                    rationale:\r\n                      'You must distribute the 3 to both terms inside the parentheses.',\r\n                  },\r\n                  {\r\n                    text: '$3x + 15$',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      'Using the distributive property, $3 \\\\times x + 3 \\\\times 5 = 3x + 15$.',\r\n                  },\r\n                  {\r\n                    text: '$x + 15$',\r\n                    isCorrect: false,\r\n                    rationale: 'Forgot to multiply the $x$ by 3.',\r\n                  },\r\n                  {\r\n                    text: '$8x$',\r\n                    isCorrect: false,\r\n                    rationale: 'This is an incorrect simplification.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 5,\r\n                calculator: false,\r\n                question: 'Simplify: $(x^2 + 4x + 5) - (x^2 - 2x - 1)$',\r\n                answerOptions: [\r\n                  {\r\n                    text: '$2x^2 + 2x + 4$',\r\n                    isCorrect: false,\r\n                    rationale: 'Incorrectly added the $x^2$ terms.',\r\n                  },\r\n                  {\r\n                    text: '$6x + 6$',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      'Distribute the negative: $x^2 + 4x + 5 - x^2 + 2x + 1$. Combine like terms: $(x^2-x^2) + (4x+2x) + (5+1) = 6x + 6$.',\r\n                  },\r\n                  {\r\n                    text: '$2x + 4$',\r\n                    isCorrect: false,\r\n                    rationale: 'Incorrectly subtracted $2x$ from $4x$.',\r\n                  },\r\n                  {\r\n                    text: '$6x + 4$',\r\n                    isCorrect: false,\r\n                    rationale: 'Incorrectly subtracted 1 from 5.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 6,\r\n                calculator: true,\r\n                question:\r\n                  'Evaluate the expression $2a + 3b$ if $a = 5$ and $b = -2$.',\r\n                answerOptions: [\r\n                  {\r\n                    text: '16',\r\n                    isCorrect: false,\r\n                    rationale: 'This would be the result if $b$ were 2.',\r\n                  },\r\n                  {\r\n                    text: '4',\r\n                    isCorrect: true,\r\n                    rationale: '$2(5) + 3(-2) = 10 - 6 = 4$.',\r\n                  },\r\n                  {\r\n                    text: '10',\r\n                    isCorrect: false,\r\n                    rationale: 'This is just the first part of the expression.',\r\n                  },\r\n                  {\r\n                    text: '1',\r\n                    isCorrect: false,\r\n                    rationale: 'This is an incorrect calculation.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 7,\r\n                calculator: true,\r\n                question: 'What is the product of $(x + 2)(x + 3)$?',\r\n                answerOptions: [\r\n                  {\r\n                    text: '$x^2 + 5x + 6$',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      'Use the FOIL method: $(x \\\\cdot x) + (x \\\\cdot 3) + (2 \\\\cdot x) + (2 \\\\cdot 3) = x^2 + 3x + 2x + 6 = x^2 + 5x + 6$.',\r\n                  },\r\n                  {\r\n                    text: '$x^2 + 6$',\r\n                    isCorrect: false,\r\n                    rationale: \"Forgot the middle term (the 'OI' in FOIL).\",\r\n                  },\r\n                  {\r\n                    text: '$x^2 + 6x + 5$',\r\n                    isCorrect: false,\r\n                    rationale: 'Incorrectly added the constants.',\r\n                  },\r\n                  {\r\n                    text: '$2x + 5$',\r\n                    isCorrect: false,\r\n                    rationale: 'This is addition, not multiplication.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 8,\r\n                calculator: true,\r\n                question: 'The expression $x^2 - 9$ is an example of:',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'A perfect square trinomial',\r\n                    isCorrect: false,\r\n                    rationale: 'A trinomial has three terms.',\r\n                  },\r\n                  {\r\n                    text: 'The difference of squares',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      'This is in the form $a^2 - b^2$, where $a=x$ and $b=3$. It factors to $(x-3)(x+3)$.',\r\n                  },\r\n                  {\r\n                    text: 'A monomial',\r\n                    isCorrect: false,\r\n                    rationale: 'A monomial has one term.',\r\n                  },\r\n                  {\r\n                    text: 'A cubic expression',\r\n                    isCorrect: false,\r\n                    rationale: 'A cubic expression has a degree of 3.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 9,\r\n                calculator: true,\r\n                question: 'Factor the expression: $x^2 + 7x + 12$',\r\n                answerOptions: [\r\n                  {\r\n                    text: '$(x + 6)(x + 2)$',\r\n                    isCorrect: false,\r\n                    rationale: '$6 \\\\times 2 = 12$, but $6 + 2 = 8$, not 7.',\r\n                  },\r\n                  {\r\n                    text: '$(x + 3)(x + 4)$',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      'You need two numbers that multiply to 12 and add to 7. These numbers are 3 and 4.',\r\n                  },\r\n                  {\r\n                    text: '$(x + 12)(x + 1)$',\r\n                    isCorrect: false,\r\n                    rationale: '$12 \\\\times 1 = 12$, but $12 + 1 = 13$, not 7.',\r\n                  },\r\n                  {\r\n                    text: '$(x - 3)(x - 4)$',\r\n                    isCorrect: false,\r\n                    rationale: 'This would result in $-7x$, not $+7x$.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 10,\r\n                calculator: true,\r\n                question: 'Simplify: $5(x - 2y) - 3(x + y)$',\r\n                answerOptions: [\r\n                  {\r\n                    text: '$2x - 13y$',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      'Distribute: $5x - 10y - 3x - 3y$. Combine like terms: $(5x - 3x) + (-10y - 3y) = 2x - 13y$.',\r\n                  },\r\n                  {\r\n                    text: '$2x - 7y$',\r\n                    isCorrect: false,\r\n                    rationale: 'Incorrectly added $-10y$ and $3y$.',\r\n                  },\r\n                  {\r\n                    text: '$8x - 13y$',\r\n                    isCorrect: false,\r\n                    rationale: 'Incorrectly added $5x$ and $3x$.',\r\n                  },\r\n                  {\r\n                    text: '$2x + 13y$',\r\n                    isCorrect: false,\r\n                    rationale: 'Incorrectly handled the signs.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 11,\r\n                calculator: true,\r\n                question:\r\n                  'What is the degree of the polynomial $4x^3 - 2x^5 + 7x - 1$?',\r\n                answerOptions: [\r\n                  {\r\n                    text: '3',\r\n                    isCorrect: false,\r\n                    rationale: 'This is the degree of the first term.',\r\n                  },\r\n                  {\r\n                    text: '5',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      'The degree of a polynomial is the highest exponent of its terms, which is 5.',\r\n                  },\r\n                  {\r\n                    text: '4',\r\n                    isCorrect: false,\r\n                    rationale: 'This is the number of terms.',\r\n                  },\r\n                  {\r\n                    text: '1',\r\n                    isCorrect: false,\r\n                    rationale: 'This is the degree of the third term.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 12,\r\n                calculator: true,\r\n                question: 'If $y = -3$, what is the value of $y^2 + 2y - 1$?',\r\n                answerOptions: [\r\n                  {\r\n                    text: '-16',\r\n                    isCorrect: false,\r\n                    rationale: 'This is a calculation error.',\r\n                  },\r\n                  {\r\n                    text: '2',\r\n                    isCorrect: true,\r\n                    rationale: '$(-3)^2 + 2(-3) - 1 = 9 - 6 - 1 = 2$.',\r\n                  },\r\n                  {\r\n                    text: '4',\r\n                    isCorrect: false,\r\n                    rationale: 'This is a calculation error.',\r\n                  },\r\n                  {\r\n                    text: '-4',\r\n                    isCorrect: false,\r\n                    rationale: 'Incorrectly calculated $(-3)^2$ as -9.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 13,\r\n                calculator: true,\r\n                question:\r\n                  \"Which expression represents '5 less than twice a number n'?\",\r\n                answerOptions: [\r\n                  {\r\n                    text: '$5 - 2n$',\r\n                    isCorrect: false,\r\n                    rationale: \"This is '5 minus twice a number'.\",\r\n                  },\r\n                  {\r\n                    text: '$2n - 5$',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      \"'Twice a number n' is $2n$, and '5 less than' means you subtract 5 from that.\",\r\n                  },\r\n                  {\r\n                    text: '$2(n - 5)$',\r\n                    isCorrect: false,\r\n                    rationale:\r\n                      \"This is 'twice the difference of a number and 5'.\",\r\n                  },\r\n                  {\r\n                    text: '$n - 5$',\r\n                    isCorrect: false,\r\n                    rationale: \"This is '5 less than a number'.\",\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 14,\r\n                calculator: true,\r\n                question: 'Expand the expression: $(2x - 1)^2$',\r\n                answerOptions: [\r\n                  {\r\n                    text: '$4x^2 - 1$',\r\n                    isCorrect: false,\r\n                    rationale:\r\n                      'Incorrectly squared each term. You must use FOIL: $(2x-1)(2x-1)$.',\r\n                  },\r\n                  {\r\n                    text: '$4x^2 + 1$',\r\n                    isCorrect: false,\r\n                    rationale: 'Incorrectly squared each term.',\r\n                  },\r\n                  {\r\n                    text: '$4x^2 - 4x + 1$',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      '$(2x - 1)(2x - 1) = 4x^2 - 2x - 2x + 1 = 4x^2 - 4x + 1$.',\r\n                  },\r\n                  {\r\n                    text: '$2x^2 - 4x + 1$',\r\n                    isCorrect: false,\r\n                    rationale: 'Incorrectly squared $2x$.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 15,\r\n                calculator: true,\r\n                question: 'Simplify the expression: $(8x^6) / (2x^3)$',\r\n                answerOptions: [\r\n                  {\r\n                    text: '$4x^2$',\r\n                    isCorrect: false,\r\n                    rationale:\r\n                      'When dividing powers with the same base, you subtract the exponents.',\r\n                  },\r\n                  {\r\n                    text: '$6x^3$',\r\n                    isCorrect: false,\r\n                    rationale: 'Incorrectly subtracted the coefficients.',\r\n                  },\r\n                  {\r\n                    text: '$4x^3$',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      'Divide the coefficients ($8/2 = 4$) and subtract the exponents ($6-3 = 3$).',\r\n                  },\r\n                  {\r\n                    text: '$4x^9$',\r\n                    isCorrect: false,\r\n                    rationale: 'Incorrectly added the exponents.',\r\n                  },\r\n                ],\r\n              },\r\n            ],\r\n          },\r\n          {\r\n            id: 'math_alg_equations_inequalities',\r\n            title: 'Equations & Inequalities',\r\n            description:\r\n              'Solving linear and quadratic equations and inequalities.',\r\n            type: 'quiz',\r\n            questions: [\r\n              {\r\n                questionNumber: 1,\r\n                calculator: false,\r\n                question: 'Solve for x: $3x + 7 = 19$',\r\n                answerOptions: [\r\n                  {\r\n                    text: '$x = 4$',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      'Subtract 7 from both sides: $3x = 12$. Divide by 3: $x = 4$.',\r\n                  },\r\n                  {\r\n                    text: '$x = 8.7$',\r\n                    isCorrect: false,\r\n                    rationale: 'This is an incorrect calculation.',\r\n                  },\r\n                  {\r\n                    text: '$x = 3$',\r\n                    isCorrect: false,\r\n                    rationale: 'This is an incorrect calculation.',\r\n                  },\r\n                  {\r\n                    text: '$x = 12$',\r\n                    isCorrect: false,\r\n                    rationale: 'This is the value of $3x$, not $x$.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 2,\r\n                calculator: false,\r\n                question:\r\n                  'What is the solution to the inequality $2x - 5 > 11$?',\r\n                answerOptions: [\r\n                  {\r\n                    text: '$x < 8$',\r\n                    isCorrect: false,\r\n                    rationale: 'The inequality sign should not be reversed.',\r\n                  },\r\n                  {\r\n                    text: '$x > 8$',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      'Add 5 to both sides: $2x > 16$. Divide by 2: $x > 8$.',\r\n                  },\r\n                  {\r\n                    text: '$x > 3$',\r\n                    isCorrect: false,\r\n                    rationale: 'This is an incorrect calculation.',\r\n                  },\r\n                  {\r\n                    text: '$x < 3$',\r\n                    isCorrect: false,\r\n                    rationale: 'This is an incorrect calculation.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 3,\r\n                calculator: false,\r\n                question: 'Solve for y: $5y - 8 = 2y + 7$',\r\n                answerOptions: [\r\n                  {\r\n                    text: '$y = 3$',\r\n                    isCorrect: false,\r\n                    rationale: 'This is an incorrect calculation.',\r\n                  },\r\n                  {\r\n                    text: '$y = 5$',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      'Subtract $2y$ from both sides: $3y - 8 = 7$. Add 8 to both sides: $3y = 15$. Divide by 3: $y = 5$.',\r\n                  },\r\n                  {\r\n                    text: '$y = -1/3$',\r\n                    isCorrect: false,\r\n                    rationale: 'This is an incorrect calculation.',\r\n                  },\r\n                  {\r\n                    text: '$y = 15$',\r\n                    isCorrect: false,\r\n                    rationale: 'This is the value of $3y$, not $y$.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 4,\r\n                calculator: false,\r\n                question:\r\n                  'Which of the following is a solution to the equation $x^2 - 5x + 6 = 0$?',\r\n                answerOptions: [\r\n                  {\r\n                    text: '$x = 1$',\r\n                    isCorrect: false,\r\n                    rationale: '$1^2 - 5(1) + 6 = 1 - 5 + 6 = 2$, not 0.',\r\n                  },\r\n                  {\r\n                    text: '$x = 2$',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      'The equation factors to $(x-2)(x-3) = 0$. The solutions are $x=2$ and $x=3$.',\r\n                  },\r\n                  {\r\n                    text: '$x = 5$',\r\n                    isCorrect: false,\r\n                    rationale: '$5^2 - 5(5) + 6 = 25 - 25 + 6 = 6$, not 0.',\r\n                  },\r\n                  {\r\n                    text: '$x = 6$',\r\n                    isCorrect: false,\r\n                    rationale: '$6^2 - 5(6) + 6 = 36 - 30 + 6 = 12$, not 0.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 5,\r\n                calculator: false,\r\n                question: 'Solve for x: $x/4 + 2 = 5$',\r\n                answerOptions: [\r\n                  {\r\n                    text: '$x = 12$',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      'Subtract 2 from both sides: $x/4 = 3$. Multiply by 4: $x = 12$.',\r\n                  },\r\n                  {\r\n                    text: '$x = 28$',\r\n                    isCorrect: false,\r\n                    rationale: 'This is an incorrect calculation.',\r\n                  },\r\n                  {\r\n                    text: '$x = 3$',\r\n                    isCorrect: false,\r\n                    rationale: 'This is the value of $x/4$, not $x$.',\r\n                  },\r\n                  {\r\n                    text: '$x = 7$',\r\n                    isCorrect: false,\r\n                    rationale: 'This is an incorrect calculation.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 6,\r\n                calculator: true,\r\n                question: 'Solve the inequality: $-3x + 4 \\\\le 16$',\r\n                answerOptions: [\r\n                  {\r\n                    text: '$x \\\\le -4$',\r\n                    isCorrect: false,\r\n                    rationale:\r\n                      'When dividing by a negative number, you must flip the inequality sign.',\r\n                  },\r\n                  {\r\n                    text: '$x \\\\ge -4$',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      'Subtract 4: $-3x \\\\le 12$. Divide by -3 and flip the sign: $x \\\\ge -4$.',\r\n                  },\r\n                  {\r\n                    text: '$x \\\\ge 4$',\r\n                    isCorrect: false,\r\n                    rationale: 'This is an incorrect calculation.',\r\n                  },\r\n                  {\r\n                    text: '$x \\\\le 4$',\r\n                    isCorrect: false,\r\n                    rationale: 'This is an incorrect calculation.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 7,\r\n                calculator: true,\r\n                question:\r\n                  'The sum of two consecutive integers is 35. What are the integers?',\r\n                answerOptions: [\r\n                  {\r\n                    text: '15 and 20',\r\n                    isCorrect: false,\r\n                    rationale: 'These are not consecutive.',\r\n                  },\r\n                  {\r\n                    text: '17 and 18',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      'Let the integers be $x$ and $x+1$. So, $x + (x+1) = 35$. $2x + 1 = 35$. $2x = 34$. $x = 17$. The integers are 17 and 18.',\r\n                  },\r\n                  {\r\n                    text: '16 and 19',\r\n                    isCorrect: false,\r\n                    rationale: 'These are not consecutive.',\r\n                  },\r\n                  {\r\n                    text: '10 and 25',\r\n                    isCorrect: false,\r\n                    rationale: 'These are not consecutive.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 8,\r\n                calculator: true,\r\n                question:\r\n                  'Solve for b: $A = \\\\frac{1}{2}bh$ (the formula for the area of a triangle)',\r\n                answerOptions: [\r\n                  {\r\n                    text: '$b = \\\\frac{2A}{h}$',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      'Multiply both sides by 2: $2A = bh$. Divide both sides by h: $b = \\\\frac{2A}{h}$.',\r\n                  },\r\n                  {\r\n                    text: '$b = \\\\frac{A}{2h}$',\r\n                    isCorrect: false,\r\n                    rationale: 'Forgot to multiply by 2.',\r\n                  },\r\n                  {\r\n                    text: '$b = \\\\frac{Ah}{2}$',\r\n                    isCorrect: false,\r\n                    rationale: 'Incorrectly rearranged the formula.',\r\n                  },\r\n                  {\r\n                    text: '$b = \\\\frac{2h}{A}$',\r\n                    isCorrect: false,\r\n                    rationale: 'Incorrectly rearranged the formula.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 9,\r\n                calculator: true,\r\n                question:\r\n                  'What are the solutions to the quadratic equation $x^2 - 16 = 0$?',\r\n                answerOptions: [\r\n                  {\r\n                    text: '$x = 4$',\r\n                    isCorrect: false,\r\n                    rationale: 'This is only one of the solutions.',\r\n                  },\r\n                  {\r\n                    text: '$x = 4$ and $x = -4$',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      'Add 16 to both sides: $x^2 = 16$. Take the square root of both sides: $x = \\\\pm 4$.',\r\n                  },\r\n                  {\r\n                    text: '$x = 8$ and $x = -8$',\r\n                    isCorrect: false,\r\n                    rationale: 'This is an incorrect calculation.',\r\n                  },\r\n                  {\r\n                    text: '$x = 16$',\r\n                    isCorrect: false,\r\n                    rationale: 'This is the value of $x^2$.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 10,\r\n                calculator: true,\r\n                question: 'Solve for x: $2(x + 3) = 14$',\r\n                answerOptions: [\r\n                  {\r\n                    text: '$x = 4$',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      'Distribute the 2: $2x + 6 = 14$. Subtract 6: $2x = 8$. Divide by 2: $x = 4$.',\r\n                  },\r\n                  {\r\n                    text: '$x = 5.5$',\r\n                    isCorrect: false,\r\n                    rationale: 'This is an incorrect calculation.',\r\n                  },\r\n                  {\r\n                    text: '$x = 11$',\r\n                    isCorrect: false,\r\n                    rationale: 'This is an incorrect calculation.',\r\n                  },\r\n                  {\r\n                    text: '$x = 8$',\r\n                    isCorrect: false,\r\n                    rationale: 'This is the value of $2x$.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 11,\r\n                calculator: true,\r\n                question:\r\n                  'A number is doubled and then 5 is subtracted from it. The result is 15. What is the number?',\r\n                answerOptions: [\r\n                  {\r\n                    text: '5',\r\n                    isCorrect: false,\r\n                    rationale: 'This is an incorrect calculation.',\r\n                  },\r\n                  {\r\n                    text: '10',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      'Let the number be $x$. The equation is $2x - 5 = 15$. Add 5 to both sides: $2x = 20$. Divide by 2: $x = 10$.',\r\n                  },\r\n                  {\r\n                    text: '12.5',\r\n                    isCorrect: false,\r\n                    rationale: 'This is an incorrect calculation.',\r\n                  },\r\n                  {\r\n                    text: '20',\r\n                    isCorrect: false,\r\n                    rationale: 'This is the value of $2x$.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 12,\r\n                calculator: true,\r\n                question:\r\n                  \"Which inequality represents the statement 'x is at least 18'?\",\r\n                answerOptions: [\r\n                  {\r\n                    text: '$x < 18$',\r\n                    isCorrect: false,\r\n                    rationale: \"This means 'x is less than 18'.\",\r\n                  },\r\n                  {\r\n                    text: '$x > 18$',\r\n                    isCorrect: false,\r\n                    rationale: \"This means 'x is greater than 18'.\",\r\n                  },\r\n                  {\r\n                    text: '$x \\\\le 18$',\r\n                    isCorrect: false,\r\n                    rationale: \"This means 'x is at most 18'.\",\r\n                  },\r\n                  {\r\n                    text: '$x \\\\ge 18$',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      \"'At least 18' means 18 or more, which is represented by the greater than or equal to symbol.\",\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 13,\r\n                calculator: true,\r\n                question:\r\n                  'Solve the system of equations: $x + y = 10$ and $x - y = 4$',\r\n                answerOptions: [\r\n                  {\r\n                    text: '$x = 7, y = 3$',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      'Add the two equations together: $(x+y) + (x-y) = 10+4$, which simplifies to $2x = 14$, so $x=7$. Substitute $x=7$ into the first equation: $7 + y = 10$, so $y=3$.',\r\n                  },\r\n                  {\r\n                    text: '$x = 6, y = 4$',\r\n                    isCorrect: false,\r\n                    rationale: 'This does not satisfy the second equation.',\r\n                  },\r\n                  {\r\n                    text: '$x = 8, y = 2$',\r\n                    isCorrect: false,\r\n                    rationale: 'This does not satisfy the second equation.',\r\n                  },\r\n                  {\r\n                    text: '$x = 5, y = 5$',\r\n                    isCorrect: false,\r\n                    rationale: 'This does not satisfy the second equation.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 14,\r\n                calculator: true,\r\n                question: 'Solve for x: $3(x - 4) = 2(x + 1)$',\r\n                answerOptions: [\r\n                  {\r\n                    text: '$x = 10$',\r\n                    isCorrect: false,\r\n                    rationale: 'This is an incorrect calculation.',\r\n                  },\r\n                  {\r\n                    text: '$x = 14$',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      'Distribute: $3x - 12 = 2x + 2$. Subtract $2x$ from both sides: $x - 12 = 2$. Add 12 to both sides: $x = 14$.',\r\n                  },\r\n                  {\r\n                    text: '$x = -13$',\r\n                    isCorrect: false,\r\n                    rationale: 'This is an incorrect calculation.',\r\n                  },\r\n                  {\r\n                    text: '$x = 5$',\r\n                    isCorrect: false,\r\n                    rationale: 'This is an incorrect calculation.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 15,\r\n                calculator: true,\r\n                question:\r\n                  'The length of a rectangle is 5 more than its width. If the perimeter is 50, what is the width?',\r\n                answerOptions: [\r\n                  {\r\n                    text: '10',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      'Let $w$ be the width and $l$ be the length. $l = w + 5$. Perimeter $P = 2l + 2w$. Substitute: $50 = 2(w+5) + 2w$. $50 = 2w + 10 + 2w$. $50 = 4w + 10$. $40 = 4w$. $w = 10$.',\r\n                  },\r\n                  {\r\n                    text: '15',\r\n                    isCorrect: false,\r\n                    rationale: '15 is the length, not the width.',\r\n                  },\r\n                  {\r\n                    text: '20',\r\n                    isCorrect: false,\r\n                    rationale: 'This is an incorrect calculation.',\r\n                  },\r\n                  {\r\n                    text: '25',\r\n                    isCorrect: false,\r\n                    rationale: 'This is half the perimeter.',\r\n                  },\r\n                ],\r\n              },\r\n            ],\r\n          },\r\n          {\r\n            id: 'math_alg_graphing_functions',\r\n            title: 'Graphing & Functions',\r\n            description:\r\n              'Understanding slope, graphing lines, and function notation.',\r\n            type: 'quiz',\r\n            questions: [\r\n              {\r\n                questionNumber: 1,\r\n                calculator: false,\r\n                type: 'image',\r\n                imageUrl: '/images/Math/math_graph_1.png',\r\n                question: 'What is the slope of the line shown in the graph?',\r\n                answerOptions: [\r\n                  {\r\n                    text: '2',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      'The line passes through $(0,-1)$ and $(2,3)$. The slope is $(y_2 - y_1) / (x_2 - x_1) = (3 - (-1)) / (2 - 0) = 4 / 2 = 2$.',\r\n                  },\r\n                  {\r\n                    text: '$\\\\frac{1}{2}$',\r\n                    isCorrect: false,\r\n                    rationale: 'This is run/rise, not rise/run.',\r\n                  },\r\n                  {\r\n                    text: '-2',\r\n                    isCorrect: false,\r\n                    rationale: 'The line is rising, so the slope is positive.',\r\n                  },\r\n                  {\r\n                    text: '1',\r\n                    isCorrect: false,\r\n                    rationale: 'This is an incorrect calculation.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 2,\r\n                calculator: false,\r\n                type: 'image',\r\n                imageUrl: '/images/Math/math_graph_1.png',\r\n                question:\r\n                  'What is the y-intercept of the line shown in the graph?',\r\n                answerOptions: [\r\n                  {\r\n                    text: '$(2, 0)$',\r\n                    isCorrect: false,\r\n                    rationale: 'This is the x-intercept.',\r\n                  },\r\n                  {\r\n                    text: '$(0, -1)$',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      'The y-intercept is the point where the line crosses the y-axis, which is at $(0, -1)$.',\r\n                  },\r\n                  {\r\n                    text: '$(0, 2)$',\r\n                    isCorrect: false,\r\n                    rationale: 'This is an incorrect point.',\r\n                  },\r\n                  {\r\n                    text: '$(-1, 0)$',\r\n                    isCorrect: false,\r\n                    rationale: 'This is an incorrect point.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 3,\r\n                calculator: false,\r\n                question:\r\n                  'Which of the following equations is written in slope-intercept form ($y = mx + b$)?',\r\n                answerOptions: [\r\n                  {\r\n                    text: '$y = 3x - 2$',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      'This equation is in the form $y = mx + b$, where $m$ is the slope and $b$ is the y-intercept.',\r\n                  },\r\n                  {\r\n                    text: '$2x + 3y = 6$',\r\n                    isCorrect: false,\r\n                    rationale:\r\n                      'This is the standard form of a linear equation.',\r\n                  },\r\n                  {\r\n                    text: '$y - 4 = 2(x - 1)$',\r\n                    isCorrect: false,\r\n                    rationale: 'This is the point-slope form.',\r\n                  },\r\n                  {\r\n                    text: '$x = 5$',\r\n                    isCorrect: false,\r\n                    rationale: 'This is the equation of a vertical line.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 4,\r\n                calculator: false,\r\n                question: 'If $f(x) = 3x + 5$, what is $f(4)$?',\r\n                answerOptions: [\r\n                  {\r\n                    text: '12',\r\n                    isCorrect: false,\r\n                    rationale: 'This is just $3 \\\\times 4$.',\r\n                  },\r\n                  {\r\n                    text: '17',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      'Substitute $x$ with 4: $f(4) = 3(4) + 5 = 12 + 5 = 17$.',\r\n                  },\r\n                  {\r\n                    text: '23',\r\n                    isCorrect: false,\r\n                    rationale: 'This is an incorrect calculation.',\r\n                  },\r\n                  {\r\n                    text: '8',\r\n                    isCorrect: false,\r\n                    rationale: 'This is an incorrect calculation.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 5,\r\n                calculator: false,\r\n                question:\r\n                  'What is the slope of the line with the equation $y = -2x + 7$?',\r\n                answerOptions: [\r\n                  {\r\n                    text: '7',\r\n                    isCorrect: false,\r\n                    rationale: '7 is the y-intercept.',\r\n                  },\r\n                  {\r\n                    text: '-2',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      'In the form $y = mx + b$, $m$ represents the slope. Here, $m = -2$.',\r\n                  },\r\n                  {\r\n                    text: '2',\r\n                    isCorrect: false,\r\n                    rationale: 'The slope is negative.',\r\n                  },\r\n                  {\r\n                    text: '-7',\r\n                    isCorrect: false,\r\n                    rationale: 'This is an incorrect value.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 6,\r\n                calculator: true,\r\n                question:\r\n                  'Find the slope of the line that passes through the points $(2, 3)$ and $(5, 9)$.',\r\n                answerOptions: [\r\n                  {\r\n                    text: '2',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      'The slope formula is $(y_2 - y_1) / (x_2 - x_1)$. $(9 - 3) / (5 - 2) = 6 / 3 = 2$.',\r\n                  },\r\n                  {\r\n                    text: '$\\\\frac{1}{2}$',\r\n                    isCorrect: false,\r\n                    rationale: 'This is the reciprocal of the correct slope.',\r\n                  },\r\n                  {\r\n                    text: '3',\r\n                    isCorrect: false,\r\n                    rationale: 'This is the change in x.',\r\n                  },\r\n                  {\r\n                    text: '6',\r\n                    isCorrect: false,\r\n                    rationale: 'This is the change in y.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 7,\r\n                calculator: true,\r\n                type: 'image',\r\n                imageUrl: '/images/Math/math_graph_2.png',\r\n                question: 'Which point is located in Quadrant IV?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'Point A',\r\n                    isCorrect: false,\r\n                    rationale:\r\n                      'Point A is in Quadrant II (x is negative, y is positive).',\r\n                  },\r\n                  {\r\n                    text: 'Point B',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      'Point B is in Quadrant IV (x is positive, y is negative).',\r\n                  },\r\n                  {\r\n                    text: 'Point C',\r\n                    isCorrect: false,\r\n                    rationale:\r\n                      'Point C is in Quadrant III (x is negative, y is negative).',\r\n                  },\r\n                  {\r\n                    text: 'Point D',\r\n                    isCorrect: false,\r\n                    rationale:\r\n                      'Point D is in Quadrant I (x is positive, y is positive).',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 8,\r\n                calculator: true,\r\n                question:\r\n                  'If a line has a slope of 3 and passes through the point $(1, 2)$, what is its equation in point-slope form?',\r\n                answerOptions: [\r\n                  {\r\n                    text: '$y - 2 = 3(x - 1)$',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      'Point-slope form is $y - y_1 = m(x - x_1)$. Substituting the values gives $y - 2 = 3(x - 1)$.',\r\n                  },\r\n                  {\r\n                    text: '$y - 1 = 3(x - 2)$',\r\n                    isCorrect: false,\r\n                    rationale: 'The x and y coordinates are swapped.',\r\n                  },\r\n                  {\r\n                    text: '$y = 3x - 1$',\r\n                    isCorrect: false,\r\n                    rationale:\r\n                      'This is the slope-intercept form, which would be $y-2=3x-3 -> y=3x-1$.',\r\n                  },\r\n                  {\r\n                    text: '$y + 2 = 3(x + 1)$',\r\n                    isCorrect: false,\r\n                    rationale: 'The signs are incorrect.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 9,\r\n                calculator: true,\r\n                question:\r\n                  'What is the y-intercept of the line with the equation $4x + 2y = 10$?',\r\n                answerOptions: [\r\n                  {\r\n                    text: '10',\r\n                    isCorrect: false,\r\n                    rationale: 'You must first solve for y.',\r\n                  },\r\n                  {\r\n                    text: '5',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      'First, convert to slope-intercept form. $2y = -4x + 10$. $y = -2x + 5$. The y-intercept (b) is 5.',\r\n                  },\r\n                  {\r\n                    text: '-2',\r\n                    isCorrect: false,\r\n                    rationale: '-2 is the slope.',\r\n                  },\r\n                  {\r\n                    text: '2.5',\r\n                    isCorrect: false,\r\n                    rationale: 'This is the x-intercept.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 10,\r\n                calculator: true,\r\n                question: 'If $g(x) = x^2 - 10$, what is $g(3)$?',\r\n                answerOptions: [\r\n                  {\r\n                    text: '-1',\r\n                    isCorrect: true,\r\n                    rationale: '$g(3) = (3)^2 - 10 = 9 - 10 = -1$.',\r\n                  },\r\n                  {\r\n                    text: '-4',\r\n                    isCorrect: false,\r\n                    rationale: 'This is an incorrect calculation.',\r\n                  },\r\n                  {\r\n                    text: '19',\r\n                    isCorrect: false,\r\n                    rationale: 'This is an incorrect calculation.',\r\n                  },\r\n                  {\r\n                    text: '8',\r\n                    isCorrect: false,\r\n                    rationale: 'This is an incorrect calculation.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 11,\r\n                calculator: true,\r\n                type: 'image',\r\n                imageUrl: '/images/Math/math_graph_3.png',\r\n                question:\r\n                  'The graph shows the cost of renting a car based on the number of miles driven. What does the y-intercept of the graph represent?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'The cost per mile.',\r\n                    isCorrect: false,\r\n                    rationale: 'The cost per mile is the slope of the line.',\r\n                  },\r\n                  {\r\n                    text: 'The flat fee or initial cost of the rental.',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      'The y-intercept represents the cost when the miles driven (x) is zero, which is the base rental fee.',\r\n                  },\r\n                  {\r\n                    text: 'The total cost of the rental.',\r\n                    isCorrect: false,\r\n                    rationale: 'The total cost depends on the miles driven.',\r\n                  },\r\n                  {\r\n                    text: 'The maximum number of miles you can drive.',\r\n                    isCorrect: false,\r\n                    rationale: 'The graph does not show a maximum.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 12,\r\n                calculator: true,\r\n                question:\r\n                  'Which of the following lines is parallel to the line $y = 4x - 1$?',\r\n                answerOptions: [\r\n                  {\r\n                    text: '$y = -4x + 2$',\r\n                    isCorrect: false,\r\n                    rationale: 'This line has a different slope.',\r\n                  },\r\n                  {\r\n                    text: '$y = 4x + 5$',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      'Parallel lines have the same slope. Both lines have a slope of 4.',\r\n                  },\r\n                  {\r\n                    text: '$y = (1/4)x + 3$',\r\n                    isCorrect: false,\r\n                    rationale: 'This slope is the reciprocal, not the same.',\r\n                  },\r\n                  {\r\n                    text: '$y = - (1/4)x - 1$',\r\n                    isCorrect: false,\r\n                    rationale: 'This is the slope of a perpendicular line.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 13,\r\n                calculator: true,\r\n                question:\r\n                  \"The function $C(t) = 20t + 50$ represents the cost of a plumber's visit, where $t$ is the number of hours. What is the cost of a 3-hour visit?\",\r\n                answerOptions: [\r\n                  {\r\n                    text: '$70',\r\n                    isCorrect: false,\r\n                    rationale: 'This is an incorrect calculation.',\r\n                  },\r\n                  {\r\n                    text: '$110',\r\n                    isCorrect: true,\r\n                    rationale: '$C(3) = 20(3) + 50 = 60 + 50 = \\\\$110$.',\r\n                  },\r\n                  {\r\n                    text: '$60',\r\n                    isCorrect: false,\r\n                    rationale: 'This is just the hourly charge for 3 hours.',\r\n                  },\r\n                  {\r\n                    text: '$50',\r\n                    isCorrect: false,\r\n                    rationale: 'This is the flat fee.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 14,\r\n                calculator: true,\r\n                question: 'What is the x-intercept of the line $3x + 6y = 18$?',\r\n                answerOptions: [\r\n                  {\r\n                    text: '3',\r\n                    isCorrect: false,\r\n                    rationale: '3 is the y-intercept.',\r\n                  },\r\n                  {\r\n                    text: '6',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      'To find the x-intercept, set $y = 0$. $3x + 6(0) = 18$. $3x = 18$. $x = 6$. The point is $(6,0)$.',\r\n                  },\r\n                  {\r\n                    text: '2',\r\n                    isCorrect: false,\r\n                    rationale: 'This is an incorrect calculation.',\r\n                  },\r\n                  {\r\n                    text: '18',\r\n                    isCorrect: false,\r\n                    rationale: 'This is the constant in the equation.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 15,\r\n                calculator: true,\r\n                type: 'image',\r\n                imageUrl: '/images/Math/math_graph_4.png',\r\n                question:\r\n                  'The graph shows a parabola. What are the coordinates of the vertex?',\r\n                answerOptions: [\r\n                  {\r\n                    text: '$(0, 4)$',\r\n                    isCorrect: false,\r\n                    rationale: 'This is the y-intercept.',\r\n                  },\r\n                  {\r\n                    text: '$(2, 0)$',\r\n                    isCorrect: false,\r\n                    rationale: 'This is one of the x-intercepts.',\r\n                  },\r\n                  {\r\n                    text: '$(3, -2)$',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      'The vertex is the lowest point of the parabola, which is at $(3, -2)$.',\r\n                  },\r\n                  {\r\n                    text: '$(-2, 3)$',\r\n                    isCorrect: false,\r\n                    rationale: 'This point is not on the graph.',\r\n                  },\r\n                ],\r\n              },\r\n            ],\r\n          },\r\n        ],\r\n      },\r\n      Geometry: {\r\n        description:\r\n          'Calculate area, perimeter, volume, and apply geometric theorems.',\r\n        icon: 'ShapesIcon', // New Icon\r\n        topics: [\r\n          {\r\n            id: 'math_geom_basics',\r\n            title: 'Geometry Basics',\r\n            description:\r\n              'Calculating area, perimeter, volume, and surface area.',\r\n            type: 'quiz',\r\n            questions: [\r\n              {\r\n                questionNumber: 1,\r\n                calculator: false,\r\n                type: 'image',\r\n                imageUrl: '/images/Math/math_geo_1.png',\r\n                question: 'What is the area of the rectangle shown?',\r\n                answerOptions: [\r\n                  {\r\n                    text: '15 sq units',\r\n                    isCorrect: false,\r\n                    rationale: 'This is the perimeter.',\r\n                  },\r\n                  {\r\n                    text: '50 sq units',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      'Area of a rectangle is length times width. $A = 10 \\\\times 5 = 50$.',\r\n                  },\r\n                  {\r\n                    text: '25 sq units',\r\n                    isCorrect: false,\r\n                    rationale: 'This is an incorrect calculation.',\r\n                  },\r\n                  {\r\n                    text: '30 sq units',\r\n                    isCorrect: false,\r\n                    rationale: 'This is the perimeter.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 2,\r\n                calculator: false,\r\n                type: 'image',\r\n                imageUrl: '/images/Math/math_geo_2.png',\r\n                question: 'What is the area of the triangle shown?',\r\n                answerOptions: [\r\n                  {\r\n                    text: '24 sq units',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      'Area of a triangle is $\\\\frac{1}{2} \\\\times base \\\\times height$. $A = 0.5 \\\\times 8 \\\\times 6 = 24$.',\r\n                  },\r\n                  {\r\n                    text: '48 sq units',\r\n                    isCorrect: false,\r\n                    rationale:\r\n                      'This is base times height, without multiplying by $\\\\frac{1}{2}$.',\r\n                  },\r\n                  {\r\n                    text: '14 sq units',\r\n                    isCorrect: false,\r\n                    rationale: 'This is the sum of the base and height.',\r\n                  },\r\n                  {\r\n                    text: '30 sq units',\r\n                    isCorrect: false,\r\n                    rationale: 'This is the perimeter of a 6-8-10 triangle.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 3,\r\n                calculator: false,\r\n                type: 'image',\r\n                imageUrl: '/images/Math/math_geo_3.png',\r\n                question:\r\n                  'What is the circumference of the circle shown? (Use $\\\\pi \\\\approx 3.14$)',\r\n                answerOptions: [\r\n                  {\r\n                    text: '15.7',\r\n                    isCorrect: false,\r\n                    rationale:\r\n                      'This is the circumference if 5 were the diameter.',\r\n                  },\r\n                  {\r\n                    text: '31.4',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      'Circumference is $2 \\\\pi r$. $C = 2 \\\\times 3.14 \\\\times 5 = 31.4$.',\r\n                  },\r\n                  {\r\n                    text: '78.5',\r\n                    isCorrect: false,\r\n                    rationale: 'This is the area of the circle.',\r\n                  },\r\n                  {\r\n                    text: '25',\r\n                    isCorrect: false,\r\n                    rationale: 'This is an incorrect calculation.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 4,\r\n                calculator: false,\r\n                question:\r\n                  'A box has a length of 6 inches, a width of 4 inches, and a height of 3 inches. What is its volume?',\r\n                answerOptions: [\r\n                  {\r\n                    text: '13 cubic inches',\r\n                    isCorrect: false,\r\n                    rationale: 'This is the sum of the dimensions.',\r\n                  },\r\n                  {\r\n                    text: '72 cubic inches',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      'Volume of a rectangular prism is length $\\\\times$ width $\\\\times$ height. $V = 6 \\\\times 4 \\\\times 3 = 72$.',\r\n                  },\r\n                  {\r\n                    text: '24 cubic inches',\r\n                    isCorrect: false,\r\n                    rationale: 'This is just length times width.',\r\n                  },\r\n                  {\r\n                    text: '54 cubic inches',\r\n                    isCorrect: false,\r\n                    rationale: 'This is an incorrect calculation.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 5,\r\n                calculator: false,\r\n                question:\r\n                  'What is the perimeter of a square with a side length of 7 cm?',\r\n                answerOptions: [\r\n                  {\r\n                    text: '14 cm',\r\n                    isCorrect: false,\r\n                    rationale: 'This is twice the side length.',\r\n                  },\r\n                  {\r\n                    text: '28 cm',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      'Perimeter of a square is $4s$. $P = 4 \\\\times 7 = 28$.',\r\n                  },\r\n                  {\r\n                    text: '49 cm',\r\n                    isCorrect: false,\r\n                    rationale: 'This is the area of the square ($s^2$).',\r\n                  },\r\n                  {\r\n                    text: '21 cm',\r\n                    isCorrect: false,\r\n                    rationale: 'This is three times the side length.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 6,\r\n                calculator: true,\r\n                question:\r\n                  'A cylinder has a radius of 3 meters and a height of 10 meters. What is its volume? (Use $\\\\pi \\\\approx 3.14$)',\r\n                answerOptions: [\r\n                  {\r\n                    text: '94.2 cubic meters',\r\n                    isCorrect: false,\r\n                    rationale: 'This is the lateral surface area.',\r\n                  },\r\n                  {\r\n                    text: '282.6 cubic meters',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      'Volume of a cylinder is $\\\\pi r^2 h$. $V = 3.14 \\\\times (3^2) \\\\times 10 = 3.14 \\\\times 9 \\\\times 10 = 282.6$.',\r\n                  },\r\n                  {\r\n                    text: '90 cubic meters',\r\n                    isCorrect: false,\r\n                    rationale: 'This is an incorrect calculation.',\r\n                  },\r\n                  {\r\n                    text: '314 cubic meters',\r\n                    isCorrect: false,\r\n                    rationale: 'This is an incorrect calculation.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 7,\r\n                calculator: true,\r\n                question:\r\n                  'The perimeter of a rectangle is 30 feet. If the width is 5 feet, what is the length?',\r\n                answerOptions: [\r\n                  {\r\n                    text: '10 feet',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      'Perimeter $P = 2l + 2w$. $30 = 2l + 2(5)$. $30 = 2l + 10$. $20 = 2l$. $l = 10$.',\r\n                  },\r\n                  {\r\n                    text: '12.5 feet',\r\n                    isCorrect: false,\r\n                    rationale: 'This is an incorrect calculation.',\r\n                  },\r\n                  {\r\n                    text: '15 feet',\r\n                    isCorrect: false,\r\n                    rationale: 'This is half the perimeter.',\r\n                  },\r\n                  {\r\n                    text: '20 feet',\r\n                    isCorrect: false,\r\n                    rationale: 'This is an incorrect calculation.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 8,\r\n                calculator: true,\r\n                question:\r\n                  'What is the area of a circle with a diameter of 10 inches? (Use $\\\\pi \\\\approx 3.14$)',\r\n                answerOptions: [\r\n                  {\r\n                    text: '31.4 sq inches',\r\n                    isCorrect: false,\r\n                    rationale: 'This is the circumference.',\r\n                  },\r\n                  {\r\n                    text: '78.5 sq inches',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      'The diameter is 10, so the radius is 5. Area is $\\\\pi r^2$. $A = 3.14 \\\\times 5^2 = 3.14 \\\\times 25 = 78.5$.',\r\n                  },\r\n                  {\r\n                    text: '100 sq inches',\r\n                    isCorrect: false,\r\n                    rationale: 'This is an incorrect calculation.',\r\n                  },\r\n                  {\r\n                    text: '314 sq inches',\r\n                    isCorrect: false,\r\n                    rationale: 'This is an incorrect calculation.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 9,\r\n                calculator: true,\r\n                question:\r\n                  'Find the volume of a sphere with a radius of 3 cm. (Use $\\\\pi \\\\approx 3.14$ and formula $V = \\\\frac{4}{3}\\\\pi r^3$)',\r\n                answerOptions: [\r\n                  {\r\n                    text: '37.68 cubic cm',\r\n                    isCorrect: false,\r\n                    rationale: 'This is the surface area.',\r\n                  },\r\n                  {\r\n                    text: '113.04 cubic cm',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      '$V = \\\\frac{4}{3} \\\\times 3.14 \\\\times (3^3) = \\\\frac{4}{3} \\\\times 3.14 \\\\times 27 = 4 \\\\times 3.14 \\\\times 9 = 113.04$.',\r\n                  },\r\n                  {\r\n                    text: '84.78 cubic cm',\r\n                    isCorrect: false,\r\n                    rationale: 'This is an incorrect calculation.',\r\n                  },\r\n                  {\r\n                    text: '28.26 cubic cm',\r\n                    isCorrect: false,\r\n                    rationale: 'This is an incorrect calculation.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 10,\r\n                calculator: true,\r\n                question:\r\n                  'A right triangle has legs of length 5 and 12. What is the length of the hypotenuse?',\r\n                answerOptions: [\r\n                  {\r\n                    text: '13',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      'Using the Pythagorean theorem, $a^2 + b^2 = c^2$. $5^2 + 12^2 = 25 + 144 = 169$. The square root of 169 is 13.',\r\n                  },\r\n                  {\r\n                    text: '17',\r\n                    isCorrect: false,\r\n                    rationale: 'This is the sum of the lengths.',\r\n                  },\r\n                  {\r\n                    text: '7',\r\n                    isCorrect: false,\r\n                    rationale: 'This is the difference of the lengths.',\r\n                  },\r\n                  {\r\n                    text: '60',\r\n                    isCorrect: false,\r\n                    rationale: 'This is the product of the lengths.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 11,\r\n                calculator: true,\r\n                question:\r\n                  'What is the surface area of a cube with a side length of 4 inches?',\r\n                answerOptions: [\r\n                  {\r\n                    text: '64 sq inches',\r\n                    isCorrect: false,\r\n                    rationale: 'This is the volume of the cube.',\r\n                  },\r\n                  {\r\n                    text: '96 sq inches',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      'A cube has 6 faces. The area of one face is $4 \\\\times 4 = 16$. The total surface area is $6 \\\\times 16 = 96$.',\r\n                  },\r\n                  {\r\n                    text: '16 sq inches',\r\n                    isCorrect: false,\r\n                    rationale: 'This is the area of one face.',\r\n                  },\r\n                  {\r\n                    text: '32 sq inches',\r\n                    isCorrect: false,\r\n                    rationale: 'This is an incorrect calculation.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 12,\r\n                calculator: true,\r\n                question:\r\n                  'A triangle has an area of 30 square meters. If its base is 10 meters, what is its height?',\r\n                answerOptions: [\r\n                  {\r\n                    text: '3 meters',\r\n                    isCorrect: false,\r\n                    rationale: 'This is an incorrect calculation.',\r\n                  },\r\n                  {\r\n                    text: '6 meters',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      'Area = $\\\\frac{1}{2}bh$. $30 = \\\\frac{1}{2}(10)h$. $30 = 5h$. $h = 6$.',\r\n                  },\r\n                  {\r\n                    text: '15 meters',\r\n                    isCorrect: false,\r\n                    rationale: 'This is an incorrect calculation.',\r\n                  },\r\n                  {\r\n                    text: '300 meters',\r\n                    isCorrect: false,\r\n                    rationale: 'This is an incorrect calculation.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 13,\r\n                calculator: true,\r\n                question:\r\n                  'The circumference of a circle is 18.84 cm. What is its radius? (Use $\\\\pi \\\\approx 3.14$)',\r\n                answerOptions: [\r\n                  {\r\n                    text: '3 cm',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      '$C = 2 \\\\pi r$. $18.84 = 2 \\\\times 3.14 \\\\times r$. $18.84 = 6.28r$. $r = 18.84 / 6.28 = 3$.',\r\n                  },\r\n                  {\r\n                    text: '6 cm',\r\n                    isCorrect: false,\r\n                    rationale: '6 is the diameter.',\r\n                  },\r\n                  {\r\n                    text: '9.42 cm',\r\n                    isCorrect: false,\r\n                    rationale: 'This is an incorrect calculation.',\r\n                  },\r\n                  {\r\n                    text: '12 cm',\r\n                    isCorrect: false,\r\n                    rationale: 'This is an incorrect calculation.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 14,\r\n                calculator: true,\r\n                question:\r\n                  'A parallelogram has a base of 12 inches and a height of 5 inches. What is its area?',\r\n                answerOptions: [\r\n                  {\r\n                    text: '17 sq inches',\r\n                    isCorrect: false,\r\n                    rationale: 'This is the sum of the base and height.',\r\n                  },\r\n                  {\r\n                    text: '60 sq inches',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      'Area of a parallelogram is base $\\\\times$ height. $A = 12 \\\\times 5 = 60$.',\r\n                  },\r\n                  {\r\n                    text: '30 sq inches',\r\n                    isCorrect: false,\r\n                    rationale: 'This would be the area if it were a triangle.',\r\n                  },\r\n                  {\r\n                    text: '34 sq inches',\r\n                    isCorrect: false,\r\n                    rationale: 'This is an incorrect calculation.',\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 15,\r\n                calculator: true,\r\n                question:\r\n                  'A trapezoid has bases of length 8 and 12, and a height of 6. What is its area?',\r\n                answerOptions: [\r\n                  {\r\n                    text: '60',\r\n                    isCorrect: true,\r\n                    rationale:\r\n                      'Area of a trapezoid is $\\\\frac{1}{2}h(b_1 + b_2)$. $A = 0.5 \\\\times 6 \\\\times (8 + 12) = 3 \\\\times 20 = 60$.',\r\n                  },\r\n                  {\r\n                    text: '120',\r\n                    isCorrect: false,\r\n                    rationale: 'Forgot to multiply by $\\\\frac{1}{2}$.',\r\n                  },\r\n                  {\r\n                    text: '26',\r\n                    isCorrect: false,\r\n                    rationale: 'This is the sum of the dimensions.',\r\n                  },\r\n                  {\r\n                    text: '576',\r\n                    isCorrect: false,\r\n                    rationale: 'This is an incorrect calculation.',\r\n                  },\r\n                ],\r\n              },\r\n            ],\r\n          },\r\n        ],\r\n      },\r\n    },\r\n  },\r\n  'Social Studies': {\r\n    icon: 'GlobeIcon',\r\n    categories: {\r\n      'U.S. History': {\r\n        description:\r\n          'Explore the events, figures, and ideas that shaped the United States, from its origins to the present day.',\r\n        topics: [\r\n          {\r\n            id: 'ss_us_hist_foundations',\r\n            title: 'Foundations (Colonial America)',\r\n            description:\r\n              'Exploration, Colonial Regions, Mercantilism, and the French & Indian War.',\r\n            quizzes: [\r\n              {\r\n                id: 'ss_us_hist_foundations_quiz1',\r\n                title: 'Foundations: Quiz 1',\r\n                questions: [\r\n                  {\r\n                    questionNumber: 1,\r\n                    type: 'text',\r\n                    passage:\r\n                      \"The period from the early 15th century to the early 17th century is known as the Age of Exploration, driven by the 'Three Gs': God, Gold, and Glory. 'Gold' represented the desire for wealth, such as finding new trade routes for valuable spices and extracting resources like silver and gold from new lands.\",\r\n                    question:\r\n                      \"Which of the following best exemplifies the motivation of 'Gold' during the Age of Exploration?\",\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'Building missions to convert indigenous populations.',\r\n                        isCorrect: false,\r\n                        rationale:\r\n                          \"This is an example of the 'God' motivation.\",\r\n                      },\r\n                      {\r\n                        text: 'Establishing a direct sea route to India to trade for spices.',\r\n                        isCorrect: true,\r\n                        rationale:\r\n                          \"Establishing new trade routes for valuable goods was a primary economic motivation ('Gold').\",\r\n                      },\r\n                      {\r\n                        text: \"Conquering new lands to expand an empire's prestige.\",\r\n                        isCorrect: false,\r\n                        rationale:\r\n                          \"This is an example of the 'Glory' motivation.\",\r\n                      },\r\n                      {\r\n                        text: 'Creating detailed maps of newly discovered coastlines.',\r\n                        isCorrect: false,\r\n                        rationale:\r\n                          'This was a result of exploration, not the primary motivation.',\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 2,\r\n                    type: 'text',\r\n                    passage:\r\n                      \"Mercantilism was the dominant economic theory during this period. It held that a nation's wealth and power were best served by increasing exports and collecting precious metals. Colonies were crucial to this system, existing to provide raw materials to the mother country and to serve as a market for its manufactured goods.\",\r\n                    question:\r\n                      'Under the theory of mercantilism, what was the primary purpose of colonies?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'To become independent, self-sufficient nations.',\r\n                        isCorrect: false,\r\n                        rationale:\r\n                          'This is the opposite of mercantilism, which required colonies to be dependent.',\r\n                      },\r\n                      {\r\n                        text: 'To enrich the mother country by providing resources and buying its goods.',\r\n                        isCorrect: true,\r\n                        rationale:\r\n                          'Colonies existed to serve the economic interests of the mother country.',\r\n                      },\r\n                      {\r\n                        text: 'To establish free trade agreements with indigenous populations.',\r\n                        isCorrect: false,\r\n                        rationale:\r\n                          'Mercantilism is a system of controlled, not free, trade.',\r\n                      },\r\n                      {\r\n                        text: 'To serve as military outposts against rival empires.',\r\n                        isCorrect: false,\r\n                        rationale:\r\n                          'While they could serve this function, their primary purpose was economic.',\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 3,\r\n                    type: 'knowledge',\r\n                    question:\r\n                      'Which colonial region was known for its economy based on shipbuilding, fishing, and trade, with small farms due to rocky soil?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'The Southern Colonies',\r\n                        isCorrect: false,\r\n                        rationale:\r\n                          \"The Southern Colonies' economy was based on large-scale plantation agriculture.\",\r\n                      },\r\n                      {\r\n                        text: 'The Middle Colonies',\r\n                        isCorrect: false,\r\n                        rationale:\r\n                          \"The Middle Colonies were known as the 'breadbasket' for their grain production.\",\r\n                      },\r\n                      {\r\n                        text: 'The New England Colonies',\r\n                        isCorrect: true,\r\n                        rationale:\r\n                          \"New England's geography led to an economy centered on maritime activities.\",\r\n                      },\r\n                      {\r\n                        text: 'The Western Frontier',\r\n                        isCorrect: false,\r\n                        rationale:\r\n                          'The Western Frontier was largely undeveloped during this period.',\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 4,\r\n                    type: 'text',\r\n                    passage:\r\n                      \"The Middle Colonies, including New York and Pennsylvania, were characterized by greater religious and ethnic diversity. Fertile soil supported a thriving agricultural economy based on grains like wheat, earning the region the nickname 'the breadbasket colonies.'\",\r\n                    question:\r\n                      \"The Middle Colonies were known as the 'breadbasket colonies' because of their:\",\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'high level of ethnic diversity.',\r\n                        isCorrect: false,\r\n                        rationale:\r\n                          'While diverse, the nickname refers to their agricultural output.',\r\n                      },\r\n                      {\r\n                        text: 'successful production of grain crops.',\r\n                        isCorrect: true,\r\n                        rationale:\r\n                          \"The passage directly links the nickname to the region's grain-based economy.\",\r\n                      },\r\n                      {\r\n                        text: 'central role in colonial trade.',\r\n                        isCorrect: false,\r\n                        rationale:\r\n                          'While they had important ports, their primary identity was agricultural.',\r\n                      },\r\n                      {\r\n                        text: 'practice of religious toleration.',\r\n                        isCorrect: false,\r\n                        rationale:\r\n                          'This was a social characteristic, not the reason for the nickname.',\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 5,\r\n                    type: 'knowledge',\r\n                    question:\r\n                      'The economy of the Southern Colonies, such as Virginia, was heavily dependent on:',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'large-scale manufacturing.',\r\n                        isCorrect: false,\r\n                        rationale:\r\n                          'Manufacturing was not a significant part of the Southern economy.',\r\n                      },\r\n                      {\r\n                        text: 'cash crop agriculture on large plantations.',\r\n                        isCorrect: true,\r\n                        rationale:\r\n                          'The Southern economy was defined by plantations growing crops like tobacco and rice.',\r\n                      },\r\n                      {\r\n                        text: 'fur trading with Native American tribes.',\r\n                        isCorrect: false,\r\n                        rationale:\r\n                          'Fur trading was more prominent in the northern colonies.',\r\n                      },\r\n                      {\r\n                        text: 'shipbuilding and international trade.',\r\n                        isCorrect: false,\r\n                        rationale:\r\n                          'This was the economic focus of New England.',\r\n                      },\r\n                    ],\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                id: 'ss_us_hist_foundations_quiz2',\r\n                title: 'Foundations: Quiz 2',\r\n                questions: [\r\n                  {\r\n                    questionNumber: 1,\r\n                    type: 'text',\r\n                    passage:\r\n                      'The French and Indian War (1754-1763) was a conflict between Great Britain and France over territory in North America. The British victory was decisive, and the Treaty of Paris (1763) forced France to cede all of its North American territories east of the Mississippi River to Britain.',\r\n                    question:\r\n                      'What was a major consequence of the French and Indian War?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'France expanded its colonial holdings in North America.',\r\n                        isCorrect: false,\r\n                        rationale:\r\n                          'France lost nearly all of its North American territory.',\r\n                      },\r\n                      {\r\n                        text: 'Great Britain gained control of vast new territories in North America.',\r\n                        isCorrect: true,\r\n                        rationale:\r\n                          'France ceded its territories east of the Mississippi to Britain.',\r\n                      },\r\n                      {\r\n                        text: 'The American colonies declared independence from Britain.',\r\n                        isCorrect: false,\r\n                        rationale:\r\n                          \"The war's aftermath led to tensions that caused the revolution, but independence was not an immediate consequence.\",\r\n                      },\r\n                      {\r\n                        text: 'Spain became the dominant power in North America.',\r\n                        isCorrect: false,\r\n                        rationale:\r\n                          'The war established Great Britain as the dominant power.',\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 2,\r\n                    type: 'knowledge',\r\n                    question:\r\n                      'The Virginia House of Burgesses, established in 1619, holds what significance in American history?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'It was the first permanent English settlement in North America.',\r\n                        isCorrect: false,\r\n                        rationale:\r\n                          'The first settlement was Jamestown; the House of Burgesses was its assembly.',\r\n                      },\r\n                      {\r\n                        text: 'It was the first representative legislative assembly in the American colonies.',\r\n                        isCorrect: true,\r\n                        rationale:\r\n                          'It was the first elected body, setting a precedent for self-government.',\r\n                      },\r\n                      {\r\n                        text: 'It was a trade agreement between colonists and Native Americans.',\r\n                        isCorrect: false,\r\n                        rationale:\r\n                          'It was a legislative body, not a trade agreement.',\r\n                      },\r\n                      {\r\n                        text: 'It was a military alliance formed to fight against the French.',\r\n                        isCorrect: false,\r\n                        rationale:\r\n                          'It was a political institution, not a military alliance.',\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 3,\r\n                    type: 'text',\r\n                    passage:\r\n                      'The Columbian Exchange refers to the transfer of plants, animals, diseases, and people between the Old World (Europe, Asia, Africa) and the New World (the Americas). From the New World, Europe gained crops like potatoes and maize (corn). From the Old World, the Americas received animals like horses but also devastating diseases like smallpox.',\r\n                    question:\r\n                      'Which of the following was a direct consequence of the Columbian Exchange?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'The introduction of horses to the Americas.',\r\n                        isCorrect: true,\r\n                        rationale:\r\n                          'Horses came from the Old World to the Americas.',\r\n                      },\r\n                      {\r\n                        text: 'A decrease in the population of Europe.',\r\n                        isCorrect: false,\r\n                        rationale:\r\n                          'New crops from the Americas led to a population boom in Europe.',\r\n                      },\r\n                      {\r\n                        text: 'The spread of maize from Europe to the Americas.',\r\n                        isCorrect: false,\r\n                        rationale:\r\n                          'The opposite is true; maize went from the Americas to Europe.',\r\n                      },\r\n                      {\r\n                        text: 'An improvement in the health of indigenous populations.',\r\n                        isCorrect: false,\r\n                        rationale:\r\n                          'Old World diseases devastated indigenous populations.',\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 4,\r\n                    type: 'knowledge',\r\n                    question:\r\n                      'The Mayflower Compact (1620) is significant because it was:',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'a declaration of war against England.',\r\n                        isCorrect: false,\r\n                        rationale:\r\n                          'It was an agreement to form a government, not a declaration of war.',\r\n                      },\r\n                      {\r\n                        text: 'an early example of a social contract, where people agreed to form a government and obey its laws.',\r\n                        isCorrect: true,\r\n                        rationale:\r\n                          \"The signers agreed to create a 'civil body politic' and abide by its rules.\",\r\n                      },\r\n                      {\r\n                        text: 'the first constitution of the United States.',\r\n                        isCorrect: false,\r\n                        rationale:\r\n                          'The U.S. Constitution was written much later, in 1787.',\r\n                      },\r\n                      {\r\n                        text: 'a document granting religious freedom to all colonists.',\r\n                        isCorrect: false,\r\n                        rationale:\r\n                          'It was about forming a government, not granting universal religious freedom.',\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 5,\r\n                    type: 'text',\r\n                    passage:\r\n                      'The system of indentured servitude was a common way for poor Europeans to migrate to the American colonies. In exchange for passage, they would work for a landowner for a fixed period, typically four to seven years. This system provided a crucial labor force before the large-scale adoption of slavery.',\r\n                    question:\r\n                      'What was the primary purpose of indentured servitude?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'To establish a system of permanent, inherited slavery.',\r\n                        isCorrect: false,\r\n                        rationale:\r\n                          'Indentured servitude was a temporary labor contract.',\r\n                      },\r\n                      {\r\n                        text: 'To provide a labor force for the colonies.',\r\n                        isCorrect: true,\r\n                        rationale:\r\n                          'The system provided a crucial labor force for the growing colonies.',\r\n                      },\r\n                      {\r\n                        text: 'To promote religious diversity in the colonies.',\r\n                        isCorrect: false,\r\n                        rationale:\r\n                          \"The system's primary purpose was economic (labor).\",\r\n                      },\r\n                      {\r\n                        text: 'To train colonists for military service.',\r\n                        isCorrect: false,\r\n                        rationale:\r\n                          'Indentured servitude was a labor system, not a military one.',\r\n                      },\r\n                    ],\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                id: 'ss_us_hist_foundations_quiz3',\r\n                title: 'Foundations: Quiz 3',\r\n                questions: [\r\n                  {\r\n                    questionNumber: 1,\r\n                    type: 'image',\r\n                    imageUrl:\r\n                      'Images/Social Studies/This-Question-is-based-on-the-following-graph.png',\r\n                    question:\r\n                      'This map shows the New England colonies. Which economic activity would be most characteristic of this region during the colonial era?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'Growing tobacco on large plantations.',\r\n                        isCorrect: false,\r\n                        rationale:\r\n                          'This was characteristic of the Southern colonies.',\r\n                      },\r\n                      {\r\n                        text: 'Building ships and engaging in maritime trade.',\r\n                        isCorrect: true,\r\n                        rationale:\r\n                          \"The region's long coastline and forests made shipbuilding and trade central to its economy.\",\r\n                      },\r\n                      {\r\n                        text: 'Cultivating wheat on large farms for export.',\r\n                        isCorrect: false,\r\n                        rationale:\r\n                          'This was the specialty of the Middle Colonies.',\r\n                      },\r\n                      {\r\n                        text: 'Mining for gold and silver.',\r\n                        isCorrect: false,\r\n                        rationale:\r\n                          'There were no significant gold or silver mines in New England.',\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 2,\r\n                    type: 'image',\r\n                    imageUrl:\r\n                      'Images/Social Studies/A map of the Triangular Trade routes..jpg',\r\n                    question:\r\n                      'This map shows the Triangular Trade. The route that transported enslaved Africans from Africa to the Americas was known as the:',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'The Columbian Exchange',\r\n                        isCorrect: false,\r\n                        rationale:\r\n                          'The Columbian Exchange refers to the transfer of goods and diseases, not the specific slave route.',\r\n                      },\r\n                      {\r\n                        text: 'The Middle Passage',\r\n                        isCorrect: true,\r\n                        rationale:\r\n                          'This is the specific term for the sea journey endured by enslaved Africans across the Atlantic.',\r\n                      },\r\n                      {\r\n                        text: 'The Silk Road',\r\n                        isCorrect: false,\r\n                        rationale:\r\n                          'The Silk Road was an ancient trade route connecting the East and West over land.',\r\n                      },\r\n                      {\r\n                        text: 'The Spice Route',\r\n                        isCorrect: false,\r\n                        rationale:\r\n                          'This refers to the sea routes from Europe to the East Indies.',\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 3,\r\n                    type: 'text',\r\n                    passage:\r\n                      'The Great Awakening was a religious revival in the 1730s and 1740s that emphasized personal religious experience. It challenged the authority of established church ministers and led to the growth of new Protestant denominations.',\r\n                    question:\r\n                      'What was a significant effect of the Great Awakening?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'It strengthened the authority of the established churches.',\r\n                        isCorrect: false,\r\n                        rationale:\r\n                          'It challenged traditional religious authority.',\r\n                      },\r\n                      {\r\n                        text: 'It encouraged colonists to question traditional authority.',\r\n                        isCorrect: true,\r\n                        rationale:\r\n                          'By emphasizing personal experience, it fostered a spirit of individualism and a willingness to challenge authority.',\r\n                      },\r\n                      {\r\n                        text: 'It led to a decline in religious belief throughout the colonies.',\r\n                        isCorrect: false,\r\n                        rationale:\r\n                          \"It was a religious 'revival,' increasing religious fervor.\",\r\n                      },\r\n                      {\r\n                        text: 'It unified all colonial churches under one denomination.',\r\n                        isCorrect: false,\r\n                        rationale:\r\n                          'It led to the growth of new denominations, increasing diversity.',\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 4,\r\n                    type: 'image',\r\n                    imageUrl:\r\n                      'Images/Social Studies/American_School_-_Join_or_Die_drawing_considers_the_first_political_cartoon_published_in_the_Penns_-_(MeisterDrucke-971488).jpg',\r\n                    question:\r\n                      'This political cartoon by Benjamin Franklin, created in 1754, was used to promote the Albany Plan of Union. What was the primary goal of this plan?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'To declare independence from Great Britain.',\r\n                        isCorrect: false,\r\n                        rationale:\r\n                          'The plan was proposed before the revolutionary period and did not call for independence.',\r\n                      },\r\n                      {\r\n                        text: 'To create a unified colonial government for defense against the French.',\r\n                        isCorrect: true,\r\n                        rationale:\r\n                          'The plan aimed to unite the colonies for common defense at the start of the French and Indian War.',\r\n                      },\r\n                      {\r\n                        text: 'To abolish slavery in all thirteen colonies.',\r\n                        isCorrect: false,\r\n                        rationale:\r\n                          'Abolition was not a goal of the Albany Plan.',\r\n                      },\r\n                      {\r\n                        text: 'To establish a single currency for all the colonies.',\r\n                        isCorrect: false,\r\n                        rationale:\r\n                          'The primary goal was defense, not currency.',\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 5,\r\n                    type: 'knowledge',\r\n                    question:\r\n                      'Which colony was founded by William Penn as a haven for Quakers and was known for its policy of religious toleration?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'Massachusetts',\r\n                        isCorrect: false,\r\n                        rationale:\r\n                          'Massachusetts was founded by Puritans and was not initially tolerant of other religions.',\r\n                      },\r\n                      {\r\n                        text: 'Virginia',\r\n                        isCorrect: false,\r\n                        rationale:\r\n                          'Virginia was founded primarily for economic reasons and had an established Anglican church.',\r\n                      },\r\n                      {\r\n                        text: 'Pennsylvania',\r\n                        isCorrect: true,\r\n                        rationale:\r\n                          'Pennsylvania was established by William Penn with the specific goal of providing a place for Quakers and others to practice their religion freely.',\r\n                      },\r\n                      {\r\n                        text: 'Georgia',\r\n                        isCorrect: false,\r\n                        rationale:\r\n                          'Georgia was founded as a buffer colony and a place for debtors.',\r\n                      },\r\n                    ],\r\n                  },\r\n                ],\r\n              },\r\n            ],\r\n          },\r\n          {\r\n            id: 'ss_us_hist_revolution',\r\n            title: 'The American Revolution (1763-1783)',\r\n            description:\r\n              'Causes (Stamp Act, Intolerable Acts), Declaration of Independence, Key Battles (Saratoga, Yorktown), Treaty of Paris.',\r\n            quizzes: [\r\n              {\r\n                id: 'ss_us_hist_revolution_quiz1',\r\n                title: 'The American Revolution: Quiz 1',\r\n                questions: [\r\n                  {\r\n                    questionNumber: 1,\r\n                    type: 'text',\r\n                    passage:\r\n                      \"After the French and Indian War (1754-1763), Great Britain was left with a significant war debt. To manage this debt, the British Parliament began imposing new taxes on the American colonies. Acts like the Stamp Act (1765) and the Townshend Acts (1767) taxed goods such as paper, glass, and tea. Colonists strongly protested these taxes, arguing that they were a form of 'taxation without representation,' since the colonies had no elected representatives in the British Parliament to voice their interests.\",\r\n                    question:\r\n                      'What was the primary argument used by American colonists to protest the taxes imposed by the British Parliament after 1763?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'The taxes were economically ruinous and would destroy colonial businesses.',\r\n                        rationale:\r\n                          'While the economic burden was a concern, the core *political* argument was about the lack of representation, not just the economic impact.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'The taxes violated their rights as British citizens because they were not represented in Parliament.',\r\n                        rationale:\r\n                          \"Correct. The slogan 'taxation without representation' captures the central grievance: that Parliament had no authority to tax them without their consent, which could only be given through their own elected representatives.\",\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'The taxes were intended to punish the colonies for their role in the French and Indian War.',\r\n                        rationale:\r\n                          'The passage states the taxes were to manage war debt, not as a punishment for the war itself.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'The taxes unfairly benefited French merchants over American merchants.',\r\n                        rationale:\r\n                          'The issue was with British taxation, not benefits for the French. The conflict was between the colonies and Great Britain.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 2,\r\n                    type: 'quote',\r\n                    passage:\r\n                      \"'We hold these truths to be self-evident, that all men are created equal, that they are endowed by their Creator with certain unalienable Rights, that among these are Life, Liberty and the pursuit of Happiness.--That to secure these rights, Governments are instituted among Men, deriving their just powers from the consent of the governed.' - Declaration of Independence, 1776\",\r\n                    question:\r\n                      'The ideas expressed in this excerpt are most directly influenced by which intellectual movement?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'The Renaissance',\r\n                        rationale:\r\n                          'The Renaissance focused on art, humanism, and the revival of classical learning, but the direct political philosophy in the quote comes from a later period.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'The Protestant Reformation',\r\n                        rationale:\r\n                          'The Reformation challenged religious authority, but the specific concepts of natural rights and consent of the governed are from the Enlightenment.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'The Enlightenment',\r\n                        rationale:\r\n                          'Correct. Philosophers like John Locke articulated the core ideas of natural (unalienable) rights and the principle that governments derive their legitimacy from the consent of the people they govern. This quote is a direct reflection of Enlightenment political theory.',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'The Scientific Revolution',\r\n                        rationale:\r\n                          'The Scientific Revolution emphasized reason and empirical observation, which influenced the Enlightenment, but the political ideas themselves are hallmarks of the Enlightenment.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 3,\r\n                    type: 'text',\r\n                    passage:\r\n                      'The American victory at the Battle of Saratoga in 1777 is widely considered the turning point of the Revolutionary War. The defeat of a major British army convinced France that the American colonists could potentially win the war. As a result, France formally recognized American independence and entered the war as an ally of the United States, providing crucial military and financial support that was instrumental in the final victory at Yorktown.',\r\n                    question:\r\n                      'What was the most important strategic outcome of the American victory at Saratoga?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'It was the final battle that ended the Revolutionary War.',\r\n                        rationale:\r\n                          'The passage states that the final victory was at Yorktown. Saratoga was a turning point, not the end.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'It secured a crucial foreign alliance with France.',\r\n                        rationale:\r\n                          \"Correct. The passage explicitly states that the victory at Saratoga convinced France to become an ally, which provided the 'crucial military and financial support' needed to win the war.\",\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'It resulted in the capture of the British capital in North America.',\r\n                        rationale:\r\n                          'Saratoga was a field victory in upstate New York; it did not involve the capture of a major capital city like New York or Philadelphia at that time.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'It was the first time the colonial militia defeated British regular troops.',\r\n                        rationale:\r\n                          'While a major victory, it was not the first time colonists had successfully engaged British troops (e.g., Lexington and Concord, Bunker Hill). Its strategic importance was in securing the French alliance.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 4,\r\n                    type: 'cause-effect',\r\n                    question:\r\n                      'Which statement best describes the cause-and-effect relationship between the French and Indian War and the American Revolution?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'The American victory in the French and Indian War gave the colonies the confidence to declare independence.',\r\n                        rationale:\r\n                          'The war was a victory for the British, with colonists fighting alongside them. The confidence came later from protesting British policies.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'The French and Indian War created a permanent alliance between the British and Native American tribes, angering the colonists.',\r\n                        rationale:\r\n                          'The war fractured relationships between the British and many tribes. The Proclamation of 1763, which restricted colonial settlement, was a greater source of anger.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'The debt Great Britain incurred from the French and Indian War led to taxation policies that angered the colonists.',\r\n                        rationale:\r\n                          'Correct. The war was very expensive for Britain. The subsequent attempt to pay down that debt by taxing the colonies directly, without their political representation, was a primary cause of the Revolution.',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'The French, after losing the war, encouraged the American colonies to rebel against their British rulers.',\r\n                        rationale:\r\n                          'French support came much later, after the Revolution had already begun and the colonists proved they could win at Saratoga.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 5,\r\n                    type: 'text',\r\n                    passage:\r\n                      'In response to the Boston Tea Party in 1773, where colonists destroyed a shipment of British tea, the British Parliament passed a series of punitive measures in 1774 known in the colonies as the Intolerable Acts (or Coercive Acts). These acts closed the port of Boston until the tea was paid for, restricted town meetings in Massachusetts, and allowed British officials accused of crimes to be tried in Britain. These measures were intended to punish Massachusetts and isolate it from the other colonies.',\r\n                    question:\r\n                      'What was the most significant, unintended consequence of the Intolerable Acts?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'They successfully forced Massachusetts colonists to pay for the destroyed tea.',\r\n                        rationale:\r\n                          'The acts did not lead to the colonists paying for the tea; instead, they escalated tensions.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'They caused other colonies to sever ties with Massachusetts for fear of similar punishment.',\r\n                        rationale:\r\n                          'The acts had the opposite effect. Instead of isolating Massachusetts, they unified the colonies against what they saw as British tyranny.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'They were repealed after colonial leaders sent a petition to the King.',\r\n                        rationale:\r\n                          'The acts were not repealed and were a direct cause of further revolutionary action.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'They unified the colonies in their opposition to British rule, leading to the First Continental Congress.',\r\n                        rationale:\r\n                          'Correct. Rather than isolating Massachusetts, the harshness of the acts convinced other colonies that their own rights were in jeopardy, prompting them to convene the First Continental Congress to coordinate a response.',\r\n                        isCorrect: true,\r\n                      },\r\n                    ],\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                id: 'ss_us_hist_revolution_quiz2',\r\n                title: 'The American Revolution: Quiz 2',\r\n                questions: [\r\n                  {\r\n                    questionNumber: 1,\r\n                    type: 'knowledge',\r\n                    question:\r\n                      'During the American Revolution, colonists who supported independence were known as Patriots. What was the term for colonists who remained loyal to Great Britain?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'Separatists',\r\n                        rationale:\r\n                          'This term is more commonly associated with the Pilgrims who wanted to separate from the Church of England.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'Federalists',\r\n                        rationale:\r\n                          'This term refers to those who supported the ratification of the U.S. Constitution after the Revolution.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'Tories',\r\n                        rationale:\r\n                          'Correct. Colonists who remained loyal to the British Crown were often called Loyalists or, using the name of the British political party that supported the monarchy, Tories.',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'Abolitionists',\r\n                        rationale:\r\n                          'This term refers to people who advocated for the abolition of slavery, a movement that gained prominence later.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 2,\r\n                    type: 'quote',\r\n                    passage:\r\n                      \"'Every thing that is right or reasonable pleads for separation. The blood of the slain, the weeping voice of nature cries, 'TIS TIME TO PART.' - Thomas Paine, Common Sense, 1776\",\r\n                    question:\r\n                      \"What was the primary purpose of Thomas Paine's pamphlet, Common Sense?\",\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'To negotiate a peaceful settlement with King George III.',\r\n                        rationale:\r\n                          \"The quote 'TIS TIME TO PART' shows that the purpose was the opposite of seeking a peaceful settlement; it was a call for a definitive break.\",\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'To persuade undecided American colonists to support independence from Britain.',\r\n                        rationale:\r\n                          'Correct. Common Sense was written in plain, powerful language to make a compelling, emotional, and logical case for independence, and it was incredibly effective in swaying public opinion.',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'To outline a new system of government for the United States.',\r\n                        rationale:\r\n                          \"While Paine argued for a republic, the pamphlet's main goal was to argue for independence itself, not to draft a detailed constitution.\",\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'To recruit soldiers for the Continental Army.',\r\n                        rationale:\r\n                          'While it likely inspired people to fight, its primary purpose was political persuasion, not direct military recruitment.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 3,\r\n                    type: 'knowledge',\r\n                    question:\r\n                      'Who was appointed Commander-in-Chief of the Continental Army during the American Revolution?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'Thomas Jefferson',\r\n                        rationale:\r\n                          'Thomas Jefferson was the primary author of the Declaration of Independence and served as a diplomat, but he was not a military commander.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'Benjamin Franklin',\r\n                        rationale:\r\n                          'Benjamin Franklin was a key diplomat who helped secure the alliance with France, but he did not lead the army.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'John Adams',\r\n                        rationale:\r\n                          'John Adams was a leading voice for independence in the Continental Congress and a diplomat, but not the military leader.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'George Washington',\r\n                        rationale:\r\n                          'Correct. The Second Continental Congress appointed George Washington as the Commander-in-Chief of the Continental Army in 1775, and he led the army throughout the war.',\r\n                        isCorrect: true,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 4,\r\n                    type: 'text',\r\n                    passage:\r\n                      \"The Treaty of Paris, signed in 1783, formally ended the American Revolutionary War. The key terms of the treaty included Great Britain's formal recognition of the United States as an independent nation. It also established the boundaries of the new nation, granting the U.S. territory that stretched west to the Mississippi River, north to the Great Lakes, and south to Florida.\",\r\n                    question:\r\n                      'Besides the recognition of American independence, what was another significant outcome of the Treaty of Paris?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'The United States was required to pay war reparations to Great Britain.',\r\n                        rationale:\r\n                          'The treaty did not require the U.S. to pay reparations to Britain.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: \"France received all of Britain's former territories in North America.\",\r\n                        rationale:\r\n                          'The treaty granted territory to the United States, not France.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'The United States gained a vast amount of new territory, significantly expanding its borders.',\r\n                        rationale:\r\n                          'Correct. The treaty granted the U.S. control of the territory west to the Mississippi River, which was a massive expansion of its land.',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'Great Britain agreed to help the United States establish its new government.',\r\n                        rationale:\r\n                          'The treaty ended the war but did not include provisions for Britain to assist in the formation of the U.S. government.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 5,\r\n                    type: 'knowledge',\r\n                    question:\r\n                      'The final, decisive battle of the American Revolution, where Lord Cornwallis surrendered to George Washington, took place at:',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'Saratoga',\r\n                        rationale:\r\n                          'Saratoga was a crucial turning point, but not the final battle.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'Bunker Hill',\r\n                        rationale:\r\n                          \"Bunker Hill was an early battle that showed the colonists' resolve, but it was not the final victory.\",\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'Yorktown',\r\n                        rationale:\r\n                          'Correct. The siege of Yorktown in 1781, with combined American and French forces, led to the surrender of the main British army and effectively ended the war.',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'Lexington and Concord',\r\n                        rationale:\r\n                          'These were the first shots of the war, not the end.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                id: 'ss_us_hist_revolution_quiz3',\r\n                title: 'The American Revolution: Quiz 3',\r\n                questions: [\r\n                  {\r\n                    questionNumber: 1,\r\n                    type: 'image',\r\n                    imageUrl: '/images/Social Studies/join_or_die_cartoon.jpg',\r\n                    question:\r\n                      'This 1754 political cartoon by Benjamin Franklin was originally created to encourage colonial unity during the French and Indian War. How was its message re-purposed during the American Revolution?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'It was used by Loyalists to argue that the colonies were too weak to survive without Britain.',\r\n                        rationale:\r\n                          'Patriots, not Loyalists, used this cartoon to argue for unity against Britain.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'It became a symbol of colonial unity and resistance against British rule.',\r\n                        rationale:\r\n                          \"Correct. The powerful message of 'Join, or Die' was easily adapted to represent the need for the colonies to unite against British tyranny or be defeated individually.\",\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'It was changed to depict a snake attacking a British lion.',\r\n                        rationale:\r\n                          'The original image was powerful enough and did not need to be changed.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'It lost its relevance and was not used during the Revolution.',\r\n                        rationale:\r\n                          'The cartoon was widely used and became an important symbol of the revolutionary cause.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 2,\r\n                    type: 'chart',\r\n                    passage: `<div class=\"passage-text\"><b>Comparing Forces in the American Revolution</b><table class=\"w-full text-left mt-2\"><thead><tr class=\"border-b\"><th class=\"p-2\">Factor</th><th class=\"p-2\">Great Britain</th><th class=\"p-2\">American Colonies</th></tr></thead><tbody><tr class=\"border-b\"><td class=\"p-2 font-semibold\">Population</td><td class=\"p-2\">~ 8 million</td><td class=\"p-2\">~ 2.5 million</td></tr><tr class=\"border-b\"><td class=\"p-2 font-semibold\">Military</td><td class=\"p-2\">Large, well-trained army; powerful navy</td><td class=\"p-2\">Small, inexperienced militia; no navy</td></tr><tr class=\"border-b\"><td class=\"p-2 font-semibold\">Leadership</td><td class=\"p-2\">Experienced officers</td><td class=\"p-2\">Committed, capable leaders (e.g., Washington)</td></tr><tr class=\"border-b\"><td class=\"p-2 font-semibold\">Geography</td><td class=\"p-2\">Long supply lines (3,000 miles)</td><td class=\"p-2\">Fighting on home ground; vast territory</td></tr><tr class=\"border-b\"><td class=\"p-2 font-semibold\">Motivation</td><td class=\"p-2\">Hired mercenaries; varied support at home</td><td class=\"p-2\">Fighting for liberty and independence</td></tr></tbody></table></div>`,\r\n                    question:\r\n                      'Based on the chart, which factor provided the most significant advantage for the American colonies in their war against Great Britain?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'Superior military training and equipment.',\r\n                        rationale:\r\n                          'The chart clearly indicates that Great Britain, not the colonies, had the superior military.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'A larger and more supportive population base.',\r\n                        rationale:\r\n                          'The chart shows Great Britain had a much larger population.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'Geographical factors and a stronger motivation for fighting.',\r\n                        rationale:\r\n                          'Correct. The chart shows that fighting on their own vast territory (a geographical advantage) and fighting for a cause like independence (a motivational advantage) were key strengths for the Americans, offsetting British military superiority.',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'Support from a powerful and established navy.',\r\n                        rationale:\r\n                          \"The chart states the colonies had 'no navy' at the outset.\",\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 3,\r\n                    type: 'text',\r\n                    passage:\r\n                      'The winter of 1777-1778 at Valley Forge was a time of immense hardship for the Continental Army. Soldiers suffered from a lack of food, clothing, and shelter, and many died from disease. However, the army did not disintegrate. Under the command of George Washington and the training of the Prussian officer Baron von Steuben, the soldiers who remained were forged into a more disciplined and professional fighting force.',\r\n                    question:\r\n                      \"What was the significance of the Continental Army's winter at Valley Forge?\",\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'It was a major military victory against the British.',\r\n                        rationale:\r\n                          'Valley Forge was a winter encampment, not a battle.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'It marked the end of the Revolutionary War.',\r\n                        rationale:\r\n                          'The war continued for several more years after Valley Forge.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'Despite extreme hardship, the army emerged as a more professional and disciplined force.',\r\n                        rationale:\r\n                          'Correct. The passage highlights that the training and perseverance during the harsh winter transformed the army.',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'It led to George Washington being replaced as commander.',\r\n                        rationale:\r\n                          \"Washington's leadership was crucial in holding the army together during this difficult time.\",\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 4,\r\n                    type: 'knowledge',\r\n                    question:\r\n                      'What was the main purpose of the Declaration of Independence?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'To create a detailed plan for the new American government.',\r\n                        rationale:\r\n                          'The plan for government came later with the Articles of Confederation and the Constitution.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: \"To formally state the colonies' reasons for separating from Great Britain and to articulate their political philosophy.\",\r\n                        rationale:\r\n                          'Correct. The Declaration listed grievances against the King and asserted the philosophical principles (like natural rights) that justified the separation.',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'To request financial aid from France and Spain.',\r\n                        rationale:\r\n                          'While the colonists sought foreign aid, that was not the purpose of this specific document.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'To offer a final peace proposal to King George III.',\r\n                        rationale:\r\n                          'It was a declaration of separation, not a peace proposal.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 5,\r\n                    type: 'analysis',\r\n                    passage: `<p class=\"passage-text mb-4\"><b>Historian A:</b> The American Revolution was fundamentally an economic conflict. The British Empire's mercantilist policies, such as the Navigation Acts and various taxes, restricted colonial trade and manufacturing. The core of the dispute was the colonists' desire for economic freedomthe ability to trade with whomever they pleased and to develop their own industries without British interference.</p><p class=\"passage-text\"><b>Historian B:</b> The Revolution was primarily a political and ideological struggle. Colonists saw themselves as freeborn Britons entitled to certain rights, most notably the right to be taxed only by their own elected representatives. When Parliament violated this principle, it was seen as an act of tyranny. The conflict was not about the amount of the tax, but the principle of self-government.</p>`,\r\n                    question:\r\n                      'What is the central point of disagreement between Historian A and Historian B?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'Whether the colonists were justified in rebelling.',\r\n                        rationale:\r\n                          'Both historians are explaining the causes of the rebellion, not debating its justification.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: \"The primary motivation behind the colonists' drive for independence.\",\r\n                        rationale:\r\n                          'Correct. Historian A argues the main driver was economic freedom (the desire to make more money), while Historian B argues it was political principle (the right of self-government).',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'The date when the American Revolution truly began.',\r\n                        rationale:\r\n                          'Neither historian is concerned with dating the start of the Revolution.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'Whether the British policies were fair to the colonists.',\r\n                        rationale:\r\n                          \"Both passages imply the policies led to conflict, but their focus is on the colonists' motivation, not the fairness of British actions from a neutral perspective.\",\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                ],\r\n              },\r\n            ],\r\n          },\r\n          {\r\n            id: 'ss_us_hist_new_nation',\r\n            title: 'Westward Expansion',\r\n            description:\r\n              'Articles of Confederation, Constitutional Convention, Westward Expansion (Louisiana Purchase, Lewis & Clark).',\r\n            quizzes: [\r\n              {\r\n                id: 'ss_us_hist_westward_expansion_quiz1',\r\n                title: 'Westward Expansion: Quiz 1',\r\n                questions: [\r\n                  {\r\n                    questionNumber: 1,\r\n                    type: 'text',\r\n                    passage:\r\n                      \"Manifest Destiny was a widely held cultural belief in the 19th-century United States that American settlers were destined to expand across North America. This idea was used to justify westward expansion, the removal of Native American tribes, and the war with Mexico. Proponents argued that it was not only the nation's destiny but its duty to spread democracy and Protestant Christianity across the continent.\",\r\n                    question: 'What was the core idea of Manifest Destiny?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'That the United States should limit its territory to the original thirteen colonies.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'That American settlers were destined to expand across the continent, spreading their institutions with them.',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'That the United States should form a military alliance with Mexico.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'That Native American tribes should be given full citizenship.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 2,\r\n                    type: 'knowledge',\r\n                    question:\r\n                      'Which of the following events, completed in 1869, was a major catalyst for westward expansion by making travel and trade across the continent significantly faster and cheaper?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'The Lewis and Clark Expedition',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'The construction of the Transcontinental Railroad',\r\n                        isCorrect: true,\r\n                      },\r\n                      { text: 'The California Gold Rush', isCorrect: false },\r\n                      {\r\n                        text: 'The passage of the Homestead Act',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 3,\r\n                    type: 'text',\r\n                    passage:\r\n                      \"The Homestead Act of 1862 was a pivotal piece of legislation that encouraged westward migration. It allowed any adult citizen, or intended citizen, who had never borne arms against the U.S. government to claim 160 acres of surveyed government land. Claimants were required to 'improve' the plot by building a dwelling and cultivating the land for five years before receiving full ownership.\",\r\n                    question:\r\n                      'What was the main purpose of the Homestead Act of 1862?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'To create national parks and preserve wilderness.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'To sell government land to railroad companies.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'To encourage the settlement of the American West by individual farmers.',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'To establish large, government-owned farms.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 4,\r\n                    type: 'knowledge',\r\n                    question:\r\n                      'The forced removal of the Cherokee Nation from their ancestral lands in the southeastern United States to territory in present-day Oklahoma is known as the:',\r\n                    answerOptions: [\r\n                      { text: 'The Oregon Trail', isCorrect: false },\r\n                      { text: 'The Trail of Tears', isCorrect: true },\r\n                      { text: 'The Great Migration', isCorrect: false },\r\n                      { text: 'The Santa Fe Trail', isCorrect: false },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 5,\r\n                    type: 'text',\r\n                    passage:\r\n                      \"The California Gold Rush began in 1848 after gold was discovered at Sutter's Mill. The news of gold brought some 300,000 people to California from the rest of the United States and abroad. This massive influx of 'forty-niners' dramatically increased California's population, leading to its rapid statehood in 1850 and fueling economic growth and westward expansion.\",\r\n                    question:\r\n                      'What was a major consequence of the California Gold Rush?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: \"A rapid increase in California's population and its admission to the Union as a state.\",\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'A war between the United States and Mexico.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'The discovery of a water route to the Pacific Ocean.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'A decline in the value of gold.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                id: 'ss_us_hist_westward_expansion_quiz2',\r\n                title: 'Westward Expansion: Quiz 2',\r\n                questions: [\r\n                  {\r\n                    questionNumber: 1,\r\n                    type: 'knowledge',\r\n                    question:\r\n                      'The Oregon Trail was a major overland route for westward migration in the 19th century. What was the primary motivation for most pioneers who traveled the Oregon Trail?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'To find gold and become rich.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'To establish new trade routes with Asia.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'To acquire fertile farmland and start new lives in the West.',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'To escape religious persecution in the East.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 2,\r\n                    type: 'text',\r\n                    passage:\r\n                      'The Mexican-American War (1846-1848) was a conflict between the United States and Mexico, primarily over the U.S. annexation of Texas. The war ended with the Treaty of Guadalupe Hidalgo, in which Mexico ceded a vast territory, known as the Mexican Cession, to the United States. This territory included present-day California, Nevada, Utah, and parts of several other states.',\r\n                    question:\r\n                      'What was a major outcome of the Mexican-American War?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'The United States lost territory to Mexico.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'The United States acquired a vast amount of territory, significantly expanding its borders.',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'Mexico and the United States formed a permanent military alliance.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'The issue of slavery in the new territories was permanently resolved.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 3,\r\n                    type: 'knowledge',\r\n                    question:\r\n                      \"The Battle of the Little Bighorn in 1876, often referred to as 'Custer's Last Stand,' was a significant event in the Great Sioux War. What was the outcome of this battle?\",\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'A decisive victory for the U.S. Army, leading to the immediate surrender of the Sioux.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'A major victory for the Lakota, Cheyenne, and Arapaho tribes against the U.S. Army.',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'A peace treaty that granted the Sioux permanent control of the Black Hills.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'A stalemate that resulted in a temporary truce.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 4,\r\n                    type: 'text',\r\n                    passage:\r\n                      'The near-extermination of the American bison (buffalo) in the late 19th century had a devastating impact on the Plains Indians. For these tribes, the bison was a primary source of food, clothing, shelter, and spiritual inspiration. The destruction of the bison herds, driven by commercial hunting and U.S. government policy, was a key factor in forcing the Plains tribes onto reservations.',\r\n                    question:\r\n                      'What was the primary consequence of the destruction of the bison herds for the Plains Indians?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'It had little impact, as they primarily relied on farming.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'It forced them to migrate to Canada.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'It destroyed their traditional way of life and forced them onto reservations.',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'It led to a shift from hunting to fishing.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 5,\r\n                    type: 'knowledge',\r\n                    question:\r\n                      \"The concept of 'popular sovereignty' was a controversial idea during the westward expansion. What did it propose?\",\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'That the President should have the power to decide the status of slavery in new territories.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'That the settlers in a new territory should vote to decide whether to allow slavery.',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'That Congress should ban slavery in all new territories.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'That Native American tribes should have the final say on the status of slavery.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                id: 'ss_us_hist_westward_expansion_quiz3',\r\n                title: 'Westward Expansion: Quiz 3',\r\n                questions: [\r\n                  {\r\n                    questionNumber: 1,\r\n                    type: 'knowledge',\r\n                    question:\r\n                      'Which invention, perfected in the 1870s, played a crucial role in ending the era of the open range and the long cattle drives by allowing ranchers to fence off their lands?',\r\n                    answerOptions: [\r\n                      { text: 'The steel plow', isCorrect: false },\r\n                      { text: 'The windmill', isCorrect: false },\r\n                      { text: 'Barbed wire', isCorrect: true },\r\n                      { text: 'The railroad', isCorrect: false },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 2,\r\n                    type: 'text',\r\n                    passage:\r\n                      'The Dawes Act of 1887 was a U.S. law that aimed to assimilate Native Americans into mainstream American society. It broke up reservation lands, which were held communally by tribes, and distributed them to individual Native American families. The policy was a failure, leading to the loss of millions of acres of tribal land and a breakdown of traditional Native American cultures.',\r\n                    question:\r\n                      'What was the primary goal of the Dawes Act of 1887?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'To strengthen tribal governments and preserve Native American culture.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'To encourage Native Americans to assimilate by turning them into individual farmers.',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'To create new, larger reservations for Native American tribes.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'To grant immediate U.S. citizenship to all Native Americans.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 3,\r\n                    type: 'knowledge',\r\n                    question:\r\n                      'The Wounded Knee Massacre in 1890 is considered the final major conflict of the American Indian Wars. What happened at Wounded Knee?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'A successful peace treaty was signed between the U.S. government and the Lakota.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'A battle in which Native American warriors defeated a U.S. Army regiment.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'The U.S. Army killed approximately 300 Lakota men, women, and children.',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'A Ghost Dance ceremony that led to a spiritual revival.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 4,\r\n                    type: 'text',\r\n                    passage:\r\n                      \"Frederick Jackson Turner's 'Frontier Thesis,' presented in 1893, was an influential idea in American history. Turner argued that the existence of a frontiera line between 'civilization' and 'wilderness'had been a defining characteristic of American culture, fostering individualism, democracy, and innovation. He declared that the frontier had closed, raising questions about the future of American identity.\",\r\n                    question:\r\n                      \"According to Frederick Jackson Turner's 'Frontier Thesis,' what role did the frontier play in American history?\",\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'It was a source of conflict that weakened the nation.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'It was a defining force that shaped American character and institutions.',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'It was a barrier to economic growth and progress.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'It had little to no impact on American culture.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 5,\r\n                    type: 'knowledge',\r\n                    question:\r\n                      'The Gadsden Purchase in 1854 was a land deal between the United States and Mexico. What was the primary purpose of this purchase?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'To acquire land for a southern transcontinental railroad route.',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'To gain access to new gold mines.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'To create a buffer zone between the two countries.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'To settle a border dispute over the state of Texas.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                id: 'ss_us_hist_new_nation_quiz1',\r\n                title: 'A New Nation: Quiz 1',\r\n                questions: [\r\n                  {\r\n                    questionNumber: 1,\r\n                    type: 'text',\r\n                    passage:\r\n                      \"Following the Revolutionary War, the newly independent states adopted the Articles of Confederation as their first national government. The Articles created a weak central government, reflecting the states' fear of a strong, centralized authority like the British monarchy. Under the Articles, the national Congress had no power to tax, raise a national army, or regulate interstate commerce. These weaknesses quickly became apparent, leading to events like Shays' Rebellion.\",\r\n                    question:\r\n                      'The primary weakness of the government formed by the Articles of Confederation was that it...',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'gave too much power to the executive branch.',\r\n                        rationale:\r\n                          'There was no strong executive branch under the Articles; power was concentrated in a weak Congress.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'lacked the authority to effectively govern and manage the nation.',\r\n                        rationale:\r\n                          \"Correct. The inability to tax, raise an army, or regulate trade meant the central government was too weak to manage the nation's finances, defense, or economy, leading to instability.\",\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'favored the larger states over the smaller states.',\r\n                        rationale:\r\n                          \"This was a key debate during the Constitutional Convention. Under the Articles, each state had one vote, which was a point of contention but not the primary weakness of the government's overall power.\",\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'created a judicial system that frequently overruled state laws.',\r\n                        rationale:\r\n                          'There was no national judicial system under the Articles of Confederation.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 2,\r\n                    type: 'knowledge',\r\n                    question:\r\n                      'What event highlighted the weaknesses of the Articles of Confederation and convinced many national leaders that a stronger central government was needed?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'The Boston Tea Party',\r\n                        rationale:\r\n                          'The Boston Tea Party occurred before the Articles were written and was a protest against British rule.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: \"Shays' Rebellion\",\r\n                        rationale:\r\n                          \"Correct. Shays' Rebellion, an uprising of debt-ridden farmers in Massachusetts, could not be effectively put down by the weak national government, alarming leaders and demonstrating the need for a stronger federal authority.\",\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'The Whiskey Rebellion',\r\n                        rationale:\r\n                          'The Whiskey Rebellion occurred after the Constitution was ratified and was suppressed by the new, stronger federal government.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'The Battle of Yorktown',\r\n                        rationale:\r\n                          'This was the final major battle of the Revolution, which occurred before the full weaknesses of the Articles became apparent.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 3,\r\n                    type: 'text',\r\n                    passage:\r\n                      'The Constitutional Convention of 1787 was called to address the problems of the Articles of Confederation. A major point of contention was representation in Congress. The Virginia Plan, favored by large states, proposed representation based on population. The New Jersey Plan, favored by small states, proposed equal representation for all states. The dispute was resolved by the Great Compromise (or Connecticut Compromise), which created a bicameral (two-house) legislature.',\r\n                    question:\r\n                      'How did the Great Compromise resolve the debate over representation?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'It created a single legislative house with representation based on population.',\r\n                        rationale:\r\n                          'This describes the Virginia Plan, which was not adopted in its entirety.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'It established a system where all states had equal representation in a single house.',\r\n                        rationale:\r\n                          'This describes the New Jersey Plan, which was also not adopted in its entirety.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'It created a two-house Congress, with one house based on population (House of Representatives) and the other with equal representation (Senate).',\r\n                        rationale:\r\n                          'Correct. This accurately describes the bicameral solution of the Great Compromise, which balanced the interests of both large and small states.',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'It allowed states to choose whether their representation would be equal or based on population.',\r\n                        rationale:\r\n                          'The compromise established a uniform system for all states, not a choice.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 4,\r\n                    type: 'knowledge',\r\n                    question:\r\n                      'The Three-Fifths Compromise, reached during the Constitutional Convention, concerned which of the following issues?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'The number of votes required to pass a law.',\r\n                        rationale:\r\n                          'This was determined by the rules of Congress, not the Three-Fifths Compromise.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'How to count enslaved people for the purposes of representation and taxation.',\r\n                        rationale:\r\n                          \"Correct. The compromise determined that three-fifths of the enslaved population would be counted when determining a state's population for representation in the House and for levying federal taxes.\",\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'The process for admitting new states to the Union.',\r\n                        rationale:\r\n                          'This process was outlined in the Constitution but was not part of the Three-Fifths Compromise.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'The balance of power between the federal government and the states.',\r\n                        rationale:\r\n                          'This was a broader theme of the convention, addressed by federalism, not this specific compromise.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 5,\r\n                    type: 'text',\r\n                    passage:\r\n                      'To prevent any one branch of the new government from becoming too powerful, the framers of the Constitution created a system of checks and balances. For example, the President (Executive Branch) can veto laws passed by Congress (Legislative Branch). Congress can impeach and remove the President. The Supreme Court (Judicial Branch) can declare laws unconstitutional, a power known as judicial review.',\r\n                    question:\r\n                      'Which of the following is an example of the system of checks and balances?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'The President issuing an executive order.',\r\n                        rationale:\r\n                          'This is a power of the executive branch, but not in itself an example of checking another branch.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'The Senate confirming a presidential appointment to the Supreme Court.',\r\n                        rationale:\r\n                          'Correct. This is an example of the Legislative Branch (Senate) checking the power of the Executive Branch (President) to appoint judges.',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'A state government passing a law about local schools.',\r\n                        rationale:\r\n                          'This is an example of federalism, the division of power between state and national governments, not checks and balances between federal branches.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'A citizen voting in a presidential election.',\r\n                        rationale:\r\n                          'This is an example of popular sovereignty, not the system of checks and balances between the branches of government.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                id: 'ss_us_hist_new_nation_quiz2',\r\n                title: 'A New Nation: Quiz 2',\r\n                questions: [\r\n                  {\r\n                    questionNumber: 1,\r\n                    type: 'text',\r\n                    passage:\r\n                      'The U.S. Constitution was amended shortly after ratification to protect individual liberties. Examples include: Amendment I (freedoms of speech, press, religion), Amendment II (right to bear arms), Amendment IV (protection from unreasonable searches), and Amendment X (powers reserved to the states or people).',\r\n                    question:\r\n                      'The first ten amendments to the U.S. Constitution, which guarantee specific individual rights and liberties, are collectively known as:',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'The Articles of Confederation',\r\n                        rationale:\r\n                          'The Articles were the first form of national government, replaced by the Constitution.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'The Federalist Papers',\r\n                        rationale:\r\n                          'The Federalist Papers were essays written to persuade people to ratify the Constitution.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'The Declaration of Independence',\r\n                        rationale:\r\n                          'This document declared separation from Britain but is not part of the Constitution.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'The Bill of Rights',\r\n                        rationale:\r\n                          'Correct. The first ten amendments are known as the Bill of Rights and were added to protect individual freedoms from government intrusion.',\r\n                        isCorrect: true,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 2,\r\n                    type: 'text',\r\n                    passage:\r\n                      'During the debate over the ratification of the Constitution, two opposing groups emerged. The Federalists, led by figures like Alexander Hamilton and James Madison, supported the Constitution and a strong national government. The Anti-Federalists, led by figures like Patrick Henry and George Mason, opposed the Constitution, fearing it would create a government that was too powerful and would threaten individual liberties. The addition of the Bill of Rights was a key compromise to secure ratification.',\r\n                    question:\r\n                      'Why did the Anti-Federalists push for the inclusion of a Bill of Rights in the Constitution?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'To strengthen the power of the national government.',\r\n                        rationale:\r\n                          \"They wanted to limit the national government's power, not strengthen it.\",\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'To protect individual liberties from potential government overreach.',\r\n                        rationale:\r\n                          \"Correct. The Anti-Federalists' primary concern was that the new national government would be too powerful and would infringe on the rights of the people, so they demanded a written guarantee of those rights.\",\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'To ensure the federal government had the power to tax.',\r\n                        rationale:\r\n                          'The power to tax was a key feature of the Constitution that the Anti-Federalists were generally wary of.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'To create a national bank.',\r\n                        rationale:\r\n                          'The national bank was a later proposal by Hamilton and was not a concern related to the Bill of Rights.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 3,\r\n                    type: 'image',\r\n                    imageUrl: '/images/Social Studies/Louisiana_Purchase.png',\r\n                    question:\r\n                      'This map illustrates the impact of the Louisiana Purchase in 1803. What was the most significant effect of this event?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'It led to an immediate war with France.',\r\n                        rationale:\r\n                          'The purchase was a peaceful transaction with France, not a cause for war.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'It significantly reduced the size of the United States.',\r\n                        rationale:\r\n                          'The map clearly shows a massive increase in U.S. territory.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'It nearly doubled the size of the United States and gave it control of the Mississippi River.',\r\n                        rationale:\r\n                          \"Correct. The Louisiana Purchase was a massive land acquisition that dramatically increased the nation's size and secured control over the vital Mississippi River trade route.\",\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'It ended the practice of slavery in all U.S. territories.',\r\n                        rationale:\r\n                          'The purchase intensified the debate over the expansion of slavery into new territories; it did not end it.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 4,\r\n                    type: 'text',\r\n                    passage:\r\n                      'In 1803, President Thomas Jefferson arranged the Louisiana Purchase, doubling the size of the United States. He soon sent the Corps of Discovery to map the new lands, establish relations with Native nations, and seek a practical route to the Pacific.',\r\n                    question:\r\n                      'Who were the two explorers President Jefferson commissioned to lead this expedition?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'Alexander Hamilton and Aaron Burr',\r\n                        rationale:\r\n                          'These were political rivals, not explorers of the West.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'John Adams and John Quincy Adams',\r\n                        rationale:\r\n                          'These were the second and sixth U.S. Presidents.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'Meriwether Lewis and William Clark',\r\n                        rationale:\r\n                          'Correct. The Lewis and Clark Expedition (1804-1806) was tasked with exploring and mapping the Louisiana Purchase.',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'Daniel Boone and Davy Crockett',\r\n                        rationale:\r\n                          'These were famous frontiersmen but were not the leaders of this official government expedition.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 5,\r\n                    type: 'text',\r\n                    passage:\r\n                      'The expedition led by Lewis and Clark, also known as the Corps of Discovery, had multiple objectives. They were to map the new territory, establish friendly relations with Native American tribes, document new plant and animal species, and find a practical overland route to the Pacific Ocean. Their journey, which took over two years, provided invaluable information about the American West.',\r\n                    question:\r\n                      'Which of the following was NOT a primary goal of the Lewis and Clark expedition?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'To establish large American settlements in the West.',\r\n                        rationale:\r\n                          'Correct. The primary goal was exploration, mapping, and scientific discovery, not immediate large-scale settlement.',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'To map the territory of the Louisiana Purchase.',\r\n                        rationale:\r\n                          'The passage explicitly states that mapping the new territory was one of their objectives.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'To document new plants and animals.',\r\n                        rationale:\r\n                          'The passage lists documenting new species as one of their goals.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'To establish trade relations with Native American tribes.',\r\n                        rationale:\r\n                          'The passage mentions establishing friendly relations with Native American tribes as a key objective.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                id: 'ss_us_hist_new_nation_quiz3',\r\n                title: 'A New Nation: Quiz 3',\r\n                questions: [\r\n                  {\r\n                    questionNumber: 1,\r\n                    type: 'knowledge',\r\n                    question:\r\n                      'The principle of dividing governmental power between a central, national government and state governments is known as:',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'Separation of Powers',\r\n                        rationale:\r\n                          'Separation of powers refers to the division of power among the legislative, executive, and judicial branches of the federal government.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'Checks and Balances',\r\n                        rationale:\r\n                          'Checks and balances is the system that allows each branch to limit the power of the others.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'Federalism',\r\n                        rationale:\r\n                          'Correct. Federalism is the constitutional principle that divides power and authority between the national government and the various state governments.',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'Popular Sovereignty',\r\n                        rationale:\r\n                          'Popular sovereignty is the principle that the authority of the government is created and sustained by the consent of its people.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 2,\r\n                    type: 'knowledge',\r\n                    question:\r\n                      'What important precedent was established by the Supreme Court case Marbury v. Madison (1803)?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'The right to a speedy trial.',\r\n                        rationale:\r\n                          'This right is guaranteed by the Sixth Amendment.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'The principle of judicial review.',\r\n                        rationale:\r\n                          \"Correct. This landmark case established the Supreme Court's power to declare an act of Congress unconstitutional, which is the principle of judicial review.\",\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'The supremacy of federal law over state law.',\r\n                        rationale:\r\n                          'This principle was established in other cases, such as McCulloch v. Maryland, but Marbury v. Madison was about judicial review.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'The right to freedom of speech.',\r\n                        rationale:\r\n                          'This right is guaranteed by the First Amendment.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 3,\r\n                    type: 'text',\r\n                    passage:\r\n                      \"President George Washington's Farewell Address, published in 1796, offered his advice to the nation. He warned against the dangers of political factions (or parties), arguing they would lead to division and distract from the public good. He also advised the nation to avoid 'entangling alliances' with foreign powers and to maintain a policy of neutrality in foreign affairs.\",\r\n                    question:\r\n                      'What was one of the key warnings President Washington gave in his Farewell Address?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'He warned against the dangers of political parties.',\r\n                        rationale:\r\n                          \"Correct. The passage explicitly states that Washington 'warned against the dangers of political factions (or parties).'\",\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'He warned that the Constitution was too weak.',\r\n                        rationale:\r\n                          'Washington supported the Constitution and the strong central government it created.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'He advised the nation to seek strong military alliances with European powers.',\r\n                        rationale:\r\n                          \"He advised the opposite, warning against 'entangling alliances.'\",\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'He warned that the presidency should be a lifetime appointment.',\r\n                        rationale:\r\n                          'By stepping down after two terms, he set a precedent against a lifetime presidency.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 4,\r\n                    type: 'knowledge',\r\n                    question:\r\n                      \"The first Secretary of the Treasury, Alexander Hamilton, proposed a financial plan to address the nation's debt. Which of the following was a key part of his plan?\",\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'The immediate abolition of all federal taxes.',\r\n                        rationale:\r\n                          \"Hamilton's plan involved creating new taxes, such as a tax on whiskey, to raise revenue.\",\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'The creation of a national bank.',\r\n                        rationale:\r\n                          \"Correct. A central part of Hamilton's plan was the establishment of the Bank of the United States to stabilize the nation's finances and manage its debt.\",\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'Giving all federal land to individual states.',\r\n                        rationale:\r\n                          \"Hamilton's plan strengthened federal power, it did not give federal assets away to the states.\",\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'Refusing to pay any debts from the Revolutionary War.',\r\n                        rationale:\r\n                          \"Hamilton's plan called for the federal government to assume and pay off the war debts to establish good credit.\",\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 5,\r\n                    type: 'text',\r\n                    passage:\r\n                      'The Northwest Ordinance of 1787 was one of the most significant achievements of the Congress under the Articles of Confederation. It established a process for creating new states in the Northwest Territory (the region north of the Ohio River and west of Pennsylvania). It guaranteed religious freedom in the territory, prohibited slavery, and set aside land for public schools.',\r\n                    question:\r\n                      'What was a major provision of the Northwest Ordinance of 1787?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'It allowed for the expansion of slavery into the new territories.',\r\n                        rationale:\r\n                          \"The passage explicitly states that the ordinance 'prohibited slavery' in the Northwest Territory.\",\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'It established a clear procedure for territories to become states.',\r\n                        rationale:\r\n                          \"Correct. The passage states that the ordinance 'established a process for creating new states.'\",\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'It sold the entire territory to France.',\r\n                        rationale:\r\n                          'The ordinance organized the territory for American settlement, it did not sell it.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'It required all settlers to belong to a single, established church.',\r\n                        rationale:\r\n                          \"The passage states it 'guaranteed religious freedom,' not religious uniformity.\",\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                ],\r\n              },\r\n            ],\r\n          },\r\n          {\r\n            id: 'ss_us_hist_divided_nation',\r\n            title: 'A Nation Divided (1824-1877)',\r\n            description:\r\n              'Sectionalism, Manifest Destiny, The Civil War, Reconstruction Amendments (13th, 14th, 15th).',\r\n            questions: [\r\n              {\r\n                questionNumber: 1,\r\n                type: 'text',\r\n                passage:\r\n                  \"Sectionalism, or loyalty to one's own region or section of the country rather than to the country as a whole, intensified in the decades before the Civil War. The North developed an industrial economy based on manufacturing, while the South's economy was agrarian, relying on enslaved labor to produce cash crops like cotton. These economic differences led to conflicting views on issues like tariffs and states' rights.\",\r\n                question:\r\n                  'What was the primary economic difference that fueled sectionalism between the North and South?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'The North favored agriculture, while the South focused on manufacturing.',\r\n                    rationale:\r\n                      'This is the opposite of the historical reality described in the passage.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: \"The North's industrial economy and the South's agrarian, slave-based economy.\",\r\n                    rationale:\r\n                      \"Correct. The passage identifies the North's industrial base versus the South's agricultural and slave-labor economy as the fundamental difference.\",\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'Both regions were primarily industrial, but competed for the same markets.',\r\n                    rationale:\r\n                      \"The South's economy was not primarily industrial.\",\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'The North focused on trade with Europe, while the South focused on trade with Asia.',\r\n                    rationale:\r\n                      'Both regions traded with Europe, but their economic systems were the source of conflict.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 2,\r\n                type: 'image',\r\n                imageUrl:\r\n                  'Images/Social Studies/territorial-gains-by-the-us.jpg',\r\n                question:\r\n                  'This map shows the territorial expansion of the United States. The belief that it was the divine destiny of the U.S. to expand across the continent, as depicted here, was known as:',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'The Monroe Doctrine',\r\n                    rationale:\r\n                      'The Monroe Doctrine was a foreign policy statement warning European nations against colonizing the Americas.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Popular Sovereignty',\r\n                    rationale:\r\n                      'Popular sovereignty was the idea that settlers in a territory could decide for themselves whether to allow slavery.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Manifest Destiny',\r\n                    rationale:\r\n                      'Correct. Coined in the 1840s, Manifest Destiny was the widely held belief that American settlers were destined to expand across North America, as shown in the map.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'The American System',\r\n                    rationale:\r\n                      'The American System was an economic plan to promote industry through tariffs and internal improvements.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 3,\r\n                type: 'text',\r\n                passage:\r\n                  \"The Missouri Compromise of 1820 was an attempt to resolve the issue of slavery's expansion. It admitted Missouri to the Union as a slave state and Maine as a free state, maintaining the balance of power between free and slave states in the Senate. It also prohibited slavery in the rest of the Louisiana Purchase territory north of the 3630parallel.\",\r\n                question: 'What was the main goal of the Missouri Compromise?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'To abolish slavery in all U.S. territories.',\r\n                    rationale:\r\n                      'The compromise allowed slavery in Missouri and did not abolish it elsewhere.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'To maintain the balance of power between free and slave states.',\r\n                    rationale:\r\n                      'Correct. By admitting one slave state (Missouri) and one free state (Maine), the compromise preserved the equal balance in the Senate, temporarily defusing the sectional crisis.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'To give all western territories the right to popular sovereignty.',\r\n                    rationale:\r\n                      'The compromise established a specific line (3630) to determine where slavery was allowed, rather than letting settlers decide everywhere.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'To purchase more territory from France.',\r\n                    rationale:\r\n                      'The compromise dealt with territory already acquired through the Louisiana Purchase.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 4,\r\n                type: 'knowledge',\r\n                question:\r\n                  'Which of the following events was the immediate cause of the secession of the first seven Southern states in 1860-1861?',\r\n                answerOptions: [\r\n                  {\r\n                    text: \"The Supreme Court's Dred Scott decision.\",\r\n                    rationale:\r\n                      'The Dred Scott decision (1857) angered the North and heightened tensions, but it was not the immediate trigger for secession.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: \"John Brown's raid on Harpers Ferry.\",\r\n                    rationale:\r\n                      \"John Brown's raid (1859) terrified the South, but it was not the direct cause of secession.\",\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'The election of Abraham Lincoln as President.',\r\n                    rationale:\r\n                      'Correct. The election of Lincoln, who ran on a platform of preventing the expansion of slavery, convinced Southern leaders that their way of life was under threat, leading them to secede before he even took office.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'The passage of the Kansas-Nebraska Act.',\r\n                    rationale:\r\n                      'The Kansas-Nebraska Act (1854) increased tensions by allowing popular sovereignty, but it did not cause immediate secession.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 5,\r\n                type: 'text',\r\n                passage:\r\n                  \"The Emancipation Proclamation, issued by President Abraham Lincoln in 1863, declared that all enslaved people in the Confederate states 'shall be then, thenceforward, and forever free.' However, it did not apply to the slave-holding border states that had remained in the Union. While its immediate practical effect was limited, it was a crucial turning point, reframing the purpose of the Civil War as a fight against slavery.\",\r\n                question:\r\n                  'What was a significant limitation of the Emancipation Proclamation when it was issued?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'It was immediately declared unconstitutional by the Supreme Court.',\r\n                    rationale:\r\n                      'The Supreme Court did not rule on its constitutionality at the time.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'It freed all enslaved people throughout the entire United States.',\r\n                    rationale:\r\n                      'This is incorrect. The proclamation explicitly did not apply to the loyal border states.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'It only applied to enslaved people in Confederate-held territory, where the Union had no power to enforce it.',\r\n                    rationale:\r\n                      'Correct. The proclamation freed slaves only in the states that had seceded, where the federal government could not enforce the law until the Union army conquered the territory.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'It was rejected by the abolitionist movement as being too radical.',\r\n                    rationale:\r\n                      'Abolitionists generally supported it, though some wished it had gone further.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 6,\r\n                type: 'knowledge',\r\n                question:\r\n                  'Which battle is considered the major turning point of the Civil War in the Eastern Theater, after which the Confederacy was largely on the defensive?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'The Battle of Antietam',\r\n                    rationale:\r\n                      'Antietam was a crucial Union victory that led to the Emancipation Proclamation, but Gettysburg is considered the major turning point.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'The Battle of Gettysburg',\r\n                    rationale:\r\n                      \"Correct. The Union victory at Gettysburg in July 1863, combined with the victory at Vicksburg, marked the turning point of the war. Lee's invasion of the North was repelled, and the Confederate army suffered losses from which it never fully recovered.\",\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'The First Battle of Bull Run',\r\n                    rationale:\r\n                      'This was the first major battle of the war and a Confederate victory, showing the war would be long and bloody.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'The Battle of Vicksburg',\r\n                    rationale:\r\n                      'Vicksburg was the turning point in the Western Theater, as it gave the Union control of the Mississippi River.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 7,\r\n                type: 'text',\r\n                passage:\r\n                  'The period after the Civil War, from 1865 to 1877, is known as Reconstruction. The primary goals were to rebuild the South, readmit the former Confederate states to the Union, and integrate the newly freed African Americans into American society. This era saw significant political conflict over how to achieve these goals.',\r\n                question:\r\n                  'Which of the following was a primary goal of the Reconstruction era?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'To punish all former Confederate soldiers.',\r\n                    rationale:\r\n                      \"While some 'Radical Republicans' favored punishment for leaders, the primary goals were focused on reunification and integration.\",\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'To establish a separate nation for African Americans in the South.',\r\n                    rationale:\r\n                      'The goal was to integrate African Americans into American society, not to create a separate nation.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'To rebuild the South and integrate newly freed slaves into society.',\r\n                    rationale:\r\n                      'Correct. The passage identifies rebuilding the South and integrating the freedmen as primary goals of Reconstruction.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'To expand U.S. territory by annexing parts of Mexico.',\r\n                    rationale:\r\n                      'Territorial expansion was not a goal of the Reconstruction era.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 8,\r\n                type: 'knowledge',\r\n                question:\r\n                  'Which constitutional amendment formally abolished slavery throughout the United States?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'The 13th Amendment',\r\n                    rationale:\r\n                      'Correct. Ratified in 1865, the 13th Amendment abolished slavery and involuntary servitude, except as punishment for a crime.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'The 14th Amendment',\r\n                    rationale:\r\n                      'The 14th Amendment granted citizenship and equal protection under the law.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'The 15th Amendment',\r\n                    rationale:\r\n                      'The 15th Amendment granted African American men the right to vote.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'The 12th Amendment',\r\n                    rationale:\r\n                      'The 12th Amendment revised presidential election procedures.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 9,\r\n                type: 'text',\r\n                passage:\r\n                  'The 14th Amendment, ratified in 1868, is one of the most consequential amendments to the Constitution. Its first section includes the Citizenship Clause, which grants citizenship to all persons born or naturalized in the U.S., and the Equal Protection Clause, which prohibits states from denying any person within their jurisdiction the equal protection of the laws.',\r\n                question:\r\n                  \"The 'Equal Protection Clause' of the 14th Amendment was intended to...\",\r\n                answerOptions: [\r\n                  {\r\n                    text: 'guarantee that all citizens would have the same income.',\r\n                    rationale:\r\n                      'The clause guarantees equal treatment under the law, not equal economic outcomes.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'ensure that states could not pass discriminatory laws against certain groups of citizens.',\r\n                    rationale:\r\n                      'Correct. The clause was specifically designed to prevent Southern states from passing discriminatory laws, known as Black Codes, against newly freed African Americans.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'give the federal government the power to abolish all state laws.',\r\n                    rationale:\r\n                      'The clause limits state power but does not abolish state laws wholesale.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'guarantee every citizen the right to vote.',\r\n                    rationale:\r\n                      'The right to vote was addressed separately by the 15th Amendment.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 10,\r\n                type: 'knowledge',\r\n                question:\r\n                  'The 15th Amendment to the Constitution, ratified in 1870, stated that the right to vote could not be denied on the basis of...',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'gender.',\r\n                    rationale:\r\n                      'The 15th Amendment did not grant women the right to vote; that came later with the 19th Amendment.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'property ownership.',\r\n                    rationale:\r\n                      'While property qualifications for voting were being eliminated, this amendment did not address that issue.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'race, color, or previous condition of servitude.',\r\n                    rationale:\r\n                      'Correct. The 15th Amendment was specifically designed to grant African American men the right to vote by prohibiting racial discrimination in voting.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'age.',\r\n                    rationale:\r\n                      'The amendment did not set a national voting age.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 11,\r\n                type: 'text',\r\n                passage:\r\n                  'Despite the passage of the Reconstruction Amendments, Southern states implemented various measures to disenfranchise African American voters. These included poll taxes (requiring a fee to vote), literacy tests (requiring voters to read and interpret complex texts), and grandfather clauses (which allowed a man to vote only if his ancestor had been eligible to vote before 1867).',\r\n                question:\r\n                  \"How did a 'grandfather clause' work to disenfranchise African Americans?\",\r\n                answerOptions: [\r\n                  {\r\n                    text: 'It required voters to prove they owned property, which few African Americans did.',\r\n                    rationale:\r\n                      'This describes a property qualification, not a grandfather clause.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'It exempted white voters from literacy tests and poll taxes while still subjecting Black voters to them.',\r\n                    rationale:\r\n                      'Correct. Because African Americans could not vote before 1867, these clauses effectively exempted illiterate or poor white voters from the tests and taxes that were used to block Black voters.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'It required voters to be a certain age, which most former slaves were not.',\r\n                    rationale:\r\n                      'This describes an age restriction, not a grandfather clause.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'It required voters to pass a test on the Constitution.',\r\n                    rationale:\r\n                      'This describes a literacy test, which grandfather clauses were designed to help white voters bypass.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 12,\r\n                type: 'knowledge',\r\n                question:\r\n                  'What was the system of agricultural labor that emerged in the South after the Civil War, in which a landowner allowed a tenant to use the land in return for a share of the crops produced?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'The plantation system',\r\n                    rationale:\r\n                      'The plantation system, based on slavery, was abolished by the war.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Sharecropping',\r\n                    rationale:\r\n                      'Correct. Sharecropping became widespread in the South and often trapped poor farmers, both Black and white, in a cycle of debt.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'Indentured servitude',\r\n                    rationale:\r\n                      'Indentured servitude was a system of temporary labor common in the colonial era.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'The factory system',\r\n                    rationale:\r\n                      'The factory system was characteristic of the industrial North, not Southern agriculture.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 13,\r\n                type: 'text',\r\n                passage:\r\n                  \"The Compromise of 1877 is widely considered the end of the Reconstruction era. In a disputed presidential election, Republican Rutherford B. Hayes was awarded the presidency over Democrat Samuel Tilden. In exchange, the Republicans agreed to withdraw the last federal troops from the South. This withdrawal removed the protection for African Americans' civil rights and allowed the white Democratic 'Redeemers' to regain control of Southern state governments.\",\r\n                question:\r\n                  'What was the most significant result of the Compromise of 1877?',\r\n                answerOptions: [\r\n                  {\r\n                    text: \"It strengthened the federal government's protection of civil rights in the South.\",\r\n                    rationale:\r\n                      'It did the opposite; the withdrawal of federal troops ended this protection.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: \"It marked the end of the Reconstruction era and the federal government's active role in Southern society.\",\r\n                    rationale:\r\n                      'Correct. By removing federal troops, the compromise effectively ended the period of Reconstruction and federal enforcement of civil rights.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'It led to the impeachment of President Hayes.',\r\n                    rationale:\r\n                      'Hayes was not impeached; the compromise gave him the presidency.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'It resulted in a new wave of industrialization in the South.',\r\n                    rationale:\r\n                      \"While the 'New South' did see some industrialization, the immediate result of the compromise was political.\",\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 14,\r\n                type: 'knowledge',\r\n                question:\r\n                  \"General William T. Sherman's 'March to the Sea' during the Civil War was an example of what military strategy?\",\r\n                answerOptions: [\r\n                  {\r\n                    text: 'Guerilla warfare',\r\n                    rationale:\r\n                      'This was a conventional military campaign, not guerilla warfare.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Trench warfare',\r\n                    rationale:\r\n                      'Trench warfare was characteristic of World War I, not the Civil War.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Naval blockade',\r\n                    rationale:\r\n                      'This was a land-based campaign, though the Union did maintain a naval blockade of Southern ports.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Total war',\r\n                    rationale:\r\n                      \"Correct. Sherman's march was a campaign of total war, aimed at destroying not only military targets but also the economic resources and civilian morale that supported the Confederate war effort.\",\r\n                    isCorrect: true,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 15,\r\n                type: 'knowledge',\r\n                question:\r\n                  \"The Union's 'Anaconda Plan' was a key military strategy during the Civil War. What were the two main components of this plan?\",\r\n                answerOptions: [\r\n                  {\r\n                    text: 'A massive invasion of Richmond and a diplomatic mission to Great Britain.',\r\n                    rationale:\r\n                      'While capturing Richmond was a major goal, the Anaconda Plan was focused on economic pressure and division.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'A naval blockade of Southern ports and gaining control of the Mississippi River.',\r\n                    rationale:\r\n                      \"Correct. The plan aimed to 'squeeze' the Confederacy by cutting off its trade via a blockade and splitting it in two by controlling the Mississippi.\",\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'Encouraging slave rebellions and assassinating Confederate leaders.',\r\n                    rationale:\r\n                      \"These were not official components of the Anaconda Plan's military strategy.\",\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'A defensive posture around Washington D.C. and trench warfare in Virginia.',\r\n                    rationale:\r\n                      'The Anaconda Plan was a proactive, offensive strategy, not a defensive one.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n            ],\r\n          },\r\n          {\r\n            id: 'ss_us_hist_industrial_america',\r\n            title: 'Industrial America (1877-1914)',\r\n            description:\r\n              'Industrialization, Immigration, Urbanization, The Progressive Era.',\r\n            quizzes: [\r\n              {\r\n                id: 'ss_us_hist_industrial_america_quiz1',\r\n                title: 'Industrial America: Quiz 1',\r\n                questions: [\r\n                  {\r\n                    questionNumber: 1,\r\n                    type: 'text',\r\n                    passage:\r\n                      'The late 19th century was a period of rapid industrialization in the United States. Key to this was the development of new technologies. The Bessemer process, for example, made the production of steel cheap and efficient. This led to a boom in railroad construction, the building of skyscrapers, and the growth of heavy industry. Innovations like the telephone, invented by Alexander Graham Bell, and the electric light bulb, perfected by Thomas Edison, revolutionized communication and daily life.',\r\n                    question:\r\n                      'According to the passage, how did the Bessemer process contribute to industrialization?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'It improved communication between cities.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'By making steel production more affordable, it enabled the growth of railroads and construction.',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'It created a new source of electrical power for factories.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'It led to a decrease in the number of factories.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 2,\r\n                    type: 'image',\r\n                    imageUrl:\r\n                      'Images/Social Studies/Protectors-of-Our-Industries-Political-Cartoon-e1608514567301.jpg',\r\n                    question:\r\n                      \"This political cartoon, titled 'The Protectors of Our Industries,' satirizes the powerful industrialists of the Gilded Age. What term was often used to criticize business leaders like the ones depicted, who used ruthless tactics to amass great wealth?\",\r\n                    answerOptions: [\r\n                      { text: 'Muckrakers', isCorrect: false },\r\n                      { text: 'Progressives', isCorrect: false },\r\n                      { text: 'Robber Barons', isCorrect: true },\r\n                      { text: 'Philanthropists', isCorrect: false },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 3,\r\n                    type: 'text',\r\n                    passage:\r\n                      \"During the late 19th century, a new wave of immigrants arrived in the United States, primarily from Southern and Eastern Europe. These 'new immigrants' came from countries like Italy, Poland, and Russia. They were often culturally different from earlier immigrants, who had mostly come from Northern and Western Europe. Many 'new immigrants' were Catholic or Jewish, spoke little English, and settled in crowded ethnic neighborhoods in large cities.\",\r\n                    question:\r\n                      \"What was a key difference between the 'new immigrants' of the late 19th century and earlier immigrants?\",\r\n                    answerOptions: [\r\n                      {\r\n                        text: \"Earlier immigrants primarily settled in cities, while 'new immigrants' moved to farms.\",\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: \"'New immigrants' were primarily from Southern and Eastern Europe, unlike earlier immigrants from Northern and Western Europe.\",\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: \"'New immigrants' were fluent in English, while earlier immigrants were not.\",\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: \"'New immigrants' were almost all Protestant, like earlier immigrant groups.\",\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 4,\r\n                    type: 'image',\r\n                    imageUrl: '/images/Social Studies/licensed-image (13).jpg',\r\n                    question:\r\n                      'This photograph shows immigrants arriving at Ellis Island in the early 20th century. The process these individuals are undergoing is most likely:',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'a welcoming ceremony with city officials.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'a medical and legal inspection to determine their eligibility for admission to the United States.',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'a recruitment event for the U.S. military.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'a class to learn how to speak English.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 5,\r\n                    type: 'image',\r\n                    imageUrl:\r\n                      'Images/Social Studies/Questions-are-based-on-the-following-graph.-7.png',\r\n                    question:\r\n                      'This graph shows a significant trend of population growth, similar to the urbanization seen in the U.S. What was a major social problem that arose from the rapid growth of cities in the late 19th and early 20th centuries?',\r\n                    answerOptions: [\r\n                      { text: 'A shortage of factory jobs.', isCorrect: false },\r\n                      {\r\n                        text: 'Poor living conditions and the spread of disease in tenements.',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'A lack of cultural diversity in cities.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'A decrease in the overall U.S. population.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                id: 'ss_us_hist_industrial_america_quiz2',\r\n                title: 'Industrial America: Quiz 2',\r\n                questions: [\r\n                  {\r\n                    questionNumber: 1,\r\n                    type: 'image',\r\n                    imageUrl: '/images/Social Studies/Bosses-of-the-Senate.jpg',\r\n                    question:\r\n                      \"This political cartoon, 'The Bosses of the Senate,' criticizes the immense power of corporate monopolies during the Gilded Age. How did political machines, which also held great power at the time, maintain their influence?\",\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'By winning the support of wealthy business owners through fair practices.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'By providing essential services and assistance to poor and immigrant communities in exchange for their votes.',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'By running honest and transparent city governments.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'By strictly enforcing laws against corruption and graft.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 2,\r\n                    type: 'text',\r\n                    passage:\r\n                      'The Progressive Era (roughly 1890-1920) was a period of widespread social activism and political reform. Progressives sought to address the problems caused by industrialization, urbanization, and political corruption. They believed that the government should take a more active role in regulating the economy and protecting the welfare of its citizens.',\r\n                    question:\r\n                      'What was a core belief of the Progressive movement?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'That government should be smaller and have less influence (laissez-faire).',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'That the government should actively intervene to address social and economic problems.',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'That political machines were the most efficient way to run city governments.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'That the United States should return to an agrarian economy.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 3,\r\n                    type: 'knowledge',\r\n                    question:\r\n                      'Journalists who exposed corruption in business and government during the Progressive Era were known by what name?',\r\n                    answerOptions: [\r\n                      { text: 'Yellow Journalists', isCorrect: false },\r\n                      { text: 'Muckrakers', isCorrect: true },\r\n                      { text: 'Federalists', isCorrect: false },\r\n                      { text: 'Abolitionists', isCorrect: false },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 4,\r\n                    type: 'text',\r\n                    passage:\r\n                      \"Upton Sinclair's 1906 novel, 'The Jungle,' was a shocking expos of the meatpacking industry in Chicago. The book detailed the unsanitary conditions, the exploitation of workers, and the contaminated meat that was sold to the public. The public outcry following the publication of 'The Jungle' led directly to the passage of the Meat Inspection Act and the Pure Food and Drug Act in 1906.\",\r\n                    question:\r\n                      \"What was the most direct consequence of the publication of Upton Sinclair's 'The Jungle'?\",\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'A major strike by meatpacking workers.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'The passage of federal legislation to protect consumers by regulating the food industry.',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'The shutdown of the entire Chicago meatpacking industry.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'A decline in the popularity of novels.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 5,\r\n                    type: 'knowledge',\r\n                    question:\r\n                      'During the Progressive Era, political reforms such as the initiative, referendum, and recall were designed to:',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'increase the power of political bosses and party leaders.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'make the government more responsive and accountable to the people.',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'strengthen the power of large corporations.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'limit the voting rights of immigrants.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                id: 'ss_us_hist_industrial_america_quiz3',\r\n                title: 'Industrial America: Quiz 3',\r\n                questions: [\r\n                  {\r\n                    questionNumber: 1,\r\n                    type: 'text',\r\n                    passage:\r\n                      \"President Theodore Roosevelt was known as a 'trust buster' for his efforts to use the Sherman Antitrust Act to break up large corporate monopolies that were harmful to the public interest. He believed that the government should distinguish between 'good trusts,' which were efficient and fair, and 'bad trusts,' which used their power to exploit consumers and stifle competition.\",\r\n                    question:\r\n                      \"What was President Theodore Roosevelt's approach to dealing with trusts (monopolies)?\",\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'He believed all trusts were beneficial and should be left unregulated.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'He sought to break up all large corporations, regardless of their practices.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'He used government power to regulate or break up trusts that he believed acted against the public interest.',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'He believed only state governments, not the federal government, had the power to regulate trusts.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 2,\r\n                    type: 'knowledge',\r\n                    question:\r\n                      \"The movement to protect America's natural resources, which gained national prominence under President Theodore Roosevelt, is known as:\",\r\n                    answerOptions: [\r\n                      { text: 'Urbanization', isCorrect: false },\r\n                      { text: 'Conservation', isCorrect: true },\r\n                      { text: 'Industrialization', isCorrect: false },\r\n                      { text: 'Populism', isCorrect: false },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 3,\r\n                    type: 'knowledge',\r\n                    question:\r\n                      \"What was the primary goal of the women's suffrage movement?\",\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'To secure better working conditions for women in factories.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'To gain women the right to vote.',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'To prohibit the sale of alcoholic beverages.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'To improve public education for girls.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 4,\r\n                    type: 'text',\r\n                    passage:\r\n                      \"The Plessy v. Ferguson Supreme Court case in 1896 was a major setback for civil rights. The Court ruled that racially segregated public facilities were legal, as long as the facilities for blacks and whites were 'separate but equal.' This doctrine of 'separate but equal' legalized segregation and stood as law until it was overturned decades later.\",\r\n                    question:\r\n                      \"What legal doctrine was established by the Supreme Court's ruling in Plessy v. Ferguson?\",\r\n                    answerOptions: [\r\n                      { text: 'Judicial Review', isCorrect: false },\r\n                      { text: 'Separate but equal', isCorrect: true },\r\n                      {\r\n                        text: 'Equal protection under the law',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'Innocent until proven guilty',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 5,\r\n                    type: 'knowledge',\r\n                    question:\r\n                      'Which constitutional amendment, ratified in 1920, granted women the right to vote?',\r\n                    answerOptions: [\r\n                      { text: 'The 17th Amendment', isCorrect: false },\r\n                      { text: 'The 18th Amendment', isCorrect: false },\r\n                      { text: 'The 19th Amendment', isCorrect: true },\r\n                      { text: 'The 21st Amendment', isCorrect: false },\r\n                    ],\r\n                  },\r\n                ],\r\n              },\r\n            ],\r\n          },\r\n          {\r\n            id: 'ss_us_hist_global_conflicts',\r\n            title: 'Global Conflicts (1914-1945)',\r\n            description: 'World War I, The Great Depression, World War II.',\r\n            quizzes: [\r\n              {\r\n                id: 'ss_us_hist_global_conflicts_quiz1',\r\n                title: 'Global Conflicts: Quiz 1',\r\n                questions: [\r\n                  {\r\n                    questionNumber: 1,\r\n                    type: 'text',\r\n                    passage:\r\n                      \"Initially, the United States adopted a policy of neutrality at the outbreak of World War I in 1914. However, several events shifted public opinion and led to U.S. entry. Germany's policy of unrestricted submarine warfare, which resulted in the sinking of ships with American passengers, most notably the Lusitania, caused outrage. The final catalyst was the Zimmermann Telegram, a secret message from Germany to Mexico proposing a military alliance against the U.S.\",\r\n                    question:\r\n                      'What was the immediate cause for the United States to declare war on Germany in World War I?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'The assassination of Archduke Franz Ferdinand.',\r\n                        rationale:\r\n                          'This event triggered the war in Europe but did not directly involve the U.S.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: \"The discovery of the Zimmermann Telegram and Germany's use of unrestricted submarine warfare.\",\r\n                        rationale:\r\n                          'Correct. These events, particularly the threat revealed in the telegram and the continued sinking of ships, were the final straws that led President Wilson to ask Congress for a declaration of war.',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'A direct invasion of U.S. territory by German forces.',\r\n                        rationale:\r\n                          'Germany never invaded the U.S. during World War I.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'The formation of the League of Nations.',\r\n                        rationale:\r\n                          'The League of Nations was proposed by President Wilson after the war ended.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 2,\r\n                    type: 'knowledge',\r\n                    question:\r\n                      'During World War I, the large-scale movement of African Americans from the rural South to Northern industrial cities in search of jobs and to escape segregation was known as:',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'The Trail of Tears',\r\n                        rationale:\r\n                          'The Trail of Tears was the forced removal of Native American tribes in the 1830s.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'Manifest Destiny',\r\n                        rationale:\r\n                          'Manifest Destiny was the 19th-century belief in westward expansion.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'The Great Migration',\r\n                        rationale:\r\n                          'Correct. This mass movement of millions of African Americans from the South to the North began during World War I and continued for several decades.',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'The Gold Rush',\r\n                        rationale:\r\n                          'The Gold Rush was a mid-19th century event centered on California.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 3,\r\n                    type: 'image',\r\n                    imageUrl: '/images/Social Studies/licensed-image (9).jpg',\r\n                    question:\r\n                      'This map shows the new borders of Europe established by the Treaty of Versailles after World War I. Why did the U.S. Senate refuse to ratify this treaty?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'They believed the treaty was too harsh on Germany.',\r\n                        rationale:\r\n                          'While some had this concern, the primary reason for rejection was opposition to the League of Nations.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'They were opposed to joining the League of Nations, fearing it would compromise U.S. sovereignty.',\r\n                        rationale:\r\n                          \"Correct. The treaty's provisions included joining the League of Nations, which was the main point of contention for the Senate.\",\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'President Wilson himself decided the treaty was flawed.',\r\n                        rationale:\r\n                          \"President Wilson was the treaty's greatest champion.\",\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'Great Britain and France refused to allow the U.S. to join.',\r\n                        rationale:\r\n                          'The other Allied powers wanted the U.S. to join.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                id: 'ss_us_hist_global_conflicts_quiz2',\r\n                title: 'Global Conflicts: Quiz 2',\r\n                questions: [\r\n                  {\r\n                    questionNumber: 1,\r\n                    type: 'knowledge',\r\n                    question:\r\n                      \"The 1920s in the United States, often called the 'Roaring Twenties,' was characterized by:\",\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'widespread economic hardship and high unemployment.',\r\n                        rationale:\r\n                          'This describes the 1930s (Great Depression), not the 1920s.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'increased consumer spending, cultural changes, and stock market speculation.',\r\n                        rationale:\r\n                          'Correct. The 1920s was a period of economic prosperity, social change (e.g., flappers, jazz), and widespread investment in the stock market, often with borrowed money.',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'a focus on agricultural growth and rural values.',\r\n                        rationale:\r\n                          'The 1920s saw a major shift towards urban, industrial culture.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'a strong movement towards isolationism and reduced international trade.',\r\n                        rationale:\r\n                          'While politically isolationist, the U.S. was heavily involved in international finance and trade.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 2,\r\n                    type: 'knowledge',\r\n                    question:\r\n                      \"What event on October 29, 1929, known as 'Black Tuesday,' is considered the primary trigger of the Great Depression?\",\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'The start of World War II',\r\n                        rationale: 'World War II began in 1939.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'The election of Franklin D. Roosevelt',\r\n                        rationale:\r\n                          'Roosevelt was elected in 1932, after the Depression had already begun.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'The Stock Market Crash',\r\n                        rationale:\r\n                          'Correct. The massive stock market crash in October 1929 wiped out billions of dollars in investments and shattered public confidence in the economy, triggering the Great Depression.',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'The passage of the Social Security Act',\r\n                        rationale:\r\n                          'The Social Security Act was part of the New Deal, a response to the Depression.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 3,\r\n                    type: 'image',\r\n                    imageUrl: '/images/Social Studies/licensed-image (14).jpg',\r\n                    question:\r\n                      \"This photograph from the 1930s shows a 'Hooverville.' What does this image represent?\",\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'Government-built housing projects for the poor.',\r\n                        rationale:\r\n                          'These were shantytowns built by the homeless themselves, not government projects.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'The widespread homelessness and poverty caused by the Great Depression.',\r\n                        rationale:\r\n                          \"Correct. 'Hoovervilles' were shantytowns built by unemployed and homeless people, named mockingly after President Herbert Hoover, whom many blamed for the crisis.\",\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'Temporary camps for soldiers during World War II.',\r\n                        rationale:\r\n                          'This photo depicts civilian life during the Depression, not military life during WWII.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'Planned suburban communities built in the 1920s.',\r\n                        rationale:\r\n                          'This is a makeshift shantytown, the opposite of a planned community.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                id: 'ss_us_hist_global_conflicts_quiz3',\r\n                title: 'Global Conflicts: Quiz 3',\r\n                questions: [\r\n                  {\r\n                    questionNumber: 1,\r\n                    type: 'text',\r\n                    passage:\r\n                      \"President Franklin D. Roosevelt's New Deal was a series of programs, public work projects, financial reforms, and regulations enacted in response to the Great Depression. The New Deal had three main goals: relief for the needy, recovery of the economy, and reform of the financial system to prevent a repeat depression. Programs like the Civilian Conservation Corps (CCC) and the Works Progress Administration (WPA) were created to provide jobs on public projects.\",\r\n                    question:\r\n                      'What was the primary purpose of New Deal programs like the CCC and WPA?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'To regulate the stock market.',\r\n                        rationale:\r\n                          \"Stock market regulation was part of the 'reform' goal (e.g., the SEC), but not the purpose of the CCC and WPA.\",\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'To provide direct cash payments to all Americans.',\r\n                        rationale:\r\n                          'These programs provided jobs and wages, not direct cash handouts to everyone.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'To provide relief to the unemployed through public work projects.',\r\n                        rationale:\r\n                          \"Correct. The passage states these programs were created 'to provide jobs on public projects,' which falls under the goal of 'relief for the needy.'\",\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'To build up the military in preparation for war.',\r\n                        rationale:\r\n                          'These were civilian work programs, not military build-ups.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 2,\r\n                    type: 'knowledge',\r\n                    question:\r\n                      \"What event on December 7, 1941, directly led to the United States' entry into World War II?\",\r\n                    answerOptions: [\r\n                      {\r\n                        text: \"Germany's invasion of Poland.\",\r\n                        rationale:\r\n                          'This event started World War II in Europe in 1939, but the U.S. remained neutral.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'The Japanese attack on Pearl Harbor.',\r\n                        rationale:\r\n                          'Correct. The surprise attack on the U.S. naval base at Pearl Harbor, Hawaii, unified the American public and led to a declaration of war against Japan the next day.',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'The Battle of Britain.',\r\n                        rationale:\r\n                          'The Battle of Britain was a major air campaign fought in 1940, but the U.S. did not enter the war at that time.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'The sinking of the Lusitania.',\r\n                        rationale:\r\n                          'This event contributed to the U.S. entry into World War I, not World War II.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 3,\r\n                    type: 'image',\r\n                    imageUrl:\r\n                      'Images/Social Studies/Questions-are-based-on-the-following-graph.-5.png',\r\n                    question:\r\n                      \"This iconic 'Rosie the Riveter' poster from World War II became a symbol of what major change on the U.S. home front?\",\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'The enlistment of women in combat roles.',\r\n                        rationale:\r\n                          'Women were not in combat roles during WWII, but they served in auxiliary corps.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'The importance of rationing food and supplies.',\r\n                        rationale:\r\n                          'While rationing was important, this poster specifically addresses the workforce.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'The millions of women who entered the workforce in factories to support the war effort.',\r\n                        rationale:\r\n                          \"Correct. 'Rosie the Riveter' represents the women who took on industrial jobs, traditionally held by men, to produce planes, ships, and munitions for the war.\",\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'The need for citizens to buy war bonds.',\r\n                        rationale:\r\n                          'There were other posters that encouraged buying war bonds; this one is focused on labor.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                ],\r\n              },\r\n            ],\r\n          },\r\n          {\r\n            id: 'ss_us_hist_cold_war',\r\n            title: 'The Cold War Era (1945-1991)',\r\n            description:\r\n              'Containment, Domino Theory, Korean War, Vietnam War, Civil Rights Movement.',\r\n            quizzes: [\r\n              {\r\n                id: 'ss_us_hist_cold_war_quiz1',\r\n                title: 'The Cold War: Quiz 1',\r\n                questions: [\r\n                  {\r\n                    questionNumber: 1,\r\n                    type: 'text',\r\n                    passage:\r\n                      \"The Cold War was a period of geopolitical tension between the United States and the Soviet Union and their respective allies, the Western Bloc and the Eastern Bloc. It is called a 'cold' war because there was no large-scale direct fighting between the two superpowers. The conflict was instead expressed through military buildups, proxy wars in other nations, and a race for technological, economic, and ideological supremacy.\",\r\n                    question:\r\n                      \"Why is the conflict between the U.S. and the Soviet Union referred to as the 'Cold War'?\",\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'Because most of the conflicts occurred in cold, northern climates.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'Because there was no direct, large-scale military conflict between the two superpowers.',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'Because it was fought primarily over access to arctic resources.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'Because it ended in a stalemate with no clear winner.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 2,\r\n                    type: 'knowledge',\r\n                    question:\r\n                      \"What was the primary goal of the U.S. foreign policy of 'containment' during the Cold War?\",\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'To defeat the Soviet Union in a direct military conflict.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'To prevent the spread of communism to other countries.',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'To establish communist governments in Western Europe.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'To create a single global government through the United Nations.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 3,\r\n                    type: 'text',\r\n                    passage:\r\n                      'The Marshall Plan, officially the European Recovery Program, was a U.S. initiative to aid Western Europe after World War II. The U.S. gave over $13 billion in economic assistance to help rebuild Western European economies. The plan was intended to stabilize the region, promote democratic institutions, and prevent the spread of communism by alleviating poverty and desperation.',\r\n                    question: 'What was a key objective of the Marshall Plan?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'To provide military aid to Eastern European countries.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'To rebuild Western European economies to make them less susceptible to communism.',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'To punish Germany for its role in World War II.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'To create a free trade zone between the U.S. and the Soviet Union.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 4,\r\n                    type: 'image',\r\n                    imageUrl:\r\n                      'Images/Social Studies/The_Iron_Curtain_in_the_beginning_of_the_Cold_War.png',\r\n                    question:\r\n                      \"This map depicts the 'Iron Curtain,' a term famously used by Winston Churchill. What did the 'Iron Curtain' symbolize?\",\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'The physical wall built between East and West Germany.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'The ideological and political division between the communist nations of Eastern Europe and the democratic nations of Western Europe.',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'The economic trade barrier between Europe and Asia.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'The military alliance between the United States and Great Britain.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 5,\r\n                    type: 'knowledge',\r\n                    question:\r\n                      'The North Atlantic Treaty Organization (NATO) was a military alliance formed in 1949. What was its primary purpose?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'To promote economic cooperation between member nations.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'To provide collective security against a potential attack by the Soviet Union.',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'To coordinate the exploration of space.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'To enforce the terms of the Treaty of Versailles.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                id: 'ss_us_hist_cold_war_quiz2',\r\n                title: 'The Cold War: Quiz 2',\r\n                questions: [\r\n                  {\r\n                    questionNumber: 1,\r\n                    type: 'text',\r\n                    passage:\r\n                      \"The 'domino theory' was a Cold War policy idea that suggested a communist government in one nation would quickly lead to communist takeovers in neighboring states, each falling like a row of perfectly aligned dominoes. This theory was used by successive U.S. administrations to justify American intervention in conflicts around the world, most notably in the Korean War and the Vietnam War.\",\r\n                    question: \"What did the 'domino theory' suggest?\",\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'That economic instability in one country would cause a global depression.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'That if one country fell to communism, its neighbors would likely follow.',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'That a nuclear war would cause a chain reaction of destruction.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'That all communist countries would eventually collapse like dominoes.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 2,\r\n                    type: 'knowledge',\r\n                    question: 'The Korean War (1950-1953) began when:',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'the Soviet Union invaded South Korea.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'communist North Korea invaded non-communist South Korea.',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'China attacked United Nations forces.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'the United States declared war on North Korea.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 3,\r\n                    type: 'text',\r\n                    passage:\r\n                      'The Cuban Missile Crisis of 1962 was a 13-day confrontation between the United States and the Soviet Union, initiated by the American discovery of Soviet ballistic missile deployment in Cuba. It is widely regarded as the moment when the Cold War came closest to escalating into a full-scale nuclear war. The crisis was resolved when the Soviets agreed to remove the missiles in exchange for a U.S. pledge not to invade Cuba and a secret agreement to remove U.S. missiles from Turkey.',\r\n                    question:\r\n                      'What was the central issue of the Cuban Missile Crisis?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'A dispute over the political leadership of Cuba.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'The presence of Soviet nuclear missiles in Cuba, posing a direct threat to the U.S.',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'A U.S. naval blockade of the Soviet Union.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'A disagreement over the price of sugar imports from Cuba.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 4,\r\n                    type: 'image',\r\n                    imageUrl:\r\n                      'Images/Social Studies/Question-is-based-on-the-following-cartoon.-4.png',\r\n                    question:\r\n                      'This political cartoon depicts Soviet Premier Nikita Khrushchev and U.S. President John F. Kennedy arm-wrestling while sitting on nuclear weapons. What Cold War concept does this cartoon best illustrate?',\r\n                    answerOptions: [\r\n                      { text: 'Containment', isCorrect: false },\r\n                      { text: 'The Space Race', isCorrect: false },\r\n                      {\r\n                        text: 'Brinkmanship and Mutually Assured Destruction (MAD)',\r\n                        isCorrect: true,\r\n                      },\r\n                      { text: 'The Domino Theory', isCorrect: false },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 5,\r\n                    type: 'knowledge',\r\n                    question:\r\n                      'The launch of the satellite Sputnik by the Soviet Union in 1957 was a major event in the Cold War. What was its most immediate effect in the United States?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'It led to a decrease in military spending.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: \"It sparked the 'Space Race' and led to increased U.S. funding for science and math education.\",\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'It caused the U.S. to withdraw from NATO.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'It led to the signing of a peace treaty with the Soviet Union.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                id: 'ss_us_hist_cold_war_quiz3',\r\n                title: 'The Cold War: Quiz 3',\r\n                questions: [\r\n                  {\r\n                    questionNumber: 1,\r\n                    type: 'knowledge',\r\n                    question:\r\n                      'The landmark Supreme Court case Brown v. Board of Education of Topeka (1954) declared that:',\r\n                    answerOptions: [\r\n                      {\r\n                        text: \"the 'separate but equal' doctrine was constitutional.\",\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'state-sponsored segregation in public schools was unconstitutional.',\r\n                        isCorrect: true,\r\n                      },\r\n                      { text: 'poll taxes were illegal.', isCorrect: false },\r\n                      {\r\n                        text: 'women had the right to vote.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 2,\r\n                    type: 'text',\r\n                    passage:\r\n                      \"The Civil Rights Act of 1964 was a landmark piece of legislation that outlawed discrimination based on race, color, religion, sex, or national origin. It ended unequal application of voter registration requirements and racial segregation in schools, at the workplace, and by facilities that served the general public (known as 'public accommodations').\",\r\n                    question:\r\n                      'What was a major provision of the Civil Rights Act of 1964?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'It guaranteed a minimum wage for all workers.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'It outlawed discrimination in public accommodations, such as restaurants and hotels.',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'It provided federal funding for the arts.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'It abolished the Electoral College.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 3,\r\n                    type: 'image',\r\n                    imageUrl: '/images/Social Studies/licensed-image (15).jpg',\r\n                    question:\r\n                      \"This photograph shows Martin Luther King Jr. delivering his 'I Have a Dream' speech during the March on Washington for Jobs and Freedom in 1963. What was the primary goal of this event?\",\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'To protest U.S. involvement in the Vietnam War.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'To advocate for the passage of a comprehensive civil rights bill.',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'To celebrate the end of segregation in the United States.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'To demand the impeachment of the president.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 4,\r\n                    type: 'knowledge',\r\n                    question:\r\n                      'The Voting Rights Act of 1965 was signed into law to overcome legal barriers at the state and local levels that prevented African Americans from exercising their right to vote. What was one of its key provisions?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'It lowered the voting age to 18.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'It banned the use of literacy tests as a requirement for voting.',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'It granted women the right to vote.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'It established a national popular vote for president.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 5,\r\n                    type: 'text',\r\n                    passage:\r\n                      'The end of the Cold War is often symbolized by the fall of the Berlin Wall in 1989. For decades, the wall had physically and ideologically divided the city of Berlin. Its fall was followed by the reunification of Germany and the collapse of communist governments across Eastern Europe, culminating in the dissolution of the Soviet Union itself in 1991.',\r\n                    question:\r\n                      'What event is most closely associated with the end of the Cold War?',\r\n                    answerOptions: [\r\n                      { text: 'The Cuban Missile Crisis', isCorrect: false },\r\n                      {\r\n                        text: 'The start of the Vietnam War',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'The fall of the Berlin Wall and the dissolution of the Soviet Union',\r\n                        isCorrect: true,\r\n                      },\r\n                      { text: 'The formation of NATO', isCorrect: false },\r\n                    ],\r\n                  },\r\n                ],\r\n              },\r\n            ],\r\n          },\r\n          {\r\n            id: 'ss_us_hist_contemporary_america',\r\n            title: 'Contemporary America (1991-Present)',\r\n            description:\r\n              'Globalization, The War on Terror, The Digital Revolution.',\r\n            quizzes: [\r\n              {\r\n                id: 'ss_us_hist_contemporary_america_quiz1',\r\n                title: 'Contemporary America: Quiz 1',\r\n                questions: [\r\n                  {\r\n                    questionNumber: 1,\r\n                    type: 'text',\r\n                    passage:\r\n                      'The late 20th and early 21st centuries have been defined by the digital revolution and the rise of the internet. This technological shift has transformed the economy, communication, and daily life. The growth of personal computers, the internet, and mobile devices has created a globally interconnected society.',\r\n                    question:\r\n                      \"The term 'digital revolution' refers to the shift toward:\",\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'a manufacturing-based economy.',\r\n                        rationale:\r\n                          'The digital revolution is associated with a shift away from manufacturing towards information and services.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'new forms of transportation like electric cars.',\r\n                        rationale:\r\n                          \"While a recent technological change, the 'digital revolution' refers more broadly to computing and the internet.\",\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'technologies based on computers and the internet.',\r\n                        rationale:\r\n                          'Correct. The passage directly links the digital revolution to personal computers, the internet, and mobile devices.',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'an economy based on agriculture.',\r\n                        rationale:\r\n                          'The digital revolution is a feature of a post-industrial, not agrarian, economy.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 2,\r\n                    type: 'knowledge',\r\n                    question:\r\n                      'Which of the following is a major impact of globalization, accelerated by new technologies?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'Decreased trade between countries.',\r\n                        rationale:\r\n                          'Globalization has led to a massive increase in international trade.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'Increased economic interdependence among countries.',\r\n                        rationale:\r\n                          'Correct. Globalization means that economies around the world are more connected and reliant on each other than ever before for goods, services, and capital.',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'The isolation of national cultures.',\r\n                        rationale:\r\n                          'Globalization has led to greater cultural exchange and diffusion, not isolation.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'A reduction in the speed of communication.',\r\n                        rationale:\r\n                          'Technologies like the internet have made communication nearly instantaneous.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 3,\r\n                    type: 'knowledge',\r\n                    question:\r\n                      'The North American Free Trade Agreement (NAFTA), signed in 1994, was designed to:',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'create a single currency for North America.',\r\n                        rationale: 'NAFTA did not create a common currency.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'establish a military alliance between the U.S., Canada, and Mexico.',\r\n                        rationale:\r\n                          'NAFTA is a trade agreement, not a military alliance.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'eliminate most tariffs and trade barriers between the U.S., Canada, and Mexico.',\r\n                        rationale:\r\n                          'Correct. The primary goal of NAFTA was to promote free trade by removing taxes and other barriers on goods and services traded between the three countries.',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'restrict immigration from Mexico to the United States.',\r\n                        rationale:\r\n                          'NAFTA was focused on trade and did not include provisions to restrict immigration.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 4,\r\n                    type: 'knowledge',\r\n                    question:\r\n                      \"The 'dot-com bubble' of the late 1990s was related to:\",\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'a boom in the housing market.',\r\n                        rationale:\r\n                          'The housing market bubble occurred in the mid-2000s.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'a rapid increase in the value of agricultural land.',\r\n                        rationale:\r\n                          'The bubble was related to technology and internet companies.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'speculative investment in internet-based companies.',\r\n                        rationale:\r\n                          \"Correct. The period saw a massive surge in investment and speculation in new internet-related companies, many of which were not profitable, leading to a market 'bubble' that eventually burst.\",\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'a sudden shortage of computer hardware.',\r\n                        rationale:\r\n                          'The bubble was about the valuation of companies, not a shortage of hardware.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 5,\r\n                    type: 'text',\r\n                    passage:\r\n                      \"The transition from a manufacturing-based economy to a service-based economy in the United States accelerated in the late 20th century. This involved a decline in factory jobs, particularly in the 'Rust Belt' region, and a growth in jobs in sectors like healthcare, finance, and information technology.\",\r\n                    question:\r\n                      'What has been a major characteristic of the U.S. economy in the post-industrial, or modern, era?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'A shift from a service-based economy to a manufacturing-based economy.',\r\n                        rationale:\r\n                          'The shift has been in the opposite direction.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'The dominance of agriculture as the primary sector of employment.',\r\n                        rationale:\r\n                          'Agriculture has not been the dominant sector for a very long time.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'A decline in jobs in the healthcare and technology sectors.',\r\n                        rationale:\r\n                          'These are sectors that have seen significant growth.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'Growth in the service sector and a decline in manufacturing jobs.',\r\n                        rationale:\r\n                          'Correct. The passage clearly describes the transition from a manufacturing-based economy to a service-based one.',\r\n                        isCorrect: true,\r\n                      },\r\n                    ],\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                id: 'ss_us_hist_contemporary_america_quiz2',\r\n                title: 'Contemporary America: Quiz 2',\r\n                questions: [\r\n                  {\r\n                    questionNumber: 1,\r\n                    type: 'knowledge',\r\n                    question:\r\n                      \"The terrorist attacks on September 11, 2001, led the United States to launch a 'War on Terror,' which included the invasion of which country to overthrow the Taliban regime that harbored the al-Qaeda terrorist group?\",\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'Iraq',\r\n                        rationale:\r\n                          'The U.S. invaded Iraq in 2003 for different stated reasons, primarily related to weapons of mass destruction.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'Iran',\r\n                        rationale: 'The U.S. has not invaded Iran.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'Saudi Arabia',\r\n                        rationale:\r\n                          'While many of the 9/11 hijackers were from Saudi Arabia, the U.S. did not invade the country.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'Afghanistan',\r\n                        rationale:\r\n                          'Correct. The U.S. and its allies invaded Afghanistan in late 2001 because its ruling Taliban regime provided a safe haven for Osama bin Laden and the al-Qaeda network responsible for the 9/11 attacks.',\r\n                        isCorrect: true,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 2,\r\n                    type: 'knowledge',\r\n                    question:\r\n                      'In response to the 9/11 attacks, the U.S. government created which new cabinet-level department to coordinate domestic security?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'The Central Intelligence Agency (CIA)',\r\n                        rationale:\r\n                          'The CIA is an independent agency focused on foreign intelligence and was not created after 9/11.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'The Federal Bureau of Investigation (FBI)',\r\n                        rationale:\r\n                          'The FBI is the primary federal law enforcement agency and has existed for much longer.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'The Department of Homeland Security',\r\n                        rationale:\r\n                          'Correct. The Department of Homeland Security (DHS) was created in 2002 to consolidate various federal agencies and coordinate the protection of the U.S. from terrorism and other threats.',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'The National Security Agency (NSA)',\r\n                        rationale:\r\n                          'The NSA is a national-level intelligence agency that existed long before 9/11.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 3,\r\n                    type: 'knowledge',\r\n                    question:\r\n                      'The USA PATRIOT Act, passed shortly after 9/11, was controversial because it:',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'significantly reduced the powers of law enforcement.',\r\n                        rationale:\r\n                          'The act greatly expanded law enforcement powers.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'allowed the government to conduct surveillance with fewer restrictions, raising concerns about privacy.',\r\n                        rationale:\r\n                          \"Correct. Critics argued that the act gave the government too much power to monitor citizens' communications and records without sufficient judicial oversight, infringing on civil liberties.\",\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'abolished the military draft.',\r\n                        rationale:\r\n                          'The U.S. has had an all-volunteer military since the Vietnam War.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'provided financial aid to the families of 9/11 victims.',\r\n                        rationale:\r\n                          'While aid was provided, this was not the purpose or the controversial aspect of the PATRIOT Act.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 4,\r\n                    type: 'text',\r\n                    passage:\r\n                      'The U.S. invasion of Iraq in 2003 was based on the stated belief that the Iraqi regime, under Saddam Hussein, possessed weapons of mass destruction (WMDs) and posed a significant threat to the United States and its allies. After the invasion, however, no large stockpiles of WMDs were found. The conflict proved to be long and costly, with a complex insurgency developing after the initial military victory.',\r\n                    question:\r\n                      'What was the primary stated reason for the U.S. invasion of Iraq in 2003?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'To stop a direct invasion of the U.S. by Iraq.',\r\n                        rationale: 'Iraq had not invaded the U.S.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'To capture Osama bin Laden.',\r\n                        rationale:\r\n                          'Osama bin Laden was the leader of al-Qaeda and was believed to be in Afghanistan or Pakistan, not Iraq.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'The belief that Iraq possessed weapons of mass destruction.',\r\n                        rationale:\r\n                          \"Correct. The passage explicitly states the invasion was based on the 'belief that the Iraqi regime... possessed weapons of mass destruction.'\",\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'To establish a permanent U.S. military base in the Middle East.',\r\n                        rationale:\r\n                          'While the U.S. has bases in the region, establishing a new one was not the stated primary goal of the invasion.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 5,\r\n                    type: 'knowledge',\r\n                    question:\r\n                      \"The term 'Great Recession' refers to the severe economic downturn that began in:\",\r\n                    answerOptions: [\r\n                      {\r\n                        text: '1929 with the stock market crash.',\r\n                        rationale:\r\n                          'This was the start of the Great Depression, not the Great Recession.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'the early 1990s after the first Gulf War.',\r\n                        rationale:\r\n                          \"There was a recession in the early 1990s, but the 'Great Recession' refers to a later, more severe event.\",\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'the late 2000s, triggered by a housing market collapse.',\r\n                        rationale:\r\n                          'Correct. The Great Recession officially lasted from December 2007 to June 2009 and was precipitated by the subprime mortgage crisis and the collapse of the housing bubble.',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: '2020 due to the COVID-19 pandemic.',\r\n                        rationale:\r\n                          'The economic downturn in 2020 was severe but is referred to as the COVID-19 recession.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                id: 'ss_us_hist_contemporary_america_quiz3',\r\n                title: 'Contemporary America: Quiz 3',\r\n                questions: [\r\n                  {\r\n                    questionNumber: 1,\r\n                    type: 'knowledge',\r\n                    question:\r\n                      'The 2008 presidential election was historic because it resulted in the election of:',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'the first female President.',\r\n                        rationale:\r\n                          'The U.S. has not yet elected a female President.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'the first African American President.',\r\n                        rationale:\r\n                          \"Correct. Barack Obama's victory in 2008 made him the first African American to be elected President of the United States.\",\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'the youngest President in U.S. history.',\r\n                        rationale:\r\n                          'Theodore Roosevelt and John F. Kennedy were younger when they took office.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'the first President not from the Democratic or Republican party.',\r\n                        rationale: 'Barack Obama was a Democrat.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 2,\r\n                    type: 'knowledge',\r\n                    question:\r\n                      'A major piece of legislation passed during the Obama administration was the Affordable Care Act (ACA). Its primary goal was to:',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'create a government-run healthcare system for all Americans.',\r\n                        rationale:\r\n                          'The ACA is based on private insurance markets, with government subsidies and regulations, not a fully government-run system.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'increase the number of Americans with health insurance coverage.',\r\n                        rationale:\r\n                          'Correct. The ACA aimed to expand health insurance coverage through mandates, subsidies, and the creation of health insurance marketplaces.',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'decrease the cost of prescription drugs for senior citizens.',\r\n                        rationale:\r\n                          'This was addressed by Medicare Part D, which was created earlier.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'privatize the Medicare system.',\r\n                        rationale:\r\n                          'The ACA expanded, rather than privatized, government involvement in healthcare.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 3,\r\n                    type: 'chart',\r\n                    passage: `<div class=\"passage-text\"><b>Immigration to the U.S. by Region of Birth</b><table class=\"w-full text-left mt-2\"><thead><tr><th class=\"p-2 border-b\">Year</th><th class=\"p-2 border-b\">Europe (%)</th><th class=\"p-2 border-b\">Asia (%)</th><th class=\"p-2 border-b\">Latin America (%)</th></tr></thead><tbody><tr class=\"border-b\"><td class=\"p-2\">1960</td><td class=\"p-2\">75%</td><td class=\"p-2\">5%</td><td class=\"p-2\">15%</td></tr><tr class=\"border-b\"><td class=\"p-2\">2010</td><td class=\"p-2\">12%</td><td class=\"p-2\">28%</td><td class=\"p-2\">53%</td></tr></tbody></table></div>`,\r\n                    question:\r\n                      'Based on the chart, what was the most significant demographic shift in U.S. immigration between 1960 and 2010?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'A large increase in the percentage of immigrants from Europe.',\r\n                        rationale:\r\n                          'The percentage of immigrants from Europe decreased dramatically.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'A shift from a majority of European immigrants to a majority of Latin American and Asian immigrants.',\r\n                        rationale:\r\n                          'Correct. In 1960, Europeans made up 75% of immigrants, but by 2010, immigrants from Latin America (53%) and Asia (28%) together made up a large majority.',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'A decrease in the percentage of immigrants from Asia.',\r\n                        rationale:\r\n                          'The percentage of immigrants from Asia increased significantly.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'The percentage of immigrants from all regions became roughly equal.',\r\n                        rationale:\r\n                          'The percentages in 2010 are clearly not equal, with Latin America being the largest source.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 4,\r\n                    type: 'knowledge',\r\n                    question:\r\n                      'The political landscape of the 21st century has been characterized by:',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'a decrease in political polarization.',\r\n                        rationale:\r\n                          'Most observers agree that political polarization has increased significantly.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'the disappearance of the two-party system.',\r\n                        rationale:\r\n                          'The Democratic and Republican parties remain the dominant forces in U.S. politics.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'increased political polarization and deep divisions between the major parties.',\r\n                        rationale:\r\n                          'Correct. The early 21st century has been marked by growing ideological divides and less cooperation between the Democratic and Republican parties on major issues.',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'a long period of bipartisan consensus on most major issues.',\r\n                        rationale:\r\n                          'This is the opposite of the current political climate.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 5,\r\n                    type: 'knowledge',\r\n                    question:\r\n                      'What is a major social issue that has gained prominence and seen significant legal and social changes in the United States in the early 21st century?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: \"Women's suffrage\",\r\n                        rationale:\r\n                          \"Women's suffrage was achieved with the 19th Amendment in 1920.\",\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'The abolition of slavery',\r\n                        rationale:\r\n                          'Slavery was abolished by the 13th Amendment in 1865.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'Prohibition of alcohol',\r\n                        rationale:\r\n                          'Prohibition was enacted in 1920 and repealed in 1933.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'Same-sex marriage rights',\r\n                        rationale:\r\n                          'Correct. The movement for LGBTQ+ rights, culminating in the 2015 Supreme Court decision Obergefell v. Hodges which legalized same-sex marriage nationwide, has been a major social and legal development of this era.',\r\n                        isCorrect: true,\r\n                      },\r\n                    ],\r\n                  },\r\n                ],\r\n              },\r\n            ],\r\n          },\r\n        ],\r\n      },\r\n      'Civics & Government': {\r\n        description:\r\n          'Understand the structure and function of the U.S. government.',\r\n        topics: [\r\n          {\r\n            id: 'ss_civics_constitution',\r\n            title: 'The Constitution',\r\n            description: 'Preamble, Articles, and the Bill of Rights.',\r\n            quizzes: [\r\n              {\r\n                id: 'ss_civics_constitution_quiz1',\r\n                title: 'The Constitution: Quiz 1',\r\n                questions: [\r\n                  {\r\n                    questionNumber: 1,\r\n                    type: 'text',\r\n                    passage:\r\n                      \"The Preamble to the U.S. Constitution begins with the phrase 'We the People...' This opening statement establishes a core principle of the new government.\",\r\n                    question:\r\n                      \"What fundamental principle is established by the phrase 'We the People'?\",\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'Federalism, the division of power between state and national governments.',\r\n                        rationale:\r\n                          \"Federalism is a key principle, but 'We the People' specifically refers to the source of the government's power.\",\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: \"Popular sovereignty, the idea that the government's authority comes from the people.\",\r\n                        rationale:\r\n                          'Correct. This phrase signifies that the power of the government is derived from the consent of the governed, not from a king or a select group of elites.',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'Separation of Powers, the division of government into three branches.',\r\n                        rationale:\r\n                          'The separation of powers is outlined in the Articles of the Constitution, not established by this phrase.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: \"Limited Government, the idea that the government's power is restricted.\",\r\n                        rationale:\r\n                          \"While a related concept, 'We the People' is the most direct expression of popular sovereignty.\",\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 2,\r\n                    type: 'knowledge',\r\n                    question:\r\n                      'The U.S. Constitution establishes three distinct branches of government. Which article of the Constitution establishes the Legislative Branch (Congress)?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'Article I',\r\n                        rationale:\r\n                          'Correct. Article I of the Constitution establishes the legislative branch, its powers, and its bicameral structure (the House and Senate).',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'Article II',\r\n                        rationale:\r\n                          'Article II establishes the Executive Branch (the Presidency).',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'Article III',\r\n                        rationale:\r\n                          'Article III establishes the Judicial Branch (the Supreme Court and lower courts).',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'Article V',\r\n                        rationale:\r\n                          'Article V outlines the process for amending the Constitution.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 3,\r\n                    type: 'text',\r\n                    passage:\r\n                      \"Article II of the Constitution outlines the powers and responsibilities of the Executive Branch. It states that 'The executive Power shall be vested in a President of the United States of America.' This includes the power to act as Commander in Chief of the armed forces, to grant pardons, to make treaties (with the Senate's consent), and to appoint ambassadors and federal judges.\",\r\n                    question:\r\n                      'According to Article II of the Constitution, which of the following is a power of the President?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'To declare war.',\r\n                        rationale:\r\n                          'The power to declare war is explicitly granted to Congress in Article I.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'To act as Commander in Chief of the military.',\r\n                        rationale:\r\n                          'Correct. The passage explicitly lists this as a power of the President.',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'To create federal courts.',\r\n                        rationale:\r\n                          'The power to create lower federal courts is granted to Congress in Article III.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'To regulate interstate commerce.',\r\n                        rationale:\r\n                          'The power to regulate commerce between the states belongs to Congress.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 4,\r\n                    type: 'knowledge',\r\n                    question:\r\n                      'The first ten amendments to the U.S. Constitution are known as the Bill of Rights. What is their primary purpose?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'To outline the structure of the federal government.',\r\n                        rationale:\r\n                          'The structure of the government is outlined in the Articles of the Constitution, not the Bill of Rights.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'To grant specific powers to the federal government.',\r\n                        rationale:\r\n                          'The Bill of Rights is primarily about limiting the power of the federal government, not granting it.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'To protect the fundamental rights and liberties of individual citizens.',\r\n                        rationale:\r\n                          'Correct. The Bill of Rights was added to ensure that the new, powerful federal government could not infringe upon the basic rights of the people.',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'To establish the process for electing the President.',\r\n                        rationale:\r\n                          'The presidential election process is outlined in Article II and later amendments like the 12th.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 5,\r\n                    type: 'knowledge',\r\n                    question:\r\n                      'The First Amendment to the U.S. Constitution protects several fundamental rights. Which of the following is NOT a right guaranteed by the First Amendment?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'Freedom of speech',\r\n                        rationale:\r\n                          'Freedom of speech is a core protection of the First Amendment.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'The right to bear arms',\r\n                        rationale:\r\n                          'Correct. The right to bear arms is guaranteed by the Second Amendment, not the First.',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'Freedom of the press',\r\n                        rationale:\r\n                          'Freedom of the press is explicitly protected by the First Amendment.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'The right to peaceably assemble',\r\n                        rationale:\r\n                          'The right to gather peacefully is one of the key freedoms listed in the First Amendment.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                id: 'ss_civics_constitution_quiz2',\r\n                title: 'The Constitution: Quiz 2',\r\n                questions: [\r\n                  {\r\n                    questionNumber: 1,\r\n                    type: 'text',\r\n                    passage:\r\n                      \"The Fourth Amendment protects citizens from 'unreasonable searches and seizures.' Generally, this means that law enforcement officials must obtain a warrant, based on probable cause, before searching a person's home or property. This principle ensures that citizens have a right to privacy and are secure from arbitrary government intrusion.\",\r\n                    question:\r\n                      'Based on the passage, which of the following scenarios would most likely be a violation of the Fourth Amendment?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'An officer searches a car after seeing illegal drugs in plain view on the passenger seat.',\r\n                        rationale:\r\n                          \"The 'plain view' doctrine is often considered an exception, as there is no expectation of privacy for items left in plain sight.\",\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: \"Police search a person's home after a judge, presented with evidence, issues a specific warrant.\",\r\n                        rationale:\r\n                          'This describes the proper legal procedure and is not a violation.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: \"Law enforcement enters and searches a suspect's apartment because they have a hunch the suspect is involved in a crime, but they have no warrant.\",\r\n                        rationale:\r\n                          'Correct. Searching a home without a warrant or probable cause is a classic example of an unreasonable search and a violation of the Fourth Amendment.',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: \"A school official searches a student's locker based on a reasonable suspicion that it contains a weapon.\",\r\n                        rationale:\r\n                          'Courts have often ruled that students have a reduced expectation of privacy at school, and searches based on reasonable suspicion are sometimes permitted.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 2,\r\n                    type: 'knowledge',\r\n                    question:\r\n                      'The Fifth Amendment provides several protections for individuals accused of a crime. Which protection prevents a person from being tried twice for the same offense?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'The right to remain silent (protection against self-incrimination).',\r\n                        rationale:\r\n                          'This protects against self-incrimination, but it is the double jeopardy clause that prevents being tried twice.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'The protection against double jeopardy.',\r\n                        rationale:\r\n                          \"Correct. 'Double jeopardy' is the legal term for the Fifth Amendment protection that prohibits an accused person from being tried again on the same (or similar) charges following a legitimate acquittal or conviction.\",\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'The right to a grand jury indictment.',\r\n                        rationale:\r\n                          \"The right to a grand jury ensures that a prosecutor has enough evidence to bring charges, but it does not prevent a second trial on different grounds if the first doesn't result in a final judgment.\",\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'The right to due process of law.',\r\n                        rationale:\r\n                          'Due process is a broad principle ensuring fair treatment, but double jeopardy is the specific clause against being tried twice.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 3,\r\n                    type: 'text',\r\n                    passage:\r\n                      \"The Sixth Amendment guarantees the right to a 'speedy and public trial, by an impartial jury.' It also ensures the right of the accused 'to be confronted with the witnesses against him' and 'to have the Assistance of Counsel for his defence.' These protections are fundamental to the American criminal justice system.\",\r\n                    question:\r\n                      'A person is arrested and held in jail for three years awaiting trial. Which Sixth Amendment right has most clearly been violated?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'The right to the assistance of counsel.',\r\n                        rationale:\r\n                          \"The passage doesn't state whether the person has a lawyer, only that they have been waiting a long time for trial.\",\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'The right to a speedy trial.',\r\n                        rationale:\r\n                          \"Correct. A three-year delay before a trial begins would be considered a clear violation of the right to a 'speedy' trial.\",\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'The right to confront witnesses.',\r\n                        rationale:\r\n                          'This right applies during the trial itself, which has not yet occurred.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'The right to an impartial jury.',\r\n                        rationale:\r\n                          'This right also applies to the trial itself. The issue here is the delay before the trial starts.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 4,\r\n                    type: 'knowledge',\r\n                    question:\r\n                      \"The Eighth Amendment prohibits 'cruel and unusual punishments.' The interpretation of this phrase has evolved over time. Which of the following issues is most often debated in the context of the Eighth Amendment?\",\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'The right to a jury trial',\r\n                        rationale:\r\n                          'The right to a jury trial is guaranteed by the Sixth and Seventh Amendments.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'The legality of the death penalty',\r\n                        rationale:\r\n                          \"Correct. Opponents of capital punishment argue that it constitutes a 'cruel and unusual punishment' and is therefore unconstitutional under the Eighth Amendment. This is a central and ongoing legal debate.\",\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'The right to legal counsel',\r\n                        rationale:\r\n                          'The right to a lawyer is guaranteed by the Sixth Amendment.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'Freedom from self-incrimination',\r\n                        rationale:\r\n                          'This protection is provided by the Fifth Amendment.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 5,\r\n                    type: 'text',\r\n                    passage:\r\n                      \"The Tenth Amendment states: 'The powers not delegated to the United States by the Constitution, nor prohibited by it to the States, are reserved to the States respectively, or to the people.' This amendment is the cornerstone of federalism, the principle that power is divided between the national government and the state governments.\",\r\n                    question:\r\n                      \"Which of the following is the best example of a power 'reserved to the States' under the Tenth Amendment?\",\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'The power to declare war.',\r\n                        rationale:\r\n                          'The Constitution explicitly delegates the power to declare war to the national government (Congress).',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'The power to print money.',\r\n                        rationale:\r\n                          'The power to coin and print money is an exclusive power of the national government.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'The power to establish local schools.',\r\n                        rationale:\r\n                          'Correct. The Constitution does not delegate the power over education to the federal government, nor does it prohibit states from acting. Therefore, it is a power reserved to the states.',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'The power to make treaties with foreign countries.',\r\n                        rationale:\r\n                          'This power is delegated to the President and the Senate at the national level.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                id: 'ss_civics_constitution_quiz3',\r\n                title: 'The Constitution: Quiz 3',\r\n                questions: [\r\n                  {\r\n                    questionNumber: 1,\r\n                    type: 'knowledge',\r\n                    question: 'How many amendments are in the Bill of Rights?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'Seven',\r\n                        rationale:\r\n                          'There are seven articles in the original Constitution, but ten amendments in the Bill of Rights.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'Ten',\r\n                        rationale:\r\n                          'Correct. The first ten amendments to the Constitution, ratified in 1791, are collectively known as the Bill of Rights.',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'Twenty-seven',\r\n                        rationale:\r\n                          'There are 27 amendments in total, but only the first ten make up the Bill of Rights.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'Thirteen',\r\n                        rationale:\r\n                          'The 13th amendment abolished slavery and is not part of the original Bill of Rights.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 2,\r\n                    type: 'text',\r\n                    passage:\r\n                      \"The Supremacy Clause in Article VI of the Constitution establishes that the Constitution, federal laws made pursuant to it, and treaties made under its authority, constitute the 'supreme Law of the Land.' This means that if a state law conflicts with a federal law, the federal law takes precedence.\",\r\n                    question:\r\n                      'If a state passes a law that contradicts a federal law, which law must be followed according to the Supremacy Clause?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'The state law, because of the 10th Amendment.',\r\n                        rationale:\r\n                          'The 10th Amendment reserves powers to the states, but the Supremacy Clause establishes the hierarchy when laws conflict.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'The federal law.',\r\n                        rationale:\r\n                          \"Correct. The Supremacy Clause makes the Constitution and federal laws the 'supreme Law of the Land,' meaning they prevail over conflicting state laws.\",\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'Whichever law was passed more recently.',\r\n                        rationale:\r\n                          'The timing of the law does not determine its precedence.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'Neither law; a new compromise law must be written.',\r\n                        rationale:\r\n                          'The Constitution provides a clear hierarchy; no compromise is required.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 3,\r\n                    type: 'knowledge',\r\n                    question:\r\n                      \"The Second Amendment protects 'the right of the people to keep and bear Arms.' The interpretation of this amendment is highly debated, primarily centering on what question?\",\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'Whether it protects an individual right or a collective right for militias.',\r\n                        rationale:\r\n                          \"Correct. This is the central legal and political debate: Does the amendment protect a private citizen's right to own a gun, or does it protect the right of states to maintain militias?\",\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: \"Whether 'Arms' includes modern firearms.\",\r\n                        rationale:\r\n                          'This is part of the debate, but the core issue is the nature of the right itself (individual vs. collective).',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'Whether the government can ever regulate firearms.',\r\n                        rationale:\r\n                          'Most interpretations allow for some regulation; the debate is over the extent, which depends on the core interpretation of the right.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'Whether a militia is still necessary for security.',\r\n                        rationale:\r\n                          'This is a political question, but the legal debate focuses on the nature of the right described in the amendment.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 4,\r\n                    type: 'text',\r\n                    passage:\r\n                      'The process for amending the Constitution is outlined in Article V. An amendment can be proposed either by the Congress with a two-thirds majority vote in both the House and the Senate or by a national convention called for by two-thirds of the state legislatures. After being proposed, an amendment must be ratified by three-fourths of the state legislatures or by conventions in three-fourths of the states.',\r\n                    question:\r\n                      'What proportion of states must ratify a proposed amendment for it to become part of the Constitution?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'A simple majority (more than half)',\r\n                        rationale:\r\n                          'A simple majority is not sufficient for ratification.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'Two-thirds',\r\n                        rationale:\r\n                          'Two-thirds is the proportion needed in Congress to propose an amendment, not for states to ratify it.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'Three-fourths',\r\n                        rationale:\r\n                          'Correct. The passage clearly states that an amendment must be ratified by three-fourths of the states to be adopted.',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'All of the states',\r\n                        rationale: 'Unanimous approval is not required.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 5,\r\n                    type: 'knowledge',\r\n                    question:\r\n                      'Which amendment in the Bill of Rights protects citizens from being forced to quarter soldiers in their homes during peacetime without their consent?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'The First Amendment',\r\n                        rationale:\r\n                          'The First Amendment deals with freedoms of speech, religion, press, assembly, and petition.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'The Third Amendment',\r\n                        rationale:\r\n                          'Correct. This amendment was a direct response to the British practice of forcing colonists to house and feed soldiers.',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'The Seventh Amendment',\r\n                        rationale:\r\n                          'The Seventh Amendment guarantees the right to a jury trial in certain civil cases.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'The Ninth Amendment',\r\n                        rationale:\r\n                          'The Ninth Amendment states that the rights listed in the Constitution are not exhaustive and that the people have other rights not specified.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                ],\r\n              },\r\n            ],\r\n          },\r\n          {\r\n            id: 'ss_civics_legislative',\r\n            title: 'The Legislative Branch',\r\n            description:\r\n              'Congress, How a Bill Becomes a Law, Powers of Congress.',\r\n            quizzes: [\r\n              {\r\n                id: 'ss_civics_legislative_quiz1',\r\n                title: 'The Legislative Branch: Quiz 1',\r\n                questions: [\r\n                  {\r\n                    questionNumber: 1,\r\n                    type: 'text',\r\n                    passage:\r\n                      \"The U.S. Congress is a bicameral legislature, meaning it is composed of two chambers: the House of Representatives and the Senate. Representation in the House is based on a state's population, with representatives serving two-year terms. In the Senate, every state is represented equally with two senators, who serve six-year terms. This structure was the result of the Great Compromise at the Constitutional Convention.\",\r\n                    question:\r\n                      \"Why is the U.S. Congress considered 'bicameral'?\",\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'Because representatives serve two-year terms.',\r\n                        rationale:\r\n                          'Term length does not define a bicameral legislature.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'Because it consists of two separate chambers (the House and the Senate).',\r\n                        rationale:\r\n                          \"Correct. 'Bi' means two and 'cameral' refers to a chamber, so a bicameral legislature is one with two houses.\",\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'Because it includes both elected officials and appointed judges.',\r\n                        rationale:\r\n                          'Judges are part of the judicial branch, not the legislative branch.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'Because its members can belong to two different political parties.',\r\n                        rationale:\r\n                          'Political party composition does not define the structure of the legislature.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 2,\r\n                    type: 'knowledge',\r\n                    question:\r\n                      'What is the total number of senators in the U.S. Senate?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: '50',\r\n                        rationale: 'This would be one senator per state.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: '100',\r\n                        rationale:\r\n                          'Correct. Since each of the 50 states gets two senators, the total is 100.',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: '435',\r\n                        rationale:\r\n                          'This is the number of representatives in the House of Representatives.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: '535',\r\n                        rationale:\r\n                          'This is the total number of voting members in both the House and the Senate combined.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 3,\r\n                    type: 'knowledge',\r\n                    question:\r\n                      'Which chamber of Congress has the exclusive power to initiate all bills related to revenue (taxes)?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'The Senate',\r\n                        rationale:\r\n                          'The Senate can amend revenue bills, but they must originate in the House.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'The House of Representatives',\r\n                        rationale:\r\n                          'Correct. The Constitution (Article I, Section 7) requires that all bills for raising revenue must originate in the House, based on the principle that the chamber closer to the people should control taxation.',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'Both chambers can initiate them equally.',\r\n                        rationale:\r\n                          'The Constitution gives this specific power to the House.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'The Supreme Court',\r\n                        rationale:\r\n                          'The Supreme Court interprets laws; it does not initiate them.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 4,\r\n                    type: 'text',\r\n                    passage:\r\n                      'For a bill to become a law, it must be passed by both the House of Representatives and the Senate in identical form. First, a bill is introduced in one chamber, where it is assigned to a committee. The committee studies the bill, holds hearings, and may make changes. If the committee approves it, the bill is debated and voted on by the full chamber. If it passes, it is sent to the other chamber to go through the same process.',\r\n                    question:\r\n                      'What is the role of a committee in the lawmaking process?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'To introduce the bill on the floor of the House or Senate.',\r\n                        rationale:\r\n                          \"Any member can introduce a bill; the committee's role comes after introduction.\",\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'To study the bill, hold hearings, and make revisions before it is voted on by the full chamber.',\r\n                        rationale:\r\n                          'Correct. Committees are where the detailed work of crafting and scrutinizing legislation happens.',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'To sign the bill into law after it has passed both chambers.',\r\n                        rationale: 'The President signs a bill into law.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'To vote on the final version of the bill after it has been approved by both chambers.',\r\n                        rationale:\r\n                          'The full chamber votes on the bill after it leaves committee.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 5,\r\n                    type: 'knowledge',\r\n                    question:\r\n                      'If the House and the Senate pass different versions of the same bill, what is the next step to resolve the differences?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'The bill is sent to the President to choose the preferred version.',\r\n                        rationale:\r\n                          'The President receives only one final version of a bill.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'The bill is sent to a conference committee to create a compromise version.',\r\n                        rationale:\r\n                          'Correct. A conference committee, made up of members from both the House and Senate, is convened to iron out the differences between the two versions of the bill.',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'The Supreme Court decides which version is constitutional.',\r\n                        rationale:\r\n                          'The Supreme Court does not get involved in the legislative process at this stage.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'The bill is sent back to the chamber where it originated to be rewritten from scratch.',\r\n                        rationale:\r\n                          'A conference committee is the standard procedure for resolving differences.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                id: 'ss_civics_legislative_quiz2',\r\n                title: 'The Legislative Branch: Quiz 2',\r\n                questions: [\r\n                  {\r\n                    questionNumber: 1,\r\n                    type: 'text',\r\n                    passage:\r\n                      \"After a bill has been passed in identical form by both the House and the Senate, it is sent to the President. The President has several options. He can sign the bill, and it becomes law. He can veto the bill, sending it back to Congress with his objections. Or, he can do nothing. If Congress is in session, the bill becomes law after ten days without the President's signature.\",\r\n                    question: 'What happens if the President vetoes a bill?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'The bill is automatically dead and cannot be reconsidered.',\r\n                        rationale: 'Congress has the power to override a veto.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'The bill is sent to the Supreme Court for a final decision.',\r\n                        rationale:\r\n                          'The Supreme Court does not participate in this part of the legislative process.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'The bill is sent back to Congress, which can override the veto with a two-thirds vote in both chambers.',\r\n                        rationale:\r\n                          'Correct. A presidential veto is a powerful check, but Congress can overcome it with a supermajority vote.',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'The bill becomes law, but only for a temporary period.',\r\n                        rationale:\r\n                          'A veto prevents a bill from becoming law unless it is overridden.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 2,\r\n                    type: 'knowledge',\r\n                    question:\r\n                      'Which of the following is an enumerated (or expressed) power of Congress, as listed in Article I, Section 8 of the Constitution?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: \"The power to issue driver's licenses.\",\r\n                        rationale: 'This is a power reserved to the states.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'The power to establish public schools.',\r\n                        rationale:\r\n                          'This is a power generally reserved to state and local governments.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'The power to declare war.',\r\n                        rationale:\r\n                          'Correct. Article I, Section 8 explicitly grants Congress the power to declare war.',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'The power to appoint Supreme Court justices.',\r\n                        rationale:\r\n                          \"This power belongs to the President, with the Senate's approval.\",\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 3,\r\n                    type: 'text',\r\n                    passage:\r\n                      \"The 'Necessary and Proper Clause' (also known as the Elastic Clause) in Article I, Section 8 of the Constitution gives Congress the power 'To make all Laws which shall be necessary and proper for carrying into Execution the foregoing Powers...' This clause grants Congress implied powerspowers not explicitly stated in the Constitution but that are necessary to carry out its expressed powers.\",\r\n                    question:\r\n                      \"The 'Elastic Clause' is significant because it grants Congress:\",\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'the power to veto laws passed by the states.',\r\n                        rationale:\r\n                          'Congress does not have a direct veto over state laws, though federal law is supreme.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'implied powers that are not explicitly listed in the Constitution.',\r\n                        rationale:\r\n                          \"Correct. This clause 'stretches' the powers of Congress beyond those that are specifically enumerated, allowing it to adapt to changing needs.\",\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'the sole power to amend the Constitution.',\r\n                        rationale:\r\n                          'Amending the Constitution requires a proposal by Congress and ratification by the states.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'the power to appoint its own members to the cabinet.',\r\n                        rationale:\r\n                          'Cabinet members are appointed by the President.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 4,\r\n                    type: 'knowledge',\r\n                    question:\r\n                      \"Which chamber of Congress has the exclusive power of 'advice and consent' on presidential appointments and treaties?\",\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'The House of Representatives',\r\n                        rationale: 'The House does not have this power.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'The Senate',\r\n                        rationale:\r\n                          'Correct. The Senate must confirm major presidential appointments (like cabinet members and federal judges) and must ratify treaties negotiated by the President.',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'Both chambers share this power equally.',\r\n                        rationale:\r\n                          'The Constitution specifically grants this power to the Senate.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'No chamber has this power; it belongs to the judiciary.',\r\n                        rationale: 'This is a key legislative power.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 5,\r\n                    type: 'text',\r\n                    passage:\r\n                      \"The process of impeachment is a power granted to the Legislative Branch to remove a federal official from office for 'Treason, Bribery, or other high Crimes and Misdemeanors.' The process involves two steps: The House of Representatives has the sole power to impeach (to formally accuse), and the Senate has the sole power to hold the trial and vote on removal.\",\r\n                    question:\r\n                      'In the impeachment process, what is the role of the House of Representatives?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'To conduct the trial of the impeached official.',\r\n                        rationale: 'The Senate conducts the trial.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'To formally accuse the official of wrongdoing (to impeach).',\r\n                        rationale:\r\n                          'Correct. The House acts as the grand jury, deciding whether there is enough evidence to bring formal charges, which is the act of impeachment.',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'To decide the punishment if the official is found guilty.',\r\n                        rationale:\r\n                          'The only punishment the Senate can issue is removal from office and disqualification from future office.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'To pardon the official if they are convicted.',\r\n                        rationale:\r\n                          'The power to pardon belongs to the President.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                id: 'ss_civics_legislative_quiz3',\r\n                title: 'The Legislative Branch: Quiz 3',\r\n                questions: [\r\n                  {\r\n                    questionNumber: 1,\r\n                    type: 'chart',\r\n                    passage: `<div class=\"passage-text\"><b>How a Bill Becomes a Law</b><br>1. Bill is Introduced in House or Senate.<br>2. Referred to Committee for study.<br>3. Floor Debate and Vote in the first chamber.<br>4. Bill is sent to the other chamber for the same process.<br>5. Conference Committee (if needed to resolve differences).<br>6. Final Vote in both chambers.<br>7. Sent to President.</div>`,\r\n                    question:\r\n                      'According to the chart, what happens immediately after a bill is introduced in the House of Representatives?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'It is sent to the Senate for a vote.',\r\n                        rationale:\r\n                          'The bill must go through the committee and floor process in the House first.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'It is referred to a committee for study and review.',\r\n                        rationale:\r\n                          'Correct. The chart shows that after introduction (Step 1), the bill is sent to a committee (Step 2).',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'It is debated on the floor of the House.',\r\n                        rationale:\r\n                          'Floor debate happens after the committee has reviewed the bill.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'It is sent directly to the President.',\r\n                        rationale:\r\n                          'The President is the last step in the process.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 2,\r\n                    type: 'knowledge',\r\n                    question:\r\n                      'A filibuster is a tactic used in the Senate to delay or block a vote on a bill. How can a filibuster be ended?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'By a simple majority vote of 51 senators.',\r\n                        rationale:\r\n                          'A simple majority is not enough to end a filibuster.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'By a vote for cloture, which requires a three-fifths majority (60 votes).',\r\n                        rationale:\r\n                          \"Correct. The Senate can invoke 'cloture' with 60 votes, which limits further debate and ends the filibuster.\",\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'By the President issuing an executive order.',\r\n                        rationale:\r\n                          'The President cannot interfere with the internal rules and procedures of the Senate.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'By the Speaker of a House calling for a vote.',\r\n                        rationale:\r\n                          'The Speaker of the House has no authority over Senate proceedings.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 3,\r\n                    type: 'text',\r\n                    passage:\r\n                      \"Congress has the 'power of the purse,' which is one of its most important checks on the executive branch. This means that Congress controls the nation's finances. It must approve the federal budget and authorize any spending by federal agencies. If Congress disagrees with a policy of the executive branch, it can refuse to provide funding for it.\",\r\n                    question:\r\n                      \"How does the 'power of the purse' allow Congress to check the executive branch?\",\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'By allowing Congress to impeach the President.',\r\n                        rationale:\r\n                          \"Impeachment is a separate power, not part of the 'power of the purse.'\",\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'By giving Congress the ability to control funding for executive branch programs and agencies.',\r\n                        rationale:\r\n                          'Correct. By controlling the money, Congress can limit or prevent the executive branch from carrying out certain actions.',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'By allowing Congress to declare executive orders unconstitutional.',\r\n                        rationale:\r\n                          'The power to declare actions unconstitutional belongs to the judicial branch.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'By giving Congress the power to appoint cabinet members.',\r\n                        rationale:\r\n                          'The President appoints cabinet members, though the Senate must confirm them.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 4,\r\n                    type: 'knowledge',\r\n                    question:\r\n                      \"What is the term for a member of the House or Senate who is chosen by their party to help plan the party's legislative strategy and ensure party members are present for important votes?\",\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'The Speaker of the House',\r\n                        rationale:\r\n                          'The Speaker is the presiding officer of the House, a higher leadership position.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'The President pro tempore',\r\n                        rationale:\r\n                          'This is a senior senator who presides over the Senate in the absence of the Vice President.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'The Whip',\r\n                        rationale:\r\n                          \"Correct. The majority and minority whips in both chambers are responsible for 'whipping up' support for their party's positions and making sure members are present for votes.\",\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'A Lobbyist',\r\n                        rationale:\r\n                          'Lobbyists are representatives of outside groups who try to influence Congress; they are not members of Congress.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 5,\r\n                    type: 'knowledge',\r\n                    question:\r\n                      \"If a representative in the House of Representatives serves a two-year term and a senator serves a six-year term, what is the ratio of a senator's term to a representative's term?\",\r\n                    answerOptions: [\r\n                      {\r\n                        text: '1:3',\r\n                        rationale: 'This ratio is inverted.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: '2:1',\r\n                        rationale:\r\n                          \"This would mean a representative's term is twice as long as a senator's.\",\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: '3:1',\r\n                        rationale:\r\n                          \"Correct. A senator's six-year term is three times as long as a representative's two-year term (6 years / 2 years = 3).\",\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: '1:2',\r\n                        rationale:\r\n                          \"This would mean a senator's term is half as long as a representative's.\",\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                ],\r\n              },\r\n            ],\r\n          },\r\n          {\r\n            id: 'ss_civics_executive',\r\n            title: 'The Executive Branch',\r\n            description: 'The President, The Cabinet, Powers of the President.',\r\n            quizzes: [\r\n              {\r\n                id: 'ss_civics_executive_quiz1',\r\n                title: 'The Executive Branch: Quiz 1',\r\n                questions: [\r\n                  {\r\n                    questionNumber: 1,\r\n                    type: 'text',\r\n                    passage:\r\n                      \"Article II of the Constitution establishes the Executive Branch, stating that 'The executive Power shall be vested in a President of the United States of America.' The president serves as both the head of state and head of government. To be eligible for the presidency, a person must be a natural-born citizen, at least 35 years old, and have been a resident of the United States for 14 years.\",\r\n                    question:\r\n                      'Which of the following is a constitutional requirement to become President of the United States?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'Must have previously served in Congress.',\r\n                        rationale:\r\n                          'There is no requirement for prior congressional service.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'Must be at least 35 years old.',\r\n                        rationale:\r\n                          'Correct. The passage and Article II of the Constitution specify a minimum age of 35.',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'Must be a member of either the Democratic or Republican party.',\r\n                        rationale:\r\n                          'The Constitution does not mention political parties.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'Must have been born in Washington, D.C.',\r\n                        rationale:\r\n                          \"The requirement is to be a 'natural-born citizen,' not to be born in a specific location.\",\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 2,\r\n                    type: 'knowledge',\r\n                    question:\r\n                      \"What is the primary role of the President's Cabinet?\",\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'To serve as the highest court in the country.',\r\n                        rationale: 'This is the role of the Supreme Court.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'To advise the President and lead the major executive departments.',\r\n                        rationale:\r\n                          'Correct. The Cabinet is composed of the heads of the 15 executive departments (e.g., Secretary of State, Secretary of Defense) and other key officials who advise the President.',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'To write and pass federal legislation.',\r\n                        rationale: 'This is the role of Congress.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'To conduct trials for impeached federal officials.',\r\n                        rationale: 'This is the role of the Senate.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 3,\r\n                    type: 'text',\r\n                    passage:\r\n                      'As Commander in Chief of the armed forces, the President has supreme command over the U.S. military. While Congress has the power to declare war, the President is responsible for directing military operations and strategy. This power ensures civilian control over the military.',\r\n                    question:\r\n                      \"What is the President's primary role as Commander in Chief?\",\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'To declare war on other countries.',\r\n                        rationale:\r\n                          'The passage explicitly states that Congress has the power to declare war.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'To personally lead troops into battle.',\r\n                        rationale:\r\n                          'The role is one of supreme command and direction, not personal combat.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'To exercise ultimate authority and direction over the military.',\r\n                        rationale:\r\n                          \"Correct. The passage identifies the President as having 'supreme command' and being responsible for 'directing military operations.'\",\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: \"To approve the military's budget.\",\r\n                        rationale:\r\n                          \"Congress controls the military's budget through its 'power of the purse.'\",\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 4,\r\n                    type: 'knowledge',\r\n                    question:\r\n                      'A presidential veto is the power of the President to refuse to approve a bill, thus preventing its enactment into law. This is a key part of what constitutional principle?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'Federalism',\r\n                        rationale:\r\n                          'Federalism is the division of power between the national and state governments.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'Judicial Review',\r\n                        rationale:\r\n                          'Judicial review is the power of the courts to declare laws unconstitutional.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'Checks and Balances',\r\n                        rationale:\r\n                          \"Correct. The veto is a primary example of the executive branch's 'check' on the power of the legislative branch.\",\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'Popular Sovereignty',\r\n                        rationale:\r\n                          'Popular sovereignty is the principle that government power comes from the people.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 5,\r\n                    type: 'text',\r\n                    passage:\r\n                      'An executive order is a directive issued by the President of the United States that manages operations of the federal government. Executive orders have the force of law but do not require the approval of Congress. However, they can be challenged in court and are subject to judicial review. They are often used to implement existing laws or to manage the administration of the executive branch.',\r\n                    question:\r\n                      'What is a key characteristic of an executive order?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'It must be approved by a two-thirds vote in the Senate.',\r\n                        rationale:\r\n                          \"The passage states that executive orders 'do not require the approval of Congress.'\",\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'It is a directive from the President that has the force of law without congressional approval.',\r\n                        rationale:\r\n                          'Correct. The passage defines an executive order as a presidential directive with the force of law that does not need to be passed by Congress.',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'It can overturn a Supreme Court ruling.',\r\n                        rationale:\r\n                          'The President cannot overturn a Supreme Court ruling with an executive order.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'It is permanent and cannot be changed by future presidents.',\r\n                        rationale:\r\n                          'Executive orders can be, and often are, reversed by subsequent presidents.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                id: 'ss_civics_executive_quiz2',\r\n                title: 'The Executive Branch: Quiz 2',\r\n                questions: [\r\n                  {\r\n                    questionNumber: 1,\r\n                    type: 'knowledge',\r\n                    question:\r\n                      'The President has the power to nominate ambassadors, cabinet members, and federal judges. Which body must confirm these appointments?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'The House of Representatives',\r\n                        rationale:\r\n                          'The House does not have a role in confirming presidential appointments.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'The Supreme Court',\r\n                        rationale:\r\n                          'The Supreme Court does not confirm appointments.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'The Senate',\r\n                        rationale:\r\n                          \"Correct. The Constitution gives the Senate the power of 'advice and consent' on these key presidential appointments.\",\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'The state governors',\r\n                        rationale:\r\n                          'State governors are not involved in federal appointments.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 2,\r\n                    type: 'knowledge',\r\n                    question:\r\n                      'What is the main purpose of the annual State of the Union address?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'To declare war on a foreign country.',\r\n                        rationale:\r\n                          'Declaring war is a formal power of Congress, not the purpose of this speech.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'For the President to present his legislative agenda and policy goals to Congress and the nation.',\r\n                        rationale:\r\n                          \"Correct. The Constitution requires the President to periodically inform Congress about the 'state of the union,' and it has evolved into a major annual speech to outline the President's agenda.\",\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'To formally open the new session of the Supreme Court.',\r\n                        rationale:\r\n                          'The Supreme Court operates independently of this presidential address.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'To announce the federal budget for the upcoming year.',\r\n                        rationale:\r\n                          'While the budget is discussed, the primary purpose is to outline a broad legislative and policy agenda.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 3,\r\n                    type: 'text',\r\n                    passage:\r\n                      'The 22nd Amendment to the Constitution, ratified in 1951, limits the president to two terms in office. This amendment was passed in response to President Franklin D. Roosevelt, who was elected to four terms.',\r\n                    question:\r\n                      'What is the maximum number of terms a person can be elected President of the United States?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'One',\r\n                        rationale: 'A president can serve two terms.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'Two',\r\n                        rationale:\r\n                          'Correct. The 22nd Amendment established a two-term limit for the presidency.',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'Four',\r\n                        rationale:\r\n                          'Franklin D. Roosevelt was elected to four terms, but the 22nd Amendment was passed to prevent this from happening again.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'There is no limit.',\r\n                        rationale: 'The 22nd Amendment created a term limit.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 4,\r\n                    type: 'knowledge',\r\n                    question:\r\n                      'If the President can no longer serve, the Vice President becomes President. Who is next in the line of presidential succession after the Vice President?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'The Secretary of State',\r\n                        rationale: 'The Secretary of State is fourth in line.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'The President pro tempore of the Senate',\r\n                        rationale: 'This official is third in line.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'The Speaker of the House of Representatives',\r\n                        rationale:\r\n                          'Correct. According to the Presidential Succession Act, the Speaker of the House is next in line after the Vice President.',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'The Chief Justice of the Supreme Court',\r\n                        rationale:\r\n                          'The Chief Justice is not in the line of presidential succession.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 5,\r\n                    type: 'text',\r\n                    passage:\r\n                      \"The President's Cabinet is composed of the heads of the 15 executive departments. For example, the Secretary of State leads the Department of State and is the President's chief foreign affairs adviser. The Secretary of the Treasury is responsible for the nation's economic and financial systems.\",\r\n                    question:\r\n                      'Based on the passage, the Secretary of State is a member of the Cabinet who advises the President on what matters?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'Military strategy',\r\n                        rationale:\r\n                          'Military advice is primarily the role of the Secretary of Defense and the Joint Chiefs of Staff.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'Foreign affairs',\r\n                        rationale:\r\n                          \"Correct. The passage explicitly states that the Secretary of State is the 'President's chief foreign affairs adviser.'\",\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'The federal budget',\r\n                        rationale:\r\n                          'This is primarily the responsibility of the Secretary of the Treasury and the Office of Management and Budget.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'Domestic law enforcement',\r\n                        rationale:\r\n                          'This is the responsibility of the Attorney General, who heads the Department of Justice.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                id: 'ss_civics_executive_quiz3',\r\n                title: 'The Executive Branch: Quiz 3',\r\n                questions: [\r\n                  {\r\n                    questionNumber: 1,\r\n                    type: 'knowledge',\r\n                    question:\r\n                      'The power of the President to grant a pardon for a federal crime is an example of what type of power?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'A legislative power',\r\n                        rationale: 'Legislative power relates to making laws.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'A judicial power',\r\n                        rationale:\r\n                          'Correct. The power to grant pardons and reprieves is a check on the judicial branch, allowing the President to forgive or lessen a criminal sentence.',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'An economic power',\r\n                        rationale: 'This power is not primarily economic.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'A military power',\r\n                        rationale: 'This power is not military in nature.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 2,\r\n                    type: 'text',\r\n                    passage:\r\n                      \"While the President has the power to negotiate treaties with foreign nations, these treaties do not become legally binding until they are approved by the Senate. This requirement is an important check on the President's foreign policy powers.\",\r\n                    question:\r\n                      'What is required for a treaty negotiated by the President to become law?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'Approval by a majority vote in the House of Representatives.',\r\n                        rationale:\r\n                          'The House of Representatives does not vote on treaties.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'A two-thirds majority vote of approval from the Senate.',\r\n                        rationale:\r\n                          'Correct. The Constitution requires a two-thirds vote in the Senate to ratify a treaty, a high bar that ensures significant consensus.',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'A unanimous vote from the Supreme Court.',\r\n                        rationale:\r\n                          'The Supreme Court does not ratify treaties.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'The signature of every state governor.',\r\n                        rationale:\r\n                          'State governors are not involved in the federal treaty process.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 3,\r\n                    type: 'knowledge',\r\n                    question:\r\n                      'The group of agencies and departments that implement and administer federal laws and programs is collectively known as the:',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'Federal Judiciary',\r\n                        rationale: 'This refers to the court system.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'Congress',\r\n                        rationale: 'This is the legislative branch.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'Federal Bureaucracy',\r\n                        rationale:\r\n                          'Correct. The federal bureaucracy includes all the executive departments, agencies, and commissions that carry out the work of the government.',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'Electoral College',\r\n                        rationale:\r\n                          'This is the body that formally elects the President.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 4,\r\n                    type: 'knowledge',\r\n                    question:\r\n                      \"Which executive department is responsible for overseeing the nation's military forces?\",\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'The Department of State',\r\n                        rationale:\r\n                          'The Department of State is responsible for foreign policy and diplomacy.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'The Department of Homeland Security',\r\n                        rationale:\r\n                          'Homeland Security is responsible for protecting the U.S. from threats like terrorism and managing borders.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'The Department of Defense',\r\n                        rationale:\r\n                          'Correct. Headed by the Secretary of Defense, this department is responsible for all branches of the U.S. military.',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'The Department of Justice',\r\n                        rationale:\r\n                          'The Department of Justice is responsible for federal law enforcement.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 5,\r\n                    type: 'chart',\r\n                    passage: `<div class=\"passage-text\"><b>Presidential Executive Orders Issued (Selected Presidents)</b><br><table class=\"w-full text-left mt-2\"><thead><tr><th class=\"p-2 border-b\">President</th><th class=\"p-2 border-b\">Executive Orders Issued</th></tr></thead><tbody><tr class=\"border-b\"><td class=\"p-2\">Theodore Roosevelt</td><td class=\"p-2\">1,081</td></tr><tr class=\"border-b\"><td class=\"p-2\">Woodrow Wilson</td><td class=\"p-2\">1,803</td></tr><tr class=\"border-b\"><td class=\"p-2\">Franklin D. Roosevelt</td><td class=\"p-2\">3,721</td></tr><tr class=\"border-b\"><td class=\"p-2\">Harry S. Truman</td><td class=\"p-2\">907</td></tr><tr class=\"border-b\"><td class=\"p-2\">Dwight D. Eisenhower</td><td class=\"p-2\">484</td></tr></tbody></table></div>`,\r\n                    question:\r\n                      'According to the chart, which president issued more than twice as many executive orders as Woodrow Wilson?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'Theodore Roosevelt',\r\n                        rationale:\r\n                          'Theodore Roosevelt (1,081) issued fewer than Woodrow Wilson (1,803).',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'Harry S. Truman',\r\n                        rationale:\r\n                          'Harry S. Truman (907) issued far fewer than Woodrow Wilson (1,803).',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'Franklin D. Roosevelt',\r\n                        rationale:\r\n                          'Correct. Franklin D. Roosevelt issued 3,721 executive orders, which is more than double the 1,803 issued by Woodrow Wilson (1803 * 2 = 3606).',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'Dwight D. Eisenhower',\r\n                        rationale:\r\n                          'Dwight D. Eisenhower (484) issued the fewest on the chart.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                ],\r\n              },\r\n            ],\r\n          },\r\n          {\r\n            id: 'ss_civics_judicial',\r\n            title: 'The Judicial Branch',\r\n            description: 'The Supreme Court, Judicial Review, Landmark Cases.',\r\n            quizzes: [\r\n              {\r\n                id: 'ss_civics_judicial_quiz1',\r\n                title: 'The Judicial Branch: Quiz 1',\r\n                questions: [\r\n                  {\r\n                    questionNumber: 1,\r\n                    type: 'text',\r\n                    passage:\r\n                      \"Article III of the Constitution establishes the Judicial Branch of the federal government. It creates the Supreme Court and gives Congress the power to create lower federal courts. Federal judges, including Supreme Court justices, are appointed by the President and confirmed by the Senate. They hold their offices 'during good Behaviour,' which generally means for life.\",\r\n                    question:\r\n                      'How long is the term for a Supreme Court justice?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'A ten-year term.',\r\n                        rationale: 'Justices do not have a fixed term length.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'For life, or until they choose to retire.',\r\n                        rationale:\r\n                          \"Correct. The phrase 'during good Behaviour' has been interpreted to mean that justices serve for life, ensuring an independent judiciary free from political pressure.\",\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'A six-year term, the same as a senator.',\r\n                        rationale:\r\n                          'Senators serve six-year terms, but Supreme Court justices serve for life.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'They must be re-appointed by each new President.',\r\n                        rationale:\r\n                          'Once appointed and confirmed, justices do not need to be re-appointed.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 2,\r\n                    type: 'knowledge',\r\n                    question:\r\n                      'What is the highest court in the United States federal court system?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'The Court of Appeals',\r\n                        rationale:\r\n                          'The Courts of Appeals are intermediate federal courts, below the Supreme Court.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'The District Court',\r\n                        rationale:\r\n                          'District Courts are the trial courts of the federal system, at the lowest level.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'The Supreme Court',\r\n                        rationale:\r\n                          'Correct. The Supreme Court is the highest federal court and has the final say on matters of constitutional law.',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'The State Supreme Court',\r\n                        rationale:\r\n                          'Each state has its own supreme court, but the U.S. Supreme Court is the highest court for federal law.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 3,\r\n                    type: 'text',\r\n                    passage:\r\n                      'The power of judicial review is one of the most important powers of the Supreme Court. This principle, established in the 1803 case of Marbury v. Madison, allows the Court to review laws and actions taken by the legislative and executive branches and to determine whether they are constitutional. If the Court finds a law to be unconstitutional, it is nullified.',\r\n                    question:\r\n                      'What does the power of judicial review allow the Supreme Court to do?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'To write new laws to replace ones it finds unconstitutional.',\r\n                        rationale:\r\n                          'The Court can only strike down laws; it cannot write new ones. That is a legislative power.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'To declare laws passed by Congress and signed by the President to be unconstitutional.',\r\n                        rationale:\r\n                          'Correct. This is the core function of judicial reviewensuring that laws adhere to the Constitution.',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'To veto bills before they are signed by the President.',\r\n                        rationale:\r\n                          'The power to veto bills belongs to the President.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'To impeach the President for unconstitutional actions.',\r\n                        rationale:\r\n                          'The power of impeachment belongs to Congress.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 4,\r\n                    type: 'knowledge',\r\n                    question:\r\n                      'Which landmark Supreme Court case established the principle of judicial review?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'Plessy v. Ferguson',\r\n                        rationale:\r\n                          \"Plessy v. Ferguson established the 'separate but equal' doctrine.\",\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'Brown v. Board of Education',\r\n                        rationale:\r\n                          \"Brown v. Board of Education overturned 'separate but equal' in public schools.\",\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'Marbury v. Madison',\r\n                        rationale:\r\n                          \"Correct. In this 1803 case, Chief Justice John Marshall asserted the Court's power to review and nullify acts of Congress, establishing the principle of judicial review.\",\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'Miranda v. Arizona',\r\n                        rationale:\r\n                          'Miranda v. Arizona established the requirement for police to inform suspects of their rights.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 5,\r\n                    type: 'text',\r\n                    passage:\r\n                      \"The Supreme Court consists of a Chief Justice and eight Associate Justices. For a case to be heard by the Supreme Court, at least four of the nine justices must agree to grant a writ of certiorarian order for a lower court to send up the records of a case for review. This is known as the 'rule of four.'\",\r\n                    question: \"What is the 'rule of four'?\",\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'The requirement that a case must be reviewed by at least four lower courts before it can reach the Supreme Court.',\r\n                        rationale: 'There is no such requirement.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'The minimum number of justices required to be present to hear a case.',\r\n                        rationale:\r\n                          'This describes a quorum, not the rule of four.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'The number of justices required to agree for a decision to be made in a case.',\r\n                        rationale:\r\n                          'A majority (usually five justices) is needed to decide a case.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'The minimum number of justices who must agree to hear a case before it is taken up by the Court.',\r\n                        rationale:\r\n                          \"Correct. The 'rule of four' is the informal practice that the Court will hear a case if four of the nine justices agree to do so.\",\r\n                        isCorrect: true,\r\n                      },\r\n                    ],\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                id: 'ss_civics_judicial_quiz2',\r\n                title: 'The Judicial Branch: Quiz 2',\r\n                questions: [\r\n                  {\r\n                    questionNumber: 1,\r\n                    type: 'knowledge',\r\n                    question:\r\n                      'The landmark case of Gideon v. Wainwright (1963) affirmed the right of the accused to what?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'The right to a trial by jury.',\r\n                        rationale:\r\n                          'This right is in the 6th Amendment but was not the subject of this case.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'The right to legal counsel (a lawyer), even if they cannot afford one.',\r\n                        rationale:\r\n                          \"Correct. The Court ruled that the 6th Amendment's guarantee of counsel is a fundamental right essential to a fair trial and must be provided to indigent defendants in felony cases.\",\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'The right to remain silent.',\r\n                        rationale:\r\n                          'This was central to the Miranda v. Arizona case.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'Protection from unreasonable searches.',\r\n                        rationale: 'This is the focus of the 4th Amendment.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 2,\r\n                    type: 'text',\r\n                    passage:\r\n                      \"In the case of Tinker v. Des Moines (1969), the Supreme Court ruled on the free speech rights of students in public schools. Students had worn black armbands to protest the Vietnam War and were suspended. The Court famously stated that students do not 'shed their constitutional rights to freedom of speech or expression at the schoolhouse gate.'\",\r\n                    question:\r\n                      \"What principle was established by the Supreme Court's decision in Tinker v. Des Moines?\",\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'That students have no free speech rights in public schools.',\r\n                        rationale: 'The ruling affirmed the opposite.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'That schools can ban any form of student expression they disagree with.',\r\n                        rationale:\r\n                          'The ruling limited the ability of schools to ban expression.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'That students have a right to symbolic speech at school, as long as it does not substantially disrupt the educational environment.',\r\n                        rationale:\r\n                          \"Correct. This case established that students' symbolic speech (like wearing armbands) is protected under the First Amendment unless it causes a significant disruption.\",\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'That only spoken speech, not symbolic speech, is protected in schools.',\r\n                        rationale:\r\n                          'The case specifically protected symbolic speech.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 3,\r\n                    type: 'knowledge',\r\n                    question:\r\n                      \"The Supreme Court case Miranda v. Arizona (1966) led to the creation of the 'Miranda warning.' What does this warning inform criminal suspects of?\",\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'Their right to a speedy trial.',\r\n                        rationale:\r\n                          'This is a 6th Amendment right, but not part of the Miranda warning.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'Their right to confront their accusers.',\r\n                        rationale:\r\n                          'This is also a 6th Amendment right, but not part of the Miranda warning.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'Their right to remain silent and their right to an attorney.',\r\n                        rationale:\r\n                          'Correct. The Miranda warning ensures that suspects are aware of their Fifth Amendment right against self-incrimination and their Sixth Amendment right to counsel before they are interrogated.',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'Their right to be free from cruel and unusual punishment.',\r\n                        rationale:\r\n                          'This is an 8th Amendment right, relevant after conviction, not during interrogation.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 4,\r\n                    type: 'knowledge',\r\n                    question:\r\n                      'When the Supreme Court justices are deciding a case, the official decision of the Court is called the:',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'Dissenting opinion',\r\n                        rationale:\r\n                          'A dissenting opinion is written by justices who disagree with the official decision.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'Concurring opinion',\r\n                        rationale:\r\n                          'A concurring opinion is written by justices who agree with the outcome but for different legal reasons.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'Majority opinion',\r\n                        rationale:\r\n                          \"Correct. The majority opinion explains the legal reasoning behind the Court's final decision and sets the precedent for future cases.\",\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'Writ of certiorari',\r\n                        rationale:\r\n                          'This is the order the Court issues to agree to hear a case, not the decision itself.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 5,\r\n                    type: 'text',\r\n                    passage:\r\n                      \"The Supreme Court's decision in Brown v. Board of Education (1954) was a pivotal moment in the Civil Rights Movement. The Court unanimously ruled that state-sponsored segregation of public schools was unconstitutional because 'separate educational facilities are inherently unequal.' This decision overturned the 'separate but equal' doctrine established by Plessy v. Ferguson in 1896.\",\r\n                    question:\r\n                      'What legal precedent did Brown v. Board of Education overturn?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'The principle of judicial review.',\r\n                        rationale:\r\n                          'This case was an example of judicial review, it did not overturn it.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: \"The 'separate but equal' doctrine.\",\r\n                        rationale:\r\n                          \"Correct. The passage explicitly states that the Brown decision overturned the 'separate but equal' precedent set by Plessy v. Ferguson.\",\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'The right to a fair trial.',\r\n                        rationale:\r\n                          'This case was about segregation, not trial rights.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'The legality of poll taxes.',\r\n                        rationale:\r\n                          'Poll taxes were addressed by a constitutional amendment.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                id: 'ss_civics_judicial_quiz3',\r\n                title: 'The Judicial Branch: Quiz 3',\r\n                questions: [\r\n                  {\r\n                    questionNumber: 1,\r\n                    type: 'knowledge',\r\n                    question:\r\n                      'The power to create lower federal courts, such as district courts and courts of appeals, belongs to which branch of government?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'The Executive Branch',\r\n                        rationale:\r\n                          'The President appoints judges, but does not create the courts themselves.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'The Judicial Branch',\r\n                        rationale:\r\n                          'The judiciary operates the courts, but Article III gives Congress the power to establish them.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'The Legislative Branch',\r\n                        rationale:\r\n                          \"Correct. Article III of the Constitution explicitly gives Congress the authority to 'ordain and establish' courts inferior to the Supreme Court.\",\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'The state governments',\r\n                        rationale:\r\n                          'State governments create state courts, not federal courts.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 2,\r\n                    type: 'text',\r\n                    passage:\r\n                      \"The Supreme Court has two main types of jurisdiction: original and appellate. Original jurisdiction means the Court hears a case for the first time. This is rare and typically involves disputes between states. Most of the Court's cases are heard on appellate jurisdiction, meaning the Court is hearing an appeal of a decision made by a lower court.\",\r\n                    question:\r\n                      'Most cases that reach the Supreme Court are heard through which type of jurisdiction?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'Original jurisdiction',\r\n                        rationale:\r\n                          'The passage states that original jurisdiction is rare.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'Appellate jurisdiction',\r\n                        rationale:\r\n                          \"Correct. The passage states that 'Most of the Court's cases are heard on appellate jurisdiction.'\",\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'Concurrent jurisdiction',\r\n                        rationale:\r\n                          \"Concurrent jurisdiction means a case could be heard in either state or federal court, but it doesn't describe how a case gets to the Supreme Court.\",\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'Exclusive jurisdiction',\r\n                        rationale:\r\n                          'Exclusive jurisdiction means a case can only be heard in a particular court, but most Supreme Court cases are appeals.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 3,\r\n                    type: 'knowledge',\r\n                    question:\r\n                      'What is the term for a previous court ruling that is used as a basis for deciding a current case with similar facts or issues?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'A statute',\r\n                        rationale:\r\n                          'A statute is a written law passed by a legislature.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'An amendment',\r\n                        rationale:\r\n                          'An amendment is a change to the Constitution.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'A precedent',\r\n                        rationale:\r\n                          'Correct. The principle of following precedent, known as stare decisis, is a cornerstone of the American legal system, ensuring consistency and predictability in the law.',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'A filibuster',\r\n                        rationale:\r\n                          'A filibuster is a tactic used in the Senate.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 4,\r\n                    type: 'knowledge',\r\n                    question:\r\n                      'The landmark case Roe v. Wade (1973), which was overturned in 2022, dealt with which constitutional issue?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'The right to bear arms.',\r\n                        rationale: 'This is covered by the Second Amendment.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'Freedom of the press.',\r\n                        rationale: 'This is covered by the First Amendment.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'The right to privacy and abortion.',\r\n                        rationale:\r\n                          \"Correct. Roe v. Wade established a woman's constitutional right to an abortion, based on the right to privacy implied in the Constitution.\",\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'The separation of church and state.',\r\n                        rationale: 'This is covered by the First Amendment.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 5,\r\n                    type: 'chart',\r\n                    passage: `<div class=\"passage-text\"><b>Supreme Court Justices by Appointing President (1981-2022)</b><table class=\"w-full text-left mt-2\"><thead><tr><th class=\"p-2 border-b\">President</th><th class=\"p-2 border-b\">Number of Appointments</th></tr></thead><tbody><tr class=\"border-b\"><td class=\"p-2\">Ronald Reagan</td><td class=\"p-2\">4</td></tr><tr class=\"border-b\"><td class=\"p-2\">George H.W. Bush</td><td class=\"p-2\">2</td></tr><tr class=\"border-b\"><td class=\"p-2\">Bill Clinton</td><td class=\"p-2\">2</td></tr><tr class=\"border-b\"><td class=\"p-2\">George W. Bush</td><td class=\"p-2\">2</td></tr><tr class=\"border-b\"><td class=\"p-2\">Barack Obama</td><td class=\"p-2\">2</td></tr><tr class=\"border-b\"><td class=\"p-2\">Donald Trump</td><td class=\"p-2\">3</td></tr><tr class=\"border-b\"><td class=\"p-2\">Joe Biden</td><td class=\"p-2\">1</td></tr></tbody></table></div>`,\r\n                    question:\r\n                      'What is the mode of the number of appointments shown in the chart?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: '1',\r\n                        rationale: '1 appears only once.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: '2',\r\n                        rationale:\r\n                          'Correct. The number 2 appears most frequently in the data set (four times).',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: '3',\r\n                        rationale: '3 appears only once.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: '4',\r\n                        rationale: '4 appears only once.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                ],\r\n              },\r\n            ],\r\n          },\r\n          {\r\n            id: 'ss_civics_federalism_elections',\r\n            title: 'Federalism & Elections',\r\n            description:\r\n              'Federal vs. State Powers, The Electoral College, Political Parties.',\r\n            quizzes: [\r\n              {\r\n                id: 'ss_civics_federalism_elections_quiz1',\r\n                title: 'Federalism & Elections: Quiz 1',\r\n                questions: [\r\n                  {\r\n                    questionNumber: 1,\r\n                    type: 'text',\r\n                    passage:\r\n                      'Federalism is a system of government in which power is divided between a central, national government and various regional governments, such as states. The U.S. Constitution establishes this system by granting certain powers to the federal government (enumerated powers), reserving other powers for the states (reserved powers), and allowing some powers to be shared by both (concurrent powers).',\r\n                    question:\r\n                      'Which of the following is the best definition of federalism?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'A system where all power is held by a single, central government.',\r\n                        rationale:\r\n                          'This describes a unitary system, not federalism.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'A system where power is divided between a national government and state governments.',\r\n                        rationale:\r\n                          'Correct. Federalism is characterized by this division of power between different levels of government.',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'A system where the government is divided into three separate branches.',\r\n                        rationale:\r\n                          'This describes the separation of powers, not federalism.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'A system where the people vote directly on all laws.',\r\n                        rationale:\r\n                          'This describes a direct democracy, not federalism.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 2,\r\n                    type: 'knowledge',\r\n                    question:\r\n                      'The power to coin money, declare war, and make treaties are all examples of what type of power in the U.S. federal system?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'Reserved powers',\r\n                        rationale: 'Reserved powers belong to the states.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'Concurrent powers',\r\n                        rationale:\r\n                          'Concurrent powers are shared by both federal and state governments.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'Enumerated powers',\r\n                        rationale:\r\n                          'Correct. These powers are explicitly listed, or enumerated, in the Constitution as belonging to the federal government.',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'Implied powers',\r\n                        rationale:\r\n                          'Implied powers are not explicitly listed but are considered necessary to carry out expressed powers.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 3,\r\n                    type: 'text',\r\n                    passage:\r\n                      \"The Tenth Amendment to the Constitution states that powers not delegated to the federal government, nor prohibited to the states, are reserved for the states or the people. These 'reserved powers' form the basis of state authority over many aspects of daily life.\",\r\n                    question:\r\n                      'Which of the following is the best example of a reserved power held by state governments?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'Regulating interstate commerce.',\r\n                        rationale:\r\n                          'The Constitution gives the power to regulate commerce between the states to the federal government.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'Conducting elections.',\r\n                        rationale:\r\n                          'Correct. While the federal government sets some general rules, states are responsible for the administration of elections, including setting up polling places and printing ballots.',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'Negotiating treaties with foreign countries.',\r\n                        rationale:\r\n                          'This is an enumerated power of the federal government.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'Maintaining an army and a navy.',\r\n                        rationale:\r\n                          'This is an enumerated power of the federal government.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 4,\r\n                    type: 'knowledge',\r\n                    question:\r\n                      'Powers that are shared by both the federal government and state governments, such as the power to tax and build roads, are known as:',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'Concurrent powers',\r\n                        rationale:\r\n                          \"Correct. 'Concurrent' means happening at the same time, and these are powers that both levels of government can exercise.\",\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'Reserved powers',\r\n                        rationale: 'Reserved powers belong only to the states.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'Enumerated powers',\r\n                        rationale:\r\n                          'Enumerated powers belong only to the federal government.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'Delegated powers',\r\n                        rationale:\r\n                          'Delegated powers are those specifically granted to the federal government.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 5,\r\n                    type: 'text',\r\n                    passage:\r\n                      \"The President of the United States is not elected by a direct popular vote. Instead, the election is decided by the Electoral College. In this system, each state is assigned a number of electors equal to its total number of representatives in Congress (House + Senate). In most states, the candidate who wins the popular vote in that state wins all of that state's electoral votes.\",\r\n                    question:\r\n                      'How is the number of electoral votes for each state determined?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'It is based on the physical size of the state.',\r\n                        rationale:\r\n                          'The number of electoral votes is based on population, not land area.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'Each state receives the same number of electoral votes.',\r\n                        rationale:\r\n                          'The number of votes varies greatly from state to state based on population.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: \"It is equal to the state's total number of Senators and Representatives in Congress.\",\r\n                        rationale:\r\n                          'Correct. The passage clearly states this is how the number of electors is determined.',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'It is determined by the state governor.',\r\n                        rationale:\r\n                          'The number is determined by the census and congressional apportionment, not the governor.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                id: 'ss_civics_federalism_elections_quiz2',\r\n                title: 'Federalism & Elections: Quiz 2',\r\n                questions: [\r\n                  {\r\n                    questionNumber: 1,\r\n                    type: 'knowledge',\r\n                    question:\r\n                      'How many total electoral votes are there, and how many are needed to win the presidency?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: '100 total; 51 to win.',\r\n                        rationale:\r\n                          'This is related to the number of senators, not the Electoral College.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: '435 total; 218 to win.',\r\n                        rationale:\r\n                          'This is related to the number of representatives, not the Electoral College.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: '538 total; 270 to win.',\r\n                        rationale:\r\n                          'Correct. There are 538 electoral votes in total (435 Representatives + 100 Senators + 3 for Washington D.C.). A majority, 270, is needed to win.',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: '1,000 total; 501 to win.',\r\n                        rationale: 'These numbers are incorrect.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 2,\r\n                    type: 'text',\r\n                    passage:\r\n                      'A major criticism of the Electoral College is that it is possible for a candidate to win the presidency without winning the national popular vote. This happens if a candidate wins by narrow margins in several large states, while their opponent wins by large margins in fewer states. This has occurred in several U.S. presidential elections, including in 2000 and 2016.',\r\n                    question:\r\n                      'What is a major criticism of the Electoral College system?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'It gives too much power to the most populous states.',\r\n                        rationale:\r\n                          'While large states have many votes, the system can be criticized for giving disproportionate power to smaller states.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'It is possible to become president without winning the most individual votes nationwide.',\r\n                        rationale:\r\n                          'Correct. The passage identifies this as a major criticism, as it can lead to a result where the winner of the popular vote loses the election.',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'It is too expensive to operate.',\r\n                        rationale:\r\n                          'Cost is not a primary criticism of the system.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'It makes it too difficult for any candidate to win.',\r\n                        rationale:\r\n                          'The system is designed to produce a clear winner.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 3,\r\n                    type: 'knowledge',\r\n                    question:\r\n                      'What is the primary function of political parties in the United States?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'To enforce federal laws.',\r\n                        rationale: 'This is the role of the executive branch.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'To interpret the Constitution.',\r\n                        rationale: 'This is the role of the judicial branch.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'To nominate candidates for office, mobilize voters, and try to control the government.',\r\n                        rationale:\r\n                          'Correct. Political parties are organizations that share a common ideology and work to elect their members to government positions to influence policy.',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'To remain neutral in all political matters.',\r\n                        rationale:\r\n                          'Political parties are inherently partisan and exist to compete for power.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 4,\r\n                    type: 'text',\r\n                    passage:\r\n                      'The United States has a two-party system, which has been dominated by the Democratic and Republican parties for most of its history. While third parties, such as the Libertarian or Green parties, exist and can influence elections, they have rarely won major national offices. The winner-take-all nature of most elections makes it very difficult for third parties to gain a foothold.',\r\n                    question:\r\n                      'According to the passage, why is it difficult for third parties to succeed in the U.S. political system?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'Because they are illegal in most states.',\r\n                        rationale: 'Third parties are legal.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'Because they are not allowed to raise money.',\r\n                        rationale:\r\n                          'Third parties can raise money, though it is often more difficult for them.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: \"Because the 'winner-take-all' electoral system makes it hard for them to win elections.\",\r\n                        rationale:\r\n                          'Correct. In a winner-take-all system, even a party with significant support (e.g., 15-20% of the vote) wins no representation, which discourages voters and donors from supporting them.',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'Because they are not allowed to participate in presidential debates.',\r\n                        rationale:\r\n                          'While debate access is a challenge, the core structural problem is the winner-take-all system.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 5,\r\n                    type: 'knowledge',\r\n                    question:\r\n                      'What is the term for an election held to choose which candidate will represent a political party in the general election?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'A general election',\r\n                        rationale:\r\n                          'The general election is the final contest between the party nominees.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'A primary election',\r\n                        rationale:\r\n                          'Correct. In a primary election (or caucus), voters select which candidate they want their party to nominate for office.',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'A recall election',\r\n                        rationale:\r\n                          'A recall election is a procedure to remove an elected official from office.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'A referendum',\r\n                        rationale:\r\n                          'A referendum is a vote on a specific law or policy, not a candidate.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                id: 'ss_civics_federalism_elections_quiz3',\r\n                title: 'Federalism & Elections: Quiz 3',\r\n                questions: [\r\n                  {\r\n                    questionNumber: 1,\r\n                    type: 'text',\r\n                    passage:\r\n                      \"Political ideologies in the U.S. are often described on a spectrum. Generally, those on the 'left' (often associated with the Democratic party) tend to favor more government intervention in the economy and more support for social programs. Those on the 'right' (often associated with the Republican party) tend to favor less government intervention, lower taxes, and a stronger emphasis on individual responsibility.\",\r\n                    question:\r\n                      'A politician who advocates for less government regulation of business and lower taxes would most likely be described as being on which side of the political spectrum?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'The left',\r\n                        rationale:\r\n                          'The left generally favors more government regulation and social programs funded by taxes.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'The right',\r\n                        rationale:\r\n                          'Correct. Favoring less government intervention in the economy and lower taxes are core principles generally associated with the political right in the U.S.',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'The center',\r\n                        rationale:\r\n                          'A centrist might hold a mix of views, but a strong stance on less regulation and lower taxes is characteristic of the right.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'Unaffiliated',\r\n                        rationale:\r\n                          'This describes a lack of party membership, not an ideological position.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 2,\r\n                    type: 'knowledge',\r\n                    question:\r\n                      'The process of redrawing legislative district boundaries every 10 years after the census is known as:',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'Gerrymandering',\r\n                        rationale:\r\n                          'Gerrymandering is the manipulation of these boundaries to favor one party, but the process itself is called redistricting.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'Redistricting',\r\n                        rationale:\r\n                          'Correct. Redistricting is the process of redrawing electoral district boundaries to account for population shifts.',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'Filibustering',\r\n                        rationale: 'This is a tactic used in the Senate.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'Lobbying',\r\n                        rationale:\r\n                          'This is the act of trying to influence lawmakers.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 3,\r\n                    type: 'text',\r\n                    passage:\r\n                      \"Gerrymandering is the practice of drawing electoral district boundaries in a way that gives one political party an unfair advantage over another. This can be done by 'packing' an opposing party's voters into a few districts or 'cracking' them into many districts where they will be a minority. While redistricting is a normal process, gerrymandering is a controversial and often criticized manipulation of that process.\",\r\n                    question: 'What is the primary goal of gerrymandering?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'To create districts of equal population size.',\r\n                        rationale:\r\n                          'This is the goal of redistricting, but gerrymandering manipulates this process for political gain.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'To create a political advantage for one party by manipulating district boundaries.',\r\n                        rationale:\r\n                          \"Correct. The passage defines gerrymandering as drawing districts to give one party an 'unfair advantage.'\",\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'To make elections more competitive.',\r\n                        rationale:\r\n                          \"Gerrymandering often makes elections less competitive by creating 'safe' districts for one party.\",\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'To ensure that districts are geographically compact.',\r\n                        rationale:\r\n                          'Gerrymandered districts are often bizarrely shaped to achieve a political outcome.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 4,\r\n                    type: 'knowledge',\r\n                    question:\r\n                      'Which of the following is a right of U.S. citizens but NOT a responsibility?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'Voting in elections',\r\n                        rationale:\r\n                          'Voting is both a right and a civic responsibility, but it is not legally required.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'Paying taxes',\r\n                        rationale:\r\n                          'Paying taxes is a legal requirement and a responsibility.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'Freedom of speech',\r\n                        rationale:\r\n                          'Correct. Freedom of speech is a fundamental right guaranteed by the First Amendment. While using it responsibly is encouraged, it is not a required civic duty like paying taxes or serving on a jury.',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'Serving on a jury',\r\n                        rationale:\r\n                          'Serving on a jury when called is a legal requirement and a civic responsibility.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                  {\r\n                    questionNumber: 5,\r\n                    type: 'chart',\r\n                    passage: `<div class=\"passage-text\"><b>Hypothetical Election Results</b><br><table class=\"w-full text-left mt-2\"><thead><tr><th class=\"p-2 border-b\">Candidate</th><th class=\"p-2 border-b\">Popular Vote</th><th class=\"p-2 border-b\">Electoral Votes</th></tr></thead><tbody><tr class=\"border-b\"><td class=\"p-2\">Candidate A</td><td class=\"p-2\">65,853,514</td><td class=\"p-2\">232</td></tr><tr class=\"border-b\"><td class=\"p-2\">Candidate B</td><td class=\"p-2\">62,984,828</td><td class=\"p-2\">306</td></tr></tbody></table></div>`,\r\n                    question:\r\n                      'Based on the chart of these hypothetical election results, who would win the presidency?',\r\n                    answerOptions: [\r\n                      {\r\n                        text: 'Candidate A, because they won the popular vote.',\r\n                        rationale:\r\n                          'Winning the popular vote does not guarantee winning the presidency.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'Candidate B, because they won the necessary number of electoral votes.',\r\n                        rationale:\r\n                          'Correct. A candidate needs 270 electoral votes to win. Candidate B has 306, which is more than enough, despite having fewer popular votes.',\r\n                        isCorrect: true,\r\n                      },\r\n                      {\r\n                        text: 'It would be a tie, and the House of Representatives would decide.',\r\n                        rationale:\r\n                          'There is no tie; Candidate B has a clear majority of electoral votes.',\r\n                        isCorrect: false,\r\n                      },\r\n                      {\r\n                        text: 'Neither candidate, because the popular vote and electoral vote winners are different.',\r\n                        rationale:\r\n                          'In this scenario, the Electoral College result is what determines the winner.',\r\n                        isCorrect: false,\r\n                      },\r\n                    ],\r\n                  },\r\n                ],\r\n              },\r\n            ],\r\n          },\r\n        ],\r\n      },\r\n      Economics: {\r\n        description:\r\n          'Learn about key economic principles and the U.S. economy.',\r\n        topics: [\r\n          {\r\n            id: 'ss_econ_foundations',\r\n            title: 'Foundational Concepts',\r\n            description: 'Scarcity, Opportunity Cost, Supply and Demand.',\r\n            questions: [\r\n              {\r\n                questionNumber: 1,\r\n                type: 'text',\r\n                passage:\r\n                  'The fundamental problem of economics is scarcity. Scarcity means that human wants for goods, services, and resources exceed what is available. Resources, such as labor, tools, land, and raw materials, are limited. This scarcity forces individuals, businesses, and governments to make choices.',\r\n                question: 'What is the basic economic problem of scarcity?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'There is not enough money in the economy.',\r\n                    rationale:\r\n                      'While money can be limited, scarcity refers to the limited availability of actual resources and goods.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'That resources are limited, but human wants are unlimited.',\r\n                    rationale:\r\n                      'Correct. Scarcity is the conflict between unlimited wants and limited resources, which necessitates making choices.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'That the government controls all the resources.',\r\n                    rationale:\r\n                      'This describes a specific type of economy, not the universal problem of scarcity.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'That there is a temporary shortage of a specific good.',\r\n                    rationale:\r\n                      'A shortage is a temporary condition, whereas scarcity is a permanent, fundamental economic problem.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 2,\r\n                type: 'knowledge',\r\n                question:\r\n                  'When you make a choice, the value of the next-best alternative that you give up is called the:',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'Opportunity cost',\r\n                    rationale:\r\n                      'Correct. Opportunity cost is the value of the most valuable alternative that was not chosen.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'Scarcity',\r\n                    rationale:\r\n                      'Scarcity is the condition that forces choices, but it is not the value of the foregone alternative.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Supply',\r\n                    rationale:\r\n                      'Supply refers to the amount of a good or service available.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Demand',\r\n                    rationale:\r\n                      'Demand refers to the desire and ability to purchase a good or service.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 3,\r\n                type: 'text',\r\n                passage:\r\n                  'Imagine you have $20. You can either buy a new video game or go to the movies with a friend. You cannot do both. You decide to buy the video game. The experience of going to the movies with your friend is the opportunity cost of your decision.',\r\n                question:\r\n                  'In this scenario, what is the opportunity cost of buying the video game?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'The $20 you spent.',\r\n                    rationale:\r\n                      'The money spent is the price, not the opportunity cost. The opportunity cost is what you gave up.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'The video game itself.',\r\n                    rationale:\r\n                      'The video game is what you gained, not what you gave up.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'The enjoyment of going to the movies with a friend.',\r\n                    rationale:\r\n                      'Correct. The opportunity cost is the value of the next-best alternative you sacrificed, which in this case was the movie outing.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'There is no opportunity cost because you got what you wanted.',\r\n                    rationale: 'Every choice has an opportunity cost.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 4,\r\n                type: 'knowledge',\r\n                question:\r\n                  'The Law of Demand states that, all other factors being equal, as the price of a good or service increases, the quantity demanded will:',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'Increase',\r\n                    rationale: 'This is the opposite of the Law of Demand.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Decrease',\r\n                    rationale:\r\n                      'Correct. This inverse relationship between price and quantity demanded is the fundamental principle of the Law of Demand.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'Stay the same',\r\n                    rationale:\r\n                      'The Law of Demand describes a change in quantity demanded as price changes.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Become unpredictable',\r\n                    rationale:\r\n                      'The Law of Demand predicts a specific relationship.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 5,\r\n                type: 'knowledge',\r\n                question:\r\n                  'The Law of Supply states that, all other factors being equal, as the price of a good or service increases, the quantity supplied by producers will:',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'Increase',\r\n                    rationale:\r\n                      'Correct. Producers are willing to supply more of a good at a higher price because it is more profitable.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'Decrease',\r\n                    rationale:\r\n                      'This describes the Law of Demand, not the Law of Supply.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Stay the same',\r\n                    rationale:\r\n                      'The Law of Supply describes a change in quantity supplied as price changes.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Become zero',\r\n                    rationale:\r\n                      'Suppliers are more, not less, willing to sell at higher prices.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 6,\r\n                type: 'image',\r\n                imageUrl:\r\n                  'Images/Social Studies/Questions-are-based-on-the-following-graph.-7 (1).png',\r\n                question:\r\n                  'This graph shows a standard supply and demand model. The point where the supply curve and the demand curve intersect is known as:',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'The point of surplus',\r\n                    rationale:\r\n                      'A surplus occurs when the price is above this point.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'The point of shortage',\r\n                    rationale:\r\n                      'A shortage occurs when the price is below this point.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'The equilibrium point',\r\n                    rationale:\r\n                      'Correct. The equilibrium point (or market equilibrium) is where the quantity supplied equals the quantity demanded.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'The price ceiling',\r\n                    rationale:\r\n                      'A price ceiling is a government-imposed maximum price, not the natural intersection of supply and demand.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 7,\r\n                type: 'text',\r\n                passage:\r\n                  'In a market, when the current price of a product is above the equilibrium price, the quantity supplied will exceed the quantity demanded. This situation creates a surplus, as producers have more of the product than consumers are willing to buy at that high price. To sell the excess inventory, producers will typically lower the price.',\r\n                question:\r\n                  'What happens when the price of a good is set above the equilibrium price?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'A shortage occurs, and prices tend to rise.',\r\n                    rationale:\r\n                      'A shortage occurs when the price is below equilibrium.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'A surplus occurs, and prices tend to fall.',\r\n                    rationale:\r\n                      'Correct. A surplus (quantity supplied > quantity demanded) puts downward pressure on prices as sellers try to get rid of excess stock.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'The market remains in equilibrium.',\r\n                    rationale:\r\n                      'The market is in disequilibrium when the price is not at the equilibrium level.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'The demand for the good increases.',\r\n                    rationale:\r\n                      'According to the Law of Demand, a higher price causes quantity demanded to decrease, not increase.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 8,\r\n                type: 'text',\r\n                passage:\r\n                  'Conversely, when the current price of a product is below the equilibrium price, the quantity demanded will exceed the quantity supplied. This situation creates a shortage, as consumers want to buy more of the product than producers are willing to sell at that low price. This excess demand will cause the price to be bid up.',\r\n                question:\r\n                  'What happens when the price of a good is set below the equilibrium price?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'A shortage occurs, and prices tend to rise.',\r\n                    rationale:\r\n                      'Correct. A shortage (quantity demanded > quantity supplied) puts upward pressure on prices as buyers compete for the limited goods.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'A surplus occurs, and prices tend to fall.',\r\n                    rationale:\r\n                      'A surplus occurs when the price is above equilibrium.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'The market remains in equilibrium.',\r\n                    rationale: 'The market is in disequilibrium.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'The supply of the good increases.',\r\n                    rationale:\r\n                      'According to the Law of Supply, a lower price causes quantity supplied to decrease, not increase.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 9,\r\n                type: 'knowledge',\r\n                question:\r\n                  'Which of the following would likely cause the demand curve for coffee to shift to the right (an increase in demand)?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'A new study showing that coffee is bad for your health.',\r\n                    rationale:\r\n                      'This would likely decrease demand, shifting the curve to the left.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'An increase in the price of coffee beans.',\r\n                    rationale:\r\n                      'This would affect the supply curve, not the demand curve.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'A successful advertising campaign that makes coffee more popular.',\r\n                    rationale:\r\n                      'Correct. A change in consumer tastes or preferences, such as that caused by a successful ad campaign, would increase the demand for coffee at every price level, shifting the entire curve to the right.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'A decrease in the price of tea, a substitute good.',\r\n                    rationale:\r\n                      'If a substitute good becomes cheaper, the demand for coffee would likely decrease, shifting the curve to the left.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 10,\r\n                type: 'knowledge',\r\n                question:\r\n                  'Which of the following would likely cause the supply curve for cars to shift to the left (a decrease in supply)?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'A decrease in the price of cars.',\r\n                    rationale:\r\n                      'A change in price causes a movement along the supply curve, not a shift of the curve itself.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'A new technology that makes car manufacturing cheaper and faster.',\r\n                    rationale:\r\n                      'This would increase supply, shifting the curve to the right.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'An increase in the wages of autoworkers.',\r\n                    rationale:\r\n                      'Correct. An increase in the cost of an input (like labor) makes production more expensive, so producers are willing to supply fewer cars at every price level, shifting the supply curve to the left.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'An increase in the number of consumers who want to buy cars.',\r\n                    rationale:\r\n                      'This would affect the demand curve, not the supply curve.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 11,\r\n                type: 'knowledge',\r\n                question:\r\n                  'The resources used to produce goods and services are known as the factors of production. Which of the following is NOT considered a factor of production?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'Land (natural resources)',\r\n                    rationale: 'Land is one of the four factors of production.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Labor (human effort)',\r\n                    rationale:\r\n                      'Labor is one of the four factors of production.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Capital (tools, machinery, and buildings)',\r\n                    rationale:\r\n                      'Capital is one of the four factors of production.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Money (currency)',\r\n                    rationale:\r\n                      'Correct. In economics, money is a medium of exchange used to acquire factors of production, but it is not a factor of production itself.',\r\n                    isCorrect: true,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 12,\r\n                type: 'text',\r\n                passage:\r\n                  \"In economics, a distinction is made between a change in 'quantity demanded' and a change in 'demand.' A change in quantity demanded is a movement along the demand curve caused only by a change in the price of the good itself. A change in demand is a shift of the entire curve, caused by factors other than price, such as changes in income, consumer tastes, or the price of related goods.\",\r\n                question:\r\n                  'A decrease in the price of gasoline causes people to buy more gasoline. This is an example of:',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'an increase in demand.',\r\n                    rationale:\r\n                      'This is a change in quantity demanded, not a shift of the entire demand curve.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'a decrease in demand.',\r\n                    rationale: 'The amount purchased increased.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'an increase in quantity demanded.',\r\n                    rationale:\r\n                      \"Correct. The change in the amount purchased is a direct response to a change in the good's own price, which is a movement along the existing demand curve.\",\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'a decrease in quantity demanded.',\r\n                    rationale: 'The amount purchased increased, not decreased.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 13,\r\n                type: 'knowledge',\r\n                question:\r\n                  'Goods that are often used together, like hot dogs and hot dog buns, are called:',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'Substitute goods',\r\n                    rationale:\r\n                      'Substitute goods are used in place of each other, like tea and coffee.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Complementary goods',\r\n                    rationale:\r\n                      'Correct. Complementary goods are products that are consumed together. If the price of one goes up, the demand for the other tends to fall.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'Inferior goods',\r\n                    rationale:\r\n                      'An inferior good is one for which demand decreases as income rises.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Normal goods',\r\n                    rationale:\r\n                      'A normal good is one for which demand increases as income rises.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 14,\r\n                type: 'text',\r\n                passage:\r\n                  'If a new, highly efficient machine for harvesting wheat is invented, it will lower the cost of production for farmers. This change will affect the market for wheat.',\r\n                question:\r\n                  'How will this new harvesting machine most likely affect the market for wheat?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'It will cause the supply curve to shift to the right, leading to a lower equilibrium price and higher equilibrium quantity.',\r\n                    rationale:\r\n                      'Correct. A technology that lowers production costs increases supply (shifts the curve right). This new, higher supply intersects the demand curve at a lower price and a higher quantity.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'It will cause the supply curve to shift to the left, leading to a higher equilibrium price.',\r\n                    rationale:\r\n                      'A cost-saving technology increases supply, it does not decrease it.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'It will cause the demand curve to shift to the right, leading to a higher equilibrium price.',\r\n                    rationale:\r\n                      'A change in production technology affects supply, not demand.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'It will cause the demand curve to shift to the left, leading to a lower equilibrium price.',\r\n                    rationale:\r\n                      'A change in production technology affects supply, not demand.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 15,\r\n                type: 'chart',\r\n                passage: `<div class=\"passage-text\"><b>Production Possibilities for a Small Farm</b><br><table class=\"w-full text-left mt-2\"><thead><tr><th class=\"p-2 border-b\">Choice</th><th class=\"p-2 border-b\">Bushels of Corn</th><th class=\"p-2 border-b\">Bushels of Soybeans</th></tr></thead><tbody><tr class=\"border-b\"><td class=\"p-2\">A</td><td class=\"p-2\">100</td><td class=\"p-2\">0</td></tr><tr class=\"border-b\"><td class=\"p-2\">B</td><td class=\"p-2\">80</td><td class=\"p-2\">30</td></tr><tr class=\"border-b\"><td class=\"p-2\">C</td><td class=\"p-2\">50</td><td class=\"p-2\">50</td></tr><tr class=\"border-b\"><td class=\"p-2\">D</td><td class=\"p-2\">0</td><td class=\"p-2\">60</td></tr></tbody></table></div>`,\r\n                question:\r\n                  'Based on the chart, what is the opportunity cost of increasing soybean production from 30 bushels (Choice B) to 50 bushels (Choice C)?',\r\n                answerOptions: [\r\n                  {\r\n                    text: '80 bushels of corn',\r\n                    rationale:\r\n                      'This is the amount of corn produced at Choice B, not the amount given up.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: '50 bushels of soybeans',\r\n                    rationale:\r\n                      'This is the new amount of soybeans, not the cost.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: '30 bushels of corn',\r\n                    rationale:\r\n                      'Correct. To increase soybean production from 30 to 50 (a gain of 20), corn production must decrease from 80 to 50, which is a loss of 30 bushels. This is the opportunity cost.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: '20 bushels of soybeans',\r\n                    rationale:\r\n                      'This is the amount of soybeans gained, not the cost in terms of corn.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n            ],\r\n          },\r\n          {\r\n            id: 'ss_econ_us_economy',\r\n            title: 'The U.S. Economy',\r\n            description:\r\n              'Market Systems, Role of Government, Fiscal vs. Monetary Policy.',\r\n            questions: [\r\n              {\r\n                questionNumber: 1,\r\n                type: 'text',\r\n                passage:\r\n                  'The United States has a mixed economy, which means it combines elements of both capitalism (market economy) and socialism (command economy). While it is primarily a market-based system where private individuals and businesses make most of the economic decisions, the government plays a significant role in regulation, social welfare, and providing public goods.',\r\n                question:\r\n                  \"Why is the U.S. economy considered a 'mixed economy'?\",\r\n                answerOptions: [\r\n                  {\r\n                    text: 'Because it only trades with a mix of different countries.',\r\n                    rationale:\r\n                      'A mixed economy refers to its internal structure, not its trading partners.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Because it combines elements of a market system with government intervention.',\r\n                    rationale:\r\n                      'Correct. It blends private enterprise with government regulation and programs, which is the definition of a mixed economy.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'Because it has a mix of agricultural and industrial sectors.',\r\n                    rationale:\r\n                      \"Most modern economies have a mix of sectors; this does not define it as a 'mixed economy' in the economic sense.\",\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Because all economic decisions are made by a mix of the President and Congress.',\r\n                    rationale:\r\n                      'In the U.S. system, most economic decisions are made by private individuals and businesses, not just the government.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 2,\r\n                type: 'knowledge',\r\n                question:\r\n                  'In a pure market economy (capitalism), who makes the decisions about what to produce, how to produce it, and for whom to produce?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'The government',\r\n                    rationale: 'This is characteristic of a command economy.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Private individuals and firms',\r\n                    rationale:\r\n                      'Correct. In a market system, these decisions are driven by the interactions of supply and demand between private producers and consumers.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'A council of economic experts',\r\n                    rationale:\r\n                      'This would be a form of central planning, not a market economy.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Foreign investors',\r\n                    rationale:\r\n                      'While foreign investment can be important, it does not drive the fundamental economic decisions in a market system.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 3,\r\n                type: 'knowledge',\r\n                question:\r\n                  'Which of the following is the best example of a public good that the government provides in the U.S. economy?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'Automobiles',\r\n                    rationale:\r\n                      'Automobiles are private goods produced by private companies.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'National defense',\r\n                    rationale:\r\n                      \"Correct. National defense is a classic example of a public good; it is non-excludable (everyone is protected) and non-rivalrous (one person's protection doesn't reduce another's).\",\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'Groceries',\r\n                    rationale:\r\n                      'Groceries are private goods sold in private markets.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Smartphones',\r\n                    rationale:\r\n                      'Smartphones are private goods produced by private companies.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 4,\r\n                type: 'text',\r\n                passage:\r\n                  'The government plays a role in the U.S. economy by enforcing regulations to protect consumers, workers, and the environment. For example, the Food and Drug Administration (FDA) ensures that foods and medicines are safe. The Occupational Safety and Health Administration (OSHA) sets standards for workplace safety.',\r\n                question:\r\n                  'What is the primary purpose of government agencies like the FDA and OSHA?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'To maximize the profits of businesses.',\r\n                    rationale:\r\n                      'These agencies often impose costs on businesses in the interest of public safety, which may reduce profits.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'To provide public goods and services.',\r\n                    rationale:\r\n                      'Their primary role is regulation, not direct provision of goods.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'To regulate businesses to protect public health and safety.',\r\n                    rationale:\r\n                      'Correct. The passage clearly states that these agencies protect consumers (FDA) and workers (OSHA) by setting and enforcing safety standards.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'To control the prices of all goods and services.',\r\n                    rationale:\r\n                      'The U.S. government does not control the prices of most goods.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 5,\r\n                type: 'knowledge',\r\n                question:\r\n                  \"The total value of all final goods and services produced within a country's borders in a specific time period is known as:\",\r\n                answerOptions: [\r\n                  {\r\n                    text: 'The national debt',\r\n                    rationale:\r\n                      'The national debt is the total amount of money the government owes.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'The inflation rate',\r\n                    rationale:\r\n                      'Inflation is the rate at which the general level of prices is rising.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Gross Domestic Product (GDP)',\r\n                    rationale:\r\n                      \"Correct. GDP is the primary measure of a country's economic output and health.\",\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'The unemployment rate',\r\n                    rationale:\r\n                      'The unemployment rate measures the percentage of the labor force that is jobless.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 6,\r\n                type: 'text',\r\n                passage:\r\n                  'Fiscal policy refers to the use of government spending and taxation to influence the economy. It is conducted by Congress and the President. To combat a recession, the government might use expansionary fiscal policy, which involves increasing government spending or decreasing taxes to boost economic activity.',\r\n                question:\r\n                  'Which of the following is an example of expansionary fiscal policy?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'The central bank increasing interest rates.',\r\n                    rationale:\r\n                      'This is an example of monetary policy, not fiscal policy.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'The government increasing taxes on corporations.',\r\n                    rationale:\r\n                      'Increasing taxes is an example of contractionary fiscal policy, designed to slow down the economy.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'The government funding a large-scale project to build new highways and bridges.',\r\n                    rationale:\r\n                      'Correct. This is an example of increasing government spending to create jobs and stimulate economic growth, which is a hallmark of expansionary fiscal policy.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'The government reducing its spending on social programs.',\r\n                    rationale:\r\n                      'Reducing government spending is an example of contractionary fiscal policy.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 7,\r\n                type: 'knowledge',\r\n                question:\r\n                  \"Monetary policy involves managing the nation's money supply and credit conditions to influence the economy. In the United States, which institution is responsible for conducting monetary policy?\",\r\n                answerOptions: [\r\n                  {\r\n                    text: 'The U.S. Congress',\r\n                    rationale: 'Congress conducts fiscal policy.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'The President',\r\n                    rationale:\r\n                      'The President, along with Congress, conducts fiscal policy.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'The U.S. Treasury',\r\n                    rationale:\r\n                      \"The Treasury manages the government's finances but does not conduct monetary policy.\",\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'The Federal Reserve (the Fed)',\r\n                    rationale:\r\n                      'Correct. The Federal Reserve is the central bank of the United States and is responsible for setting interest rates and managing the money supply.',\r\n                    isCorrect: true,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 8,\r\n                type: 'text',\r\n                passage:\r\n                  'To combat inflation (a rapid rise in prices), the Federal Reserve might use contractionary monetary policy. This typically involves raising interest rates. Higher interest rates make it more expensive for consumers and businesses to borrow money, which slows down spending and helps to reduce inflationary pressure.',\r\n                question:\r\n                  'According to the passage, why would the Federal Reserve raise interest rates?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'To encourage more borrowing and spending.',\r\n                    rationale:\r\n                      'Raising interest rates discourages borrowing and spending.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'To fight high inflation.',\r\n                    rationale:\r\n                      'Correct. The passage states that raising interest rates is a tool of contractionary monetary policy used to combat inflation.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'To stimulate the economy during a recession.',\r\n                    rationale:\r\n                      'To stimulate the economy, the Fed would lower interest rates.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'To increase the national debt.',\r\n                    rationale:\r\n                      \"The Fed's actions are not intended to increase the national debt.\",\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 9,\r\n                type: 'knowledge',\r\n                question:\r\n                  'The business cycle describes the recurring phases of expansion and contraction in an economy. What is a period of significant economic decline, characterized by falling GDP and rising unemployment, called?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'A peak',\r\n                    rationale:\r\n                      'A peak is the highest point of an economic expansion.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'An expansion',\r\n                    rationale: 'An expansion is a period of economic growth.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'A recession',\r\n                    rationale:\r\n                      'Correct. A recession is a period of economic downturn, often officially defined as two consecutive quarters of negative GDP growth.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'A trough',\r\n                    rationale:\r\n                      'A trough is the lowest point of a recession before recovery begins.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 10,\r\n                type: 'knowledge',\r\n                question:\r\n                  'Inflation is the rate at which the general level of prices for goods and services is rising, and subsequently, purchasing power is falling. Who is most likely to be hurt by unexpected inflation?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'People who have borrowed money at a fixed interest rate.',\r\n                    rationale:\r\n                      'These people benefit, as they repay their loans with money that is worth less than when they borrowed it.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'People on a fixed income, such as retirees.',\r\n                    rationale:\r\n                      'Correct. If prices are rising but your income is not, your purchasing power (the amount of goods you can buy) decreases significantly.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'The government, which has a large national debt.',\r\n                    rationale:\r\n                      'Like other borrowers, the government benefits from repaying its debt with less valuable money.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'People who own assets that increase in value with inflation, like real estate.',\r\n                    rationale:\r\n                      'These people are often protected from or may even benefit from inflation.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 11,\r\n                type: 'knowledge',\r\n                question:\r\n                  'What is the primary difference between fiscal policy and monetary policy?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'Fiscal policy is used during recessions, while monetary policy is used during expansions.',\r\n                    rationale:\r\n                      'Both types of policy can be used during any phase of the business cycle.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Fiscal policy deals with government spending and taxes, while monetary policy deals with the money supply and interest rates.',\r\n                    rationale:\r\n                      'Correct. This is the fundamental distinction: fiscal policy is handled by the government (Congress/President), while monetary policy is handled by the central bank (the Fed).',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'Fiscal policy affects the national economy, while monetary policy only affects state economies.',\r\n                    rationale: 'Both policies affect the national economy.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Fiscal policy is set by the President, while monetary policy is set by the Supreme Court.',\r\n                    rationale:\r\n                      'Fiscal policy is set by Congress and the President; monetary policy is set by the Federal Reserve.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 12,\r\n                type: 'image',\r\n                imageUrl:\r\n                  'Images/Social Studies/Questions-are-based-on-the-following-graph.-6 (1).png',\r\n                question:\r\n                  'This chart shows the unemployment rate in the U.S. over time. A sharp spike in the unemployment rate, like the ones seen around 2009 and 2020, is typically associated with which phase of the business cycle?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'Expansion',\r\n                    rationale:\r\n                      'During an expansion, unemployment typically falls.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Recession',\r\n                    rationale:\r\n                      'Correct. Recessions are periods of economic decline where businesses lay off workers, causing a sharp increase in the unemployment rate.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'Peak',\r\n                    rationale:\r\n                      'A peak is the point just before a recession begins, where unemployment is usually at its lowest.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Trough',\r\n                    rationale:\r\n                      'A trough is the bottom of a recession, where unemployment is at its highest, just before it starts to fall again.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 13,\r\n                type: 'knowledge',\r\n                question:\r\n                  'A progressive tax is a tax system in which the tax rate increases as the taxable amount increases. Which of the following is the best example of a progressive tax in the United States?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'Sales tax',\r\n                    rationale:\r\n                      'Sales tax is a regressive tax, as it takes a larger percentage of income from low-income earners.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Federal income tax',\r\n                    rationale:\r\n                      'Correct. The U.S. federal income tax system is progressive, with higher income brackets being taxed at a higher percentage rate.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'Property tax',\r\n                    rationale:\r\n                      'Property tax is generally considered a proportional or slightly regressive tax.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Gasoline tax',\r\n                    rationale:\r\n                      \"This is a regressive tax, as it is a flat amount per gallon and thus represents a larger share of a lower-income person's budget.\",\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 14,\r\n                type: 'text',\r\n                passage:\r\n                  'Globalization refers to the increasing interconnectedness of economies around the world. This includes the growth of international trade, investment, and the flow of information and technology across borders. While it can lead to economic growth and lower prices for consumers, it can also lead to job losses in domestic industries that cannot compete with foreign producers.',\r\n                question:\r\n                  'According to the passage, what is a potential negative consequence of globalization?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'Higher prices for consumers.',\r\n                    rationale:\r\n                      'The passage states that globalization can lead to lower prices.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'A decrease in international trade.',\r\n                    rationale:\r\n                      'Globalization is characterized by an increase in international trade.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Job losses in domestic industries.',\r\n                    rationale:\r\n                      'Correct. The passage identifies job losses in industries that face competition from foreign producers as a potential negative outcome.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'A slowdown in the spread of new technology.',\r\n                    rationale:\r\n                      'The passage states that globalization involves the increased flow of technology across borders.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 15,\r\n                type: 'knowledge',\r\n                question:\r\n                  \"If the U.S. government's spending in a given year is greater than its revenue from taxes, the result is a:\",\r\n                answerOptions: [\r\n                  {\r\n                    text: 'Budget surplus',\r\n                    rationale:\r\n                      'A surplus occurs when revenue is greater than spending.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Balanced budget',\r\n                    rationale:\r\n                      'A balanced budget occurs when revenue equals spending.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Budget deficit',\r\n                    rationale:\r\n                      'Correct. A budget deficit is the shortfall that occurs when government spending exceeds revenue in a single year. The national debt is the accumulation of all past deficits.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'Trade deficit',\r\n                    rationale:\r\n                      'A trade deficit relates to the balance of imports and exports, not government spending and revenue.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n            ],\r\n          },\r\n        ],\r\n      },\r\n      'Geography and the World': {\r\n        description: 'Develop skills in interpreting maps, charts, and data.',\r\n        topics: [\r\n          {\r\n            id: 'ss_geo_map_skills',\r\n            title: 'Map & Data Skills',\r\n            description:\r\n              'Reading Maps, Charts, and Graphs (Mean, Median, Mode).',\r\n            questions: [\r\n              {\r\n                questionNumber: 1,\r\n                type: 'chart',\r\n                passage: `<div class=\"passage-text\"><b>Monthly Rainfall in Springfield (Inches)</b><br><table class=\"w-full text-left mt-2\"><thead><tr><th class=\"p-2 border-b\">Month</th><th class=\"p-2 border-b\">Rainfall</th></tr></thead><tbody><tr class=\"border-b\"><td class=\"p-2\">Jan</td><td class=\"p-2\">3</td></tr><tr class=\"border-b\"><td class=\"p-2\">Feb</td><td class=\"p-2\">2</td></tr><tr class=\"border-b\"><td class=\"p-2\">Mar</td><td class=\"p-2\">4</td></tr><tr class=\"border-b\"><td class=\"p-2\">Apr</td><td class=\"p-2\">4</td></tr><tr class=\"border-b\"><td class=\"p-2\">May</td><td class=\"p-2\">5</td></tr></tbody></table></div>`,\r\n                question:\r\n                  'What is the mean (average) monthly rainfall for the period shown in the chart?',\r\n                answerOptions: [\r\n                  {\r\n                    text: '3.6 inches',\r\n                    rationale:\r\n                      'Correct. To find the mean, add the values (3 + 2 + 4 + 4 + 5 = 18) and divide by the number of values (5). 18 / 5 = 3.6.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: '4 inches',\r\n                    rationale:\r\n                      '4 is the mode (most frequent value) and the median, but not the mean.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: '5 inches',\r\n                    rationale: '5 is the maximum rainfall in a single month.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: '18 inches',\r\n                    rationale: '18 is the total rainfall, not the average.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 2,\r\n                type: 'chart',\r\n                passage: `<div class=\"passage-text\"><b>Monthly Rainfall in Springfield (Inches)</b><br><table class=\"w-full text-left mt-2\"><thead><tr><th class=\"p-2 border-b\">Month</th><th class=\"p-2 border-b\">Rainfall</th></tr></thead><tbody><tr class=\"border-b\"><td class=\"p-2\">Jan</td><td class=\"p-2\">3</td></tr><tr class=\"border-b\"><td class=\"p-2\">Feb</td><td class=\"p-2\">2</td></tr><tr class=\"border-b\"><td class=\"p-2\">Mar</td><td class=\"p-2\">4</td></tr><tr class=\"border-b\"><td class=\"p-2\">Apr</td><td class=\"p-2\">4</td></tr><tr class=\"border-b\"><td class=\"p-2\">May</td><td class=\"p-2\">5</td></tr></tbody></table></div>`,\r\n                question:\r\n                  'What is the median rainfall for the period shown in the chart?',\r\n                answerOptions: [\r\n                  {\r\n                    text: '2 inches',\r\n                    rationale: '2 is the minimum value.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: '3.6 inches',\r\n                    rationale: 'This is the mean, not the median.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: '4 inches',\r\n                    rationale:\r\n                      'Correct. To find the median, first order the numbers: 2, 3, 4, 4, 5. The median is the middle value, which is 4.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: '5 inches',\r\n                    rationale: '5 is the maximum value.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 3,\r\n                type: 'chart',\r\n                passage: `<div class=\"passage-text\"><b>Monthly Rainfall in Springfield (Inches)</b><br><table class=\"w-full text-left mt-2\"><thead><tr><th class=\"p-2 border-b\">Month</th><th class=\"p-2 border-b\">Rainfall</th></tr></thead><tbody><tr class=\"border-b\"><td class=\"p-2\">Jan</td><td class=\"p-2\">3</td></tr><tr class=\"border-b\"><td class=\"p-2\">Feb</td><td class=\"p-2\">2</td></tr><tr class=\"border-b\"><td class=\"p-2\">Mar</td><td class=\"p-2\">4</td></tr><tr class=\"border-b\"><td class=\"p-2\">Apr</td><td class=\"p-2\">4</td></tr><tr class=\"border-b\"><td class=\"p-2\">May</td><td class=\"p-2\">5</td></tr></tbody></table></div>`,\r\n                question:\r\n                  'What is the mode of the rainfall data shown in the chart?',\r\n                answerOptions: [\r\n                  {\r\n                    text: '3 inches',\r\n                    rationale: '3 appears only once.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: '3.6 inches',\r\n                    rationale: 'This is the mean.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: '4 inches',\r\n                    rationale:\r\n                      'Correct. The mode is the value that appears most frequently in a data set. The number 4 appears twice, more than any other value.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: '5 inches',\r\n                    rationale: '5 appears only once.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 4,\r\n                type: 'image',\r\n                imageUrl: '/images/Social Studies/political-map-of-world.jpg',\r\n                question:\r\n                  'This world map shows Gross Domestic Product (GDP) per capita, with darker colors representing higher GDP per capita. According to the map, which of these regions generally has the highest GDP per capita?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'Central Africa',\r\n                    rationale:\r\n                      'Central Africa is shown in the lightest shades, indicating lower GDP per capita.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'South America',\r\n                    rationale:\r\n                      'South America is shown in light to medium shades.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'North America and Western Europe',\r\n                    rationale:\r\n                      'Correct. The United States, Canada, and countries in Western Europe are shown in the darkest shades, indicating the highest GDP per capita.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'Southeast Asia',\r\n                    rationale: 'Southeast Asia is shown in lighter shades.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 5,\r\n                type: 'image',\r\n                imageUrl: '/images/Social Studies/political-map-of-world.jpg',\r\n                question:\r\n                  \"Based on the map's key, which shows that darker colors represent higher GDP per capita, what can be inferred about the economic status of Australia?\",\r\n                answerOptions: [\r\n                  {\r\n                    text: 'It has one of the lowest GDPs per capita in the world.',\r\n                    rationale:\r\n                      'Australia is shown in one of the darkest shades.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'It has a GDP per capita comparable to that of Western Europe and North America.',\r\n                    rationale:\r\n                      'Correct. Australia is shaded with the same dark color as the United States, Canada, and Western European countries, indicating a similar high level of GDP per capita.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'It has a GDP per capita similar to that of most countries in Africa.',\r\n                    rationale:\r\n                      'Most countries in Africa are shown in the lightest shades, indicating much lower GDP per capita.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: \"The map does not provide enough information to determine Australia's economic status.\",\r\n                    rationale:\r\n                      'The map clearly shows Australia and provides a key for interpretation.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 6,\r\n                type: 'chart',\r\n                passage: `<div class=\"passage-text\"><b>Favorite Pizza Toppings of 100 Students</b><br><img src=\"/images/social studies bar graph.png\" alt=\"A bar chart showing pizza topping preferences. Pepperoni is at 45, Mushrooms at 20, Onions at 15, Sausage at 12, and Olives at 8.\" class=\"bg-white p-2 rounded\"></div>`,\r\n                question:\r\n                  'According to the bar chart, which two toppings are the most popular?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'Onions and Olives',\r\n                    rationale: 'These are two of the least popular toppings.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Pepperoni and Mushrooms',\r\n                    rationale:\r\n                      'Correct. Pepperoni is the most popular with 45 votes, and Mushrooms are the second most popular with 20 votes.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'Sausage and Olives',\r\n                    rationale: 'These are the two least popular toppings.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Pepperoni and Sausage',\r\n                    rationale:\r\n                      'While Pepperoni is the most popular, Sausage is the fourth most popular.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 7,\r\n                type: 'chart',\r\n                passage: `<div class=\"passage-text\"><b>Favorite Pizza Toppings of 100 Students</b><br><img src=\"/images/social studies bar graph.png\" alt=\"A bar chart showing pizza topping preferences. Pepperoni is at 45, Mushrooms at 20, Onions at 15, Sausage at 12, and Olives at 8.\" class=\"bg-white p-2 rounded\"></div>`,\r\n                question:\r\n                  'How many more students chose Pepperoni than chose Sausage?',\r\n                answerOptions: [\r\n                  {\r\n                    text: '25',\r\n                    rationale:\r\n                      'This is the difference between Pepperoni (45) and Mushrooms (20).',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: '30',\r\n                    rationale:\r\n                      'This is the difference between Pepperoni (45) and Onions (15).',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: '33',\r\n                    rationale:\r\n                      'Correct. Pepperoni received 45 votes and Sausage received 12 votes. 45 - 12 = 33.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: '37',\r\n                    rationale:\r\n                      'This is the difference between Pepperoni (45) and Olives (8).',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 8,\r\n                type: 'chart',\r\n                passage: `<div class=\"passage-text\"><b>Company Profits (in millions)</b><br><img src=\"/images/World energy consuption line graph.png\" alt=\"A line graph showing profits over time. 2016: $1.5M, 2017: $1.8M, 2018: $1.7M, 2019: $2.1M, 2020: $2.5M\" class=\"bg-white p-2 rounded\"></div>`,\r\n                question:\r\n                  \"According to the line graph, in which year did the company's profits decrease compared to the previous year?\",\r\n                answerOptions: [\r\n                  {\r\n                    text: '2017',\r\n                    rationale:\r\n                      'In 2017, profits increased from $1.5M to $1.8M.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: '2018',\r\n                    rationale:\r\n                      'Correct. In 2018, profits fell to $1.7M from $1.8M in 2017.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: '2019',\r\n                    rationale:\r\n                      'In 2019, profits increased from $1.7M to $2.1M.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: '2020',\r\n                    rationale:\r\n                      'In 2020, profits increased from $2.1M to $2.5M.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 9,\r\n                type: 'chart',\r\n                passage: `<div class=\"passage-text\"><b>Company Profits (in millions)</b><br><img src=\"/images/World energy consuption line graph.png\" alt=\"A line graph showing profits over time. 2016: $1.5M, 2017: $1.8M, 2018: $1.7M, 2019: $2.1M, 2020: $2.5M\" class=\"bg-white p-2 rounded\"></div>`,\r\n                question:\r\n                  'What was the approximate total profit for the company over the 5-year period shown?',\r\n                answerOptions: [\r\n                  {\r\n                    text: '$2.5 million',\r\n                    rationale: 'This was the profit for 2020 alone.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: '$5.3 million',\r\n                    rationale: 'This is an incorrect sum.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: '$9.6 million',\r\n                    rationale:\r\n                      'Correct. Adding the approximate profits for each year: 1.5 + 1.8 + 1.7 + 2.1 + 2.5 = 9.6.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: '$1.92 million',\r\n                    rationale:\r\n                      'This is the mean (average) profit, not the total.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 10,\r\n                type: 'image',\r\n                imageUrl: '/images/Social Studies/licensed-image (16).jpg',\r\n                question:\r\n                  'This is a political map of South America. Which country is located on the west coast of the continent, bordering Peru, Bolivia, and Argentina?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'Brazil',\r\n                    rationale:\r\n                      'Brazil is the largest country, located on the east coast.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Colombia',\r\n                    rationale:\r\n                      'Colombia is in the northwest, bordering Peru but not Bolivia or Argentina.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Chile',\r\n                    rationale:\r\n                      'Correct. The map shows Chile as a long, narrow country on the west coast, with borders matching the description.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'Venezuela',\r\n                    rationale:\r\n                      'Venezuela is on the northern coast of the continent.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 11,\r\n                type: 'image',\r\n                imageUrl: '/images/Social Studies/licensed-image (16).jpg',\r\n                question:\r\n                  \"Using the map's scale of miles, the approximate distance from the capital of Colombia (Bogot) to the capital of Venezuela (Caracas) is:\",\r\n                answerOptions: [\r\n                  {\r\n                    text: 'About 100 miles',\r\n                    rationale: 'This distance is significantly underestimated.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'About 600 miles',\r\n                    rationale:\r\n                      'Correct. By visually applying the map scale, the distance between the two capitals is approximately 600 miles.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'About 1,500 miles',\r\n                    rationale: 'This distance is significantly overestimated.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'About 2,000 miles',\r\n                    rationale: 'This is a vast overestimation.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 12,\r\n                type: 'chart',\r\n                passage: `<div class=\"passage-text\"><b>Test Scores for a Class of 7 Students</b><br>The test scores are: 72, 85, 88, 90, 91, 91, 99</div>`,\r\n                question: 'What is the mode of the test scores?',\r\n                answerOptions: [\r\n                  {\r\n                    text: '88',\r\n                    rationale: 'This is the median score.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: '88._14',\r\n                    rationale: 'This is the mean (average) score.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: '91',\r\n                    rationale:\r\n                      'Correct. The mode is the value that appears most often. The score 91 appears twice, while all other scores appear only once.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: '27',\r\n                    rationale: 'This is the range (99 - 72), not the mode.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 13,\r\n                type: 'chart',\r\n                passage: `<div class=\"passage-text\"><b>Test Scores for a Class of 7 Students</b><br>The test scores are: 72, 85, 88, 90, 91, 91, 99</div>`,\r\n                question: 'What is the median of the test scores?',\r\n                answerOptions: [\r\n                  {\r\n                    text: '90',\r\n                    rationale:\r\n                      '90 is one of the scores, but not the middle one.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: '91',\r\n                    rationale: '91 is the mode, not the median.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: '88',\r\n                    rationale:\r\n                      'Correct. The scores are already in order. The median is the middle value in a data set. In this set of 7 scores, the 4th score is the middle one.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: '88.14',\r\n                    rationale: 'This is the mean (average) score.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 14,\r\n                type: 'chart',\r\n                passage: `<div class=\"passage-text\"><b>Test Scores for a Class of 7 Students</b><br>The test scores are: 72, 85, 88, 90, 91, 91, 99</div>`,\r\n                question: 'What is the range of the test scores?',\r\n                answerOptions: [\r\n                  {\r\n                    text: '99',\r\n                    rationale: '99 is the highest score, not the range.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: '72',\r\n                    rationale: '72 is the lowest score, not the range.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: '27',\r\n                    rationale:\r\n                      'Correct. The range is the difference between the highest value and the lowest value in a data set (99 - 72 = 27).',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: '16',\r\n                    rationale:\r\n                      'This is the difference between the median and the lowest score.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 15,\r\n                type: 'chart',\r\n                passage: `<div class=\"passage-text\"><b>Household Budget (Total: $3,000/month)</b><br><img src=\"/images/Social Studies/035fa172-2083-4c13-9485-a5f4bfa28340.png\" alt=\"A pie chart showing a budget. Housing: 35%, Transportation: 15%, Food: 20%, Savings: 10%, Utilities: 5%, Other: 15%\" class=\"bg-white p-2 rounded\"></div>`,\r\n                question:\r\n                  'According to the pie chart, how much money is allocated to Housing each month?',\r\n                answerOptions: [\r\n                  {\r\n                    text: '$700',\r\n                    rationale: 'This would be approximately 23%.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: '$1,050',\r\n                    rationale:\r\n                      'Correct. Housing accounts for 35% of the budget. 35% of $3,000 is (0.35 * 3000), which equals $1,050.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: '$600',\r\n                    rationale:\r\n                      'This is 20% of the budget, the amount for Food.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: '$300',\r\n                    rationale:\r\n                      'This is 10% of the budget, the amount for Savings.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n            ],\r\n          },\r\n        ],\r\n      },\r\n    },\r\n  },\r\n  'Reasoning Through Language Arts (RLA)': {\r\n    icon: 'BookOpenIcon',\r\n    categories: {\r\n      'Reading Comprehension: Informational Texts': {\r\n        description:\r\n          'Practice analyzing non-fiction texts to find main ideas, evaluate arguments, and interpret graphics.',\r\n        topics: [\r\n          {\r\n            id: 'rla_info_main_idea',\r\n            title: 'Main Idea & Details',\r\n            description:\r\n              'Finding the central idea and supporting evidence in non-fiction.',\r\n            quizzes: [\r\n              {\r\n                id: 'rla_info_main_idea_set1',\r\n                label: 'Set 1',\r\n                questionSourceTopicId: 'rla_info_main_idea',\r\n              },\r\n              {\r\n                id: 'rla_informational_texts_informational_texts_quiz2',\r\n                label: 'Set 2',\r\n              },\r\n              {\r\n                id: 'rla_informational_texts_informational_texts_quiz3',\r\n                label: 'Set 3',\r\n              },\r\n            ],\r\n            article: {\r\n              title:\r\n                'Community Makerspaces: Shared Workshops for a New Economy',\r\n              genre: 'Informational Article',\r\n              text: [\r\n                'Across the country, community makerspaces have become a practical response to the skills gap created by rapid automation. These shared workshops combine digital design labs with traditional tools, giving residents a place to experiment with laser cutters, 3D printers, and sewing machines without having to invest in costly equipment. Coordinators describe the spaces as a bridge between the curiosity people feel when they see new technology online and the confidence they need to use it on the job.',\r\n                'Unlike a traditional classroom, a makerspace operates on an open lab model. Members can attend scheduled trainings, but they are also free to work alongside mentors, retirees, and nascent entrepreneurs who are already building prototypes. The mix of self-directed tinkering and guided instruction means that a participant might learn how to repair a bicycle in the same evening that someone else debuts a design for a medical device attachment.',\r\n                'The economic ripple effects are becoming measurable. A 2023 survey of six regional makerspaces found that 62% of regular members completed a prototype that later informed a promotion, contract, or small business launch. Local workforce boards cite the statistic frequently when pitching employers on tuition sponsorships, arguing that the spaces accelerate reskilling far faster than a standard semester-long course.',\r\n                'Critics contend that membership fees or specialized equipment still keep marginalized residents on the sidelines. In response, most makerspaces have created sliding-scale pricing, partnered with public libraries to cover evening access, and offered weekend open houses specifically for shift workers and families. One robotics instructor noted that these changes have doubled the number of teenage participants in less than a year.',\r\n                'As municipalities prepare their next decade of economic development plans, makerspaces are increasingly listed alongside broadband and transit projects. City planners argue that reserving funding for tool libraries, instructor stipends, and small-business incubators will ensure that the spaces remain community assets rather than short-lived trends.',\r\n              ],\r\n            },\r\n            questions: [\r\n              {\r\n                questionNumber: 1,\r\n                question:\r\n                  'Which statement best expresses the central idea of the article?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'Community makerspaces are a temporary fad with little long-term impact.',\r\n                    rationale:\r\n                      'The article presents makerspaces as lasting investments, not fleeting trends.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Community makerspaces help residents gain affordable access to modern tools and skills that support career growth.',\r\n                    rationale:\r\n                      'Correct. Every paragraph explains how makerspaces expand access, deliver training, and create economic opportunities.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'Traditional classrooms are no longer useful for any type of technical training.',\r\n                    rationale:\r\n                      'The author contrasts makerspaces with classrooms but never dismisses classrooms entirely.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Municipal budgets should focus exclusively on transit projects instead of technology hubs.',\r\n                    rationale:\r\n                      'Transit is mentioned only as something planners consider alongside makerspaces, not instead of them.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 2,\r\n                question:\r\n                  'Which detail best supports the claim that makerspaces widen access to technology?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'Members can work alongside retirees and entrepreneurs in the open lab.',\r\n                    rationale:\r\n                      'This shows the collaborative setting but not specifically increased access for residents who could not otherwise use technology.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'A 2023 survey reported that 62% of members completed a prototype that advanced their careers.',\r\n                    rationale:\r\n                      'This statistic focuses on economic outcomes rather than access to technology.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Most makerspaces partner with public libraries to cover evening access and offer sliding-scale pricing.',\r\n                    rationale:\r\n                      'Correct. These strategies directly address the barriers that critics say prevent people from using the technology.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'City planners include makerspaces in long-term development plans.',\r\n                    rationale:\r\n                      'This highlights future investment, not the immediate issue of access.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 3,\r\n                question:\r\n                  'According to the third paragraph, what outcome do workforce boards emphasize when promoting makerspaces to employers?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'The number of weekend open houses held each quarter.',\r\n                    rationale:\r\n                      'Weekend events are mentioned later as a response to critics, not as the main statistic shared with employers.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'The percentage of members who completed prototypes that led to promotions or business launches.',\r\n                    rationale:\r\n                      'Correct. Workforce boards cite the 62% success rate to convince employers to fund memberships.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'The amount of grant money city planners allocate for transit projects.',\r\n                    rationale:\r\n                      'Transit funding appears only in the final paragraph, unrelated to employer pitches.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'The increase in teenage participation during the first year of operation.',\r\n                    rationale:\r\n                      'Teen participation is discussed in paragraph four, not in the context of employer outreach.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 4,\r\n                question:\r\n                  \"As it is used in paragraph two, the word 'nascent' most nearly means:\",\r\n                answerOptions: [\r\n                  {\r\n                    text: 'inexperienced or just beginning.',\r\n                    rationale:\r\n                      \"Correct. 'Nascent entrepreneurs' are individuals who are just starting to build their businesses.\",\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'highly profitable.',\r\n                    rationale:\r\n                      'Nothing in the paragraph suggests that the entrepreneurs are already profitable.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'reluctant to collaborate.',\r\n                    rationale:\r\n                      'The paragraph emphasizes collaboration, not reluctance.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'fully certified.',\r\n                    rationale:\r\n                      'Certification is not mentioned in the description of the entrepreneurs.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 5,\r\n                question:\r\n                  \"Which sentence best captures the author's tone toward makerspaces?\",\r\n                answerOptions: [\r\n                  {\r\n                    text: 'They are worthwhile investments that require thoughtful planning to remain accessible.',\r\n                    rationale:\r\n                      'Correct. The author acknowledges challenges but ultimately views makerspaces as beneficial when supported.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'They are risky experiments that should be paused until more research exists.',\r\n                    rationale:\r\n                      'The author never recommends halting makerspace programs.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'They benefit hobbyists but offer little value to local economies.',\r\n                    rationale:\r\n                      'The article repeatedly references economic gains and workforce development.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'They should replace all existing workforce programs immediately.',\r\n                    rationale:\r\n                      'The author presents makerspaces as complementary, not as replacements for every program.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 6,\r\n                question:\r\n                  \"Why does the author include the robotics instructor's observation in paragraph four?\",\r\n                answerOptions: [\r\n                  {\r\n                    text: 'To prove that weekend open houses are unnecessary.',\r\n                    rationale:\r\n                      'The instructor notes that the outreach doubled teenage participation, showing the events are effective, not unnecessary.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'To illustrate the concrete results of the accessibility changes makerspaces implemented.',\r\n                    rationale:\r\n                      'Correct. The quote demonstrates how policy changes led to measurable growth among teens.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'To argue that only teenagers benefit from makerspaces.',\r\n                    rationale:\r\n                      'Teens are one example; other groups are discussed throughout the article.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'To criticize public libraries for charging fees.',\r\n                    rationale:\r\n                      'Libraries are described as partners that expand access, not as obstacles.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 7,\r\n                question: 'Which concern do critics raise about makerspaces?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'They lack the advanced tools needed to build prototypes.',\r\n                    rationale:\r\n                      'The article states the opposite: makerspaces offer access to expensive equipment.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Membership costs and specialized tools may still exclude marginalized residents.',\r\n                    rationale:\r\n                      'Correct. Paragraph four summarizes this criticism before explaining how spaces responded.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'They rely entirely on volunteer instructors with no professional experience.',\r\n                    rationale:\r\n                      'Mentors are mentioned, but there is no criticism about expertise.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'They focus on art projects instead of job training.',\r\n                    rationale:\r\n                      'The article emphasizes workforce and entrepreneurship benefits, not a lack of job focus.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 8,\r\n                question:\r\n                  'Based on the article, which group are weekend open houses designed to serve?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'Shift workers and families who cannot attend evening classes.',\r\n                    rationale:\r\n                      'Correct. The article explicitly says weekend events are meant to include these groups.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'Retirees looking for advanced certification programs.',\r\n                    rationale:\r\n                      'Retirees are mentioned as mentors, not as the target audience for weekend programming.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Out-of-state entrepreneurs scouting locations.',\r\n                    rationale:\r\n                      'No evidence suggests the events are aimed at visiting entrepreneurs.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'City planners drafting transit budgets.',\r\n                    rationale:\r\n                      'Transit planning appears later and is unrelated to open houses.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 9,\r\n                question:\r\n                  'What inference can be made from the final paragraph about the future of makerspaces?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'They will likely disappear once the current funding cycle ends.',\r\n                    rationale:\r\n                      'City planners are integrating makerspaces into long-term plans, suggesting continuity rather than disappearance.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Their success depends on being viewed as part of broader infrastructure investments.',\r\n                    rationale:\r\n                      'Correct. The paragraph notes that planners place makerspaces alongside broadband and transit to secure sustained funding.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'They will replace the need for broadband or transportation improvements.',\r\n                    rationale:\r\n                      'The author says makerspaces are listed alongside these projects, not as replacements.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'They will no longer require instructor stipends to operate effectively.',\r\n                    rationale:\r\n                      'The paragraph explicitly recommends funding instructor stipends to keep spaces viable.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 10,\r\n                question:\r\n                  'Which sentence from the article best supports the idea that makerspaces boost the local economy?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'Coordinators describe the spaces as a bridge between curiosity and confidence.',\r\n                    rationale:\r\n                      'This sentence speaks to motivation, not economic impact.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Members can attend scheduled trainings but are also free to work alongside mentors.',\r\n                    rationale:\r\n                      'This detail explains the format of the makerspace, not its economic effect.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'A 2023 survey of six regional makerspaces found that 62% of regular members completed a prototype that later informed a promotion, contract, or small business launch.',\r\n                    rationale:\r\n                      'Correct. The statistic directly links makerspace participation to promotions and new businesses.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'One robotics instructor noted that outreach changes doubled teenage participation in less than a year.',\r\n                    rationale:\r\n                      'This sentence describes access for teens, not economic growth.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n            ],\r\n            type: 'reading',\r\n          },\r\n          {\r\n            id: 'rla_info_structure_purpose',\r\n            title: 'Structure & Purpose',\r\n            description:\r\n              \"Analyzing text structure and an author's reason for writing.\",\r\n            quizzes: [\r\n              {\r\n                id: 'rla_informational_texts_structure_purpose_quiz1',\r\n                label: 'Set 1',\r\n              },\r\n              {\r\n                id: 'rla_informational_texts_structure_purpose_quiz2',\r\n                label: 'Set 2',\r\n              },\r\n              {\r\n                id: 'rla_informational_texts_structure_purpose_quiz3',\r\n                label: 'Set 3',\r\n              },\r\n            ],\r\n            type: 'reading',\r\n            article: {\r\n              title:\r\n                'The Rise of Renewable Energy: Powering a Sustainable Future',\r\n              genre: 'Informational Text (Expository Essay)',\r\n              text: [\r\n                'For over a century, human civilization has been powered predominantly by fossil fuelscoal, oil, and natural gas. While these energy sources fueled industrial revolutions and unprecedented economic growth, their use has come at a significant environmental cost, most notably climate change driven by greenhouse gas emissions. In response to this mounting crisis, a global energy transition is underway, shifting focus toward renewable sources. These sources, which include solar, wind, hydropower, and geothermal energy, are naturally replenished and produce minimal to no carbon emissions. This transition is not merely an environmental imperative but also a technological and economic evolution, promising a more sustainable and resilient energy future.',\r\n                'At the forefront of this revolution is solar power, which harnesses the immense energy of the sun. The most common method involves photovoltaic (PV) cells, which directly convert sunlight into electricity. Another approach, concentrated solar power (CSP), uses mirrors to focus sunlight to heat a fluid, which then creates steam to power a turbine. The primary advantages of solar energy are its abundance and its clean nature. However, its main drawback is intermittencyit only generates power when the sun is shining. This necessitates the development of large-scale energy storage solutions, such as advanced batteries, to provide reliable power around the clock. Furthermore, large solar farms require significant land area, which can raise concerns about land use and ecosystem impact.',\r\n                'Wind power offers another powerful alternative. Giant turbines, often grouped together in wind farms on land or offshore, capture kinetic energy from the wind and convert it into electricity. Like solar power, wind is a clean energy source, but it shares the same challenge of intermittency, as it is dependent on weather patterns. The visual impact of turbines on landscapes and potential harm to avian wildlife, such as birds and bats, are also significant concerns that require careful planning and mitigation.',\r\n                \"Hydropower and geothermal energy provide more consistent, or baseload, power. Hydropower, generated by the force of flowing water turning turbines in dams, is one of the oldest and most established forms of renewable energy. It is highly reliable and can be dispatched on demand. The main limitation is its environmental impact; large dams can alter river ecosystems, disrupt fish migration, and displace communities. Geothermal energy taps into the Earth's internal heat, using steam from underground reservoirs to generate electricity. It is a highly reliable and clean source of energy with a small physical footprint. Its primary constraint is geographical, as it is only economically viable in regions with accessible geothermal activity, such as volcanic zones or areas with tectonic plate boundaries.\",\r\n                \"The complete transition to a renewable energy system presents formidable but surmountable challenges. Beyond the intermittency of solar and wind, modernizing the electrical grid to handle decentralized energy sources is a major hurdle. Smart grids, which use digital technology to manage electricity distribution more efficiently, are essential. Advances in battery technology are critical for storing excess energy for when the sun isn't shining or the wind isn't blowing. Furthermore, supportive government policies, such as carbon pricing and tax incentives for renewable installations, play a crucial role in accelerating this transition. While the path is complex, the collective push toward a renewable-powered world represents a fundamental rethinking of our relationship with energy, aiming for a future that is not only prosperous but also environmentally sustainable for generations to come.\",\r\n              ],\r\n            },\r\n            questions: [\r\n              {\r\n                question:\r\n                  'Which of the following statements best expresses the main idea of the passage?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'Hydropower is the most reliable and established form of renewable energy available today.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'The global shift to renewable energy is a multifaceted response to the environmental impact of fossil fuels, driven by technology and policy.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'The primary challenge of renewable energy is overcoming the high cost of solar panels and wind turbines.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Fossil fuels, despite their environmental drawbacks, remain the only viable option for large-scale energy production.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                question:\r\n                  \"In paragraphs 2 and 3, the word 'intermittency' is used to describe a key challenge for solar and wind power. This term most nearly means:\",\r\n                answerOptions: [\r\n                  { text: 'The high cost of installation.', isCorrect: false },\r\n                  {\r\n                    text: 'The state of being inconsistent or not continuous.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'The potential harm to local wildlife.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'The requirement for large areas of land.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                question:\r\n                  'According to the passage, what is the primary environmental motivation for transitioning to renewable energy?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'To reduce the visual impact of power plants on landscapes.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'To mitigate climate change caused by greenhouse gas emissions from fossil fuels.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'To prevent the disruption of fish migration caused by large dams.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'To decrease reliance on foreign energy sources.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                question:\r\n                  'The passage suggests that a key difference between hydropower/geothermal energy and solar/wind energy is:',\r\n                answerOptions: [\r\n                  { text: 'their cost-effectiveness.', isCorrect: false },\r\n                  { text: 'their geographical limitations.', isCorrect: false },\r\n                  {\r\n                    text: 'their level of reliability and consistency.',\r\n                    isCorrect: true,\r\n                  },\r\n                  { text: 'their impact on avian wildlife.', isCorrect: false },\r\n                ],\r\n              },\r\n              {\r\n                question:\r\n                  'According to paragraph 5, what is the primary purpose of developing smart grids?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'To lower the cost of electricity for consumers by reducing waste.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'To generate more power from existing solar and wind farms.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'To better manage electricity distribution from varied and decentralized sources.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'To provide tax incentives for homeowners to install their own solar panels.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                question:\r\n                  'The passage mentions all of the following as challenges to the widespread adoption of renewable energy EXCEPT:',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'the need for effective energy storage.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'the geographical limitations of certain sources.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'the lack of any viable renewable technology.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'the necessity of modernizing electrical grids.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                question:\r\n                  'How does the author structure the main body of the text (paragraphs 2-4)?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'By chronologically detailing the invention of each renewable technology.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'By comparing and contrasting the economic cost of each energy source.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'By dedicating separate paragraphs to different types of renewable energy, outlining their pros and cons.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'By presenting a problem and then immediately offering a single, definitive solution.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                question:\r\n                  \"In paragraph 5, the word 'formidable' most nearly means:\",\r\n                answerOptions: [\r\n                  { text: 'Simple and easy.', isCorrect: false },\r\n                  {\r\n                    text: 'Inspiring fear or respect through being impressively large or powerful.',\r\n                    isCorrect: true,\r\n                  },\r\n                  { text: 'Unimportant and trivial.', isCorrect: false },\r\n                  { text: 'Related to government policy.', isCorrect: false },\r\n                ],\r\n              },\r\n              {\r\n                question:\r\n                  'Based on the passage, a government wishing to accelerate the transition to renewable energy would most likely:',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'Increase subsidies for fossil fuel companies.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Ban the construction of new dams for hydropower.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Invest in battery technology and offer tax incentives for solar installations.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'Focus exclusively on geothermal energy regardless of geographic location.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                question:\r\n                  'The text identifies photovoltaic cells as a technology used in:',\r\n                answerOptions: [\r\n                  { text: 'Wind power generation.', isCorrect: false },\r\n                  { text: 'Geothermal energy extraction.', isCorrect: false },\r\n                  { text: 'Hydropower dams.', isCorrect: false },\r\n                  { text: 'Solar power generation.', isCorrect: true },\r\n                ],\r\n              },\r\n              {\r\n                question:\r\n                  'What can be inferred about the economic aspect of the energy transition?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'The transition is primarily an economic burden with no financial benefits.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'It involves significant technological and economic evolution.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'All renewable technologies are still significantly more expensive than coal or natural gas.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'The only economic driver for renewables is government mandates.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                question:\r\n                  \"In paragraph 4, the term 'baseload' power implies that the energy source is:\",\r\n                answerOptions: [\r\n                  {\r\n                    text: 'Available only during peak demand hours.',\r\n                    isCorrect: false,\r\n                  },\r\n                  { text: 'The cheapest available option.', isCorrect: false },\r\n                  { text: 'Geographically restricted.', isCorrect: false },\r\n                  {\r\n                    text: 'Constantly and reliably available.',\r\n                    isCorrect: true,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                question:\r\n                  'The author presents the environmental impact of large hydropower dams as:',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'a negligible issue that has been resolved by modern technology.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'a significant limitation that can alter ecosystems and displace people.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'a positive effect that creates new habitats for aquatic life.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'an unproven theory without sufficient evidence.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                question:\r\n                  'What can be inferred from the passage about the future relationship between different renewable energy sources?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'One single source, like solar, will eventually replace all others.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'A diverse mix of sources will likely be needed to create a stable and resilient energy system.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'Fossil fuels will always be required to supplement the intermittency of renewables.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'International conflict will arise over access to the best locations for wind and solar farms.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                question:\r\n                  'The overall tone of the passage can best be described as:',\r\n                answerOptions: [\r\n                  { text: 'Pessimistic and critical.', isCorrect: false },\r\n                  { text: 'Overly simplistic and biased.', isCorrect: false },\r\n                  {\r\n                    text: 'Informative and cautiously optimistic.',\r\n                    isCorrect: true,\r\n                  },\r\n                  { text: 'Sarcastic and dismissive.', isCorrect: false },\r\n                ],\r\n              },\r\n            ],\r\n          },\r\n          {\r\n            id: 'rla_info_pov',\r\n            title: 'Point of View & Purpose',\r\n            description:\r\n              \"Analyzing an author's perspective, bias, and reason for writing.\",\r\n            type: 'reading',\r\n            article: {\r\n              title: 'The Case for Year-Round Schooling',\r\n              genre: 'Persuasive Essay',\r\n              text: [\r\n                \"The traditional ten-month school calendar, with its long summer break, is an outdated relic of an agrarian past that no longer serves the needs of modern students. It is time for a fundamental shift to a year-round schooling model. A balanced calendar, with shorter, more frequent breaks distributed throughout the year, offers a powerful solution to combat the well-documented 'summer slide'the significant learning loss that occurs over the long summer vacation. This loss is particularly detrimental to students from low-income families, who often lack access to enriching summer activities, thus widening the achievement gap.\",\r\n                \"Opponents of year-round schooling often raise concerns about disrupting family traditions and the summer tourism industry. While these are valid considerations, they pale in comparison to the profound educational benefits. Shorter breaks mean that teachers spend less time re-teaching old material in the fall, allowing them to cover more ground and delve deeper into complex topics. Furthermore, a balanced calendar can reduce teacher and student burnout by providing more frequent opportunities for rest and rejuvenation. The argument that 'kids need a break' misunderstands the nature of modern learning; the goal is not to eliminate breaks, but to distribute them more effectively to create a continuous and more engaging learning environment.\",\r\n                \"Ultimately, the transition to year-round schooling is not merely a logistical change; it is an investment in our children's future. It is a commitment to closing the achievement gap, improving academic retention, and creating a more efficient and effective educational system. Clinging to a calendar designed for a bygone era is a disservice to our students. We must have the courage to embrace a model that is better suited to the demands of the 21st century.\",\r\n              ],\r\n            },\r\n            questions: [\r\n              {\r\n                question:\r\n                  \"What is the author's primary purpose in writing this passage?\",\r\n                answerOptions: [\r\n                  {\r\n                    text: 'To provide a balanced, neutral overview of different school calendars.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'To persuade the reader that year-round schooling is superior to the traditional calendar.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'To criticize the summer tourism industry.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'To analyze the history of the agrarian school calendar.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                question:\r\n                  \"Which statement best describes the author's point of view regarding the traditional school calendar?\",\r\n                answerOptions: [\r\n                  {\r\n                    text: 'It is a cherished tradition that should be preserved.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'It is an effective model for all students, regardless of background.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'It is an outdated system that hinders student learning.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'It is a minor issue that does not require significant change.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                question:\r\n                  \"The author uses the phrase 'outdated relic of an agrarian past' in the first paragraph to create a sense of:\",\r\n                answerOptions: [\r\n                  {\r\n                    text: 'nostalgia and respect for tradition.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'the calendar being old-fashioned and no longer useful.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'the calendar being beneficial for farming communities.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'the calendar being a complex historical artifact.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                question:\r\n                  'How does the author address the opposing viewpoint that year-round schooling disrupts family traditions?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'By dismissing it as completely invalid and irrelevant.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'By acknowledging it as a valid concern but arguing that the educational benefits are more important.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'By providing evidence that year-round schooling does not disrupt family traditions.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'By ignoring the opposing viewpoint entirely.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                question: \"The author's tone can best be described as:\",\r\n                answerOptions: [\r\n                  { text: 'uncertain and questioning.', isCorrect: false },\r\n                  { text: 'humorous and lighthearted.', isCorrect: false },\r\n                  { text: 'objective and detached.', isCorrect: false },\r\n                  { text: 'passionate and urgent.', isCorrect: true },\r\n                ],\r\n              },\r\n              {\r\n                question: 'What bias does the author display in the passage?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'A bias against students from low-income families.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'A strong bias in favor of year-round schooling.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'A bias against teachers and school administrators.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'A neutral and unbiased perspective.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                question:\r\n                  \"The author claims that the 'summer slide' is 'particularly detrimental to students from low-income families.' What is the likely purpose of including this detail?\",\r\n                answerOptions: [\r\n                  {\r\n                    text: 'To suggest that only low-income students would benefit from year-round school.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: \"To appeal to the reader's sense of fairness and social justice.\",\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'To prove that all summer activities are expensive.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'To criticize the parents of low-income students.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                question:\r\n                  \"In paragraph 2, the author states that concerns about family traditions 'pale in comparison to the profound educational benefits.' The phrase 'pale in comparison' is used to:\",\r\n                answerOptions: [\r\n                  {\r\n                    text: 'suggest the two issues are equally important.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'minimize the importance of the opposing argument.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'show that the author is changing their mind.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'indicate that the opposing argument is too complex to discuss.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                question:\r\n                  \"What is the author's likely purpose for using strong, emotional language like 'commitment,' 'courage,' and 'disservice' in the final paragraph?\",\r\n                answerOptions: [\r\n                  {\r\n                    text: 'To provide statistical evidence.',\r\n                    isCorrect: false,\r\n                  },\r\n                  { text: 'To present a counterargument.', isCorrect: false },\r\n                  {\r\n                    text: 'To create a sense of shared responsibility and inspire action.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'To maintain a neutral and objective tone.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                question:\r\n                  \"The author's main argument is that year-round schooling should be adopted because:\",\r\n                answerOptions: [\r\n                  { text: 'it is a new and modern idea.', isCorrect: false },\r\n                  {\r\n                    text: 'it would save schools money on air conditioning.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'it provides significant educational advantages, such as reducing learning loss.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'it is easier for parents to schedule vacations.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                question:\r\n                  \"Which of the following best describes the author's perspective on teachers?\",\r\n                answerOptions: [\r\n                  {\r\n                    text: 'The author believes teachers are overworked and would benefit from the more frequent breaks in a year-round model.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'The author believes teachers are the main opponents of year-round schooling.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'The author believes teachers are not affected by the school calendar.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: \"The author believes teachers are responsible for the 'summer slide.'\",\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                question:\r\n                  'The intended audience for this passage is most likely:',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'students who dislike summer vacation.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'historians studying agrarian societies.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'parents, educators, and community members involved in education policy.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'owners of summer camps and tourist attractions.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                question: 'How does the author attempt to build credibility?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'By citing numerous scientific studies and statistics.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'By using formal language and presenting a logical argument, while also acknowledging counterarguments.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'By sharing personal anecdotes about their own school experiences.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'By claiming to be the sole expert on the topic.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                question:\r\n                  \"The author's use of the word 'clinging' in the final paragraph suggests that adherence to the traditional calendar is:\",\r\n                answerOptions: [\r\n                  {\r\n                    text: 'a thoughtful and considered choice.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'a stubborn and irrational refusal to change.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'a temporary and flexible arrangement.',\r\n                    isCorrect: false,\r\n                  },\r\n                  { text: 'a popular and modern trend.', isCorrect: false },\r\n                ],\r\n              },\r\n              {\r\n                question:\r\n                  'If this passage were to continue, what would the author most likely discuss next?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'A detailed history of summer vacation traditions.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Specific examples or case studies of schools that have successfully implemented a year-round model.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'A list of fun activities for students to do during shorter breaks.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'An argument in favor of homeschooling.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n            ],\r\n          },\r\n          {\r\n            id: 'rla_info_arguments',\r\n            title: 'Analyzing Arguments',\r\n            description:\r\n              'Evaluating claims, evidence, and logical reasoning in persuasive texts.',\r\n            type: 'reading',\r\n            article: {\r\n              title: 'The Necessity of Urban Green Spaces',\r\n              genre: 'Argumentative Article',\r\n              text: [\r\n                'In the concrete jungles of our rapidly growing cities, green spaces are not a luxury; they are a vital necessity. Parks, community gardens, and even small green rooftops are essential infrastructure for a healthy, resilient, and equitable urban future. The argument against dedicating valuable urban real estate to non-commercial use is shortsighted, ignoring the immense economic, environmental, and social returns that green spaces provide. It is imperative that city planners and policymakers prioritize the creation and preservation of these natural oases.',\r\n                'The environmental benefits are the most obvious. Trees and vegetation absorb carbon dioxide, filter air pollutants, and mitigate the urban heat island effect, where dense concentrations of pavement and buildings absorb and retain heat, making cities significantly hotter than surrounding rural areas. A single large tree can provide the cooling effect of ten room-sized air conditioners. Furthermore, green spaces with permeable surfaces can absorb stormwater, reducing runoff and preventing flooding, which saves millions in infrastructure costs.',\r\n                'Beyond the environmental impact, the social and health benefits are profound. Access to green space is directly linked to improved physical and mental health. Studies have consistently shown that time spent in nature reduces stress, lowers blood pressure, and improves overall well-being. Parks and community gardens also serve as crucial social hubs, fostering community cohesion and providing safe places for children to play and for neighbors to interact. In many underserved neighborhoods, a local park is the only available space for recreation and social gathering.',\r\n                \"Some may argue that cities facing housing shortages cannot afford to 'waste' land on parks. This is a false dichotomy. Well-designed cities can and must incorporate both affordable housing and accessible green space. In fact, the presence of parks can increase the value of nearby residential properties, creating a more desirable and stable community. The choice is not between housing and parks; it is between short-term, profit-driven development and long-term, sustainable urban planning that values the health and happiness of its citizens.\",\r\n              ],\r\n            },\r\n            questions: [\r\n              {\r\n                question: \"What is the author's main claim in the passage?\",\r\n                answerOptions: [\r\n                  {\r\n                    text: 'Cities should focus exclusively on building more affordable housing.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Urban green spaces are a critical and necessary component of a healthy city.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'The environmental benefits of parks outweigh the social benefits.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'City planners are not doing enough to combat the urban heat island effect.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                question:\r\n                  'Which piece of evidence does the author use to support the claim about environmental benefits?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'The assertion that parks increase the value of nearby properties.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'The statement that a single tree can provide the cooling effect of ten air conditioners.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'The argument that parks foster community cohesion.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'The claim that time spent in nature reduces stress.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                question:\r\n                  'In paragraph 4, the author addresses the counterargument that cities need land for housing, not parks. How does the author rebut this point?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'By arguing that housing is not as important as parks.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'By agreeing that parks should only be built if there is no housing shortage.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: \"By stating that the choice between housing and parks is a 'false dichotomy' and that both are possible.\",\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'By providing statistics on how many new parks have been built recently.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                question:\r\n                  \"The author's claim that 'studies have consistently shown' that nature reduces stress is an appeal to what?\",\r\n                answerOptions: [\r\n                  { text: 'Emotion', isCorrect: false },\r\n                  { text: 'Tradition', isCorrect: false },\r\n                  { text: 'Authority or expert evidence', isCorrect: true },\r\n                  { text: 'Anecdotal evidence', isCorrect: false },\r\n                ],\r\n              },\r\n              {\r\n                question:\r\n                  \"What is the logical flaw in the argument that cities 'cannot afford to 'waste' land on parks,' as described by the author?\",\r\n                answerOptions: [\r\n                  {\r\n                    text: 'It is an ad hominem attack on city planners.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'It is a slippery slope argument that assumes parks will lead to bankruptcy.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'It presents a false dichotomy by suggesting the only choice is between parks and housing.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'It is a circular argument that repeats the claim without evidence.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                question:\r\n                  'Which of the following statements is presented as a fact rather than an opinion in the passage?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'Green spaces are not a luxury, but a vital necessity.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'The argument against green spaces is shortsighted.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Trees and vegetation absorb carbon dioxide.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'The choice is between short-term profit and long-term sustainability.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                question:\r\n                  \"The author's argument would be most weakened by which of the following findings?\",\r\n                answerOptions: [\r\n                  {\r\n                    text: 'A new study showing that the cooling effect of trees is less than previously thought.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'A report that community gardens are growing in popularity.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Evidence that most city residents prefer indoor recreation.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'A survey showing that people feel happier after visiting a park.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                question:\r\n                  \"The author's argument would be most strengthened by including:\",\r\n                answerOptions: [\r\n                  {\r\n                    text: 'more emotional language about the beauty of nature.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: \"a personal story about the author's favorite park.\",\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'specific data from a city where adding parks led to measurable economic and health benefits.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'a longer discussion of the history of urban development.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                question:\r\n                  'What unstated assumption does the author make about their audience?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'The audience is primarily made up of real estate developers.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'The audience values scientific evidence and the well-being of citizens.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'The audience is opposed to any form of government spending.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'The audience has little interest in environmental issues.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                question:\r\n                  \"By stating that the argument against green spaces is 'shortsighted,' the author implies that opponents are:\",\r\n                answerOptions: [\r\n                  {\r\n                    text: 'focusing on immediate costs without considering long-term benefits.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'maliciously trying to harm the environment.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'unaware of the current housing shortage.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'proposing a better long-term solution.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                question:\r\n                  \"Is the author's claim that green spaces can 'save millions in infrastructure costs' a valid conclusion based on the evidence provided?\",\r\n                answerOptions: [\r\n                  {\r\n                    text: 'No, because the author provides no evidence to support this specific financial claim.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Yes, because the author logically connects permeable surfaces to reduced stormwater runoff and flooding.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'No, because building parks is always more expensive than building flood barriers.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Yes, because all green spaces are known to generate revenue for cities.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                question:\r\n                  \"The author's argument that green spaces are 'essential infrastructure' is an attempt to:\",\r\n                answerOptions: [\r\n                  {\r\n                    text: \"frame parks as being as critical to a city's function as roads and bridges.\",\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'suggest that parks should be funded through taxes on gasoline.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'argue that all green spaces should be built with concrete and steel.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'prove that green spaces are a new and untested idea.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                question:\r\n                  \"How does the author use the example of 'underserved neighborhoods' in paragraph 3 to support the main argument?\",\r\n                answerOptions: [\r\n                  {\r\n                    text: 'To suggest that only poor neighborhoods need parks.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'To highlight the equity and social justice dimension of providing green spaces.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'To argue that parks in wealthy neighborhoods are a waste of money.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'To prove that all social gatherings happen in parks.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                question:\r\n                  'Which of the following claims made by the author is LEAST supported by specific evidence in the text?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'Green spaces mitigate the urban heat island effect.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Access to green space is linked to improved health.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'The presence of parks can increase the value of nearby residential properties.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'Green spaces can help manage stormwater.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                question:\r\n                  \"Overall, is the author's argument that green spaces are a 'vital necessity' convincing?\",\r\n                answerOptions: [\r\n                  {\r\n                    text: 'No, because the author fails to address any counterarguments.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'No, because the author relies solely on emotional appeals without any factual evidence.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Yes, because the author presents a variety of environmental, social, and health benefits and refutes a key counterargument.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'Yes, but only for cities that do not have a housing shortage.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n            ],\r\n          },\r\n          {\r\n            id: 'rla_info_graphics',\r\n            title: 'Interpreting Graphics',\r\n            description:\r\n              'Reading charts, graphs, and tables that accompany articles.',\r\n            type: 'reading',\r\n            article: {\r\n              title: 'Trends in Global Energy Consumption',\r\n              genre: 'Informational Report with Graphics',\r\n              text: [\r\n                'Global energy consumption has seen dramatic shifts over the past fifty years. As developing nations industrialize and global population grows, the demand for energy continues to rise. While fossil fuels have long dominated the energy landscape, the mix of sources is beginning to change. The accompanying graphics illustrate these trends, providing a snapshot of where our energy comes from and which sectors are the largest consumers.',\r\n                \"The pie chart below shows the breakdown of global energy consumption by source for the most recent year. As is evident, fossil fuels (coal, oil, and natural gas combined) still account for the vast majority of the world's energy supply. However, the share of renewables, including hydropower, solar, and wind, is steadily growing, driven by environmental concerns and decreasing costs. Nuclear energy remains a small but consistent contributor.\",\r\n                'The bar chart further details the primary uses of electricity. The industrial sector is the largest consumer, powering factories and manufacturing processes. This is followed closely by the residential sector (for lighting, heating, and appliances) and the commercial sector (for businesses and offices). Transportation currently represents a smaller portion of electricity use, but this is expected to grow significantly with the adoption of electric vehicles.',\r\n              ],\r\n            },\r\n            questions: [\r\n              {\r\n                questionNumber: 1,\r\n                type: 'chart',\r\n                passage: `<div class=\"passage-text\"><b>Allied Military Deaths in World War II (Approximate)</b><br><img src=\"/images/WorldWarII-MilitaryDeaths-Allies-Piechart.png\" alt=\"A pie chart showing approximate Allied military deaths in WWII. Soviet Union: 48%, China: 22%, United States: 5%, United Kingdom: 5%, Other Allies: 20%.\" class=\"bg-white p-2 rounded\"></div>`,\r\n                question:\r\n                  'According to the pie chart, which two Allied nations suffered the highest number of military deaths in World War II?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'The Soviet Union and China',\r\n                    rationale:\r\n                      'Correct. The chart shows the Soviet Union and China with the two largest percentages of military deaths among the Allies.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'The United States and the United Kingdom',\r\n                    rationale:\r\n                      'The chart shows the U.S. and U.K. with relatively small percentages compared to the Soviet Union and China.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'China and the United States',\r\n                    rationale:\r\n                      \"While China's losses were very high, the U.S. losses were significantly smaller.\",\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'The Soviet Union and the United Kingdom',\r\n                    rationale:\r\n                      \"While the Soviet Union's losses were the highest, the U.K.'s were much smaller.\",\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 2,\r\n                type: 'chart',\r\n                passage: `<div class=\"passage-text\"><b>Allied Military Deaths in World War II (Approximate)</b><br><img src=\"/images/WorldWarII-MilitaryDeaths-Allies-Piechart.png\" alt=\"A pie chart showing approximate Allied military deaths in WWII. Soviet Union: 48%, China: 22%, United States: 5%, United Kingdom: 5%, Other Allies: 20%.\" class=\"bg-white p-2 rounded\"></div>`,\r\n                question:\r\n                  'The combined military deaths of the United States and the United Kingdom make up approximately what percentage of the total Allied deaths shown?',\r\n                answerOptions: [\r\n                  {\r\n                    text: '5%',\r\n                    rationale:\r\n                      'This is the approximate percentage for each country individually, not combined.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: '10%',\r\n                    rationale:\r\n                      'Correct. The chart shows the U.S. at 5% and the U.K. at 5%, for a combined total of 10%.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: '22%',\r\n                    rationale:\r\n                      'This is the approximate percentage for China alone.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: '48%',\r\n                    rationale:\r\n                      'This is the approximate percentage for the Soviet Union alone.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 3,\r\n                type: 'chart',\r\n                passage: `<div class=\"passage-text\"><b>Allied Military Deaths in World War II (Approximate)</b><br><img src=\"/images/WorldWarII-MilitaryDeaths-Allies-Piechart.png\" alt=\"A pie chart showing approximate Allied military deaths in WWII. Soviet Union: 48%, China: 22%, United States: 5%, United Kingdom: 5%, Other Allies: 20%.\" class=\"bg-white p-2 rounded\"></div>`,\r\n                question:\r\n                  'What can be inferred from the pie chart about the human cost of World War II for the Soviet Union?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'It was minimal compared to other Allies.',\r\n                    rationale:\r\n                      'The chart shows the Soviet Union had the highest proportion of deaths by a large margin.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'It was immense, accounting for nearly half of all Allied military deaths shown.',\r\n                    rationale:\r\n                      \"Correct. The Soviet Union's slice of the pie is 48%, which is almost half, indicating a staggering human cost.\",\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'It was less than the combined losses of the United States and the United Kingdom.',\r\n                    rationale:\r\n                      'It was significantly greater than the combined losses of the U.S. and U.K.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'It was roughly equal to the losses of China.',\r\n                    rationale:\r\n                      \"The chart shows the Soviet Union's losses were more than double those of China.\",\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 4,\r\n                type: 'chart',\r\n                passage: `<div class=\"passage-text\"><b>Electricity Consumption by Sector</b><br><img src=\"/images/ged-grsph-1.png\" alt=\"A bar chart showing electricity consumption. Industrial: 40%, Residential: 35%, Commercial: 24%, Transportation: 1%.\" class=\"bg-white p-2 rounded\"></div>`,\r\n                question:\r\n                  'Which sector is the largest consumer of electricity according to the bar chart?',\r\n                answerOptions: [\r\n                  { text: 'Residential', isCorrect: false },\r\n                  { text: 'Commercial', isCorrect: false },\r\n                  { text: 'Transportation', isCorrect: false },\r\n                  { text: 'Industrial', isCorrect: true },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 5,\r\n                type: 'chart',\r\n                passage: `<div class=\"passage-text\"><b>Electricity Consumption by Sector</b><br><img src=\"/images/ged-grsph-1.png\" alt=\"A bar chart showing electricity consumption. Industrial: 40%, Residential: 35%, Commercial: 24%, Transportation: 1%.\" class=\"bg-white p-2 rounded\"></div>`,\r\n                question:\r\n                  'What is the combined percentage of electricity consumed by the Residential and Commercial sectors?',\r\n                answerOptions: [\r\n                  { text: '40%', isCorrect: false },\r\n                  { text: '59%', isCorrect: true },\r\n                  { text: '75%', isCorrect: false },\r\n                  { text: '99%', isCorrect: false },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 6,\r\n                type: 'multi-source',\r\n                passage: `<div class=\"passage-text\">Refer to both the article text and the \"Electricity Consumption by Sector\" bar chart.</div><img src=\"/images/Social Studies/ged-grsph-1.png\" alt=\"A bar chart showing electricity consumption. Industrial: 40%, Residential: 35%, Commercial: 24%, Transportation: 1%.\" class=\"bg-white p-2 rounded\">`,\r\n                question:\r\n                  'The article states that electricity use for transportation is expected to grow. Based on the chart, why would this growth be significant?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'Because transportation already uses the most electricity.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Because transportation currently represents a very small fraction of electricity use, so any growth will be a large relative change.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: \"Because the industrial sector's electricity use is declining rapidly.\",\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Because transportation is the only sector where electricity use is measured.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 7,\r\n                type: 'chart',\r\n                passage: `<div class=\"passage-text\"><b>Average Test Scores by Subject</b><br><table class=\"w-full text-left mt-2\"><thead><tr><th class=\"p-2 border-b\">Subject</th><th class=\"p-2 border-b\">Score</th></tr></thead><tbody><tr class=\"border-b\"><td class=\"p-2\">Math</td><td class=\"p-2\">82</td></tr><tr class=\"border-b\"><td class=\"p-2\">Reading</td><td class=\"p-2\">88</td></tr><tr class=\"border-b\"><td class=\"p-2\">Science</td><td class=\"p-2\">85</td></tr><tr class=\"border-b\"><td class=\"p-2\">Social Studies</td><td class=\"p-2\">83</td></tr></tbody></table></div>`,\r\n                question: 'Which subject has the highest average test score?',\r\n                answerOptions: [\r\n                  { text: 'Math', isCorrect: false },\r\n                  { text: 'Reading', isCorrect: true },\r\n                  { text: 'Science', isCorrect: false },\r\n                  { text: 'Social Studies', isCorrect: false },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 8,\r\n                type: 'chart',\r\n                passage: `<div class=\"passage-text\"><b>Average Test Scores by Subject</b><br><table class=\"w-full text-left mt-2\"><thead><tr><th class=\"p-2 border-b\">Subject</th><th class=\"p-2 border-b\">Score</th></tr></thead><tbody><tr class=\"border-b\"><td class=\"p-2\">Math</td><td class=\"p-2\">82</td></tr><tr class=\"border-b\"><td class=\"p-2\">Reading</td><td class=\"p-2\">88</td></tr><tr class=\"border-b\"><td class=\"p-2\">Science</td><td class=\"p-2\">85</td></tr><tr class=\"border-b\"><td class=\"p-2\">Social Studies</td><td class=\"p-2\">83</td></tr></tbody></table></div>`,\r\n                question: 'What is the range of the average test scores?',\r\n                answerOptions: [\r\n                  { text: '6', isCorrect: true },\r\n                  { text: '82', isCorrect: false },\r\n                  { text: '84.5', isCorrect: false },\r\n                  { text: '88', isCorrect: false },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 9,\r\n                type: 'chart',\r\n                passage: `<div class=\"passage-text\"><b>Projected Population Growth of City X</b><br><img src=\"/images/Questions-are-based-on-the-following-graph.-7.png\" alt=\"A line graph showing population over time. 2020: 100k, 2025: 110k, 2030: 125k, 2035: 145k, 2040: 170k.\" class=\"bg-white p-2 rounded\"></div>`,\r\n                question:\r\n                  'During which 5-year period is the population of City X projected to grow the most?',\r\n                answerOptions: [\r\n                  { text: '2020-2025', isCorrect: false },\r\n                  { text: '2025-2030', isCorrect: false },\r\n                  { text: '2030-2035', isCorrect: false },\r\n                  { text: '2035-2040', isCorrect: true },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 10,\r\n                type: 'chart',\r\n                passage: `<div class=\"passage-text\"><b>Projected Population Growth of City X</b><br><img src=\"/images/Questions-are-based-on-the-following-graph.-7.png\" alt=\"A line graph showing population over time. 2020: 100k, 2025: 110k, 2030: 125k, 2035: 145k, 2040: 170k.\" class=\"bg-white p-2 rounded\"></div>`,\r\n                question: 'What is the overall trend shown in the graph?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'The population is projected to decrease over time.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'The population is projected to grow at a steady, constant rate.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'The population is projected to grow at an accelerating rate.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'The population is projected to remain stable after 2030.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 11,\r\n                type: 'knowledge',\r\n                question: 'What is the primary purpose of a map key or legend?',\r\n                answerOptions: [\r\n                  { text: 'To show the title of the map.', isCorrect: false },\r\n                  {\r\n                    text: 'To explain the meaning of the symbols and colors used on the map.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'To indicate the scale or distance.',\r\n                    isCorrect: false,\r\n                  },\r\n                  { text: 'To show the direction of North.', isCorrect: false },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 12,\r\n                type: 'knowledge',\r\n                question:\r\n                  'A political map is a type of map that primarily shows:',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'Physical features like mountains and rivers.',\r\n                    isCorrect: false,\r\n                  },\r\n                  { text: 'Climate zones and vegetation.', isCorrect: false },\r\n                  {\r\n                    text: 'The boundaries of countries, states, and cities.',\r\n                    isCorrect: true,\r\n                  },\r\n                  { text: 'Population density.', isCorrect: false },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 13,\r\n                type: 'knowledge',\r\n                question:\r\n                  \"On a map, what does the scale '1 inch = 100 miles' mean?\",\r\n                answerOptions: [\r\n                  { text: 'The map is 100 miles wide.', isCorrect: false },\r\n                  {\r\n                    text: 'Every inch on the map represents 100 miles in the real world.',\r\n                    isCorrect: true,\r\n                  },\r\n                  { text: 'The map is not accurate.', isCorrect: false },\r\n                  {\r\n                    text: 'Every 100 inches on the map represents 1 mile in the real world.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 14,\r\n                type: 'knowledge',\r\n                question: 'A bar chart is most effective for:',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'Showing a trend over a continuous period of time.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Comparing distinct categories or groups.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'Showing the parts of a whole or percentages.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Displaying the exact location of geographical features.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                questionNumber: 15,\r\n                type: 'knowledge',\r\n                question: 'A pie chart is most effective for:',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'Showing a trend over a continuous period of time.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Comparing distinct categories or groups.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Showing the parts of a whole or percentages.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'Displaying the exact location of geographical features.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n            ],\r\n          },\r\n        ],\r\n      },\r\n      'Reading Comprehension: Literary Texts': {\r\n        description:\r\n          'Learn to analyze plot, character, theme, and figurative language in fiction.',\r\n        topics: [\r\n          {\r\n            id: 'rla_lit_plot_character',\r\n            title: 'Plot & Character',\r\n            description: 'Analyzing story structure and character development.',\r\n            quizzes: [\r\n              {\r\n                id: 'rla_lit_plot_character_quiz1',\r\n                label: 'Set 1',\r\n                questionSourceTopicId: 'rla_lit_plot_character',\r\n              },\r\n              { id: 'rla_lit_plot_character_quiz2', label: 'Set 2' },\r\n              { id: 'rla_lit_plot_character_quiz3', label: 'Set 3' },\r\n            ],\r\n            type: 'reading',\r\n            article: {\r\n              title: \"An Excerpt from 'The Gift of the Magi' by O. Henry\",\r\n              genre: 'Short Story',\r\n              text: [\r\n                \"One dollar and eighty-seven cents. That was all. And sixty cents of it was in pennies. Pennies saved one and two at a time by bulldozing the grocer and the vegetable man and the butcher until one's cheeks burned with the silent imputation of parsimony that such close dealing implied. Three times Della counted it. One dollar and eighty-seven cents. And the next day would be Christmas.\",\r\n                'There was clearly nothing to do but flop down on the shabby little couch and howl. So Della did it. Which instigates the moral reflection that life is made up of sobs, sniffles, and smiles, with sniffles predominating.',\r\n                'Della finished her cry and attended to her cheeks with the powder rag. She stood by the window and looked out dully at a gray cat walking a gray fence in a gray backyard. Tomorrow would be Christmas Day, and she had only $1.87 with which to buy Jim a present. Her Jim. Many a happy hour she had spent planning for something nice for him. Something fine and rare and sterlingsomething just a little bit near to being worthy of the honor of being owned by Jim.',\r\n                \"Suddenly she whirled from the window and stood before the glass. Her eyes were shining brilliantly, but her face had lost its color within twenty seconds. Rapidly she pulled down her hair and let it fall to its full length. Now, there were two possessions of the James Dillingham Youngs in which they both took a mighty pride. One was Jim's gold watch that had been his father's and his grandfather's. The other was Della's hair. Had the queen of Sheba lived in the flat across the airshaft, Della would have let her hair hang out the window some day to dry just to depreciate Her Majesty's jewels and gifts. Had King Solomon been the janitor, with all his treasures piled up in the basement, Jim would have pulled out his watch every time he passed, just to see him pluck at his beard from envy.\",\r\n                \"So now Della's beautiful hair fell about her, rippling and shining like a cascade of brown waters. It reached below her knee and made itself almost a garment for her. And then she did it up again nervously and quickly. Once she faltered for a minute and stood still while a tear or two splashed on the worn red carpet. On went her old brown jacket; on went her old brown hat. With a whirl of skirts and with the brilliant sparkle still in her eyes, she fluttered out the door and down the stairs to the street.\",\r\n              ],\r\n            },\r\n            questions: [\r\n              {\r\n                question:\r\n                  'What is the central conflict that Della faces at the beginning of the passage?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'She is unhappy with her apartment.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'She does not have enough money to buy a worthy Christmas present for her husband.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'She is in a disagreement with the local grocer.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'She is worried about her hair losing its color.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                question:\r\n                  'Which of the following character traits best describes Della in the first three paragraphs?',\r\n                answerOptions: [\r\n                  { text: 'Careless and extravagant', isCorrect: false },\r\n                  { text: 'Angry and resentful', isCorrect: false },\r\n                  {\r\n                    text: 'Loving and resourceful, but distressed',\r\n                    isCorrect: true,\r\n                  },\r\n                  { text: 'Calm and indifferent', isCorrect: false },\r\n                ],\r\n              },\r\n              {\r\n                question:\r\n                  \"The description of the 'gray cat walking a gray fence in a gray backyard' in paragraph 3 serves primarily to:\",\r\n                answerOptions: [\r\n                  { text: 'suggest that Della wants a pet.', isCorrect: false },\r\n                  {\r\n                    text: \"reflect Della's dull and hopeless mood at that moment.\",\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'introduce a new character to the story.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'show that the story takes place in the city.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                question:\r\n                  \"What happens in the plot that marks a turning point for Della's emotional state?\",\r\n                answerOptions: [\r\n                  {\r\n                    text: 'She counts her money for the third time.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'She looks out the window at the gray cat.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'She suddenly has an idea while looking in the mirror.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'She puts on her old brown jacket and hat.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                question:\r\n                  \"The author states that Della's hair and Jim's watch are possessions in which they 'took a mighty pride.' What is the purpose of highlighting these two items?\",\r\n                answerOptions: [\r\n                  {\r\n                    text: 'To show that Della and Jim are wealthy and materialistic.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'To establish these items as the most valuable things they own, foreshadowing their importance to the plot.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'To suggest that they should sell both items to improve their living situation.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'To describe the history of the James Dillingham Young family.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                question:\r\n                  \"How does Della's character evolve from the beginning of the passage to the end?\",\r\n                answerOptions: [\r\n                  {\r\n                    text: 'She goes from being happy to being sad.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'She goes from a state of despair to one of determined action.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'She becomes more concerned with her own appearance.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'She decides that buying a gift is not important.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                question:\r\n                  \"The phrase 'silent imputation of parsimony' in the first paragraph means that Della felt:\",\r\n                answerOptions: [\r\n                  {\r\n                    text: 'proud of her ability to save money.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'the shopkeepers were silently accusing her of being overly cheap.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'the shopkeepers admired her for her bargaining skills.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'that she was not paying enough for the groceries.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                question: 'What is the climax of this particular excerpt?',\r\n                answerOptions: [\r\n                  { text: 'Della counting her money.', isCorrect: false },\r\n                  { text: 'Della looking out the window.', isCorrect: false },\r\n                  {\r\n                    text: 'Della realizing what she can do and then quickly leaving the apartment.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: \"The author's moral reflection on life.\",\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                question:\r\n                  \"The author's comparison of Della's hair to the Queen of Sheba's jewels and Jim's watch to King Solomon's treasures is an example of what literary device?\",\r\n                answerOptions: [\r\n                  { text: 'Metaphor', isCorrect: false },\r\n                  { text: 'Personification', isCorrect: false },\r\n                  { text: 'Allusion', isCorrect: true },\r\n                  { text: 'Onomatopoeia', isCorrect: false },\r\n                ],\r\n              },\r\n              {\r\n                question:\r\n                  \"What primary motivation drives Della's actions throughout the passage?\",\r\n                answerOptions: [\r\n                  { text: 'Her desire to be wealthy.', isCorrect: false },\r\n                  {\r\n                    text: 'Her deep love for her husband, Jim.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'Her frustration with her living conditions.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Her wish to compete with royalty.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                question:\r\n                  \"The author writes, 'Once she faltered for a minute and stood still while a tear or two splashed on the worn red carpet.' This moment in the plot reveals that Della's decision:\",\r\n                answerOptions: [\r\n                  {\r\n                    text: 'was easy and made without any emotion.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'was difficult and caused her a moment of sadness or hesitation.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'was something she had planned for a long time.',\r\n                    isCorrect: false,\r\n                  },\r\n                  { text: 'was an accident.', isCorrect: false },\r\n                ],\r\n              },\r\n              {\r\n                question:\r\n                  'Which of the following is part of the exposition of the story, as presented in the excerpt?',\r\n                answerOptions: [\r\n                  {\r\n                    text: \"Della's decision to leave the apartment.\",\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'The introduction of the setting, the main character (Della), and her central problem.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: \"The comparison of Della's hair to a cascade of brown waters.\",\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: \"The 'brilliant sparkle' in Della's eyes.\",\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                question:\r\n                  \"The description of Della putting on her 'old brown jacket' and 'old brown hat' contributes to the characterization by emphasizing her:\",\r\n                answerOptions: [\r\n                  { text: 'lack of style.', isCorrect: false },\r\n                  { text: 'love for the color brown.', isCorrect: false },\r\n                  { text: 'modest financial means.', isCorrect: true },\r\n                  { text: 'desire to be unnoticed.', isCorrect: false },\r\n                ],\r\n              },\r\n              {\r\n                question:\r\n                  \"What does the 'brilliant sparkle' in Della's eyes at the end of the passage symbolize?\",\r\n                answerOptions: [\r\n                  {\r\n                    text: 'Her lingering sadness and despair.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'Her newfound hope, determination, and love.',\r\n                    isCorrect: true,\r\n                  },\r\n                  { text: 'Her anger at her situation.', isCorrect: false },\r\n                  {\r\n                    text: 'Her fear of what Jim will think.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                question: 'The rising action of this excerpt begins when:',\r\n                answerOptions: [\r\n                  { text: 'Della counts her money.', isCorrect: false },\r\n                  { text: 'Della looks out the window.', isCorrect: false },\r\n                  {\r\n                    text: 'Della suddenly whirls from the window with an idea.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'The author makes a moral reflection about life.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n            ],\r\n          },\r\n          {\r\n            id: 'rla_lit_theme_figurative_language',\r\n            title: 'Poetry & Figurative Language',\r\n            description:\r\n              'Analyze poems for theme, tone, and figurative language techniques.',\r\n            quizzes: [\r\n              {\r\n                id: 'rla_lit_theme_figurative_language_quiz1',\r\n                label: 'Set 1',\r\n                questionSourceTopicId: 'rla_lit_theme_figurative_language',\r\n              },\r\n              { id: 'rla_lit_theme_figurative_language_quiz2', label: 'Set 2' },\r\n              { id: 'rla_lit_theme_figurative_language_quiz3', label: 'Set 3' },\r\n            ],\r\n            type: 'reading',\r\n            article: {\r\n              title: 'The Road Not Taken',\r\n              genre: 'Poem by Robert Frost',\r\n              text: [\r\n                'Two roads diverged in a yellow wood,',\r\n                'And sorry I could not travel both',\r\n                'And be one traveler, long I stood',\r\n                'And looked down one as far as I could',\r\n                'To where it bent in the undergrowth;',\r\n                '<br/>',\r\n                'Then took the other, as just as fair,',\r\n                'And having perhaps the better claim,',\r\n                'Because it was grassy and wanted wear;',\r\n                'Though as for that the passing there',\r\n                'Had worn them really about the same,',\r\n                '<br/>',\r\n                'And both that morning equally lay',\r\n                'In leaves no step had trodden black.',\r\n                'Oh, I kept the first for another day!',\r\n                'Yet knowing how way leads on to way,',\r\n                'I doubted if I should ever come back.',\r\n                '<br/>',\r\n                'I shall be telling this with a sigh',\r\n                'Somewhere ages and ages hence:',\r\n                'Two roads diverged in a wood, and I',\r\n                'I took the one less traveled by,',\r\n                'And that has made all the difference.',\r\n              ],\r\n            },\r\n            questions: [\r\n              {\r\n                question:\r\n                  \"The 'two roads' in the poem are a metaphor for what?\",\r\n                answerOptions: [\r\n                  { text: 'An actual forest path.', isCorrect: false },\r\n                  { text: 'Choices one must make in life.', isCorrect: true },\r\n                  { text: 'The past and the future.', isCorrect: false },\r\n                  { text: 'Friendships.', isCorrect: false },\r\n                ],\r\n              },\r\n              {\r\n                question: 'What is the central theme of the poem?',\r\n                answerOptions: [\r\n                  { text: 'The beauty of nature in autumn.', isCorrect: false },\r\n                  {\r\n                    text: 'The importance of following the crowd.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: \"The idea that individual choices shape one's life and identity.\",\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'The regret that comes from making a wrong decision.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                question:\r\n                  \"In the first stanza, what does the 'yellow wood' symbolize?\",\r\n                answerOptions: [\r\n                  {\r\n                    text: \"A time of decision or a crossroads in the speaker's life.\",\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: \"The speaker's fear and uncertainty.\",\r\n                    isCorrect: false,\r\n                  },\r\n                  { text: 'A place of danger.', isCorrect: false },\r\n                  { text: \"The speaker's happy memories.\", isCorrect: false },\r\n                ],\r\n              },\r\n              {\r\n                question:\r\n                  \"In the second stanza, the speaker notes that the second road 'was grassy and wanted wear.' What does this figurative language suggest?\",\r\n                answerOptions: [\r\n                  { text: 'The road was poorly maintained.', isCorrect: false },\r\n                  {\r\n                    text: 'The road was more beautiful than the first.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'The road appeared to be less traveled or less conventional.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'The road was dangerous and overgrown.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                question:\r\n                  'How does the speaker contradict his own description of the two roads in the second stanza?',\r\n                answerOptions: [\r\n                  {\r\n                    text: 'By saying one was much more difficult.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: \"By admitting that 'the passing there / Had worn them really about the same.'\",\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'By claiming that one road was made of stone.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'By stating that he had traveled both roads before.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                question:\r\n                  \"What does the line 'And both that morning equally lay / In leaves no step had trodden black' imply?\",\r\n                answerOptions: [\r\n                  {\r\n                    text: 'That the speaker was the first person there that day, and the choice was truly his own.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'That it was too dark to see the paths clearly.',\r\n                    isCorrect: false,\r\n                  },\r\n                  { text: 'That both paths were unpopular.', isCorrect: false },\r\n                  { text: 'That the speaker was lost.', isCorrect: false },\r\n                ],\r\n              },\r\n              {\r\n                question:\r\n                  \"The 'sigh' mentioned in the final stanza ('I shall be telling this with a sigh') is best interpreted as a sigh of:\",\r\n                answerOptions: [\r\n                  {\r\n                    text: 'simple regret for the path not taken.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'satisfaction and contentment with the choice made.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'complex reflection, blending nostalgia, satisfaction, and a sense of the weight of the decision.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'deep sadness and disappointment.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                question:\r\n                  \"The phrase 'way leads on to way' in the third stanza suggests that:\",\r\n                answerOptions: [\r\n                  {\r\n                    text: 'all paths eventually lead to the same destination.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'it is easy to get lost in the woods.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'one choice in life inevitably leads to another, making it difficult to go back and change the past.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'the speaker plans to explore all possible paths.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                question:\r\n                  \"The final lines, 'I took the one less traveled by, / And that has made all the difference,' are often interpreted as a celebration of individualism. However, considering the poem's earlier statement that the roads were 'really about the same,' what is another possible interpretation of the theme?\",\r\n                answerOptions: [\r\n                  {\r\n                    text: 'The speaker made a terrible mistake.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'The poem is about how we create meaning and significance for our choices after we make them.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'The speaker is lying about which road he took.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'The poem is a warning against taking any risks.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                question:\r\n                  \"The repetition of the word 'And' at the beginning of lines 2, 3, and 4 is a literary device called anaphora. What is its effect?\",\r\n                answerOptions: [\r\n                  {\r\n                    text: 'It makes the poem sound confusing.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'It creates a sense of hesitation and thoughtful deliberation as the speaker weighs his options.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'It shows that the speaker is in a hurry.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'It suggests the speaker is not telling the truth.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                question:\r\n                  \"The 'undergrowth' where the path bends can be seen as a symbol for:\",\r\n                answerOptions: [\r\n                  { text: 'a beautiful garden.', isCorrect: false },\r\n                  {\r\n                    text: 'the future, which cannot be fully seen or understood from the present.',\r\n                    isCorrect: true,\r\n                  },\r\n                  { text: \"the speaker's past mistakes.\", isCorrect: false },\r\n                  { text: 'a place of safety and comfort.', isCorrect: false },\r\n                ],\r\n              },\r\n              {\r\n                question:\r\n                  \"The poem's rhyme scheme is ABAAB. What effect does this consistent structure have?\",\r\n                answerOptions: [\r\n                  {\r\n                    text: 'It makes the poem feel chaotic and unpredictable.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'It gives the poem a thoughtful, musical quality that reinforces its contemplative mood.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'It makes the poem difficult to understand.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'It signals that the poem should be read as a joke.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n              {\r\n                question:\r\n                  'Which of the following words best describes the overall mood of the poem?',\r\n                answerOptions: [\r\n                  { text: 'Joyful and carefree', isCorrect: false },\r\n                  { text: 'Angry and bitter', isCorrect: false },\r\n                  { text: 'Reflective and contemplative', isCorrect: true },\r\n                  { text: 'Frightened and anxious', isCorrect: false },\r\n                ],\r\n              },\r\n              {\r\n                question:\r\n                  \"The title 'The Road Not Taken' is significant because the poem focuses heavily on:\",\r\n                answerOptions: [\r\n                  {\r\n                    text: 'the road the speaker chose to travel.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'the memory and imagined possibilities of the road the speaker did not choose.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'the physical characteristics of both roads.',\r\n                    isCorrect: false,\r\n                  },\r\n                  { text: \"the speaker's hiking ability.\", isCorrect: false },\r\n                ],\r\n              },\r\n              {\r\n                question:\r\n                  \"The poem uses the past tense until the final stanza. Why does the poet switch to the future tense ('I shall be telling this...')?\",\r\n                answerOptions: [\r\n                  {\r\n                    text: 'To show that the speaker has forgotten what happened.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'To emphasize how the speaker will reflect on this moment and assign it meaning in the distant future.',\r\n                    isCorrect: true,\r\n                  },\r\n                  {\r\n                    text: 'To suggest that the events of the poem have not actually happened yet.',\r\n                    isCorrect: false,\r\n                  },\r\n                  {\r\n                    text: 'To confuse the reader about the timeline of the story.',\r\n                    isCorrect: false,\r\n                  },\r\n                ],\r\n              },\r\n            ],\r\n          },\r\n        ],\r\n      },\r\n      'Language & Grammar': {\r\n        description:\r\n          'Master the rules of standard English grammar, punctuation, and sentence structure.',\r\n        topics: [\r\n          {\r\n            id: 'rla_grammar_conventions',\r\n            title: 'Standard English Conventions',\r\n            description:\r\n              'Standard English conventions including sentence structure, usage, and mechanics.',\r\n            quizzes: [\r\n              { id: 'rla_lang_conventions_quiz1', label: 'Set 1' },\r\n              { id: 'rla_lang_conventions_quiz2', label: 'Set 2' },\r\n              { id: 'rla_lang_conventions_quiz3', label: 'Set 3' },\r\n            ],\r\n          },\r\n          {\r\n            id: 'rla_grammar_usage',\r\n            title: 'Grammar & Usage',\r\n            description:\r\n              'Subject-verb agreement, pronoun usage, and correct word choice.',\r\n            quizzes: [\r\n              { id: 'rla_lang_usage_quiz1', label: 'Set 1' },\r\n              { id: 'rla_lang_usage_quiz2', label: 'Set 2' },\r\n              { id: 'rla_lang_usage_quiz3', label: 'Set 3' },\r\n            ],\r\n          },\r\n          {\r\n            id: 'rla_extended_response',\r\n            title: 'Extended Response',\r\n            description:\r\n              'Practice constructing a well-supported argumentative essay.',\r\n            quizzes: [\r\n              { id: 'rla_extended_response_quiz1', label: 'Set 1' },\r\n              { id: 'rla_extended_response_quiz2', label: 'Set 2' },\r\n              { id: 'rla_extended_response_quiz3', label: 'Set 3' },\r\n            ],\r\n          },\r\n        ],\r\n      },\r\n    },\r\n  },\r\n  Simulations: {\r\n    icon: 'BeakerIcon',\r\n    categories: {\r\n      'Interactive Labs': {\r\n        description: 'Engage with hands-on simulations to explore concepts.',\r\n        topics: [\r\n          {\r\n            id: 'sim_life',\r\n            title: 'The Game of Life',\r\n            description:\r\n              'A cellular automaton devised by the British mathematician John Horton Conway in 1970.',\r\n            type: 'simulation',\r\n          },\r\n        ],\r\n      },\r\n    },\r\n  },\r\n};\r\n\r\nconst getTopicById = (subjectName, topicId) => {\r\n  if (!subjectName || !topicId) {\r\n    return null;\r\n  }\r\n  const sourceApp =\r\n    typeof window !== 'undefined' && window.AppData ? window.AppData : AppData;\r\n  const subject = sourceApp?.[subjectName];\r\n  if (!subject || !subject.categories) {\r\n    return null;\r\n  }\r\n  for (const category of Object.values(subject.categories)) {\r\n    const topics = Array.isArray(category?.topics) ? category.topics : [];\r\n    const match = topics.find(\r\n      (candidate) => candidate && candidate.id === topicId\r\n    );\r\n    if (match) {\r\n      return match;\r\n    }\r\n  }\r\n  return null;\r\n};\r\n\r\nconst resolveQuizQuestions = (subjectName, topic, quiz) => {\r\n  if (quiz && Array.isArray(quiz.questions) && quiz.questions.length) {\r\n    return quiz.questions;\r\n  }\r\n  if (quiz?.questionSourceTopicId) {\r\n    const sourceTopic = getTopicById(subjectName, quiz.questionSourceTopicId);\r\n    if (\r\n      sourceTopic &&\r\n      Array.isArray(sourceTopic.questions) &&\r\n      sourceTopic.questions.length\r\n    ) {\r\n      return sourceTopic.questions;\r\n    }\r\n  }\r\n  if (topic && Array.isArray(topic.questions) && topic.questions.length) {\r\n    return topic.questions;\r\n  }\r\n  return [];\r\n};\r\n\r\nconst quizHasAvailableQuestions = (subjectName, topic, quiz) => {\r\n  if (!quiz) {\r\n    return false;\r\n  }\r\n  if (Array.isArray(quiz.questions) && quiz.questions.length) {\r\n    return true;\r\n  }\r\n  if (quiz.questionSourceTopicId) {\r\n    const sourceTopic = getTopicById(subjectName, quiz.questionSourceTopicId);\r\n    if (\r\n      sourceTopic &&\r\n      Array.isArray(sourceTopic.questions) &&\r\n      sourceTopic.questions.length\r\n    ) {\r\n      return true;\r\n    }\r\n  }\r\n  return Array.isArray(topic?.questions) && topic.questions.length > 0;\r\n};\r\n\r\nconst topicHasAvailableQuestions = (subjectName, topic) => {\r\n  if (!topic || typeof topic !== 'object') {\r\n    return false;\r\n  }\r\n  if (Array.isArray(topic.questions) && topic.questions.length > 0) {\r\n    return true;\r\n  }\r\n  if (Array.isArray(topic.quizzes) && topic.quizzes.length > 0) {\r\n    return topic.quizzes.some((quiz) =>\r\n      quizHasAvailableQuestions(subjectName, topic, quiz)\r\n    );\r\n  }\r\n  return false;\r\n};\r\n\r\n// --- Canonical topic grouping (collapse variants like \"Quiz 2\", \"Set B\", etc.) ---\r\n// Heuristics only: if window.CURATED_SAQ_TOPICS[subject] exists, it will be used to order/filter.\r\nfunction isVariantSuffix(text) {\r\n  if (!text) return false;\r\n  const t = String(text).trim().toLowerCase();\r\n  // Matches: Quiz 2, Quiz B, Set 3, Version 4, Test A, Practice Set 2, Form C, Variant I, V2, etc.\r\n  return (\r\n    /\\b(quiz|set|version|form|variant|practice\\s*set|test)\\b\\s*([#:.-]?\\s*[a-z0-9ivxlcm]+)?\\s*$/.test(\r\n      t\r\n    ) || /\\b(v\\s*\\d+)\\s*$/.test(t)\r\n  );\r\n}\r\n\r\nfunction splitOnDivider(title) {\r\n  // Prefer colon or long dash as divider between base and variant\r\n  const dividers = [':', '', '', '-', '|'];\r\n  for (const d of dividers) {\r\n    const idx = title.indexOf(d);\r\n    if (idx > -1) {\r\n      return [title.slice(0, idx).trim(), title.slice(idx + 1).trim()];\r\n    }\r\n  }\r\n  return [title.trim(), ''];\r\n}\r\n\r\nfunction deriveCanonicalTopicTitle(rawTitle) {\r\n  if (!rawTitle) return '';\r\n  let title = String(rawTitle).trim();\r\n  // Prefer centralized resolver if present\r\n  try {\r\n    if (\r\n      typeof window !== 'undefined' &&\r\n      typeof window.resolveCanonicalTopic === 'function' &&\r\n      subjectName\r\n    ) {\r\n      const resolved = window.resolveCanonicalTopic(subjectName, title);\r\n      if (resolved) return resolved;\r\n    }\r\n  } catch {}\r\n  // Remove trailing parenthetical variant markers e.g., (Set 2), (Quiz B)\r\n  title = title\r\n    .replace(/\\((?:\\s*(?:quiz|set|version|form|variant)[^)]*)\\)\\s*$/i, '')\r\n    .trim();\r\n  // If there is a divider, and the right side looks like a variant tag, keep the left side\r\n  const [left, right] = splitOnDivider(title);\r\n  if (right && isVariantSuffix(right)) {\r\n    return left;\r\n  }\r\n  // Otherwise, strip trailing inline variant patterns like \"... Quiz 3\" or \"... Set B\"\r\n  const stripped = title\r\n    .replace(\r\n      /\\b(quiz|set|version|form|variant|practice\\s*set)\\b\\s*[#:.-]?\\s*[a-z0-9ivxlcm]+\\s*$/i,\r\n      ''\r\n    )\r\n    .trim();\r\n  return stripped || left || title;\r\n}\r\n\r\nfunction buildCanonicalTopics(subjectName, categoryName, rawTopics) {\r\n  const groups = new Map();\r\n  const curated =\r\n    typeof window !== 'undefined' &&\r\n    window.CURATED_SAQ_TOPICS &&\r\n    window.CURATED_SAQ_TOPICS[subjectName]\r\n      ? window.CURATED_SAQ_TOPICS[subjectName]\r\n      : null;\r\n\r\n  const pushVariant = (group, topic, quizLike, indexWithinTopic) => {\r\n    if (!quizLike || typeof quizLike !== 'object') return;\r\n    // Ensure variant has minimally required shape; keep original for resolution\r\n    const variant = { ...quizLike };\r\n    // Defer question resolution to existing pipeline; ensure label exists for UI\r\n    if (!variant.label) {\r\n      const idx =\r\n        typeof indexWithinTopic === 'number'\r\n          ? indexWithinTopic\r\n          : Array.isArray(group.quizzes)\r\n          ? group.quizzes.length\r\n          : 0;\r\n      variant.label = `Quiz ${String.fromCharCode(65 + (idx % 26))}`;\r\n    }\r\n    group.quizzes.push(variant);\r\n  };\r\n\r\n  const ensureGroup = (canonicalTitle) => {\r\n    const key = canonicalTitle.toLowerCase();\r\n    if (!groups.has(key)) {\r\n      const id = `canon__${sanitizeCodeSegment(\r\n        canonicalTitle,\r\n        canonicalTitle\r\n      )}`;\r\n      groups.set(key, {\r\n        id,\r\n        title: canonicalTitle,\r\n        description: '',\r\n        quizzes: [],\r\n        imageUrl: null,\r\n      });\r\n    }\r\n    return groups.get(key);\r\n  };\r\n\r\n  const topics = Array.isArray(rawTopics) ? rawTopics : [];\r\n  topics.forEach((topic) => {\r\n    if (!topic || typeof topic !== 'object') return;\r\n    const srcTitle = topic.title || topic.id || '';\r\n    // Try centralized resolver first\r\n    let baseTitle = null;\r\n    try {\r\n      if (\r\n        typeof window !== 'undefined' &&\r\n        typeof window.resolveCanonicalTopic === 'function'\r\n      ) {\r\n        baseTitle = window.resolveCanonicalTopic(subjectName, srcTitle);\r\n      }\r\n    } catch {}\r\n    if (!baseTitle) {\r\n      baseTitle = deriveCanonicalTopicTitle(srcTitle, subjectName);\r\n    }\r\n    const group = ensureGroup(baseTitle);\r\n    if (!group.description && topic.description)\r\n      group.description = topic.description;\r\n    if (!group.imageUrl && topic.imageUrl) group.imageUrl = topic.imageUrl;\r\n\r\n    if (Array.isArray(topic.quizzes) && topic.quizzes.length) {\r\n      topic.quizzes.forEach((quiz, qi) => pushVariant(group, topic, quiz, qi));\r\n    }\r\n    if (Array.isArray(topic.questions) && topic.questions.length) {\r\n      // Treat topic-level questions as a single variant\r\n      const pseudo = {\r\n        title: topic.title,\r\n        questions: topic.questions,\r\n        quizId: topic.id,\r\n        questionSourceTopicId: topic.id,\r\n      };\r\n      pushVariant(group, topic, pseudo, 0);\r\n    }\r\n  });\r\n\r\n  // Filter out empty groups (no available questions at all)\r\n  let aggregated = Array.from(groups.values())\r\n    .map((g) => {\r\n      const filtered = {\r\n        ...g,\r\n        quizzes: (g.quizzes || []).filter(\r\n          (q) =>\r\n            q &&\r\n            quizHasAvailableQuestions(\r\n              subjectName,\r\n              { id: g.id, title: g.title },\r\n              q\r\n            )\r\n        ),\r\n      };\r\n      return filtered;\r\n    })\r\n    .filter((g) => Array.isArray(g.quizzes) && g.quizzes.length > 0);\r\n\r\n  // Optional: apply curated allowlist ordering if provided\r\n  if (Array.isArray(curated) && curated.length) {\r\n    const allow = new Set(\r\n      curated.map((t) => String(t).toLowerCase().trim()).filter(Boolean)\r\n    );\r\n    aggregated = aggregated.filter((g) =>\r\n      allow.has(String(g.title).toLowerCase().trim())\r\n    );\r\n    const order = new Map(\r\n      curated.map((t, i) => [String(t).toLowerCase().trim(), i])\r\n    );\r\n    aggregated.sort(\r\n      (a, b) =>\r\n        (order.get(a.title.toLowerCase().trim()) ?? 1e9) -\r\n        (order.get(b.title.toLowerCase().trim()) ?? 1e9)\r\n    );\r\n  }\r\n\r\n  return aggregated;\r\n}\r\n\r\n// --- Display helpers for stacked variants and labels ---\r\nfunction getVariantDisplayName(subjectName, canonicalTopicTitle, index) {\r\n  const idx = Number(index) || 0;\r\n  const subj = String(subjectName || '').toLowerCase();\r\n  const title = String(canonicalTopicTitle || '').toLowerCase();\r\n  // Special naming for RLA informational reading sets\r\n  if (subj.includes('reasoning') || subj === 'rla') {\r\n    if (\r\n      title.includes('reading comprehension') &&\r\n      title.includes('informational')\r\n    ) {\r\n      if (idx === 0) return 'Main Passage';\r\n      if (idx === 1) return 'Details & Inference';\r\n      if (idx === 2) return 'Paired Texts';\r\n      return `High-Challenge #${idx - 2}`;\r\n    }\r\n  }\r\n  // Generic naming scheme\r\n  if (idx === 0) return 'Core Practice';\r\n  if (idx === 1) return 'Skill Builder';\r\n  if (idx === 2) return 'Mixed Review';\r\n  return `Challenge Set #${idx - 2}`;\r\n}\r\n\r\nfunction sortVariantsStable(quizSets) {\r\n  const toKey = (q, i) => {\r\n    const code = (q && (q.quizCode || q.quizId || q.id || q.title || '')) + '';\r\n    // Extract trailing number as a weak signal\r\n    const m = code.match(/(\\d+)(?!.*\\d)/);\r\n    const n = m ? parseInt(m[1], 10) : i;\r\n    return { n, code: code.toLowerCase(), i };\r\n  };\r\n  return [...(quizSets || [])]\r\n    .map((q, i) => ({ q, ...toKey(q, i) }))\r\n    .sort((a, b) => a.n - b.n || a.code.localeCompare(b.code) || a.i - b.i)\r\n    .map((x) => x.q);\r\n}\r\n\r\nconst annotateQuestionsWithSubject = (questions, subjectKey) => {\r\n  if (!Array.isArray(questions) || !subjectKey) {\r\n    return Array.isArray(questions) ? questions : [];\r\n  }\r\n\r\n  return questions.map((question) => {\r\n    if (!question || typeof question !== 'object') {\r\n      return question;\r\n    }\r\n\r\n    if (!question.subject) {\r\n      return { ...question, subject: subjectKey };\r\n    }\r\n\r\n    return question;\r\n  });\r\n};\r\n\r\nconst integrateExpandedQuizData = (baseData, expandedData) => {\r\n  if (!expandedData || typeof expandedData !== 'object') {\r\n    return baseData;\r\n  }\r\n\r\n  const annotateSubjectTree = (subjectNode, subjectKey) => {\r\n    if (!subjectNode || typeof subjectNode !== 'object') {\r\n      return;\r\n    }\r\n\r\n    Object.values(subjectNode.categories || {}).forEach((category) => {\r\n      if (!category || typeof category !== 'object') {\r\n        return;\r\n      }\r\n\r\n      (category.topics || []).forEach((topic) => {\r\n        if (!topic || typeof topic !== 'object') {\r\n          return;\r\n        }\r\n\r\n        if (Array.isArray(topic.quizzes)) {\r\n          topic.quizzes = topic.quizzes.map((quiz) => {\r\n            if (!quiz || typeof quiz !== 'object') {\r\n              return quiz;\r\n            }\r\n            return {\r\n              ...quiz,\r\n              subject: quiz.subject || subjectKey,\r\n              questions: annotateQuestionsWithSubject(\r\n                quiz.questions,\r\n                subjectKey\r\n              ),\r\n            };\r\n          });\r\n        }\r\n\r\n        if (Array.isArray(topic.questions)) {\r\n          topic.questions = annotateQuestionsWithSubject(\r\n            topic.questions,\r\n            subjectKey\r\n          );\r\n        }\r\n      });\r\n    });\r\n  };\r\n\r\n  Object.entries(expandedData).forEach(([subjectName, expandedSubject]) => {\r\n    if (!expandedSubject || typeof expandedSubject !== 'object') {\r\n      return;\r\n    }\r\n\r\n    if (!baseData[subjectName]) {\r\n      baseData[subjectName] = JSON.parse(JSON.stringify(expandedSubject));\r\n      annotateSubjectTree(baseData[subjectName], subjectName);\r\n      return;\r\n    }\r\n\r\n    const baseSubject = baseData[subjectName];\r\n    if (!baseSubject.categories) {\r\n      baseSubject.categories = {};\r\n    }\r\n    if (expandedSubject.icon && !baseSubject.icon) {\r\n      baseSubject.icon = expandedSubject.icon;\r\n    }\r\n\r\n    Object.entries(expandedSubject.categories || {}).forEach(\r\n      ([categoryName, expandedCategory]) => {\r\n        if (!expandedCategory || typeof expandedCategory !== 'object') {\r\n          return;\r\n        }\r\n\r\n        if (!baseSubject.categories[categoryName]) {\r\n          baseSubject.categories[categoryName] = JSON.parse(\r\n            JSON.stringify(expandedCategory)\r\n          );\r\n          return;\r\n        }\r\n\r\n        const baseCategory = baseSubject.categories[categoryName];\r\n        if (expandedCategory.description && !baseCategory.description) {\r\n          baseCategory.description = expandedCategory.description;\r\n        }\r\n\r\n        if (!Array.isArray(baseCategory.topics)) {\r\n          baseCategory.topics = [];\r\n        }\r\n        const topicList = baseCategory.topics;\r\n\r\n        (expandedCategory.topics || []).forEach((expandedTopic) => {\r\n          if (!expandedTopic || typeof expandedTopic !== 'object') {\r\n            return;\r\n          }\r\n\r\n          let existingTopic = topicList.find(\r\n            (topic) =>\r\n              topic.id === expandedTopic.id ||\r\n              topic.title === expandedTopic.title\r\n          );\r\n          if (!existingTopic) {\r\n            existingTopic = JSON.parse(JSON.stringify(expandedTopic));\r\n            topicList.push(existingTopic);\r\n          } else {\r\n            if (expandedTopic.description && !existingTopic.description) {\r\n              existingTopic.description = expandedTopic.description;\r\n            }\r\n          }\r\n\r\n          if (\r\n            Array.isArray(expandedTopic.quizzes) &&\r\n            expandedTopic.quizzes.length\r\n          ) {\r\n            existingTopic.quizzes = expandedTopic.quizzes.map((quiz) => {\r\n              if (!quiz || typeof quiz !== 'object') {\r\n                return quiz;\r\n              }\r\n\r\n              const questions = annotateQuestionsWithSubject(\r\n                quiz.questions,\r\n                subjectName\r\n              );\r\n              return {\r\n                ...quiz,\r\n                subject: quiz.subject || subjectName,\r\n                questions,\r\n              };\r\n            });\r\n\r\n            if (\r\n              !Array.isArray(existingTopic.questions) ||\r\n              !existingTopic.questions.length\r\n            ) {\r\n              const firstQuiz = existingTopic.quizzes[0];\r\n              if (firstQuiz && Array.isArray(firstQuiz.questions)) {\r\n                existingTopic.questions = annotateQuestionsWithSubject(\r\n                  firstQuiz.questions,\r\n                  subjectName\r\n                );\r\n              }\r\n            }\r\n          }\r\n\r\n          if (\r\n            Array.isArray(existingTopic.questions) &&\r\n            existingTopic.questions.length\r\n          ) {\r\n            existingTopic.questions = annotateQuestionsWithSubject(\r\n              existingTopic.questions,\r\n              subjectName\r\n            );\r\n          }\r\n        });\r\n      }\r\n    );\r\n\r\n    annotateSubjectTree(baseSubject, subjectName);\r\n  });\r\n\r\n  return baseData;\r\n};\r\n\r\nconst expandedQuizDataSource =\r\n  typeof window !== 'undefined' && window.ExpandedQuizData\r\n    ? window.ExpandedQuizData\r\n    : typeof globalThis !== 'undefined'\r\n    ? globalThis.ExpandedQuizData\r\n    : null;\r\nif (expandedQuizDataSource) {\r\n  integrateExpandedQuizData(AppData, expandedQuizDataSource);\r\n}\r\n\r\nfunction sanitizeCodeSegment(value, fallback = '') {\r\n  if (typeof value !== 'string') {\r\n    return fallback;\r\n  }\r\n  const trimmed = value.trim();\r\n  if (!trimmed) {\r\n    return fallback;\r\n  }\r\n  const normalized = trimmed\r\n    .toLowerCase()\r\n    .replace(/[^a-z0-9]+/g, '-')\r\n    .replace(/^-+|-+$/g, '');\r\n  return normalized || fallback;\r\n}\r\n\r\nfunction cloneArticle(article) {\r\n  if (!article || typeof article !== 'object') {\r\n    return null;\r\n  }\r\n  try {\r\n    return JSON.parse(JSON.stringify(article));\r\n  } catch (error) {\r\n    return Array.isArray(article) ? [...article] : { ...article };\r\n  }\r\n}\r\n\r\n// --- Premade helpers: image, math, and question padding ---\r\nfunction normalizeImagePath(path) {\r\n  if (!path) return '';\r\n  let p = String(path).trim().replace(/\\\\+/g, '/').replace(/\\/+/g, '/');\r\n  p = p.replace(/\\/+/g, '/');\r\n  // Remove leading/trailing whitespace and slashes\r\n  p = p.replace(/^\\s+|\\s+$/g, '').replace(/^\\/+|\\/+$/g, '');\r\n  // Convert old /frontend/Images paths to new /images paths\r\n  p = p.replace(/^frontend\\/Images\\//i, 'images/');\r\n  p = p.replace(/^frontend\\/Images/i, 'images');\r\n  // Capitalize subject folder names\r\n  const parts = p.split('/');\r\n  if (parts[0].toLowerCase() === 'images' && parts[1]) {\r\n    parts[1] = parts[1].charAt(0).toUpperCase() + parts[1].slice(1);\r\n  }\r\n  p = parts.join('/');\r\n  // Ensure it starts with /images/\r\n  if (!p.startsWith('images/')) {\r\n    p = 'images/' + p.replace(/^\\/+/, '');\r\n  }\r\n  // Ensure leading slash\r\n  if (!p.startsWith('/')) {\r\n    p = '/' + p;\r\n  }\r\n  // Remove duplicate slashes\r\n  p = p.replace(/\\/+/g, '/');\r\n  return p;\r\n}\r\n\r\nfunction resolveAssetUrl(src, contextSubject = null) {\r\n  if (!src) return '';\r\n  let s = String(src).trim();\r\n\r\n  // Keep data: and blob: URLs unchanged\r\n  if (s.startsWith('data:') || s.startsWith('blob:')) {\r\n    return s;\r\n  }\r\n\r\n  // Strip ANY domain (quiz.ez-ged.com, ged-website.onrender.com, localhost, etc.)\r\n  s = s.replace(/^https?:\\/\\/[^\\/]+/i, '');\r\n\r\n  // Remove leading slashes\r\n  s = s.replace(/^\\/+/, '');\r\n\r\n  // Convert old /frontend/Images paths to new /images paths\r\n  s = s.replace(/^frontend\\/Images\\//i, 'images/');\r\n  s = s.replace(/^frontend\\/Images/i, 'images');\r\n\r\n  // Remove 'frontend/' prefix if still present\r\n  s = s.replace(/^frontend\\//i, '');\r\n\r\n  // Remove 'Images/' prefix if present (shouldn't be after above replacements)\r\n  s = s.replace(/^Images\\//i, '');\r\n\r\n  // Split path to extract subject and filename\r\n  const parts = s.split('/').filter((p) => p.trim());\r\n\r\n  if (parts.length === 0) return '';\r\n\r\n  // Get filename (last part)\r\n  const filename = parts[parts.length - 1];\r\n\r\n  // Detect subject from path segments first, then from filename, then use context\r\n  let subject = contextSubject || 'Social Studies'; // default\r\n\r\n  // Try to detect from path segments\r\n  for (const part of parts) {\r\n    const lower = part.toLowerCase().replace(/[_\\s-]+/g, '');\r\n    if (lower.includes('math')) {\r\n      subject = 'Math';\r\n      break;\r\n    } else if (lower.includes('science') || lower === 'scince') {\r\n      subject = 'Science';\r\n      break;\r\n    } else if (lower.includes('social') || lower.includes('studies')) {\r\n      subject = 'Social Studies';\r\n      break;\r\n    } else if (\r\n      lower.includes('rla') ||\r\n      lower.includes('language') ||\r\n      lower.includes('english')\r\n    ) {\r\n      subject = 'RLA';\r\n      break;\r\n    } else if (lower.includes('workforce') || lower.includes('readiness')) {\r\n      subject = 'Workforce Readiness';\r\n      break;\r\n    }\r\n  }\r\n\r\n  // If still default, try to detect from filename patterns\r\n  if (!contextSubject) {\r\n    const fnLower = filename.toLowerCase();\r\n    if (fnLower.includes('math')) {\r\n      subject = 'Math';\r\n    } else if (fnLower.includes('scince') || fnLower.includes('science')) {\r\n      subject = 'Science';\r\n    } else if (\r\n      fnLower.includes('rla') ||\r\n      fnLower.includes('english') ||\r\n      fnLower.includes('language') ||\r\n      fnLower.includes('reading') ||\r\n      fnLower.includes('writing')\r\n    ) {\r\n      subject = 'RLA';\r\n    } else if (\r\n      fnLower.includes('social') ||\r\n      fnLower.includes('history') ||\r\n      fnLower.includes('civics') ||\r\n      fnLower.includes('economic') ||\r\n      fnLower.includes('geography')\r\n    ) {\r\n      subject = 'Social Studies';\r\n    } else if (fnLower.includes('workforce')) {\r\n      subject = 'Workforce Readiness';\r\n    }\r\n  }\r\n\r\n  // Return standard /images/ path\r\n  const imageUrl = `/images/${subject}/${filename}`;\r\n  console.log(`[IMG FIX] ${src} -> ${imageUrl} (context: ${contextSubject})`);\r\n  return imageUrl;\r\n}\r\n\r\nfunction normalizeMathText(text) {\r\n  if (typeof text !== 'string') return text;\r\n  let t = text;\r\n  // Strip surrounding $...$ or $$...$$ once\r\n  t = t.replace(/^\\$(.*)\\$$/, '$1');\r\n  t = t.replace(/^\\$\\$(.*)\\$\\$$/, '$1');\r\n  // Safe macro fixes inside math\r\n  if (window.TextSanitizer && window.TextSanitizer.fixAllMathInText) {\r\n    t = window.TextSanitizer.fixAllMathInText(t);\r\n  }\r\n  // Replace \\frac{a}{b} with (a/b)\r\n  t = t.replace(/\\\\frac\\s*\\{\\s*([^}]+)\\s*\\}\\s*\\{\\s*([^}]+)\\s*\\}/g, '($1/$2)');\r\n  return t.trim();\r\n}\r\n\r\nfunction normalizeQuestionAssets(question, subjectName) {\r\n  if (!question || typeof question !== 'object') return question;\r\n  // Image URL variants\r\n  if (question.imageURL && !question.imageUrl)\r\n    question.imageUrl = question.imageURL;\r\n  if (question.imageUrl)\r\n    question.imageUrl = normalizeImagePath(question.imageUrl);\r\n  if (\r\n    question.stimulusImage &&\r\n    typeof question.stimulusImage === 'object' &&\r\n    question.stimulusImage.src\r\n  ) {\r\n    question.stimulusImage = {\r\n      ...question.stimulusImage,\r\n      src: normalizeImagePath(question.stimulusImage.src),\r\n    };\r\n  }\r\n  // Math normalization for Math subject only\r\n  if (subjectName === 'Math') {\r\n    if (typeof question.question === 'string')\r\n      question.question = normalizeMathText(question.question);\r\n    if (typeof question.rationale === 'string')\r\n      question.rationale = normalizeMathText(question.rationale);\r\n    if (Array.isArray(question.answerOptions)) {\r\n      question.answerOptions = question.answerOptions.map((opt) =>\r\n        opt && typeof opt === 'object' && typeof opt.text === 'string'\r\n          ? { ...opt, text: normalizeMathText(opt.text) }\r\n          : opt\r\n      );\r\n    }\r\n  }\r\n  // Preserve tool flags for Math interactive demos\r\n  if (question.useGeometryTool) question.useGeometryTool = true;\r\n  if (question.useGraphTool) question.useGraphTool = true;\r\n  return question;\r\n}\r\n\r\nfunction generateSubjectQuestion(subject, baseIndex = 1, template = {}) {\r\n  const qn = template.questionNumber || baseIndex;\r\n  if (subject === 'Math') {\r\n    return {\r\n      type: 'multiple-choice',\r\n      difficulty: template.difficulty || 'easy',\r\n      questionNumber: qn,\r\n      question: `What is ${qn} + ${qn}?`,\r\n      answerOptions: [\r\n        { id: 'A', text: `${qn}`, isCorrect: false },\r\n        { id: 'B', text: `${qn * 2}`, isCorrect: true },\r\n        { id: 'C', text: `${qn + 1}`, isCorrect: false },\r\n        { id: 'D', text: `${qn - 1}`, isCorrect: false },\r\n      ],\r\n      correctAnswer: 'B',\r\n      rationale: `Adding ${qn} + ${qn} = ${qn * 2}.`,\r\n    };\r\n  }\r\n  if (subject === 'Science') {\r\n    return {\r\n      type: 'multiple-choice',\r\n      difficulty: template.difficulty || 'easy',\r\n      questionNumber: qn,\r\n      question: 'Which statement best describes a scientific observation?',\r\n      answerOptions: [\r\n        {\r\n          id: 'A',\r\n          text: 'Something you measure or notice using your senses',\r\n          isCorrect: true,\r\n        },\r\n        { id: 'B', text: 'A guess with no evidence', isCorrect: false },\r\n        {\r\n          id: 'C',\r\n          text: 'Only something written in a textbook',\r\n          isCorrect: false,\r\n        },\r\n        { id: 'D', text: 'Always a math calculation', isCorrect: false },\r\n      ],\r\n      correctAnswer: 'A',\r\n      rationale: 'An observation is information gathered using the senses.',\r\n    };\r\n  }\r\n  if (subject === 'Social Studies') {\r\n    return {\r\n      type: 'multiple-choice',\r\n      difficulty: template.difficulty || 'easy',\r\n      questionNumber: qn,\r\n      question: 'Why do governments create laws?',\r\n      answerOptions: [\r\n        {\r\n          id: 'A',\r\n          text: 'To maintain order and protect rights',\r\n          isCorrect: true,\r\n        },\r\n        { id: 'B', text: 'To make travel impossible', isCorrect: false },\r\n        { id: 'C', text: 'To stop people from learning', isCorrect: false },\r\n        { id: 'D', text: 'Only to collect art', isCorrect: false },\r\n      ],\r\n      correctAnswer: 'A',\r\n      rationale: 'Laws help create order and protect citizens.',\r\n    };\r\n  }\r\n  // RLA / default\r\n  return {\r\n    type: 'multiple-choice',\r\n    difficulty: template.difficulty || 'easy',\r\n    questionNumber: qn,\r\n    question: 'What is the main idea of a passage?',\r\n    answerOptions: [\r\n      {\r\n        id: 'A',\r\n        text: 'The most important point the author is making',\r\n        isCorrect: true,\r\n      },\r\n      { id: 'B', text: 'A random detail', isCorrect: false },\r\n      { id: 'C', text: 'The title only', isCorrect: false },\r\n      { id: 'D', text: 'Only the last sentence', isCorrect: false },\r\n    ],\r\n    correctAnswer: 'A',\r\n    rationale: 'The main idea is the central point of the passage.',\r\n  };\r\n}\r\n\r\nfunction flushShortQuizToTwelve(quiz, subject) {\r\n  if (!quiz || !Array.isArray(quiz.questions)) quiz.questions = [];\r\n  const current = quiz.questions.length;\r\n  if (current >= 12) return quiz;\r\n  let nextNum = current + 1;\r\n  while (quiz.questions.length < 12) {\r\n    const generated = generateSubjectQuestion(subject, nextNum, {\r\n      difficulty: quiz.questions[0]?.difficulty || 'easy',\r\n    });\r\n    generated.questionNumber = nextNum;\r\n    quiz.questions.push(generated);\r\n    nextNum++;\r\n  }\r\n  return quiz;\r\n}\r\n\r\nfunction ensureMinQuestions(quiz, subject, min = 12) {\r\n  if (!quiz) return quiz;\r\n  if (!Array.isArray(quiz.questions)) quiz.questions = [];\r\n  // Skip padding for interactive tool-type quizzes\r\n  try {\r\n    const qType =\r\n      (quiz && (quiz.type || (quiz.config && quiz.config.type))) || '';\r\n    if (qType === 'graphing_tool' || qType === 'geometry_tool') {\r\n      return quiz;\r\n    }\r\n  } catch {}\r\n  const current = quiz.questions.length;\r\n  // 04 => flush with new unique questions\r\n  if (current < 5) {\r\n    return flushShortQuizToTwelve(quiz, subject);\r\n  }\r\n  // 511 => pad by cloning last\r\n  if (current > 4 && current < min) {\r\n    const last = quiz.questions[current - 1];\r\n    while (quiz.questions.length < min) {\r\n      const nextNum = quiz.questions.length + 1;\r\n      quiz.questions.push({ ...last, questionNumber: nextNum });\r\n    }\r\n    return quiz;\r\n  }\r\n  return quiz; // already >= 12\r\n}\r\n\r\nfunction assignPremadeQuizCodes(data) {\r\n  const catalog = {};\r\n  if (!data || typeof data !== 'object') {\r\n    return catalog;\r\n  }\r\n\r\n  Object.entries(data).forEach(([subjectName, subject]) => {\r\n    if (!subject || typeof subject !== 'object') {\r\n      return;\r\n    }\r\n\r\n    const subjectSlug = sanitizeCodeSegment(subjectName, 'subject');\r\n    if (!catalog[subjectName]) {\r\n      catalog[subjectName] = [];\r\n    }\r\n\r\n    // Normalize category keys to canonical names for stable downstream behavior\r\n    const normalizedCats = (() => {\r\n      try {\r\n        if (\r\n          typeof window !== 'undefined' &&\r\n          typeof window.normalizeCategoriesObject === 'function'\r\n        ) {\r\n          const subjKey =\r\n            typeof window.canonicalSubjectKey === 'function'\r\n              ? window.canonicalSubjectKey(subjectName)\r\n              : subjectName;\r\n          return window.normalizeCategoriesObject(\r\n            subjKey,\r\n            subject.categories || {}\r\n          );\r\n        }\r\n      } catch {}\r\n      return subject.categories || {};\r\n    })();\r\n\r\n    // Helper to register a quiz entry and stamp quizCode on the source object\r\n    Object.entries(normalizedCats).forEach(\r\n      ([categoryName, category], categoryIndex) => {\r\n        if (!category || typeof category !== 'object') {\r\n          return;\r\n        }\r\n\r\n        const categorySlug = sanitizeCodeSegment(\r\n          categoryName,\r\n          `cat-${categoryIndex + 1}`\r\n        );\r\n        const topics = Array.isArray(category.topics) ? category.topics : [];\r\n\r\n        topics.forEach((topic, topicIndex) => {\r\n          if (!topic || typeof topic !== 'object') {\r\n            return;\r\n          }\r\n\r\n          const topicSlugFromId = topic.id ? sanitizeCodeSegment(topic.id) : '';\r\n          const topicSlug = sanitizeCodeSegment(\r\n            topic.title,\r\n            topicSlugFromId || `topic-${topicIndex + 1}`\r\n          );\r\n          const baseSegment = topicSlugFromId || `${categorySlug}-${topicSlug}`;\r\n\r\n          const registerQuiz = (target, code, title) => {\r\n            if (!code) {\r\n              return;\r\n            }\r\n            if (!catalog[subjectName].some((entry) => entry.code === code)) {\r\n              catalog[subjectName].push({ code, title });\r\n            }\r\n            if (target && typeof target === 'object') {\r\n              target.quizCode = code;\r\n            }\r\n          };\r\n\r\n          if (Array.isArray(topic.quizzes) && topic.quizzes.length) {\r\n            topic.quizzes.forEach((quiz, quizIndex) => {\r\n              if (!quiz || typeof quiz !== 'object') {\r\n                return;\r\n              }\r\n              // Ensure questions array exists, normalize assets, pad to min\r\n              const subjectKey = subjectName;\r\n              if (!Array.isArray(quiz.questions)) {\r\n                // Try to resolve from topic if missing; otherwise leave [] for generation\r\n                const resolved = resolveQuizQuestions(subjectKey, topic, quiz);\r\n                quiz.questions = Array.isArray(resolved)\r\n                  ? resolved.slice()\r\n                  : [];\r\n              }\r\n              // Normalize each question and enforce minimum length\r\n              quiz.questions = quiz.questions.map((q) =>\r\n                normalizeQuestionAssets(q, subjectKey)\r\n              );\r\n              ensureMinQuestions(quiz, subjectKey, 12);\r\n\r\n              const quizIdSegment = sanitizeCodeSegment(quiz.quizId || '', '');\r\n              const labelSegment = sanitizeCodeSegment(quiz.label || '', '');\r\n              const setSegment =\r\n                quizIdSegment || labelSegment || `set-${quizIndex + 1}`;\r\n              const code = [subjectSlug, baseSegment || topicSlug, setSegment]\r\n                .filter(Boolean)\r\n                .join('__');\r\n              // Title resolution: prefer provided; otherwise humanize or rebuild for Math\r\n              let quizTitle = quiz.title;\r\n              const looksAutoId = (s) => {\r\n                if (!s) return true;\r\n                const t = String(s);\r\n                return /(^|\\b)(math|rla)_/i.test(t) || t.includes('_');\r\n              };\r\n              const humanizeQuizId = (id) => {\r\n                if (!id) return '';\r\n                let t = String(id).replace(/^(math|rla)_/i, '');\r\n                t = t.replace(/[_-]+/g, ' ').trim();\r\n                t = t.replace(/\\b(set|quiz)\\s*(\\d+|[A-Z])\\b/gi, (m) =>\r\n                  m.toUpperCase()\r\n                );\r\n                return t.replace(\r\n                  /\\w\\S*/g,\r\n                  (w) => w.charAt(0).toUpperCase() + w.slice(1)\r\n                );\r\n              };\r\n              const deriveSetNumber = () => {\r\n                if (quiz.label) {\r\n                  const m = String(quiz.label).match(/([A-Z])$/);\r\n                  if (m) return m[1].charCodeAt(0) - 64;\r\n                  const n = String(quiz.label).match(/(\\d+)/);\r\n                  if (n) return parseInt(n[1], 10);\r\n                }\r\n                const n2 = String(quiz.quizId || '').match(/(\\d+)/);\r\n                if (n2) return parseInt(n2[1], 10);\r\n                return quizIndex + 1;\r\n              };\r\n              const canonicalizeCategoryNameLocal = (subj, name) => {\r\n                try {\r\n                  return typeof window !== 'undefined' &&\r\n                    typeof window.canonicalizeCategoryName === 'function'\r\n                    ? window.canonicalizeCategoryName(subj, name)\r\n                    : name;\r\n                } catch {\r\n                  return name;\r\n                }\r\n              };\r\n              const deriveMathShortTopic = (topicTitle, canonCat) => {\r\n                const raw = String(topicTitle || '').trim();\r\n                if (!raw) return 'Practice';\r\n                // Remove leading category and dividers\r\n                let base = raw;\r\n                if (\r\n                  canonCat &&\r\n                  base.toLowerCase().startsWith(canonCat.toLowerCase())\r\n                ) {\r\n                  base = base.slice(canonCat.length).trim();\r\n                }\r\n                if (\r\n                  base.startsWith(':') ||\r\n                  base.startsWith('') ||\r\n                  base.startsWith('-')\r\n                )\r\n                  base = base.slice(1).trim();\r\n                // Drop trailing variant markers like \"Quiz 2\"\r\n                base = base\r\n                  .replace(\r\n                    /\\b(quiz|set|practice)\\b\\s*[#:.-]?\\s*[a-z0-9ivxlcm]+\\s*$/i,\r\n                    ''\r\n                  )\r\n                  .trim();\r\n                // If empty, fallback to topicTitle without quiz suffix\r\n                if (!base) {\r\n                  const noSuffix = raw\r\n                    .replace(\r\n                      /\\b(quiz|set)\\b\\s*[#:.-]?\\s*[a-z0-9ivxlcm]+\\s*$/i,\r\n                      ''\r\n                    )\r\n                    .trim();\r\n                  return noSuffix || 'Practice';\r\n                }\r\n                return base;\r\n              };\r\n              if (!quizTitle || looksAutoId(quizTitle)) {\r\n                if (String(subjectName).toLowerCase() === 'math') {\r\n                  const canonCat = canonicalizeCategoryNameLocal(\r\n                    subjectName,\r\n                    categoryName\r\n                  );\r\n                  const shortTopic = deriveMathShortTopic(\r\n                    topic.title,\r\n                    canonCat\r\n                  );\r\n                  const setNum = deriveSetNumber();\r\n                  quizTitle = `${canonCat}: ${shortTopic} (Set ${setNum})`;\r\n                } else {\r\n                  const fallback = quiz.quizId\r\n                    ? humanizeQuizId(quiz.quizId)\r\n                    : '';\r\n                  const labelText =\r\n                    quiz.label || `Quiz ${String.fromCharCode(65 + quizIndex)}`;\r\n                  quizTitle = fallback\r\n                    ? `${fallback}`\r\n                    : `${topic.title || 'Quiz'} ${labelText}`;\r\n                }\r\n              }\r\n              registerQuiz(quiz, code, quizTitle);\r\n            });\r\n          } else if (Array.isArray(topic.questions) && topic.questions.length) {\r\n            // Create a single-quiz topic; normalize and ensure 12\r\n            const subjectKey = subjectName;\r\n            topic.questions = topic.questions.map((q) =>\r\n              normalizeQuestionAssets(q, subjectKey)\r\n            );\r\n            const pseudoQuiz = { questions: topic.questions };\r\n            // If this topic represents a tool demo, skip padding to keep it at 4Q\r\n            if (\r\n              topic &&\r\n              (topic.type === 'graphing_tool' || topic.type === 'geometry_tool')\r\n            ) {\r\n              // no-op: retain original question count\r\n            } else {\r\n              ensureMinQuestions(pseudoQuiz, subjectKey, 12);\r\n            }\r\n            topic.questions = pseudoQuiz.questions;\r\n            const code = [\r\n              subjectSlug,\r\n              baseSegment || topicSlug || `topic-${topicIndex + 1}`,\r\n            ]\r\n              .filter(Boolean)\r\n              .join('__');\r\n            const quizTitle = topic.title || `Topic ${topicIndex + 1}`;\r\n            registerQuiz(topic, code, quizTitle);\r\n          }\r\n        });\r\n\r\n        // Some categories might have quizzes directly (without topics)\r\n        if (Array.isArray(category.quizzes) && category.quizzes.length) {\r\n          category.quizzes.forEach((quiz, quizIndex) => {\r\n            if (!quiz || typeof quiz !== 'object') return;\r\n            const subjectKey = subjectName;\r\n            if (!Array.isArray(quiz.questions)) quiz.questions = [];\r\n            quiz.questions = quiz.questions.map((q) =>\r\n              normalizeQuestionAssets(q, subjectKey)\r\n            );\r\n            ensureMinQuestions(quiz, subjectKey, 12);\r\n            const quizIdSegment = sanitizeCodeSegment(quiz.quizId || '', '');\r\n            const labelSegment = sanitizeCodeSegment(\r\n              quiz.label || quiz.title || '',\r\n              ''\r\n            );\r\n            const setSegment =\r\n              quizIdSegment || labelSegment || `set-${quizIndex + 1}`;\r\n            const code = [subjectSlug, categorySlug, setSegment]\r\n              .filter(Boolean)\r\n              .join('__');\r\n            const quizTitle =\r\n              quiz.title ||\r\n              `${categoryName} ${\r\n                quiz.label || `Quiz ${String.fromCharCode(65 + quizIndex)}`\r\n              }`;\r\n            // Stamp code for potential resolution later\r\n            quiz.quizCode = code;\r\n            if (!catalog[subjectName].some((e) => e.code === code)) {\r\n              catalog[subjectName].push({ code, title: quizTitle });\r\n            }\r\n          });\r\n        }\r\n      }\r\n    );\r\n\r\n    // Subject-level quizzes (rare)\r\n    if (Array.isArray(subject.quizzes) && subject.quizzes.length) {\r\n      subject.quizzes.forEach((quiz, quizIndex) => {\r\n        if (!quiz || typeof quiz !== 'object') return;\r\n        const subjectKey = subjectName;\r\n        if (!Array.isArray(quiz.questions)) quiz.questions = [];\r\n        quiz.questions = quiz.questions.map((q) =>\r\n          normalizeQuestionAssets(q, subjectKey)\r\n        );\r\n        ensureMinQuestions(quiz, subjectKey, 12);\r\n        const quizIdSegment = sanitizeCodeSegment(quiz.quizId || '', '');\r\n        const labelSegment = sanitizeCodeSegment(\r\n          quiz.label || quiz.title || '',\r\n          ''\r\n        );\r\n        const setSegment =\r\n          quizIdSegment || labelSegment || `set-${quizIndex + 1}`;\r\n        const code = [subjectSlug, setSegment].filter(Boolean).join('__');\r\n        const quizTitle =\r\n          quiz.title ||\r\n          `${subjectName} ${\r\n            quiz.label || `Quiz ${String.fromCharCode(65 + quizIndex)}`\r\n          }`;\r\n        quiz.quizCode = code;\r\n        if (!catalog[subjectName].some((e) => e.code === code)) {\r\n          catalog[subjectName].push({ code, title: quizTitle });\r\n        }\r\n      });\r\n    }\r\n  });\r\n\r\n  return catalog;\r\n}\r\n\r\n// Defer building premade catalog until expanded data is ready\r\nfunction initPremades() {\r\n  try {\r\n    const collect = () => {\r\n      const sources = [];\r\n      if (typeof window === 'undefined') return null;\r\n      if (window.MergedExpandedQuizData)\r\n        sources.push(window.MergedExpandedQuizData);\r\n      if (window.ExpandedQuizData) sources.push(window.ExpandedQuizData);\r\n      if (window.__ESM_ExpandedQuizData)\r\n        sources.push(window.__ESM_ExpandedQuizData);\r\n      if (window.Data && window.Data.expandedQuizData)\r\n        sources.push(window.Data.expandedQuizData);\r\n      if (!sources.length) return null;\r\n      // shallow subject-level merge is enough as assignPremadeQuizCodes walks all branches\r\n      const merged = sources.reduce((acc, src) => {\r\n        Object.entries(src || {}).forEach(([k, v]) => {\r\n          if (!acc[k]) acc[k] = v;\r\n        });\r\n        return acc;\r\n      }, {});\r\n      return merged;\r\n    };\r\n    const source = collect();\r\n    PREMADE_QUIZ_CATALOG = source ? assignPremadeQuizCodes(source) : {};\r\n    if (typeof window !== 'undefined') {\r\n      window.PREMADE_QUIZ_CATALOG = PREMADE_QUIZ_CATALOG;\r\n    }\r\n    if (typeof window !== 'undefined' && window.__DEBUG_QUIZZES) {\r\n      const summary = Object.fromEntries(\r\n        Object.entries(PREMADE_QUIZ_CATALOG).map(([s, arr]) => [\r\n          s,\r\n          Array.isArray(arr) ? arr.length : 0,\r\n        ])\r\n      );\r\n      console.log('[premade] subjects:', Object.keys(PREMADE_QUIZ_CATALOG));\r\n      console.log(\r\n        '[premade] total quizzes:',\r\n        Object.values(summary).reduce((a, b) => a + b, 0),\r\n        summary\r\n      );\r\n      if (!source)\r\n        console.log('[premade] ExpandedQuizData not found using empty catalog');\r\n    }\r\n  } catch (err) {\r\n    if (typeof window !== 'undefined' && window.__DEBUG_QUIZZES) {\r\n      console.warn('Failed to build premade catalog:', err);\r\n    }\r\n  }\r\n}\r\nif (typeof window !== 'undefined') {\r\n  window.initPremades = initPremades;\r\n}\r\ninitPremades();\r\n\r\n// --- QUIZ LIBRARY (clusters) ---\r\n// Build a centralized cluster library from AppData categories to power a two-level browser.\r\n// Structure:\r\n//   QUIZ_LIBRARY = {\r\n//     [subjectName]: {\r\n//       clusters: [\r\n//         { id, label, description, topicIds: [topicId, ...] }\r\n//       ]\r\n//     }\r\n//   }\r\n// Optional grouping configuration to merge multiple raw categories into cleaner clusters\r\n// and/or rename clusters for a tidier quiz browser. Any categories not listed here\r\n// will be included as their own clusters under their original names.\r\nconst QUIZ_GROUPING = {\r\n  // Science: mild consolidation\r\n  Science: [\r\n    { label: 'Life Science', categories: ['Life Science'] },\r\n    {\r\n      label: 'Physical, Earth & Space',\r\n      categories: ['Physical Science', 'Earth & Space Science'],\r\n    },\r\n    { label: 'Scientific Numeracy', categories: ['Scientific Numeracy'] },\r\n  ],\r\n  // Math: add a highlighted Demo category first, then canonical clusters\r\n  Math: [\r\n    {\r\n      label: 'Interactive Demos (Beta)',\r\n      categories: [\r\n        'Interactive Demos',\r\n        'Interactive Tool Demos',\r\n        'Tool Demos',\r\n        'Demos',\r\n      ],\r\n    },\r\n    {\r\n      label: 'Algebra',\r\n      categories: [\r\n        'Algebra',\r\n        'Algebraic Problem Solving',\r\n        'Algebraic Reasoning',\r\n        'Algebra & Linear Equations',\r\n        'Algebraic Expressions & Linear Equations',\r\n        'Expressions & Equations',\r\n        'Expressions and Equations',\r\n      ],\r\n    },\r\n    {\r\n      label: 'Quantitative & Data',\r\n      categories: [\r\n        'Quantitative & Data',\r\n        'Quantitative Problem Solving',\r\n        'Data, Statistics & Probability',\r\n      ],\r\n    },\r\n    {\r\n      label: 'Geometry & Measurement',\r\n      categories: [\r\n        'Geometry & Measurement',\r\n        'Geometry',\r\n        'Measurement & Geometry',\r\n      ],\r\n    },\r\n  ],\r\n  // RLA: canonical clusters with variants\r\n  'Reasoning Through Language Arts (RLA)': [\r\n    {\r\n      label: 'Reading Comprehension',\r\n      categories: [\r\n        'Reading Comprehension',\r\n        'Reading Comprehension: Informational Texts',\r\n        'Reading Comprehension: Literary Texts',\r\n        'Reading Comprehension: Paired Passages',\r\n        'Main Idea',\r\n      ],\r\n    },\r\n    {\r\n      label: 'Language & Editing',\r\n      categories: [\r\n        'Language & Editing',\r\n        'Language & Grammar',\r\n        'Language',\r\n        'Editing',\r\n        'Editing & Revision',\r\n      ],\r\n    },\r\n    {\r\n      label: 'Writing / Extended Response',\r\n      categories: [\r\n        'Writing / Extended Response',\r\n        'Essay Writing',\r\n        'Constructed Response',\r\n      ],\r\n    },\r\n  ],\r\n  // Social Studies: categories are already tidy; no grouping needed\r\n};\r\n\r\nfunction buildQuizLibraryFromAppData(data) {\r\n  const result = {};\r\n  if (!data || typeof data !== 'object') {\r\n    return result;\r\n  }\r\n  Object.entries(data).forEach(([subjectName, subject]) => {\r\n    if (!subject || typeof subject !== 'object' || !subject.categories) {\r\n      return;\r\n    }\r\n    const clusters = [];\r\n\r\n    // If a grouping is provided for this subject, build clusters from it; otherwise fall back to 1:1 category mapping\r\n    const groupDefs = QUIZ_GROUPING[subjectName];\r\n    const usedCategories = new Set();\r\n\r\n    if (Array.isArray(groupDefs) && groupDefs.length) {\r\n      groupDefs.forEach((group, gIdx) => {\r\n        const groupLabel = group?.label || `Cluster ${gIdx + 1}`;\r\n        const groupCats = Array.isArray(group?.categories)\r\n          ? group.categories\r\n          : [];\r\n        const topicIds = [];\r\n        const descParts = [];\r\n\r\n        groupCats.forEach((catName) => {\r\n          const cat = subject.categories[catName];\r\n          if (!cat || typeof cat !== 'object') return;\r\n          usedCategories.add(catName);\r\n          if (Array.isArray(cat.topics)) {\r\n            cat.topics.forEach((t, tIdx) => {\r\n              topicIds.push(\r\n                t?.id || `${sanitizeCodeSegment(catName)}__topic-${tIdx + 1}`\r\n              );\r\n            });\r\n          }\r\n          if (cat.description) descParts.push(`${catName}: ${cat.description}`);\r\n        });\r\n\r\n        if (topicIds.length) {\r\n          clusters.push({\r\n            id: sanitizeCodeSegment(groupLabel, `cluster-${gIdx + 1}`),\r\n            label: groupLabel,\r\n            description: descParts.join(' | '),\r\n            topicIds,\r\n          });\r\n        }\r\n      });\r\n\r\n      // Any remaining categories not covered by grouping get their own clusters\r\n      const remaining = Object.entries(subject.categories)\r\n        .filter(([name]) => !usedCategories.has(name))\r\n        .sort((a, b) => a[0].localeCompare(b[0])); // deterministic alphabetical order\r\n      remaining.forEach(([categoryName, category], idx) => {\r\n        if (!category || typeof category !== 'object') return;\r\n        const id = sanitizeCodeSegment(\r\n          categoryName,\r\n          `cluster-extra-${idx + 1}`\r\n        );\r\n        const topicIds = Array.isArray(category.topics)\r\n          ? category.topics.map(\r\n              (t, tIdx) => t?.id || `${id}__topic-${tIdx + 1}`\r\n            )\r\n          : [];\r\n        if (topicIds.length) {\r\n          clusters.push({\r\n            id,\r\n            label: categoryName,\r\n            description: category.description || '',\r\n            topicIds,\r\n          });\r\n        }\r\n      });\r\n    } else {\r\n      // Default behavior: one cluster per category\r\n      Object.entries(subject.categories).forEach(\r\n        ([categoryName, category], idx) => {\r\n          if (!category || typeof category !== 'object') {\r\n            return;\r\n          }\r\n          const id = sanitizeCodeSegment(categoryName, `cluster-${idx + 1}`);\r\n          const topicIds = Array.isArray(category.topics)\r\n            ? category.topics.map(\r\n                (t, tIdx) => t?.id || `${id}__topic-${tIdx + 1}`\r\n              )\r\n            : [];\r\n          clusters.push({\r\n            id,\r\n            label: categoryName,\r\n            description: category.description || '',\r\n            topicIds,\r\n          });\r\n        }\r\n      );\r\n    }\r\n\r\n    // No extra featured insertion; Math demos are grouped under the 'Interactive Demos' category\r\n    result[subjectName] = { clusters };\r\n  });\r\n  return result;\r\n}\r\n\r\nconst QUIZ_LIBRARY = buildQuizLibraryFromAppData(AppData);\r\nif (typeof window !== 'undefined') {\r\n  window.QUIZ_LIBRARY = QUIZ_LIBRARY;\r\n}\r\n\r\n// --- ICON COMPONENTS ---\r\nconst BookOpenIcon = ({ className = '' } = {}) => (\r\n  <i\r\n    className={['fas fa-book-open', className].filter(Boolean).join(' ')}\r\n    aria-hidden=\"true\"\r\n  ></i>\r\n);\r\nconst CalendarIcon = ({ className = '' } = {}) => (\r\n  <i\r\n    className={['far fa-calendar-alt', className].filter(Boolean).join(' ')}\r\n    aria-hidden=\"true\"\r\n  ></i>\r\n);\r\nconst GlobeIcon = ({ className = '' } = {}) => (\r\n  <i\r\n    className={['fas fa-landmark', className].filter(Boolean).join(' ')}\r\n    aria-hidden=\"true\"\r\n  ></i>\r\n);\r\nconst BeakerIcon = ({ className = '' } = {}) => (\r\n  <i\r\n    className={['fas fa-flask', className].filter(Boolean).join(' ')}\r\n    aria-hidden=\"true\"\r\n  ></i>\r\n);\r\nconst CalculatorIcon = ({ className = '' } = {}) => (\r\n  <i\r\n    className={['fas fa-calculator', className].filter(Boolean).join(' ')}\r\n    aria-hidden=\"true\"\r\n  ></i>\r\n);\r\nconst ChartBarIcon = () => (\r\n  <svg\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    className=\"h-6 w-6\"\r\n    fill=\"none\"\r\n    viewBox=\"0 0 24 24\"\r\n    stroke=\"currentColor\"\r\n  >\r\n    <path\r\n      strokeLinecap=\"round\"\r\n      strokeLinejoin=\"round\"\r\n      strokeWidth={2}\r\n      d=\"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z\"\r\n    />\r\n  </svg>\r\n);\r\nconst VariableIcon = () => (\r\n  <svg\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    className=\"h-6 w-6\"\r\n    fill=\"none\"\r\n    viewBox=\"0 0 24 24\"\r\n    stroke=\"currentColor\"\r\n  >\r\n    <path\r\n      strokeLinecap=\"round\"\r\n      strokeLinejoin=\"round\"\r\n      strokeWidth={2}\r\n      d=\"M4.874 4.874l14.252 14.252m0-14.252L4.874 19.126M12 4.5v15\"\r\n    />\r\n  </svg>\r\n);\r\nconst ShapesIcon = () => (\r\n  <svg\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    className=\"h-6 w-6\"\r\n    fill=\"none\"\r\n    viewBox=\"0 0 24 24\"\r\n    stroke=\"currentColor\"\r\n  >\r\n    <path\r\n      strokeLinecap=\"round\"\r\n      strokeLinejoin=\"round\"\r\n      strokeWidth={2}\r\n      d=\"M21 12l-9-9-9 9m18 0l-9 9-9-9\"\r\n    />\r\n  </svg>\r\n);\r\nconst UserIcon = () => (\r\n  <svg\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    className=\"h-5 w-5\"\r\n    viewBox=\"0 0 20 20\"\r\n    fill=\"currentColor\"\r\n  >\r\n    <path\r\n      fillRule=\"evenodd\"\r\n      d=\"M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z\"\r\n      clipRule=\"evenodd\"\r\n    />\r\n  </svg>\r\n);\r\nconst ArrowLeftIcon = () => (\r\n  <svg\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    className=\"h-5 w-5\"\r\n    viewBox=\"0 0 20 20\"\r\n    fill=\"currentColor\"\r\n  >\r\n    <path\r\n      fillRule=\"evenodd\"\r\n      d=\"M12.707 5.293a1 1 0 010 1.414L9.414 10l3.293 3.293a1 1 0 01-1.414 1.414l-4-4a1 1 0 010-1.414l4-4a1 1 0 011.414 0z\"\r\n      clipRule=\"evenodd\"\r\n    />\r\n  </svg>\r\n);\r\n\r\n// --- SubjectQuizBrowser (clustered UI) ---\r\nfunction SubjectQuizBrowser({ subjectName, onSelectQuiz, theme = 'light' }) {\r\n  const isDarkMode = theme === 'dark';\r\n  // Ensure premade catalog exists even if initial build was early/empty\r\n  try {\r\n    const cat =\r\n      typeof window !== 'undefined' && window.PREMADE_QUIZ_CATALOG\r\n        ? window.PREMADE_QUIZ_CATALOG\r\n        : {};\r\n    if (!cat || (typeof cat === 'object' && Object.keys(cat).length === 0)) {\r\n      if (\r\n        typeof window !== 'undefined' &&\r\n        typeof window.initPremades === 'function'\r\n      ) {\r\n        window.initPremades();\r\n      }\r\n    }\r\n  } catch {}\r\n  const library =\r\n    (typeof window !== 'undefined' ? window.QUIZ_LIBRARY : QUIZ_LIBRARY) || {};\r\n  const subjectColors = SUBJECT_COLORS[subjectName] || DEFAULT_COLOR_SCHEME;\r\n  const clusters = library?.[subjectName]?.clusters || [];\r\n  const [activeClusterId, setActiveClusterId] = React.useState(\r\n    clusters.length ? clusters[0].id : null\r\n  );\r\n  // New: tabbed layers and filtering\r\n  const [activeTab, setActiveTab] = React.useState('core'); // 'core' | 'levels' | 'special'\r\n  const [filters, setFilters] = React.useState({\r\n    status: 'All',\r\n    sort: 'Newest',\r\n  });\r\n  const storageKey = `quizBrowserExpanded:${sanitizeCodeSegment(subjectName)}`;\r\n  const [expandedGroups, setExpandedGroups] = React.useState(() => {\r\n    try {\r\n      const raw = window.localStorage?.getItem(storageKey);\r\n      return raw ? JSON.parse(raw) : {};\r\n    } catch {\r\n      return {};\r\n    }\r\n  });\r\n  const persistExpanded = (next) => {\r\n    setExpandedGroups(next);\r\n    try {\r\n      window.localStorage?.setItem(storageKey, JSON.stringify(next));\r\n    } catch {}\r\n  };\r\n\r\n  React.useEffect(() => {\r\n    // Reset active cluster if subject changes\r\n    setActiveClusterId(clusters.length ? clusters[0].id : null);\r\n    setActiveTab('core');\r\n    // eslint-disable-next-line react-hooks/exhaustive-deps\r\n  }, [subjectName]);\r\n\r\n  // track quiz progress per subject\r\n  const progressKey = `quizBrowserProgress:${sanitizeCodeSegment(subjectName)}`;\r\n  const [progress, setProgress] = React.useState(() => {\r\n    try {\r\n      const raw = window.localStorage?.getItem(progressKey);\r\n      return raw ? JSON.parse(raw) : {};\r\n    } catch {\r\n      return {};\r\n    }\r\n  });\r\n\r\n  // global helper for the quiz runner to call when a quiz is finished\r\n  React.useEffect(() => {\r\n    if (typeof window !== 'undefined') {\r\n      window.recordQuizResult = (quizId, scorePct) => {\r\n        const passed = typeof scorePct === 'number' && scorePct >= 70;\r\n        setProgress((prev) => {\r\n          const next = {\r\n            ...prev,\r\n            [quizId]: {\r\n              status: passed ? 'passed' : 'completed',\r\n              score: scorePct ?? null,\r\n              updatedAt: Date.now(),\r\n            },\r\n          };\r\n          try {\r\n            window.localStorage?.setItem(progressKey, JSON.stringify(next));\r\n          } catch {}\r\n          return next;\r\n        });\r\n      };\r\n    }\r\n  }, [progressKey]);\r\n\r\n  // Derivers: topic access, tagging, filters, sorting\r\n  const allTopics = React.useMemo(() => {\r\n    const list = [];\r\n    clusters.forEach((c) => {\r\n      (c.topicIds || []).forEach((tid) => {\r\n        const t = getTopicById(subjectName, tid);\r\n        if (t) list.push({ topic: t, clusterId: c.id, clusterLabel: c.label });\r\n      });\r\n    });\r\n    return list;\r\n  }, [clusters, subjectName]);\r\n\r\n  const deriveLevel = (t) => {\r\n    const title = (t.title || '').toLowerCase();\r\n    if (/basic|foundation|intro|beginners?/.test(title)) return 'Beginner';\r\n    if (/advanced|challenge|honors/.test(title)) return 'Advanced';\r\n    return 'Intermediate';\r\n  };\r\n  const hasImage = (t) =>\r\n    Array.isArray(t.questions) && t.questions.some((q) => q?.type === 'image');\r\n  const isTimed = (t) =>\r\n    (t.config && typeof t.config.totalTime === 'number') || false;\r\n  const hasPassage = (t) =>\r\n    Array.isArray(t.questions) &&\r\n    t.questions.some((q) => q?.type === 'text' && q?.passage);\r\n\r\n  // minimal client-side attempt store (fallback)\r\n  const getAttemptMeta = (topicOrQuizCode) => {\r\n    try {\r\n      const raw = window.localStorage?.getItem('attemptIndex');\r\n      const idx = raw ? JSON.parse(raw) : {};\r\n      const rec = idx[topicOrQuizCode];\r\n      return (\r\n        rec || {\r\n          attempts: 0,\r\n          best: null,\r\n          lastAt: null,\r\n          status: 'Not Attempted',\r\n        }\r\n      );\r\n    } catch {\r\n      return { attempts: 0, best: null, lastAt: null, status: 'Not Attempted' };\r\n    }\r\n  };\r\n\r\n  // helpers: truncation and summaries\r\n  const truncate = (text, max = 100) => {\r\n    if (!text) return '';\r\n    const clean = String(text).trim();\r\n    if (clean.length <= max) return clean;\r\n    return clean.slice(0, Math.max(0, max - 1)).trim() + '';\r\n  };\r\n  const topicOneLiner = (topic) => {\r\n    const fromTopic = topic?.description?.trim();\r\n    const fromQuiz =\r\n      Array.isArray(topic?.quizzes) &&\r\n      topic.quizzes.find((q) => q && q.description)?.description;\r\n    const line =\r\n      fromTopic ||\r\n      fromQuiz ||\r\n      'A short practice set covering key concepts in this topic.';\r\n    return truncate(line, 100);\r\n  };\r\n  const quizOneLiner = (quiz, topic) => {\r\n    const line =\r\n      (quiz && quiz.description) ||\r\n      (topic && topic.description) ||\r\n      'A short practice set covering key concepts in this topic.';\r\n    return truncate(line, 100);\r\n  };\r\n  const levelScore = (lvl) =>\r\n    lvl === 'Beginner' ? 1 : lvl === 'Advanced' ? 3 : 2;\r\n  const summarizeDifficulty = (items) => {\r\n    if (!Array.isArray(items) || items.length === 0) return 'Varied';\r\n    const avg =\r\n      items.reduce(\r\n        (sum, it) => sum + levelScore(deriveLevel(it.topic || it)),\r\n        0\r\n      ) / items.length;\r\n    if (avg < 1.5) return 'Mostly Beginner';\r\n    if (avg < 2.5) return 'Mostly Intermediate';\r\n    return 'Mostly Advanced';\r\n  };\r\n  const sectionSummaryForKey = (groupKey, title) => {\r\n    if (groupKey.startsWith('levels-beginner'))\r\n      return 'Start here to build solid foundations with approachable practice sets.';\r\n    if (groupKey.startsWith('levels-intermediate'))\r\n      return 'Strengthen your skills with mid-level problems and mixed question types.';\r\n    if (groupKey.startsWith('levels-advanced'))\r\n      return 'Challenge yourself with multi-step questions and deeper reasoning.';\r\n    if (groupKey.startsWith('special-timed'))\r\n      return 'Build test stamina with timed sets that simulate real exam pacing.';\r\n    if (groupKey.startsWith('special-image'))\r\n      return 'Practice interpreting diagrams, charts, and other visual information.';\r\n    if (groupKey.startsWith('special-passage'))\r\n      return 'Read passages closely and answer evidence-based questions effectively.';\r\n    // Fallback for cluster/core sections\r\n    return `Practice key concepts in ${title || 'this section'}.`;\r\n  };\r\n\r\n  const filterByControls = (items) => {\r\n    const { status } = filters;\r\n    let out = items;\r\n    if (status !== 'All') {\r\n      out = out.filter(({ topic }) => {\r\n        const code = topic.quizCode || topic.id || topic.title;\r\n        return getAttemptMeta(code).status === status;\r\n      });\r\n    }\r\n    return out;\r\n  };\r\n\r\n  const sortItems = (items) => {\r\n    switch (filters.sort) {\r\n      case 'Highest Score':\r\n        return [...items].sort(\r\n          (a, b) =>\r\n            (getAttemptMeta(b.topic.quizCode || b.topic.id || '').best ?? -1) -\r\n            (getAttemptMeta(a.topic.quizCode || a.topic.id || '').best ?? -1)\r\n        );\r\n      case 'Most Attempted':\r\n        return [...items].sort(\r\n          (a, b) =>\r\n            getAttemptMeta(b.topic.quizCode || b.topic.id || '').attempts -\r\n            getAttemptMeta(a.topic.quizCode || a.topic.id || '').attempts\r\n        );\r\n      case 'Topic AZ':\r\n        return [...items].sort((a, b) =>\r\n          (a.topic.title || '').localeCompare(b.topic.title || '')\r\n        );\r\n      case 'Newest':\r\n      default:\r\n        return items; // preserve author order\r\n    }\r\n  };\r\n\r\n  if (!clusters.length) {\r\n    return (\r\n      <div\r\n        className=\"rounded-lg border p-4 text-sm\"\r\n        style={{\r\n          borderColor: subjectColors.border || 'rgba(148,163,184,0.35)',\r\n        }}\r\n      >\r\n        No premade clusters yet for this subject.\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const active = clusters.find((c) => c.id === activeClusterId) || clusters[0];\r\n\r\n  const buttonStyle = {\r\n    backgroundColor: subjectColors.accent || DEFAULT_COLOR_SCHEME.accent,\r\n    color: subjectColors.accentText || '#ffffff',\r\n    borderColor:\r\n      subjectColors.border ||\r\n      subjectColors.accent ||\r\n      DEFAULT_COLOR_SCHEME.accent,\r\n  };\r\n\r\n  const lightCardBackground =\r\n    SUBJECT_LIGHT_SURFACE_GRADIENTS[subjectName] ||\r\n    'linear-gradient(135deg, rgba(255,255,255,0.98), rgba(148,163,184,0.12))';\r\n  const cardTextColor =\r\n    subjectColors.text || subjectColors.heroText || '#0f172a';\r\n\r\n  const renderTopicCard = (topic, idx) => {\r\n    if (!topic) return null;\r\n    const quizSets = Array.isArray(topic.quizzes)\r\n      ? topic.quizzes.filter((quiz) =>\r\n          quizHasAvailableQuestions(subjectName, topic, quiz)\r\n        )\r\n      : [];\r\n    const supportsMultiple =\r\n      quizSets.length > 0 &&\r\n      !['essay', 'simulation', 'graphing_tool', 'geometry_tool'].includes(\r\n        topic.type\r\n      );\r\n\r\n    const launchQuizSet = (quiz, index, displayNameOverride) => {\r\n      if (typeof onSelectQuiz !== 'function' || !quiz) return;\r\n      const quizLabel =\r\n        displayNameOverride ||\r\n        quiz.label ||\r\n        `Quiz ${String.fromCharCode(65 + index)}`;\r\n      const baseTitle = topic.title || 'Quiz';\r\n      // Better title handling: humanize auto IDs and retitle Math sets using canonical category\r\n      const looksAutoId = (s) => {\r\n        if (!s) return true;\r\n        const t = String(s);\r\n        return /(^|\\b)(math|rla)_/i.test(t) || t.includes('_');\r\n      };\r\n      const humanizeQuizId = (id) => {\r\n        if (!id) return '';\r\n        let t = String(id).replace(/^(math|rla)_/i, '');\r\n        t = t.replace(/[_-]+/g, ' ').trim();\r\n        t = t.replace(/\\b(set|quiz)\\s*(\\d+|[A-Z])\\b/gi, (m) => m.toUpperCase());\r\n        return t.replace(\r\n          /\\w\\S*/g,\r\n          (w) => w.charAt(0).toUpperCase() + w.slice(1)\r\n        );\r\n      };\r\n      const getCategoryOfTopic = (subj, topicId) => {\r\n        try {\r\n          const sourceApp =\r\n            typeof window !== 'undefined' && window.AppData\r\n              ? window.AppData\r\n              : AppData;\r\n          const subject = sourceApp?.[subj];\r\n          if (!subject || !subject.categories) return null;\r\n          for (const [catName, cat] of Object.entries(subject.categories)) {\r\n            const topics = Array.isArray(cat?.topics) ? cat.topics : [];\r\n            if (topics.some((t) => t && t.id === topicId)) return catName;\r\n          }\r\n        } catch {}\r\n        return null;\r\n      };\r\n      const canonicalizeCategoryNameLocal = (subj, name) => {\r\n        try {\r\n          return typeof window !== 'undefined' &&\r\n            typeof window.canonicalizeCategoryName === 'function'\r\n            ? window.canonicalizeCategoryName(subj, name)\r\n            : name;\r\n        } catch {\r\n          return name;\r\n        }\r\n      };\r\n      const deriveMathShortTopic = (title, canonCat) => {\r\n        const raw = String(title || '').trim();\r\n        if (!raw) return 'Practice';\r\n        let base = raw;\r\n        if (canonCat && base.toLowerCase().startsWith(canonCat.toLowerCase())) {\r\n          base = base.slice(canonCat.length).trim();\r\n        }\r\n        if (base.startsWith(':') || base.startsWith('') || base.startsWith('-'))\r\n          base = base.slice(1).trim();\r\n        base = base\r\n          .replace(\r\n            /\\b(quiz|set|practice)\\b\\s*[#:.-]?\\s*[a-z0-9ivxlcm]+\\s*$/i,\r\n            ''\r\n          )\r\n          .trim();\r\n        if (!base) return 'Practice';\r\n        return base;\r\n      };\r\n      let derivedTitle = quiz.title || `${baseTitle} ${quizLabel}`;\r\n      if (looksAutoId(derivedTitle)) {\r\n        if (String(subjectName).toLowerCase() === 'math') {\r\n          const catRaw = getCategoryOfTopic(subjectName, topic.id);\r\n          const canonCat = canonicalizeCategoryNameLocal(\r\n            subjectName,\r\n            catRaw || 'Math'\r\n          );\r\n          const shortTopic = deriveMathShortTopic(baseTitle, canonCat);\r\n          const setNum = (() => {\r\n            const m = String(quiz.label || '').match(/([A-Z])$/);\r\n            if (m) return m[1].charCodeAt(0) - 64;\r\n            const n = String(quiz.quizId || '').match(/(\\d+)/);\r\n            if (n) return parseInt(n[1], 10);\r\n            return index + 1;\r\n          })();\r\n          derivedTitle = `${canonCat}: ${shortTopic} (Set ${setNum})`;\r\n        } else {\r\n          derivedTitle = humanizeQuizId(quiz.quizId || derivedTitle);\r\n        }\r\n      }\r\n      const resolvedQuestions = resolveQuizQuestions(\r\n        subjectName,\r\n        topic,\r\n        quiz\r\n      ).map((q, qi) => {\r\n        if (q && typeof q === 'object') {\r\n          const nextNumber = q.questionNumber ?? qi + 1;\r\n          return { ...q, questionNumber: nextNumber };\r\n        }\r\n        return q;\r\n      });\r\n      if (!resolvedQuestions.length) {\r\n        alert(\r\n          'This quiz does not have any questions yet. Please try another set.'\r\n        );\r\n        return;\r\n      }\r\n      const prepared = {\r\n        ...quiz,\r\n        id:\r\n          quiz.quizId ||\r\n          quiz.quizCode ||\r\n          `${topic.id || 'topic'}__set_${index}`,\r\n        quizCode:\r\n          quiz.quizCode ||\r\n          `${sanitizeCodeSegment(\r\n            subjectName,\r\n            'subject'\r\n          )}__${sanitizeCodeSegment(topic.id || topic.title || 'topic')}__set-${\r\n            index + 1\r\n          }`,\r\n        title: derivedTitle,\r\n        topicId: topic.id,\r\n        topicTitle: topic.title || baseTitle,\r\n        canonicalTopicTitle: topic.title || baseTitle,\r\n        description: quiz.description || topic.description,\r\n        type: quiz.type || topic.type || 'quiz',\r\n        questions: resolvedQuestions,\r\n      };\r\n      const sourceTopic = quiz.questionSourceTopicId\r\n        ? getTopicById(subjectName, quiz.questionSourceTopicId)\r\n        : null;\r\n      const articleSource =\r\n        quiz.article || topic.article || (sourceTopic && sourceTopic.article);\r\n      const articleClone = cloneArticle(articleSource);\r\n      if (articleClone) prepared.article = articleClone;\r\n      const resolvedImageUrl =\r\n        quiz.imageUrl ||\r\n        topic.imageUrl ||\r\n        (sourceTopic && sourceTopic.imageUrl) ||\r\n        (articleClone && articleClone.imageUrl);\r\n      if (!prepared.imageUrl && resolvedImageUrl)\r\n        prepared.imageUrl = resolvedImageUrl;\r\n      onSelectQuiz(prepared, subjectName);\r\n    };\r\n\r\n    return (\r\n      <div\r\n        key={topic.id || `topic_${idx}`}\r\n        className=\"rounded-xl border panel-surface border-subtle p-4 flex flex-col justify-between shadow-md\"\r\n        style={\r\n          isDarkMode\r\n            ? {\r\n                borderColor: subjectColors.border || 'rgba(148,163,184,0.35)',\r\n                color: subjectColors.text || '#f8fafc',\r\n              }\r\n            : {\r\n                borderColor: subjectColors.border || 'rgba(148,163,184,0.35)',\r\n                backgroundColor: '#ffffff',\r\n                backgroundImage: lightCardBackground,\r\n                color: cardTextColor,\r\n              }\r\n        }\r\n      >\r\n        <div className=\"fade-in\">\r\n          <h3\r\n            className=\"text-lg font-bold\"\r\n            style={\r\n              isDarkMode\r\n                ? { color: subjectColors.text || '#f8fafc' }\r\n                : { color: cardTextColor }\r\n            }\r\n          >\r\n            {topic.title}\r\n          </h3>\r\n          <p\r\n            className=\"mt-2\"\r\n            title={topicOneLiner(topic)}\r\n            style={{\r\n              fontSize: '0.9rem',\r\n              lineHeight: 1.4,\r\n              opacity: 0.85,\r\n              fontWeight: 500,\r\n              color: isDarkMode\r\n                ? 'var(--text-tertiary, rgba(226,232,240,0.78))'\r\n                : 'var(--subtext-color, rgba(15,23,42,0.66))',\r\n            }}\r\n          >\r\n            {topicOneLiner(topic)}\r\n          </p>\r\n        </div>\r\n        {supportsMultiple ? (\r\n          (() => {\r\n            const sorted = sortVariantsStable(quizSets);\r\n            const list = sorted.map((q, i) => ({\r\n              quiz: q,\r\n              name: getVariantDisplayName(subjectName, topic.title, i),\r\n            }));\r\n            const expKey = `topic-variants:${sanitizeCodeSegment(\r\n              subjectName\r\n            )}:${topic.id || sanitizeCodeSegment(topic.title || 'topic')}`;\r\n            const expanded = !!expandedGroups[expKey];\r\n            const shown = expanded ? list : list.slice(0, 3);\r\n            return (\r\n              <div className=\"mt-3 grid gap-2\">\r\n                {shown.map(({ quiz, name }, idx) => (\r\n                  <button\r\n                    key={quiz.quizId || `${topic.id || 'topic'}_quiz_${idx}`}\r\n                    onClick={() => launchQuizSet(quiz, idx, name)}\r\n                    className=\"w-full px-3 py-2 rounded-lg font-semibold shadow-sm transition hover:opacity-95\"\r\n                    title={quizOneLiner(quiz, topic)}\r\n                    style={buttonStyle}\r\n                  >\r\n                    Start {name}\r\n                  </button>\r\n                ))}\r\n                {list.length > shown.length && (\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"text-sm underline justify-self-start\"\r\n                    aria-expanded={expanded}\r\n                    onClick={() => {\r\n                      const next = { ...expandedGroups, [expKey]: !expanded };\r\n                      persistExpanded(next);\r\n                    }}\r\n                  >\r\n                    {expanded ? 'Show fewer' : 'More in this topic'}\r\n                  </button>\r\n                )}\r\n              </div>\r\n            );\r\n          })()\r\n        ) : (\r\n          <button\r\n            onClick={() => {\r\n              if (typeof onSelectQuiz !== 'function') return;\r\n              const articleClone = cloneArticle(topic.article);\r\n              const prepared = {\r\n                ...topic,\r\n                id:\r\n                  topic.quizCode ||\r\n                  topic.id ||\r\n                  sanitizeCodeSegment(topic.title || 'quiz'),\r\n                quizCode:\r\n                  topic.quizCode ||\r\n                  `${sanitizeCodeSegment(\r\n                    subjectName,\r\n                    'subject'\r\n                  )}__${sanitizeCodeSegment(\r\n                    topic.id || topic.title || 'topic'\r\n                  )}`,\r\n              };\r\n              if (articleClone) prepared.article = articleClone;\r\n              if (Array.isArray(topic.questions)) {\r\n                prepared.questions = topic.questions.map((q, qi) => {\r\n                  if (q && typeof q === 'object') {\r\n                    const nextNumber = q.questionNumber ?? qi + 1;\r\n                    return { ...q, questionNumber: nextNumber };\r\n                  }\r\n                  return q;\r\n                });\r\n              }\r\n              onSelectQuiz(prepared, subjectName);\r\n            }}\r\n            className=\"w-full mt-3 px-3 py-2 rounded-lg font-semibold shadow-sm transition hover:opacity-95\"\r\n            style={buttonStyle}\r\n          >\r\n            Start Quiz\r\n          </button>\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  // Build grouped/chunked stacks of 3 from flat topic list for categories with numbered quizzes\r\n  const buildStackedSetsFromTopics = (topics) => {\r\n    const list = Array.isArray(topics) ? topics : [];\r\n    const groups = new Map();\r\n    let sawVariantPattern = false;\r\n\r\n    const push = (baseTitle, topic) => {\r\n      const key = String(baseTitle || '').toLowerCase();\r\n      if (!groups.has(key)) groups.set(key, { baseTitle, items: [] });\r\n      groups.get(key).items.push(topic);\r\n    };\r\n\r\n    list.forEach((t) => {\r\n      if (!t || typeof t !== 'object') return;\r\n      const raw = String(t.title || t.id || '').trim();\r\n      const [left, right] = splitOnDivider(raw);\r\n      const looksVariant =\r\n        (!!right && isVariantSuffix(right)) ||\r\n        /\\b(quiz|set)\\b\\s*[#:.-]?\\s*[a-z0-9ivxlcm]+\\s*$/i.test(raw);\r\n      const base = deriveCanonicalTopicTitle(raw);\r\n      if (looksVariant || base !== raw) sawVariantPattern = true;\r\n      push(base || left || raw, t);\r\n    });\r\n\r\n    // Create chunks of up to 3 in original order per base group\r\n    const stackedSets = [];\r\n    groups.forEach(({ baseTitle, items }) => {\r\n      for (let i = 0; i < items.length; i += 3) {\r\n        const chunk = items.slice(i, i + 3);\r\n        stackedSets.push({\r\n          baseTitle,\r\n          setIndex: Math.floor(i / 3) + 1,\r\n          quizzes: chunk,\r\n        });\r\n      }\r\n    });\r\n\r\n    // Decide whether to use stacking or fall back: only use if we detected variant patterns\r\n    const shouldUse = sawVariantPattern && stackedSets.length > 0;\r\n    return { stackedSets, shouldUse };\r\n  };\r\n\r\n  // open a specific quiz inside the stacked set (index 0,1,2)\r\n  const launchStackedSetAt = (stackedSet, quizIndex = 0) => {\r\n    if (\r\n      !stackedSet ||\r\n      !Array.isArray(stackedSet.quizzes) ||\r\n      !stackedSet.quizzes.length\r\n    )\r\n      return;\r\n\r\n    const topicLike = stackedSet.quizzes[quizIndex] || stackedSet.quizzes[0];\r\n\r\n    // some topics have sub-quizzes\r\n    let quizLike = null;\r\n    if (Array.isArray(topicLike.quizzes) && topicLike.quizzes.length) {\r\n      quizLike =\r\n        topicLike.quizzes.find((q) =>\r\n          quizHasAvailableQuestions(subjectName, topicLike, q)\r\n        ) || topicLike.quizzes[0];\r\n    }\r\n\r\n    const questions = resolveQuizQuestions(\r\n      subjectName,\r\n      topicLike,\r\n      quizLike || topicLike\r\n    );\r\n\r\n    if (!Array.isArray(questions) || !questions.length) {\r\n      alert('This quiz does not have questions yet. Try another.');\r\n      return;\r\n    }\r\n\r\n    const baseId = stackedSet.baseTitle.toLowerCase().replace(/\\s+/g, '_');\r\n    const id = `${baseId}_set_${stackedSet.setIndex}_quiz_${quizIndex + 1}`;\r\n\r\n    const preparedQuiz = {\r\n      id,\r\n      quizCode: id,\r\n      title: `${stackedSet.baseTitle}: Set ${stackedSet.setIndex} Quiz ${\r\n        quizIndex + 1\r\n      }`,\r\n      topicTitle: stackedSet.baseTitle,\r\n      description: topicLike.description || 'Practice set from this topic.',\r\n      type: 'quiz',\r\n      questions: questions.map((q, i) => {\r\n        if (q && typeof q === 'object') return { ...q, questionNumber: i + 1 };\r\n        return q;\r\n      }),\r\n    };\r\n\r\n    if (typeof onSelectQuiz === 'function') {\r\n      onSelectQuiz(preparedQuiz, subjectName);\r\n    }\r\n  };\r\n\r\n  // main button = quiz 1\r\n  const launchStackedSet = (stackedSet) => launchStackedSetAt(stackedSet, 0);\r\n\r\n  const topicsForActive = Array.isArray(active?.topicIds)\r\n    ? active.topicIds\r\n        .map((tid) => getTopicById(subjectName, tid))\r\n        .filter(Boolean)\r\n    : [];\r\n\r\n  // UI helpers\r\n  const renderFilterBar = () => (\r\n    <div className=\"flex flex-wrap gap-2 items-center py-2\">\r\n      <div className=\"flex items-center gap-1\">\r\n        <label className=\"text-sm opacity-80\">Status</label>\r\n        <select\r\n          aria-label=\"Filter by status\"\r\n          className=\"px-2 py-1 rounded-md border text-sm\"\r\n          value={filters.status}\r\n          onChange={(e) => setFilters({ ...filters, status: e.target.value })}\r\n        >\r\n          {['All', 'Not Attempted', 'Completed', 'Passed'].map((opt) => (\r\n            <option key={opt} value={opt}>\r\n              {opt}\r\n            </option>\r\n          ))}\r\n        </select>\r\n      </div>\r\n      <div className=\"flex items-center gap-1 ml-auto\">\r\n        <label className=\"text-sm opacity-80\">Sort</label>\r\n        <select\r\n          aria-label=\"Sort topics\"\r\n          className=\"px-2 py-1 rounded-md border text-sm\"\r\n          value={filters.sort}\r\n          onChange={(e) => setFilters({ ...filters, sort: e.target.value })}\r\n        >\r\n          {['Newest', 'Most Attempted', 'Highest Score', 'Topic AZ'].map(\r\n            (opt) => (\r\n              <option key={opt} value={opt}>\r\n                {opt}\r\n              </option>\r\n            )\r\n          )}\r\n        </select>\r\n      </div>\r\n    </div>\r\n  );\r\n\r\n  const renderCoreTab = () => {\r\n    const topicsForActive = Array.isArray(active?.topicIds)\r\n      ? active.topicIds\r\n          .map((tid) => getTopicById(subjectName, tid))\r\n          .filter(Boolean)\r\n      : [];\r\n    const filtered = sortItems(\r\n      filterByControls(topicsForActive.map((t) => ({ topic: t })))\r\n    ).map((x) => x.topic);\r\n\r\n    // New: group and chunk into stacks of 3 where topics are numbered variants\r\n    const { stackedSets, shouldUse } = buildStackedSetsFromTopics(filtered);\r\n\r\n    const renderStackedCard = (set, idx) => {\r\n      // build ids for quiz 1/2/3 for this set\r\n      const baseId = set.baseTitle.toLowerCase().replace(/\\s+/g, '_');\r\n      const quiz1Id = `${baseId}_set_${set.setIndex}_quiz_1`;\r\n      const quiz2Id = `${baseId}_set_${set.setIndex}_quiz_2`;\r\n      const quiz3Id = `${baseId}_set_${set.setIndex}_quiz_3`;\r\n\r\n      const quizCount = Array.isArray(set.quizzes) ? set.quizzes.length : 0;\r\n\r\n      // check stored status\r\n      const statusList = [\r\n        progress[quiz1Id]?.status,\r\n        progress[quiz2Id]?.status,\r\n        progress[quiz3Id]?.status,\r\n      ];\r\n      const isPassed = statusList.includes('passed');\r\n      const isCompleted = !isPassed && statusList.includes('completed');\r\n\r\n      // existing styles\r\n      const cardBaseStyle = isDarkMode\r\n        ? {\r\n            borderColor: subjectColors.border || 'rgba(148,163,184,0.35)',\r\n            color: subjectColors.text || '#f8fafc',\r\n          }\r\n        : {\r\n            borderColor: subjectColors.border || 'rgba(148,163,184,0.35)',\r\n            backgroundImage: lightCardBackground,\r\n            color: cardTextColor,\r\n          };\r\n\r\n      // add a tint when passed/completed\r\n      const passedStyle = isPassed\r\n        ? { backgroundColor: 'rgba(22,163,74,0.12)', borderColor: '#16a34a' }\r\n        : isCompleted\r\n        ? { backgroundColor: 'rgba(59,130,246,0.09)' }\r\n        : {};\r\n\r\n      return (\r\n        <div\r\n          key={`stack_${set.baseTitle}_${set.setIndex}_${idx}`}\r\n          className=\"rounded-xl border p-4 flex flex-col justify-between shadow-md\"\r\n          style={{\r\n            ...cardBaseStyle,\r\n            ...passedStyle,\r\n            backgroundColor: isDarkMode\r\n              ? undefined\r\n              : passedStyle.backgroundColor || '#ffffff',\r\n          }}\r\n        >\r\n          <div className=\"fade-in\">\r\n            <h3\r\n              className=\"text-lg font-bold\"\r\n              style={\r\n                isDarkMode\r\n                  ? { color: subjectColors.text || '#f8fafc' }\r\n                  : { color: cardTextColor }\r\n              }\r\n            >\r\n              {`${set.baseTitle}: Set ${set.setIndex}`}\r\n            </h3>\r\n            <p\r\n              className=\"mt-2\"\r\n              title={\r\n                set.quizzes?.[0]?.description ||\r\n                '3 quizzes bundled from this topic.'\r\n              }\r\n              style={{\r\n                fontSize: '0.9rem',\r\n                lineHeight: 1.4,\r\n                opacity: 0.85,\r\n                fontWeight: 500,\r\n                color: isDarkMode\r\n                  ? 'var(--text-tertiary, rgba(226,232,240,0.78))'\r\n                  : 'var(--subtext-color, rgba(15,23,42,0.66))',\r\n              }}\r\n            >\r\n              {set.quizzes?.[0]?.description ||\r\n                '3 quizzes bundled from this topic.'}\r\n            </p>\r\n          </div>\r\n\r\n          <div className=\"mt-3 flex items-center gap-2\">\r\n            {/* main button opens quiz 1 */}\r\n            <button\r\n              onClick={() => launchStackedSetAt(set, 0)}\r\n              className=\"flex-1 px-3 py-2 rounded-lg font-semibold shadow-sm transition hover:opacity-95\"\r\n              style={buttonStyle}\r\n            >\r\n              Start Core Practice\r\n            </button>\r\n\r\n            {/* small buttons for quiz 2 and 3 */}\r\n            {quizCount > 1 && (\r\n              <button\r\n                onClick={() => launchStackedSetAt(set, 1)}\r\n                className=\"px-2 py-1 rounded-md text-sm font-semibold border transition hover:opacity-95\"\r\n                style={{\r\n                  background: '#fff',\r\n                  borderColor: 'rgba(148,163,184,0.35)',\r\n                }}\r\n                title=\"Open quiz 2 in this set\"\r\n              >\r\n                2\r\n              </button>\r\n            )}\r\n            {quizCount > 2 && (\r\n              <button\r\n                onClick={() => launchStackedSetAt(set, 2)}\r\n                className=\"px-2 py-1 rounded-md text-sm font-semibold border transition hover:opacity-95\"\r\n                style={{\r\n                  background: '#fff',\r\n                  borderColor: 'rgba(148,163,184,0.35)',\r\n                }}\r\n                title=\"Open quiz 3 in this set\"\r\n              >\r\n                3\r\n              </button>\r\n            )}\r\n          </div>\r\n        </div>\r\n      );\r\n    };\r\n    return (\r\n      <>\r\n        <div\r\n          className=\"flex items-center gap-2 overflow-x-auto no-scrollbar py-1\"\r\n          role=\"tablist\"\r\n          aria-label=\"Category clusters\"\r\n        >\r\n          {clusters.map((cluster) => {\r\n            const selected = cluster.id === activeClusterId;\r\n            return (\r\n              <button\r\n                key={cluster.id}\r\n                type=\"button\"\r\n                onClick={() => setActiveClusterId(cluster.id)}\r\n                className={`whitespace-nowrap px-3 py-1.5 rounded-full border text-sm font-semibold transition ${\r\n                  selected ? 'shadow' : ''\r\n                }`}\r\n                style={\r\n                  selected\r\n                    ? {\r\n                        backgroundColor: subjectColors.accent || '#0ea5e9',\r\n                        color: subjectColors.accentText || '#ffffff',\r\n                        borderColor: subjectColors.accent || '#0ea5e9',\r\n                      }\r\n                    : {\r\n                        backgroundColor: isDarkMode\r\n                          ? 'rgba(148,163,184,0.12)'\r\n                          : '#ffffff',\r\n                        color: subjectColors.text || '#0f172a',\r\n                        borderColor:\r\n                          subjectColors.border || 'rgba(148,163,184,0.35)',\r\n                      }\r\n                }\r\n                aria-pressed={selected}\r\n              >\r\n                {cluster.label}\r\n              </button>\r\n            );\r\n          })}\r\n        </div>\r\n        {(active?.description || active?.label) &&\r\n          (() => {\r\n            const coreInfoKey = `info:core:${subjectName}:${\r\n              active?.id || 'cluster'\r\n            }`;\r\n            const coreInfoOpen = !!expandedGroups[coreInfoKey];\r\n            const clusterItems = (\r\n              Array.isArray(active?.topicIds) ? active.topicIds : []\r\n            )\r\n              .map((tid) => getTopicById(subjectName, tid))\r\n              .filter(Boolean)\r\n              .map((t) => ({ topic: t }));\r\n            const clusterOverview =\r\n              active?.description ||\r\n              sectionSummaryForKey('core-cluster', active?.label);\r\n            const clusterDifficulty = summarizeDifficulty(clusterItems);\r\n            const clusterQuizCount = clusterItems.reduce((acc, it) => {\r\n              const t = it.topic;\r\n              if (Array.isArray(t?.quizzes) && t.quizzes.length)\r\n                return acc + t.quizzes.length;\r\n              return acc + 1;\r\n            }, 0);\r\n            return (\r\n              <div className=\"fade-in\">\r\n                <div className=\"flex items-center gap-2\">\r\n                  <p\r\n                    style={{\r\n                      fontSize: '0.9rem',\r\n                      lineHeight: 1.4,\r\n                      opacity: 0.85,\r\n                      fontWeight: 500,\r\n                      color: isDarkMode\r\n                        ? 'var(--text-tertiary, rgba(226,232,240,0.78))'\r\n                        : 'var(--subtext-color, rgba(15,23,42,0.66))',\r\n                    }}\r\n                    title={clusterOverview}\r\n                  >\r\n                    {clusterOverview}\r\n                  </p>\r\n                  <button\r\n                    type=\"button\"\r\n                    className=\"text-info underline-offset-2 text-sm\"\r\n                    aria-label={`Learn more about ${\r\n                      active?.label || 'this cluster'\r\n                    }`}\r\n                    aria-expanded={coreInfoOpen}\r\n                    onClick={() => {\r\n                      const next = {\r\n                        ...expandedGroups,\r\n                        [coreInfoKey]: !coreInfoOpen,\r\n                      };\r\n                      persistExpanded(next);\r\n                    }}\r\n                  >\r\n                    ?\r\n                  </button>\r\n                </div>\r\n                {coreInfoOpen && (\r\n                  <div\r\n                    className=\"mt-2 rounded-lg border px-3 py-2 text-sm\"\r\n                    style={{\r\n                      borderColor:\r\n                        subjectColors.border || 'rgba(148,163,184,0.35)',\r\n                      background: isDarkMode\r\n                        ? 'rgba(15,23,42,0.35)'\r\n                        : 'rgba(241,245,249,0.5)',\r\n                    }}\r\n                  >\r\n                    <p className=\"mb-1\">{clusterOverview}</p>\r\n                    <p className=\"mb-1\">\r\n                      <strong>Difficulty:</strong> {clusterDifficulty}\r\n                    </p>\r\n                    <p>\r\n                      <strong>Quizzes in this section:</strong>{' '}\r\n                      {clusterQuizCount}\r\n                    </p>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            );\r\n          })()}\r\n        {renderFilterBar()}\r\n        <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n          {filtered.length === 0 && (\r\n            <div\r\n              className=\"col-span-full text-center text-sm opacity-80 border border-dashed rounded-lg p-4\"\r\n              style={{\r\n                borderColor: subjectColors.border || 'rgba(148,163,184,0.35)',\r\n              }}\r\n            >\r\n              No topics available yet for this cluster.\r\n            </div>\r\n          )}\r\n          {shouldUse\r\n            ? stackedSets.map((set, idx) => renderStackedCard(set, idx))\r\n            : filtered.map((topic, idx) => renderTopicCard(topic, idx))}\r\n        </div>\r\n      </>\r\n    );\r\n  };\r\n\r\n  const renderGroupSection = (title, items, groupKey) => {\r\n    const key = `${activeTab}:${groupKey}`;\r\n    const expanded = !!expandedGroups[key];\r\n    const filtered = sortItems(filterByControls(items));\r\n    const shown = expanded ? filtered : filtered.slice(0, 4);\r\n    const infoKey = `info:${key}`;\r\n    const showInfo = !!expandedGroups[infoKey];\r\n    const overview = sectionSummaryForKey(groupKey, title);\r\n    const difficultyBlurb = summarizeDifficulty(filtered);\r\n    const quizCount = filtered.reduce((acc, it) => {\r\n      const t = it.topic;\r\n      if (Array.isArray(t?.quizzes) && t.quizzes.length)\r\n        return acc + t.quizzes.length;\r\n      return acc + 1;\r\n    }, 0);\r\n    return (\r\n      <section className=\"rounded-xl panel-surface p-3 space-y-2\">\r\n        <div className=\"flex items-center justify-between\">\r\n          <div className=\"flex items-center gap-2\">\r\n            <h4 className=\"font-semibold text-secondary\">\r\n              {title}{' '}\r\n              <span className=\"opacity-60 text-xs\">({filtered.length})</span>\r\n            </h4>\r\n            <button\r\n              type=\"button\"\r\n              className=\"btn-ghost text-xs focus-ring-primary\"\r\n              aria-expanded={showInfo}\r\n              onClick={() => {\r\n                const next = { ...expandedGroups, [infoKey]: !showInfo };\r\n                persistExpanded(next);\r\n              }}\r\n              title=\"Toggle overview\"\r\n            >\r\n              <svg\r\n                xmlns=\"http://www.w3.org/2000/svg\"\r\n                viewBox=\"0 0 20 20\"\r\n                fill=\"currentColor\"\r\n                className=\"h-4 w-4 text-muted\"\r\n                aria-hidden=\"true\"\r\n              >\r\n                <path\r\n                  fillRule=\"evenodd\"\r\n                  d=\"M10 18a8 8 0 100-16 8 8 0 000 16Zm0-6.25a.75.75 0 00-.75.75v2a.75.75 0 001.5 0v-2A.75.75 0 0010 11.75Zm0-5a1 1 0 100 2 1 1 0 000-2Z\"\r\n                  clipRule=\"evenodd\"\r\n                />\r\n              </svg>\r\n              <span className=\"sr-only\">Toggle overview</span>\r\n            </button>\r\n          </div>\r\n          <button\r\n            type=\"button\"\r\n            className=\"btn-ghost text-xs\"\r\n            aria-expanded={expanded}\r\n            onClick={() => {\r\n              const next = { ...expandedGroups, [key]: !expanded };\r\n              persistExpanded(next);\r\n            }}\r\n          >\r\n            {expanded ? 'Show Less' : 'View More'}\r\n          </button>\r\n        </div>\r\n        {showInfo && (\r\n          <div className=\"rounded-lg border-subtle bg-surface-alt px-3 py-2 text-xs text-muted space-y-1\">\r\n            <p>{overview}</p>\r\n            <p>\r\n              <strong>Difficulty:</strong> {difficultyBlurb}\r\n            </p>\r\n            <p>\r\n              <strong>Quizzes in this section:</strong> {quizCount}\r\n            </p>\r\n          </div>\r\n        )}\r\n        <div className=\"mt-2 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-3\">\r\n          {shown.length === 0 && (\r\n            <div className=\"col-span-full rounded-lg border-subtle border-dashed p-3 text-xs text-muted\">\r\n              No topics match the current filters.\r\n            </div>\r\n          )}\r\n          {/* Item rendering happens elsewhere */}\r\n        </div>\r\n      </section>\r\n    );\r\n  };\r\n  const renderSpecialTab = () => {\r\n    const list = allTopics.map(({ topic }) => ({\r\n      topic,\r\n      image: hasImage(topic),\r\n      timed: isTimed(topic),\r\n      passage: hasPassage(topic),\r\n    }));\r\n    return (\r\n      <>\r\n        {renderFilterBar()}\r\n        <div className=\"space-y-4\">\r\n          {renderGroupSection(\r\n            'Timed Practice',\r\n            list.filter((x) => x.timed).map((x) => ({ topic: x.topic })),\r\n            'special-timed'\r\n          )}\r\n          {renderGroupSection(\r\n            'Image-Based',\r\n            list.filter((x) => x.image).map((x) => ({ topic: x.topic })),\r\n            'special-image'\r\n          )}\r\n          {renderGroupSection(\r\n            'Reading Passage',\r\n            list.filter((x) => x.passage).map((x) => ({ topic: x.topic })),\r\n            'special-passage'\r\n          )}\r\n        </div>\r\n      </>\r\n    );\r\n  };\r\n\r\n  // Fallback: Launch any premade by quizCode from the merged dataset\r\n  const resolveAndLaunchByCode = (quizCode) => {\r\n    try {\r\n      const data =\r\n        typeof window !== 'undefined'\r\n          ? window.MergedExpandedQuizData || window.ExpandedQuizData || {}\r\n          : {};\r\n      const subject = data?.[subjectName];\r\n      if (!subject) throw new Error('Subject dataset not found');\r\n      let found = null;\r\n      // search helper\r\n      const setIfMatch = (obj) => {\r\n        if (found) return;\r\n        if (!obj) return;\r\n        if (obj.quizCode && obj.quizCode === quizCode) found = obj;\r\n      };\r\n      // subject-level quizzes\r\n      if (Array.isArray(subject.quizzes)) subject.quizzes.forEach(setIfMatch);\r\n      // categories\r\n      const cats = subject.categories || {};\r\n      for (const catName of Object.keys(cats)) {\r\n        const cat = cats[catName];\r\n        if (!cat) continue;\r\n        if (Array.isArray(cat.quizzes)) cat.quizzes.forEach(setIfMatch);\r\n        const topics = Array.isArray(cat.topics) ? cat.topics : [];\r\n        for (const t of topics) {\r\n          if (!t) continue;\r\n          // topic as a direct quiz\r\n          setIfMatch(t);\r\n          // topic quiz sets\r\n          if (Array.isArray(t.quizzes)) t.quizzes.forEach(setIfMatch);\r\n        }\r\n      }\r\n      if (!found) {\r\n        alert('Sorry, this premade could not be resolved. Try another.');\r\n        return;\r\n      }\r\n      // Build a prepared quiz similar to topic/quizStart\r\n      const originTopic = found.topicId\r\n        ? getTopicById(subjectName, found.topicId)\r\n        : null;\r\n      const baseTitle = found.title || originTopic?.title || 'Premade Quiz';\r\n      const prepared = {\r\n        ...found,\r\n        id: found.quizCode || found.quizId || sanitizeCodeSegment(baseTitle),\r\n        title: baseTitle,\r\n        quizCode:\r\n          found.quizCode ||\r\n          `${sanitizeCodeSegment(\r\n            subjectName,\r\n            'subject'\r\n          )}__${sanitizeCodeSegment(baseTitle)}`,\r\n        type: found.type || originTopic?.type || 'quiz',\r\n      };\r\n      // Resolve questions from topic/quizzes where needed\r\n      let questions = [];\r\n      if (Array.isArray(found.questions) && found.questions.length) {\r\n        questions = found.questions;\r\n      } else if (\r\n        originTopic &&\r\n        Array.isArray(originTopic.questions) &&\r\n        originTopic.questions.length\r\n      ) {\r\n        questions = originTopic.questions;\r\n      } else if (originTopic && Array.isArray(originTopic.quizzes)) {\r\n        // pick first matching set if any\r\n        const match =\r\n          originTopic.quizzes.find(\r\n            (q) => q.quizCode === found.quizCode || q.quizId === found.quizId\r\n          ) || originTopic.quizzes[0];\r\n        if (match && Array.isArray(match.questions))\r\n          questions = match.questions;\r\n      }\r\n      const normalizedQuestions = (\r\n        Array.isArray(questions) ? questions : []\r\n      ).map((q, qi) => {\r\n        const withNum =\r\n          q && typeof q === 'object'\r\n            ? { ...q, questionNumber: q.questionNumber ?? qi + 1 }\r\n            : q;\r\n        return normalizeQuestionAssets(withNum, subjectName);\r\n      });\r\n      prepared.questions = normalizedQuestions;\r\n      ensureMinQuestions(prepared, subjectName, 12);\r\n      prepared.isPremade = true;\r\n      onSelectQuiz(prepared, subjectName);\r\n    } catch (e) {\r\n      console.warn('Failed to resolve premade by code', quizCode, e);\r\n      alert('Could not start this premade quiz due to a data error.');\r\n    }\r\n  };\r\n\r\n  // Catalog-backed flat listing (ensures full inventory is accessible even if clusters omit content)\r\n  // Flat premade list removed after unification; all quizzes should appear under categories/topics\r\n\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      {/* Tabs */}\r\n      <div\r\n        className=\"flex items-center gap-2\"\r\n        role=\"tablist\"\r\n        aria-label=\"Quiz organization tabs\"\r\n      >\r\n        {[\r\n          { id: 'core', label: 'Core Topics' },\r\n          { id: 'levels', label: 'Skill Levels' },\r\n          { id: 'special', label: 'Special Sets' },\r\n        ].map((tab) => {\r\n          const selected = activeTab === tab.id;\r\n          return (\r\n            <button\r\n              key={tab.id}\r\n              role=\"tab\"\r\n              aria-selected={selected}\r\n              onClick={() => setActiveTab(tab.id)}\r\n              className={`px-3 py-1.5 rounded-md border text-sm font-semibold ${\r\n                selected ? 'shadow' : ''\r\n              }`}\r\n              style={\r\n                selected\r\n                  ? {\r\n                      backgroundColor: subjectColors.accent || '#0ea5e9',\r\n                      color: subjectColors.accentText || '#ffffff',\r\n                      borderColor: subjectColors.accent || '#0ea5e9',\r\n                    }\r\n                  : {\r\n                      backgroundColor: isDarkMode\r\n                        ? 'rgba(148,163,184,0.12)'\r\n                        : '#ffffff',\r\n                      color: subjectColors.text || '#0f172a',\r\n                      borderColor:\r\n                        subjectColors.border || 'rgba(148,163,184,0.35)',\r\n                    }\r\n              }\r\n            >\r\n              {tab.label}\r\n            </button>\r\n          );\r\n        })}\r\n      </div>\r\n      {activeTab === 'core' && renderCoreTab()}\r\n      {activeTab === 'levels' && renderLevelsTab()}\r\n      {activeTab === 'special' && renderSpecialTab()}\r\n    </div>\r\n  );\r\n}\r\nconst HomeIcon = () => (\r\n  <svg\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    className=\"h-6 w-6\"\r\n    fill=\"none\"\r\n    viewBox=\"0 0 24 24\"\r\n    stroke=\"currentColor\"\r\n  >\r\n    <path\r\n      strokeLinecap=\"round\"\r\n      strokeLinejoin=\"round\"\r\n      strokeWidth={2}\r\n      d=\"M3 12l2-2m0 0l7-7 7 7M5 10v10a1 1 0 001 1h3m10-11l2 2m-2-2v10a1 1 0 01-1 1h-3m-6 0a1 1 0 001-1v-4a1 1 0 011-1h2a1 1 0 011 1v4a1 1 0 001 1m-6 0h6\"\r\n    />\r\n  </svg>\r\n);\r\nconst SparklesIcon = () => (\r\n  <svg\r\n    xmlns=\"http://www.w3.org/2000/svg\"\r\n    className=\"h-6 w-6\"\r\n    fill=\"none\"\r\n    viewBox=\"0 0 24 24\"\r\n    stroke=\"currentColor\"\r\n  >\r\n    <path\r\n      strokeLinecap=\"round\"\r\n      strokeLinejoin=\"round\"\r\n      strokeWidth={2}\r\n      d=\"M5 3v4M3 5h4M6 17v4m-2-2h4m5-16l2.293 2.293a1 1 0 010 1.414L11 15l-4 6h12l-4-6-1.293-1.293a1 1 0 010-1.414L15 5m0 0l2.293-2.293a1 1 0 011.414 0L21 5m-6 12v4m2-2h-4\"\r\n    />\r\n  </svg>\r\n);\r\n\r\n// --- Helper Functions ---\r\nconst shuffleArray = (array) => {\r\n  if (!Array.isArray(array)) {\r\n    console.error('shuffleArray received a non-array value:', array);\r\n    return [];\r\n  }\r\n  let newArray = [...array];\r\n  for (let i = newArray.length - 1; i > 0; i--) {\r\n    const j = Math.floor(Math.random() * (i + 1));\r\n    [newArray[i], newArray[j]] = [newArray[j], newArray[i]];\r\n  }\r\n  return newArray;\r\n};\r\n\r\nconst VALID_FONT_SIZES = new Set(['sm', 'md', 'lg', 'xl']);\r\nconst VALID_THEMES = new Set(['light', 'dark']);\r\nconst DEFAULT_PREFERENCES = Object.freeze({ fontSize: 'md', theme: 'light' });\r\n\r\nconst DEFAULT_CHALLENGE_OPTIONS = [\r\n  // MATH (algebra, geometry, data)\r\n  {\r\n    id: 'math-1',\r\n    subject: 'Math',\r\n    subtopic: 'Number Sense & Fluency',\r\n    label: 'Fractions, decimals, %',\r\n    selected: false,\r\n  },\r\n  {\r\n    id: 'math-2',\r\n    subject: 'Math',\r\n    subtopic: 'Algebra Foundations',\r\n    label: 'Writing and solving 1-step equations',\r\n    selected: false,\r\n  },\r\n  {\r\n    id: 'math-3',\r\n    subject: 'Math',\r\n    subtopic: 'Algebra Foundations',\r\n    label: '2-step equations & inequalities',\r\n    selected: false,\r\n  },\r\n  {\r\n    id: 'math-4',\r\n    subject: 'Math',\r\n    subtopic: 'Word Problems',\r\n    label: 'Translating real situations to expressions',\r\n    selected: false,\r\n  },\r\n  {\r\n    id: 'math-5',\r\n    subject: 'Math',\r\n    subtopic: 'Geometry & Measurement',\r\n    label: 'Perimeter, area, and volume',\r\n    selected: false,\r\n  },\r\n  {\r\n    id: 'math-6',\r\n    subject: 'Math',\r\n    subtopic: 'Data & Graphs',\r\n    label: 'Reading tables, charts, and graphs',\r\n    selected: false,\r\n  },\r\n  {\r\n    id: 'math-7',\r\n    subject: 'Math',\r\n    subtopic: 'Scientific Calculator',\r\n    label: 'Using the calculator efficiently',\r\n    selected: false,\r\n  },\r\n  {\r\n    id: 'math-8',\r\n    subject: 'Math',\r\n    subtopic: 'Test Skills',\r\n    label: 'Multi-step GED-style math items',\r\n    selected: false,\r\n  },\r\n\r\n  // RLA (reading, grammar, extended response)\r\n  {\r\n    id: 'rla-1',\r\n    subject: 'RLA',\r\n    subtopic: 'Reading Comprehension',\r\n    label: 'Main idea and supporting details',\r\n    selected: false,\r\n  },\r\n  {\r\n    id: 'rla-2',\r\n    subject: 'RLA',\r\n    subtopic: 'Reading Comprehension',\r\n    label: 'Authors purpose & tone',\r\n    selected: false,\r\n  },\r\n  {\r\n    id: 'rla-3',\r\n    subject: 'RLA',\r\n    subtopic: 'Informational Text',\r\n    label: 'Reading charts / text together',\r\n    selected: false,\r\n  },\r\n  {\r\n    id: 'rla-4',\r\n    subject: 'RLA',\r\n    subtopic: 'Language & Editing',\r\n    label: 'Grammar, usage, and mechanics',\r\n    selected: false,\r\n  },\r\n  {\r\n    id: 'rla-5',\r\n    subject: 'RLA',\r\n    subtopic: 'Language & Editing',\r\n    label: 'Punctuation and sentence boundaries',\r\n    selected: false,\r\n  },\r\n  {\r\n    id: 'rla-6',\r\n    subject: 'RLA',\r\n    subtopic: 'Writing',\r\n    label: 'Organizing ideas for responses',\r\n    selected: false,\r\n  },\r\n  {\r\n    id: 'rla-7',\r\n    subject: 'RLA',\r\n    subtopic: 'Writing',\r\n    label: 'Citing evidence from the passage',\r\n    selected: false,\r\n  },\r\n\r\n  // SCIENCE (data, life, physical, reasoning)\r\n  {\r\n    id: 'science-1',\r\n    subject: 'Science',\r\n    subtopic: 'Data Interpretation',\r\n    label: 'Reading charts and graphs',\r\n    selected: false,\r\n  },\r\n  {\r\n    id: 'science-2',\r\n    subject: 'Science',\r\n    subtopic: 'Physical Science',\r\n    label: 'Forces, motion, and energy',\r\n    selected: false,\r\n  },\r\n  {\r\n    id: 'science-3',\r\n    subject: 'Science',\r\n    subtopic: 'Life Science',\r\n    label: 'Cells and human body systems',\r\n    selected: false,\r\n  },\r\n  {\r\n    id: 'science-4',\r\n    subject: 'Science',\r\n    subtopic: 'Earth & Space',\r\n    label: 'Weather, climate, earth systems',\r\n    selected: false,\r\n  },\r\n  {\r\n    id: 'science-5',\r\n    subject: 'Science',\r\n    subtopic: 'Scientific Practice',\r\n    label: 'Experimental design & variables',\r\n    selected: false,\r\n  },\r\n  {\r\n    id: 'science-6',\r\n    subject: 'Science',\r\n    subtopic: 'Reasoning in Science',\r\n    label: 'Cause-and-effect in passages',\r\n    selected: false,\r\n  },\r\n\r\n  // SOCIAL STUDIES (civics, history, econ, reading graphs)\r\n  {\r\n    id: 'social-1',\r\n    subject: 'Social Studies',\r\n    subtopic: 'Civics',\r\n    label: 'Government and civics concepts',\r\n    selected: false,\r\n  },\r\n  {\r\n    id: 'social-2',\r\n    subject: 'Social Studies',\r\n    subtopic: 'Geography',\r\n    label: 'Interpreting maps and data',\r\n    selected: false,\r\n  },\r\n  {\r\n    id: 'social-3',\r\n    subject: 'Social Studies',\r\n    subtopic: 'History',\r\n    label: 'Remembering historical events',\r\n    selected: false,\r\n  },\r\n  {\r\n    id: 'social-4',\r\n    subject: 'Social Studies',\r\n    subtopic: 'US History',\r\n    label: 'Colonial Civil War sequence',\r\n    selected: false,\r\n  },\r\n  {\r\n    id: 'social-5',\r\n    subject: 'Social Studies',\r\n    subtopic: 'Economics',\r\n    label: 'Basic economics and graphs',\r\n    selected: false,\r\n  },\r\n  {\r\n    id: 'social-6',\r\n    subject: 'Social Studies',\r\n    subtopic: 'Document Literacy',\r\n    label: 'Reading primary/secondary sources',\r\n    selected: false,\r\n  },\r\n];\r\n\r\nconst DEFAULT_LOCAL_PROFILE = {\r\n  profile: {\r\n    id: 'local-user',\r\n    name: '',\r\n    timezone: 'America/New_York',\r\n    reminderEnabled: true,\r\n    fontSize: null,\r\n    onboardingStatus: 'pending',\r\n    onboardingComplete: false,\r\n  },\r\n  testPlan: [\r\n    {\r\n      subject: 'Math',\r\n      testDate: '',\r\n      testLocation: '',\r\n      passed: false,\r\n      notScheduled: false,\r\n    },\r\n    {\r\n      subject: 'RLA',\r\n      testDate: '',\r\n      testLocation: '',\r\n      passed: false,\r\n      notScheduled: false,\r\n    },\r\n    {\r\n      subject: 'Science',\r\n      testDate: '',\r\n      testLocation: '',\r\n      passed: false,\r\n      notScheduled: false,\r\n    },\r\n    {\r\n      subject: 'Social Studies',\r\n      testDate: '',\r\n      testLocation: '',\r\n      passed: false,\r\n      notScheduled: false,\r\n    },\r\n  ],\r\n  challengeOptions: DEFAULT_CHALLENGE_OPTIONS.map((opt) => ({ ...opt })),\r\n  recentScoresDashboard: {},\r\n  scores: {},\r\n};\r\n\r\nfunction cloneDefaultLocalProfile() {\r\n  return {\r\n    profile: { ...DEFAULT_LOCAL_PROFILE.profile },\r\n    testPlan: DEFAULT_LOCAL_PROFILE.testPlan.map((row) => ({ ...row })),\r\n    challengeOptions: DEFAULT_LOCAL_PROFILE.challengeOptions.map((opt) => ({\r\n      ...opt,\r\n    })),\r\n    recentScoresDashboard: { ...DEFAULT_LOCAL_PROFILE.recentScoresDashboard },\r\n    scores: { ...DEFAULT_LOCAL_PROFILE.scores },\r\n  };\r\n}\r\n\r\nconst normalizePreferences = (prefs = {}) => ({\r\n  fontSize: VALID_FONT_SIZES.has(prefs.fontSize)\r\n    ? prefs.fontSize\r\n    : DEFAULT_PREFERENCES.fontSize,\r\n  theme: VALID_THEMES.has(prefs.theme)\r\n    ? prefs.theme\r\n    : DEFAULT_PREFERENCES.theme,\r\n});\r\n\r\nconst SUBJECT_NAMES = ['Math', 'RLA', 'Science', 'Social Studies'];\r\n\r\nfunction createEmptySubjectEdits() {\r\n  return {\r\n    Math: {\r\n      testDate: '',\r\n      testLocation: '',\r\n      passed: false,\r\n      notScheduled: false,\r\n    },\r\n    RLA: { testDate: '', testLocation: '', passed: false, notScheduled: false },\r\n    Science: {\r\n      testDate: '',\r\n      testLocation: '',\r\n      passed: false,\r\n      notScheduled: false,\r\n    },\r\n    'Social Studies': {\r\n      testDate: '',\r\n      testLocation: '',\r\n      passed: false,\r\n      notScheduled: false,\r\n    },\r\n  };\r\n}\r\n\r\nfunction buildSubjectEditsFromPlan(plan) {\r\n  const planFromServer = {};\r\n  if (Array.isArray(plan)) {\r\n    for (const row of plan) {\r\n      if (!row || !row.subject) {\r\n        continue;\r\n      }\r\n      planFromServer[row.subject] = {\r\n        testDate: row.testDate || '',\r\n        testLocation: row.testLocation || '',\r\n        passed: !!row.passed,\r\n        notScheduled: !!row.notScheduled,\r\n      };\r\n    }\r\n  }\r\n  const base = createEmptySubjectEdits();\r\n  const merged = {\r\n    ...base,\r\n    Math: {\r\n      ...base.Math,\r\n      ...planFromServer.Math,\r\n    },\r\n    RLA: {\r\n      ...base.RLA,\r\n      ...planFromServer.RLA,\r\n    },\r\n    Science: {\r\n      ...base.Science,\r\n      ...planFromServer.Science,\r\n    },\r\n    'Social Studies': {\r\n      ...base['Social Studies'],\r\n      ...planFromServer['Social Studies'],\r\n    },\r\n  };\r\n\r\n  for (const subject of Object.keys(planFromServer)) {\r\n    if (!SUBJECT_NAMES.includes(subject)) {\r\n      merged[subject] = {\r\n        testDate: planFromServer[subject].testDate || '',\r\n        testLocation: planFromServer[subject].testLocation || '',\r\n        passed: !!planFromServer[subject].passed,\r\n        notScheduled: !!planFromServer[subject].notScheduled,\r\n      };\r\n    }\r\n  }\r\n\r\n  return merged;\r\n}\r\n\r\nfunction canCompleteOnboarding(p) {\r\n  const hasName = p?.profile?.name && p.profile.name.trim() !== '';\r\n\r\n  const hasAnyTestProgress = Array.isArray(p?.testPlan)\r\n    ? p.testPlan.some(\r\n        (row) =>\r\n          row &&\r\n          (row.passed ||\r\n            row.notScheduled ||\r\n            (row.testDate && row.testDate.trim() !== ''))\r\n      )\r\n    : false;\r\n\r\n  const hasChallenges = Array.isArray(p?.challengeOptions)\r\n    ? p.challengeOptions.some((opt) => opt && opt.selected)\r\n    : false;\r\n\r\n  return !!(hasName && hasAnyTestProgress && hasChallenges);\r\n}\r\n\r\nasync function fetchJSON(url, options = {}) {\r\n  const { headers, ...rest } = options || {};\r\n  const finalHeaders = headers ? { ...headers } : undefined;\r\n  try {\r\n    const isAbsolute = typeof url === 'string' && /^(https?:)?\\/\\//i.test(url);\r\n    const BASE =\r\n      (typeof API_BASE_URL === 'string' && API_BASE_URL) ||\r\n      (typeof window !== 'undefined' &&\r\n        window.__CLIENT_CONFIG__ &&\r\n        window.__CLIENT_CONFIG__.API_BASE_URL) ||\r\n      (typeof window !== 'undefined' ? window.location.origin : '');\r\n    const targetUrl = isAbsolute\r\n      ? url\r\n      : typeof url === 'string' && url.startsWith('/')\r\n      ? `${BASE}${url}`\r\n      : url;\r\n    const response = await fetch(targetUrl, {\r\n      credentials: 'include',\r\n      ...rest,\r\n      headers: finalHeaders,\r\n    });\r\n    if (!response.ok) {\r\n      // Graceful failure: return null so callers can decide fallback\r\n      console.warn(\r\n        '[fetchJSON] non-ok response',\r\n        response.status,\r\n        'for',\r\n        targetUrl\r\n      );\r\n      return null;\r\n    }\r\n    const contentType = response.headers.get('content-type') || '';\r\n    if (contentType.includes('application/json')) {\r\n      return response.json();\r\n    }\r\n    return null;\r\n  } catch (err) {\r\n    console.warn('[fetchJSON] request failed', err?.message || err);\r\n    return null; // never throw on startup critical fetches\r\n  }\r\n}\r\n\r\n// --- App Structure Components ---\r\nimport SubjectCard from '../components/subject/SubjectCard.jsx';\r\nimport SubjectToolsModal from '../components/SubjectToolsModal.jsx';\r\nimport ConstitutionExplorer from '../../tools/ConstitutionExplorer.jsx';\r\nimport EconomicsGraphTool from '../../tools/EconomicsGraphTool.jsx';\r\nimport MapExplorer from '../../tools/MapExplorer.jsx';\r\nimport CivicsReasoningLab from '../../tools/CivicsReasoningLab.jsx';\r\nimport HistoryTimelineBuilder from '../../tools/HistoryTimelineBuilder.jsx';\r\nimport ElectoralCollegeSimulator from '../../tools/ElectoralCollegeSimulator.jsx';\r\n\r\nfunction AppHeader({\r\n  currentUser,\r\n  onLogout,\r\n  onShowHome,\r\n  onShowProfile,\r\n  onShowSettings,\r\n  onShowQuizzes,\r\n  onShowProgress,\r\n  activePanel,\r\n  theme,\r\n  onToggleTheme,\r\n}) {\r\n  const displayName = currentUser?.name || currentUser?.email || 'Learner';\r\n  const initial = displayName\r\n    ? displayName.trim().charAt(0).toUpperCase()\r\n    : 'U';\r\n  const isProfileActive = activePanel === 'profile';\r\n  const isSettingsActive = activePanel === 'settings';\r\n  const isDark = theme === 'dark';\r\n  const toggleButtonStyle = isDark\r\n    ? undefined\r\n    : {\r\n        background: '#ffffff',\r\n        color: '#0f172a',\r\n        borderColor: 'rgba(15,23,42,0.18)',\r\n        boxShadow: '0 12px 20px -14px rgba(15,23,42,0.25)',\r\n      };\r\n\r\n  return (\r\n    <header className=\"app-header fixed top-0 left-0 right-0 z-40 backdrop-blur-md border-b shadow-sm\">\r\n      <div className=\"max-w-6xl mx-auto flex items-center gap-4 justify-between px-4 sm:px-6 py-3\">\r\n        <div className=\"flex items-center gap-3\">\r\n          <button\r\n            type=\"button\"\r\n            onClick={onShowHome}\r\n            className=\"text-left text-base sm:text-lg font-semibold text-primary focus:outline-none focus-visible:ring-2 focus-visible:ring-sky-500 focus-visible:ring-offset-2 focus-visible:ring-offset-white dark:focus-visible:ring-offset-slate-900 rounded-lg px-2\"\r\n          >\r\n            Mr. Smith's Learning Canvas\r\n          </button>\r\n          <nav className=\"hidden md:flex items-center gap-4\">\r\n            <button\r\n              onClick={onShowHome}\r\n              className=\"nav-link flex items-center\"\r\n              type=\"button\"\r\n            >\r\n              <img\r\n                src=\"/icons/chart-pie-svgrepo-com.svg\"\r\n                alt=\"\"\r\n                className=\"w-4 h-4\"\r\n                style={{\r\n                  filter:\r\n                    'brightness(0) saturate(100%) invert(45%) sepia(6%) saturate(545%) hue-rotate(177deg) brightness(92%) contrast(89%)',\r\n                }}\r\n              />\r\n              Dashboard\r\n            </button>\r\n            <button\r\n              onClick={onShowQuizzes}\r\n              className=\"nav-link\"\r\n              type=\"button\"\r\n              aria-controls=\"quizzes\"\r\n            >\r\n              Quizzes\r\n            </button>\r\n            <button\r\n              onClick={onShowProgress}\r\n              className=\"nav-link\"\r\n              type=\"button\"\r\n              aria-controls=\"progress\"\r\n            >\r\n              Progress\r\n            </button>\r\n          </nav>\r\n        </div>\r\n        <div className=\"flex items-center gap-4\">\r\n          <button\r\n            type=\"button\"\r\n            onClick={onToggleTheme}\r\n            aria-label=\"Toggle color mode\"\r\n            aria-pressed={isDark}\r\n            className=\"relative inline-flex h-10 w-10 items-center justify-center rounded-full border border-subtle shadow-sm transition hover:opacity-95 focus-ring-primary text-secondary\"\r\n            style={toggleButtonStyle}\r\n          >\r\n            <img\r\n              src={\r\n                isDark\r\n                  ? '/icons/moon-svgrepo-com.svg'\r\n                  : '/icons/sun-svgrepo-com.svg'\r\n              }\r\n              alt={isDark ? 'Dark mode' : 'Light mode'}\r\n              className=\"h-5 w-5\"\r\n              style={{\r\n                filter: isDark\r\n                  ? 'brightness(0) saturate(100%) invert(100%)'\r\n                  : 'brightness(0) saturate(100%) invert(45%) sepia(90%) saturate(2000%) hue-rotate(10deg)',\r\n              }}\r\n            />\r\n          </button>\r\n          {currentUser && (\r\n            <div className=\"flex items-center gap-4\">\r\n              <div className=\"flex items-center gap-2\">\r\n                {currentUser.picture ? (\r\n                  <img\r\n                    src={currentUser.picture}\r\n                    alt=\"User avatar\"\r\n                    className=\"w-9 h-9 rounded-full object-cover shadow\"\r\n                  />\r\n                ) : (\r\n                  <div className=\"w-9 h-9 rounded-full bg-info text-white flex items-center justify-center font-semibold shadow\">\r\n                    {initial}\r\n                  </div>\r\n                )}\r\n                <div className=\"flex flex-col leading-tight\">\r\n                  <span className=\"text-xs uppercase tracking-wide text-secondary\">\r\n                    Welcome\r\n                  </span>\r\n                  <span className=\"text-sm font-semibold text-primary truncate max-w-[10rem]\">\r\n                    {currentUser.name || 'Learner'}\r\n                  </span>\r\n                </div>\r\n              </div>\r\n              <div className=\"flex items-center gap-2\">\r\n                <button\r\n                  type=\"button\"\r\n                  id=\"btnProfile\"\r\n                  onClick={onShowProfile}\r\n                  className={`btn-ghost ${\r\n                    isProfileActive ? 'nav-link-active' : ''\r\n                  }`}\r\n                  aria-controls=\"profileView\"\r\n                  aria-expanded={isProfileActive}\r\n                >\r\n                  Profile\r\n                </button>\r\n                <button\r\n                  type=\"button\"\r\n                  id=\"btnSettings\"\r\n                  onClick={onShowSettings}\r\n                  className={`btn-ghost ${\r\n                    isSettingsActive ? 'nav-link-active' : ''\r\n                  }`}\r\n                  aria-controls=\"settingsView\"\r\n                  aria-expanded={isSettingsActive}\r\n                >\r\n                  Settings\r\n                </button>\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={onLogout}\r\n                  className=\"btn-ghost text-danger flex items-center gap-2\"\r\n                >\r\n                  <img\r\n                    src=\"/icons/house-svgrepo-com.svg\"\r\n                    alt=\"\"\r\n                    className=\"w-4 h-4\"\r\n                    style={{\r\n                      filter:\r\n                        'brightness(0) saturate(100%) invert(31%) sepia(84%) saturate(2787%) hue-rotate(336deg) brightness(94%) contrast(95%)',\r\n                    }}\r\n                  />\r\n                  Log Out\r\n                </button>\r\n              </div>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </header>\r\n  );\r\n}\r\n\r\nfunction NamePromptModal({ user, onSave, onDismiss }) {\r\n  const [firstName, setFirstName] = useState('');\r\n  const [lastName, setLastName] = useState('');\r\n\r\n  useEffect(() => {\r\n    if (user && user.name) {\r\n      const nameParts = user.name.split(' ');\r\n      setFirstName(nameParts[0] || '');\r\n      setLastName(nameParts.slice(1).join(' ') || '');\r\n    }\r\n  }, [user]);\r\n\r\n  const handleSave = async () => {\r\n    if (firstName.trim() && lastName.trim()) {\r\n      try {\r\n        await onSave(firstName.trim(), lastName.trim());\r\n      } catch (error) {\r\n        console.error('Failed to save name from modal:', error);\r\n        alert('Unable to save your name right now. Please try again.');\r\n      }\r\n    } else {\r\n      alert('Please enter both a first and last name.');\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className=\"fixed inset-0 z-50 flex h-full w-full items-center justify-center\"\r\n      role=\"dialog\"\r\n      aria-modal=\"true\"\r\n      style={{ backgroundColor: 'var(--modal-overlay)' }}\r\n    >\r\n      <div\r\n        className=\"relative w-11/12 max-w-md rounded-lg p-8 shadow-2xl\"\r\n        style={{\r\n          backgroundColor: 'var(--modal-surface)',\r\n          border: `1px solid var(--modal-border)`,\r\n        }}\r\n      >\r\n        {onDismiss && (\r\n          <button\r\n            type=\"button\"\r\n            onClick={onDismiss}\r\n            className=\"absolute right-4 top-4 rounded-full focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 text-slate-700 dark:text-slate-300 hover:text-slate-900 dark:hover:text-slate-100\"\r\n            aria-label=\"Close name prompt\"\r\n          >\r\n            <svg\r\n              xmlns=\"http://www.w3.org/2000/svg\"\r\n              viewBox=\"0 0 20 20\"\r\n              fill=\"currentColor\"\r\n              className=\"w-5 h-5\"\r\n            >\r\n              <path\r\n                fillRule=\"evenodd\"\r\n                d=\"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z\"\r\n                clipRule=\"evenodd\"\r\n              />\r\n            </svg>\r\n          </button>\r\n        )}\r\n        <h2 className=\"mb-4 text-2xl font-bold text-slate-900 dark:text-slate-100\">\r\n          Welcome! Let's set up your name.\r\n        </h2>\r\n        <p className=\"mb-6 text-slate-900 dark:text-slate-300\">\r\n          Please confirm your name below. This will be used to personalize your\r\n          experience.\r\n        </p>\r\n        <div className=\"space-y-4\">\r\n          <div>\r\n            <label\r\n              htmlFor=\"firstName\"\r\n              className=\"block text-sm font-medium text-slate-900 dark:text-slate-300\"\r\n            >\r\n              First Name\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"firstName\"\r\n              value={firstName}\r\n              onChange={(e) => setFirstName(e.target.value)}\r\n              className=\"mt-1 block w-full rounded-md px-3 py-2 shadow-sm focus:outline-none bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 text-slate-900 dark:text-slate-100\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <label\r\n              htmlFor=\"lastName\"\r\n              className=\"block text-sm font-medium text-slate-900 dark:text-slate-300\"\r\n            >\r\n              Last Name\r\n            </label>\r\n            <input\r\n              type=\"text\"\r\n              id=\"lastName\"\r\n              value={lastName}\r\n              onChange={(e) => setLastName(e.target.value)}\r\n              className=\"mt-1 block w-full rounded-md px-3 py-2 shadow-sm focus:outline-none bg-white dark:bg-slate-800 border border-slate-300 dark:border-slate-600 text-slate-900 dark:text-slate-100\"\r\n            />\r\n          </div>\r\n        </div>\r\n        <div className=\"mt-8 space-y-3\">\r\n          <button\r\n            onClick={handleSave}\r\n            className=\"w-full rounded-lg px-6 py-3 font-bold transition\"\r\n            data-role=\"primary\"\r\n            style={{\r\n              backgroundColor: 'var(--accent)',\r\n              color: 'var(--accent-text)',\r\n              borderColor: 'var(--accent)',\r\n            }}\r\n          >\r\n            Save Name\r\n          </button>\r\n          {onDismiss && (\r\n            <button\r\n              type=\"button\"\r\n              onClick={onDismiss}\r\n              className=\"w-full rounded-lg px-6 py-3 font-semibold transition border border-slate-300 dark:border-slate-600 text-slate-700 dark:text-slate-300 hover:bg-slate-50 dark:hover:bg-slate-800\"\r\n              data-role=\"secondary\"\r\n            >\r\n              Skip for now\r\n            </button>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction PracticeSessionModal({\r\n  defaultMode = 'balanced',\r\n  defaultDuration = 10,\r\n  onStart,\r\n  onDismiss,\r\n}) {\r\n  const [mode, setMode] = React.useState(defaultMode);\r\n  const [duration, setDuration] = React.useState(defaultDuration);\r\n  const [submitting, setSubmitting] = React.useState(false);\r\n  const [error, setError] = React.useState('');\r\n\r\n  const handleSubmit = async () => {\r\n    if (submitting) return;\r\n    setError('');\r\n    setSubmitting(true);\r\n    try {\r\n      await onStart({ mode, durationMinutes: Number(duration) });\r\n    } catch (e) {\r\n      const msg =\r\n        e && e.message ? e.message : 'Failed to start practice session.';\r\n      setError(msg);\r\n    } finally {\r\n      setSubmitting(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div\r\n      role=\"dialog\"\r\n      aria-modal=\"true\"\r\n      className=\"fixed inset-0 z-[70] flex items-center justify-center p-4\"\r\n      style={{ backgroundColor: 'var(--modal-overlay)' }}\r\n    >\r\n      <div\r\n        className=\"w-full max-w-md rounded-2xl p-6 shadow-2xl border\"\r\n        style={{\r\n          backgroundColor: 'var(--modal-surface)',\r\n          color: 'var(--modal-text)',\r\n          border: `1px solid var(--modal-border)`,\r\n        }}\r\n      >\r\n        <h2\r\n          className=\"text-xl font-bold mb-4\"\r\n          style={{ color: 'var(--text-primary)' }}\r\n        >\r\n          Start a Practice Session\r\n        </h2>\r\n        <div className=\"space-y-4\">\r\n          <div>\r\n            <label\r\n              className=\"block text-sm font-medium mb-1\"\r\n              style={{ color: 'var(--text-primary)' }}\r\n            >\r\n              Duration\r\n            </label>\r\n            <select\r\n              className=\"w-full rounded-md border px-3 py-2 bg-white text-slate-900\"\r\n              style={{ borderColor: 'var(--modal-border)' }}\r\n              value={duration}\r\n              onChange={(e) => setDuration(parseInt(e.target.value, 10))}\r\n              disabled={submitting}\r\n            >\r\n              {[10, 20, 30, 40, 50, 60].map((m) => (\r\n                <option key={m} value={m}>\r\n                  {m} minutes\r\n                </option>\r\n              ))}\r\n            </select>\r\n          </div>\r\n          <div>\r\n            <label\r\n              className=\"block text-sm font-medium mb-1\"\r\n              style={{ color: 'var(--text-primary)' }}\r\n            >\r\n              Mode\r\n            </label>\r\n            <select\r\n              className=\"w-full rounded-md border px-3 py-2 bg-white text-slate-900\"\r\n              style={{ borderColor: 'var(--modal-border)' }}\r\n              value={mode}\r\n              onChange={(e) => setMode(e.target.value)}\r\n              disabled={submitting}\r\n            >\r\n              <option value=\"balanced\">Balanced (Mixed Subjects)</option>\r\n              <option value=\"math\">Math Only</option>\r\n              <option value=\"rla\">RLA Only</option>\r\n              <option value=\"science\">Science Only</option>\r\n              <option value=\"social-studies\">Social Studies Only</option>\r\n            </select>\r\n          </div>\r\n          {error && <p className=\"text-sm text-danger\">{error}</p>}\r\n        </div>\r\n        <div className=\"mt-6 flex items-center justify-end gap-3\">\r\n          <button\r\n            type=\"button\"\r\n            onClick={onDismiss}\r\n            className=\"px-4 py-2 rounded-md border\"\r\n            style={{\r\n              borderColor: 'var(--modal-border)',\r\n              color: 'var(--text-primary)',\r\n            }}\r\n            disabled={submitting}\r\n          >\r\n            Cancel\r\n          </button>\r\n          <button\r\n            type=\"button\"\r\n            onClick={handleSubmit}\r\n            className={`px-4 py-2 rounded-md font-semibold ${\r\n              submitting ? 'opacity-70' : ''\r\n            }`}\r\n            style={{ backgroundColor: '#2563eb', color: 'white' }}\r\n            disabled={submitting}\r\n          >\r\n            {submitting ? 'Starting' : 'Start'}\r\n          </button>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// --- Main App Component ---\r\n// TypewriterText Component for Coach Smith Effect\r\nconst TypewriterText = ({ text, speed = 20 }) => {\r\n  const [displayedText, setDisplayedText] = useState('');\r\n  const [currentIndex, setCurrentIndex] = useState(0);\r\n\r\n  useEffect(() => {\r\n    if (!text) {\r\n      setDisplayedText('');\r\n      setCurrentIndex(0);\r\n      return;\r\n    }\r\n\r\n    if (currentIndex < text.length) {\r\n      const timeout = setTimeout(() => {\r\n        setDisplayedText((prev) => prev + text[currentIndex]);\r\n        setCurrentIndex((prev) => prev + 1);\r\n      }, speed);\r\n      return () => clearTimeout(timeout);\r\n    }\r\n  }, [text, currentIndex, speed]);\r\n\r\n  useEffect(() => {\r\n    setDisplayedText('');\r\n    setCurrentIndex(0);\r\n  }, [text]);\r\n\r\n  return <span>{displayedText}</span>;\r\n};\r\n\r\nfunction App({ externalTheme, onThemeChange }) {\r\n  const SMITHING_PROMPTS = [\r\n    'Heating the forge...',\r\n    'The smith is at the anvil...',\r\n    'Hammering out the questions...',\r\n    'Shaping the perfect practice test...',\r\n    'Quenching the final details...',\r\n    'Smithing your exam now...',\r\n  ];\r\n  const [view, setView] = useState('start');\r\n  const [activeQuiz, setActiveQuiz] = useState(null);\r\n  const [quizResults, setQuizResults] = useState(null);\r\n  const [activeGenerator, setActiveGenerator] = useState(null);\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [loadingMessage, setLoadingMessage] = useState('');\r\n  const [revolvingPrompt, setRevolvingPrompt] = useState('');\r\n  const [currentUser, setCurrentUser] = useState(null);\r\n  // Global navigation state for top-level views\r\n  const [activeView, setActiveView] = useState('dashboard'); // 'dashboard' | 'quizzes' | 'progress' | 'profile' | 'settings'\r\n  // Lifted subject/category selection (was local to StartScreen) so navigation history can restore them\r\n  const [selectedSubject, setSelectedSubject] = useState(null);\r\n  const [selectedCategory, setSelectedCategory] = useState(null);\r\n  // Simple stack of prior navigation states for Back behavior\r\n  const [navHistory, setNavHistory] = useState([]);\r\n  // Track how many browser history entries we've pushed (for correct Back behavior)\r\n  const browserDepthRef = useRef(0);\r\n  const [authToken, setAuthToken] = useState(() => {\r\n    if (typeof window === 'undefined') {\r\n      return null;\r\n    }\r\n    try {\r\n      return window.localStorage\r\n        ? window.localStorage.getItem('appToken')\r\n        : null;\r\n    } catch (error) {\r\n      console.warn('Unable to restore stored auth token:', error);\r\n      return null;\r\n    }\r\n  });\r\n  const currentUserRef = useRef(null);\r\n  const [progress, setProgress] = useState(() => createEmptyProgress());\r\n  const [quizAttempts, setQuizAttempts] = useState([]);\r\n  const [showFormulaSheet, setShowFormulaSheet] = useState(false);\r\n  const [showToolsModal, setShowToolsModal] = useState(false);\r\n  const [showSocialToolsModal, setShowSocialToolsModal] = useState(false);\r\n  const [toolsModalSubject, setToolsModalSubject] = useState(null);\r\n  const [showNamePrompt, setShowNamePrompt] = useState(false);\r\n  const [showPracticeModal, setShowPracticeModal] = useState(false);\r\n  const [mathToolsActiveTab, setMathToolsActiveTab] = useState('graphing');\r\n  const [vocabulary, setVocabulary] = useState(FALLBACK_VOCABULARY);\r\n  const [showWelcomeSplash, setShowWelcomeSplash] = useState(false);\r\n  const [welcomeName, setWelcomeName] = useState('');\r\n  const [welcomeFading, setWelcomeFading] = useState(false);\r\n  const welcomeTimeoutRef = useRef(null);\r\n  const welcomeFadeTimeoutRef = useRef(null);\r\n  const presenceIntervalRef = useRef(null);\r\n  const lastAttemptsFetchRef = useRef(0);\r\n  const pendingAttemptsFetchRef = useRef(null);\r\n  const [pendingScrollTarget, setPendingScrollTarget] = useState(null);\r\n  // Browser history sync: ensure Back button returns to the previous app state (e.g., dashboard from quiz)\r\n  const suppressPushRef = useRef(false); // when true, skip pushing a new state (used during popstate-driven restores)\r\n  const didInitHistoryRef = useRef(false); // avoid pushing an entry on first render\r\n\r\n  // Initialize history state on mount and handle browser back/forward\r\n  useEffect(() => {\r\n    if (\r\n      typeof window === 'undefined' ||\r\n      !window.history ||\r\n      typeof window.history.replaceState !== 'function'\r\n    ) {\r\n      return undefined;\r\n    }\r\n    const initialSnapshot = {\r\n      appNav: true,\r\n      activeView,\r\n      view,\r\n      selectedSubject,\r\n      selectedCategory,\r\n    };\r\n    try {\r\n      window.history.replaceState(initialSnapshot, '');\r\n    } catch (e) {\r\n      // noop\r\n    }\r\n    browserDepthRef.current = 0;\r\n\r\n    const onPopState = (event) => {\r\n      const s = event && event.state ? event.state : null;\r\n      // Only handle states we created\r\n      if (s && s.appNav) {\r\n        suppressPushRef.current = true;\r\n        setActiveView(s.activeView || 'dashboard');\r\n        setView(s.view || 'start');\r\n        setSelectedSubject(\r\n          Object.prototype.hasOwnProperty.call(s, 'selectedSubject')\r\n            ? s.selectedSubject\r\n            : null\r\n        );\r\n        setSelectedCategory(\r\n          Object.prototype.hasOwnProperty.call(s, 'selectedCategory')\r\n            ? s.selectedCategory\r\n            : null\r\n        );\r\n        // Clear quiz context when leaving quiz/results views\r\n        if (s.view !== 'quiz' && s.view !== 'results') {\r\n          setActiveQuiz(null);\r\n          setQuizResults(null);\r\n        }\r\n      } else {\r\n        // If there's no app state, default back to dashboard\r\n        suppressPushRef.current = true;\r\n        setActiveView('dashboard');\r\n        setView('start');\r\n        setSelectedSubject(null);\r\n        setSelectedCategory(null);\r\n        setActiveQuiz(null);\r\n        setQuizResults(null);\r\n        browserDepthRef.current = 0;\r\n      }\r\n    };\r\n\r\n    window.addEventListener('popstate', onPopState);\r\n    return () => window.removeEventListener('popstate', onPopState);\r\n  }, []);\r\n\r\n  // Listen for quiz data loaded event and re-hydrate catalog\r\n  useEffect(() => {\r\n    const handleQuizDataLoaded = () => {\r\n      console.log(\r\n        '[app] Quiz data loaded event received, re-hydrating catalog...'\r\n      );\r\n\r\n      // Use the globally exported hydration function\r\n      if (typeof window.hydratePremadeCatalogFromWindow === 'function') {\r\n        window.hydratePremadeCatalogFromWindow();\r\n      }\r\n\r\n      // Also call initPremades if it exists\r\n      if (typeof window.initPremades === 'function') {\r\n        window.initPremades(window.AppData || window.ExpandedQuizData);\r\n      }\r\n\r\n      // Force progress to recalculate by creating new empty progress\r\n      // This will pick up the updated catalog totals\r\n      setProgress((prev) => {\r\n        const newProgress = createEmptyProgress();\r\n        // Preserve attempt data\r\n        Object.keys(prev).forEach((subject) => {\r\n          if (newProgress[subject] && prev[subject]) {\r\n            newProgress[subject] = {\r\n              ...newProgress[subject],\r\n              ...prev[subject],\r\n            };\r\n          }\r\n        });\r\n        console.log('[app] Progress updated with new catalog totals');\r\n        return newProgress;\r\n      });\r\n    };\r\n\r\n    window.addEventListener('quizDataLoaded', handleQuizDataLoaded);\r\n\r\n    // Also try hydration on mount in case data loaded before component\r\n    if (window.AppData && Object.keys(window.AppData).length > 0) {\r\n      console.log('[app] Quiz data already present, hydrating immediately');\r\n      handleQuizDataLoaded();\r\n    }\r\n\r\n    return () =>\r\n      window.removeEventListener('quizDataLoaded', handleQuizDataLoaded);\r\n  }, []);\r\n\r\n  // Push a new browser history entry whenever our top-level navigation state changes (unless restoring)\r\n  useEffect(() => {\r\n    if (\r\n      typeof window === 'undefined' ||\r\n      !window.history ||\r\n      typeof window.history.pushState !== 'function'\r\n    ) {\r\n      return;\r\n    }\r\n    if (!didInitHistoryRef.current) {\r\n      didInitHistoryRef.current = true;\r\n      return;\r\n    }\r\n    if (suppressPushRef.current) {\r\n      suppressPushRef.current = false;\r\n      return;\r\n    }\r\n    const snapshot = {\r\n      appNav: true,\r\n      activeView,\r\n      view,\r\n      selectedSubject,\r\n      selectedCategory,\r\n    };\r\n    try {\r\n      // Keep URL stable; we only care about the state object for back/forward\r\n      window.history.pushState(snapshot, '');\r\n      browserDepthRef.current += 1;\r\n    } catch (e) {\r\n      // noop\r\n    }\r\n  }, [activeView, view, selectedSubject, selectedCategory]);\r\n\r\n  useEffect(() => {\r\n    currentUserRef.current = currentUser;\r\n  }, [currentUser]);\r\n\r\n  const sendPresencePing = useCallback(async () => {\r\n    try {\r\n      await fetch(`${API_BASE_URL}/presence/ping`, {\r\n        method: 'POST',\r\n        credentials: 'include',\r\n        headers: { 'Content-Type': 'application/json' },\r\n      });\r\n    } catch (err) {\r\n      console.warn('presence ping failed:', err);\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (typeof window === 'undefined') {\r\n      return undefined;\r\n    }\r\n\r\n    if (!currentUser) {\r\n      if (presenceIntervalRef.current) {\r\n        clearInterval(presenceIntervalRef.current);\r\n        presenceIntervalRef.current = null;\r\n      }\r\n      return undefined;\r\n    }\r\n\r\n    const handleBeforeUnload = () => {\r\n      if (presenceIntervalRef.current) {\r\n        clearInterval(presenceIntervalRef.current);\r\n        presenceIntervalRef.current = null;\r\n      }\r\n\r\n      if (typeof navigator !== 'undefined' && navigator.sendBeacon) {\r\n        try {\r\n          const blob = new Blob([], { type: 'application/json' });\r\n          navigator.sendBeacon(`${API_BASE_URL}/presence/ping`, blob);\r\n        } catch (err) {\r\n          console.warn('presence beacon failed:', err);\r\n        }\r\n      } else {\r\n        sendPresencePing();\r\n      }\r\n    };\r\n\r\n    sendPresencePing();\r\n\r\n    presenceIntervalRef.current = window.setInterval(sendPresencePing, 60000);\r\n\r\n    window.addEventListener('beforeunload', handleBeforeUnload);\r\n\r\n    return () => {\r\n      window.removeEventListener('beforeunload', handleBeforeUnload);\r\n      if (presenceIntervalRef.current) {\r\n        clearInterval(presenceIntervalRef.current);\r\n        presenceIntervalRef.current = null;\r\n      }\r\n    };\r\n  }, [currentUser, sendPresencePing]);\r\n\r\n  useEffect(() => {\r\n    let isMounted = true;\r\n    (async () => {\r\n      try {\r\n        let data = null;\r\n        // Fetch from API endpoint\r\n        try {\r\n          const response = await fetch('/api/vocabulary/all', {\r\n            cache: 'no-store',\r\n          });\r\n          if (response.ok) {\r\n            data = await response.json();\r\n          }\r\n        } catch (apiErr) {\r\n          console.warn('Unable to load from API:', apiErr?.message || apiErr);\r\n        }\r\n\r\n        if (!isMounted) return;\r\n        // Merge fetched data with fallback (fetched data takes priority)\r\n        setVocabulary(mergeVocabularyData(FALLBACK_VOCABULARY, data || {}));\r\n      } catch (err) {\r\n        console.warn('Unable to load vocabulary data:', err);\r\n        // Use fallback if everything fails\r\n        if (isMounted) {\r\n          setVocabulary(FALLBACK_VOCABULARY);\r\n        }\r\n      }\r\n    })();\r\n    return () => {\r\n      isMounted = false;\r\n    };\r\n  }, []);\r\n  const [mathToolsInitialized, setMathToolsInitialized] = useState(false);\r\n\r\n  useEffect(() => {\r\n    return () => {\r\n      if (welcomeTimeoutRef.current) {\r\n        clearTimeout(welcomeTimeoutRef.current);\r\n      }\r\n      if (welcomeFadeTimeoutRef.current) {\r\n        clearTimeout(welcomeFadeTimeoutRef.current);\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  const hasLocalPrefsRef = useRef(false);\r\n  const pendingThemeSyncRef = useRef(null);\r\n  const [preferences, setPreferences] = useState(() => {\r\n    const resolveInitialTheme = (baseTheme) => {\r\n      if (VALID_THEMES.has(externalTheme)) {\r\n        return externalTheme;\r\n      }\r\n      return baseTheme;\r\n    };\r\n    if (typeof window === 'undefined') {\r\n      return {\r\n        ...DEFAULT_PREFERENCES,\r\n        theme: resolveInitialTheme(DEFAULT_PREFERENCES.theme),\r\n      };\r\n    }\r\n    try {\r\n      const stored = window.localStorage.getItem('prefs');\r\n      if (stored) {\r\n        const parsed = JSON.parse(stored);\r\n        hasLocalPrefsRef.current = true;\r\n        const normalized = normalizePreferences(parsed);\r\n        return { ...normalized, theme: resolveInitialTheme(normalized.theme) };\r\n      }\r\n    } catch (error) {\r\n      console.warn('Failed to restore saved preferences:', error);\r\n    }\r\n    const prefersDark =\r\n      typeof window.matchMedia === 'function'\r\n        ? window.matchMedia('(prefers-color-scheme: dark)').matches\r\n        : false;\r\n    if (prefersDark) {\r\n      const normalized = normalizePreferences({\r\n        ...DEFAULT_PREFERENCES,\r\n        theme: 'dark',\r\n      });\r\n      return { ...normalized, theme: resolveInitialTheme(normalized.theme) };\r\n    }\r\n    return {\r\n      ...DEFAULT_PREFERENCES,\r\n      theme: resolveInitialTheme(DEFAULT_PREFERENCES.theme),\r\n    };\r\n  });\r\n\r\n  // Keep the document/root theme in sync with preference changes so the Tailwind\r\n  // `dark:` classes stop applying when the user selects light mode.\r\n  useEffect(() => {\r\n    if (typeof onThemeChange === 'function') {\r\n      const nextTheme = preferences.theme === 'dark' ? 'dark' : 'light';\r\n      onThemeChange(nextTheme);\r\n    }\r\n  }, [onThemeChange, preferences.theme]);\r\n  const [localProfile, setLocalProfile] = useState(() => {\r\n    if (typeof window === 'undefined') {\r\n      return cloneDefaultLocalProfile();\r\n    }\r\n    try {\r\n      const saved = window.localStorage.getItem('ged_local_profile');\r\n      if (saved) {\r\n        const parsed = JSON.parse(saved);\r\n        return {\r\n          ...cloneDefaultLocalProfile(),\r\n          ...parsed,\r\n          profile: {\r\n            ...DEFAULT_LOCAL_PROFILE.profile,\r\n            ...(parsed.profile || {}),\r\n          },\r\n          testPlan: Array.isArray(parsed.testPlan)\r\n            ? parsed.testPlan.map((row) => ({\r\n                subject: row?.subject || '',\r\n                testDate: row?.testDate || '',\r\n                testLocation: row?.testLocation || '',\r\n                passed: !!row?.passed,\r\n                notScheduled: !!row?.notScheduled,\r\n              }))\r\n            : DEFAULT_LOCAL_PROFILE.testPlan.map((row) => ({ ...row })),\r\n          challengeOptions: Array.isArray(parsed.challengeOptions)\r\n            ? parsed.challengeOptions.map((opt, index) => ({\r\n                ...opt,\r\n                id: opt?.id ?? `${opt?.subject || 'challenge'}-${index}`,\r\n                selected: !!opt?.selected,\r\n              }))\r\n            : DEFAULT_LOCAL_PROFILE.challengeOptions.map((opt) => ({ ...opt })),\r\n          recentScoresDashboard:\r\n            parsed.recentScoresDashboard &&\r\n            typeof parsed.recentScoresDashboard === 'object'\r\n              ? parsed.recentScoresDashboard\r\n              : {},\r\n          scores:\r\n            parsed.scores && typeof parsed.scores === 'object'\r\n              ? parsed.scores\r\n              : {},\r\n        };\r\n      }\r\n    } catch (error) {\r\n      console.warn('Failed to restore local profile:', error);\r\n    }\r\n    return cloneDefaultLocalProfile();\r\n  });\r\n  const [profileLoading, setProfileLoading] = useState(false);\r\n  const [profileError, setProfileError] = useState(null);\r\n  const [subjectEdits, setSubjectEdits] = useState(() =>\r\n    buildSubjectEditsFromPlan(DEFAULT_LOCAL_PROFILE.testPlan)\r\n  );\r\n  const [nameDraft, setNameDraft] = useState('');\r\n  const [nameStatus, setNameStatus] = useState('');\r\n  const [nameSaving, setNameSaving] = useState(false);\r\n  const [selectedIcon, setSelectedIcon] = useState(\r\n    '/icons/student-svgrepo-com.svg'\r\n  );\r\n  const [iconSaving, setIconSaving] = useState(false);\r\n  const [settingsStatus, setSettingsStatus] = useState('');\r\n  const [settingsSaving, setSettingsSaving] = useState(false);\r\n  const [onboardingComplete, setOnboardingComplete] = useState(\r\n    () => !!DEFAULT_LOCAL_PROFILE.profile.onboardingComplete\r\n  );\r\n  const [testSaving, setTestSaving] = useState(null);\r\n  const [challengesSaving, setChallengesSaving] = useState(false);\r\n  const [finishingOnboarding, setFinishingOnboarding] = useState(false);\r\n  const [savingAll, setSavingAll] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (typeof window === 'undefined') {\r\n      return;\r\n    }\r\n    try {\r\n      window.localStorage.setItem(\r\n        'ged_local_profile',\r\n        JSON.stringify(localProfile)\r\n      );\r\n    } catch (error) {\r\n      console.warn('Unable to persist local profile:', error);\r\n    }\r\n  }, [localProfile]);\r\n\r\n  useEffect(() => {\r\n    setSubjectEdits(buildSubjectEditsFromPlan(localProfile?.testPlan));\r\n  }, [localProfile?.testPlan]);\r\n\r\n  useEffect(() => {\r\n    setNameDraft(localProfile?.profile?.name || '');\r\n  }, [localProfile?.profile?.name]);\r\n\r\n  useEffect(() => {\r\n    const status = localProfile?.profile?.onboardingStatus;\r\n    const legacyFlag = !!localProfile?.profile?.onboardingComplete;\r\n    const flag = status === 'complete' || legacyFlag;\r\n    setOnboardingComplete(flag);\r\n    if (typeof window !== 'undefined') {\r\n      window._onboardingComplete = flag;\r\n    }\r\n  }, [\r\n    localProfile?.profile?.onboardingStatus,\r\n    localProfile?.profile?.onboardingComplete,\r\n  ]);\r\n\r\n  const profileData = localProfile;\r\n  // Normalize a single-profile test date if provided by backend/frontend\r\n  const profileTestDate =\r\n    profileData?.profile?.test_date ||\r\n    profileData?.profile?.exam_date ||\r\n    profileData?.profile?.testDate ||\r\n    null;\r\n\r\n  useEffect(() => {\r\n    if (typeof document === 'undefined') {\r\n      return;\r\n    }\r\n    const root = document.documentElement;\r\n    const sizeClasses = ['fs-sm', 'fs-md', 'fs-lg', 'fs-xl'];\r\n    sizeClasses.forEach((cls) => root.classList.remove(cls));\r\n    root.classList.add(`fs-${preferences.fontSize}`);\r\n    try {\r\n      window.localStorage.setItem(\r\n        'prefs',\r\n        JSON.stringify({\r\n          fontSize: preferences.fontSize,\r\n          theme: preferences.theme,\r\n        })\r\n      );\r\n    } catch (error) {\r\n      console.warn('Unable to persist preferences locally:', error);\r\n    }\r\n  }, [preferences.fontSize, preferences.theme]);\r\n\r\n  const openMathTools = useCallback(\r\n    (tab = 'graphing') => {\r\n      setMathToolsActiveTab(tab);\r\n      setMathToolsInitialized(true);\r\n      setView('mathTools');\r\n    },\r\n    [setView]\r\n  );\r\n\r\n  const handleSaveAllProfile = useCallback(async () => {\r\n    const token =\r\n      authToken ||\r\n      (typeof window !== 'undefined' && window.localStorage\r\n        ? window.localStorage.getItem('appToken')\r\n        : null);\r\n    if (!token) {\r\n      alert('You must be signed in to save your profile.');\r\n      return;\r\n    }\r\n\r\n    // Compose testPlan from subjectEdits, but only include rows with some data set\r\n    const testPlanPayload = Object.entries(subjectEdits || {})\r\n      .map(([subject, fields]) => ({ subject, ...(fields || {}) }))\r\n      .filter(\r\n        (row) =>\r\n          row &&\r\n          row.subject &&\r\n          (row.passed ||\r\n            row.notScheduled ||\r\n            (row.testDate && row.testDate.trim() !== '') ||\r\n            (row.testLocation && row.testLocation.trim() !== ''))\r\n      )\r\n      .map((row) => ({\r\n        subject: row.subject,\r\n        testDate: typeof row.testDate === 'string' ? row.testDate.trim() : '',\r\n        testLocation:\r\n          typeof row.testLocation === 'string' ? row.testLocation.trim() : '',\r\n        passed: !!row.passed,\r\n        notScheduled: !!row.notScheduled,\r\n      }));\r\n\r\n    const selectedIds = Array.isArray(localProfile?.challengeOptions)\r\n      ? localProfile.challengeOptions\r\n          .filter((c) => c && c.selected && c.id)\r\n          .map((c) => c.id)\r\n      : [];\r\n\r\n    const payload = {\r\n      // Only include name if non-empty\r\n      ...(nameDraft && nameDraft.trim() ? { name: nameDraft.trim() } : {}),\r\n      preferences: { fontSize: preferences.fontSize, theme: preferences.theme },\r\n      ...(testPlanPayload.length ? { testPlan: testPlanPayload } : {}),\r\n      challenges: { selectedIds },\r\n    };\r\n\r\n    setSavingAll(true);\r\n    try {\r\n      const bundle = await fetchJSON(`${API_BASE_URL}/api/profile`, {\r\n        method: 'PUT',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n        body: JSON.stringify(payload),\r\n      });\r\n      if (bundle && typeof bundle === 'object') {\r\n        // Merge bundle into local state\r\n        const serverTestPlan = Array.isArray(bundle.testPlan)\r\n          ? bundle.testPlan.map((row) => ({\r\n              subject: row?.subject || '',\r\n              testDate: row?.testDate || '',\r\n              testLocation: row?.testLocation || '',\r\n              passed: !!row?.passed,\r\n              notScheduled: !!row?.notScheduled,\r\n            }))\r\n          : [];\r\n        const serverChallenges = Array.isArray(bundle.challengeOptions)\r\n          ? bundle.challengeOptions.map((opt, index) => ({\r\n              id: opt?.id ?? `${opt?.subject || 'challenge'}-${index}`,\r\n              subject: opt?.subject || '',\r\n              subtopic: opt?.subtopic || '',\r\n              label: opt?.label || '',\r\n              selected: !!opt?.selected,\r\n            }))\r\n          : [];\r\n        setLocalProfile((prev) => ({\r\n          ...prev,\r\n          profile: {\r\n            ...prev.profile,\r\n            name: bundle?.profile?.name ?? prev.profile.name,\r\n            onboardingComplete: !!bundle?.profile?.onboardingComplete,\r\n          },\r\n          testPlan: serverTestPlan.length\r\n            ? serverTestPlan\r\n            : prev.testPlan || [],\r\n          challengeOptions: serverChallenges.length\r\n            ? serverChallenges\r\n            : prev.challengeOptions || [],\r\n          recentScoresDashboard:\r\n            bundle?.recentScores && typeof bundle.recentScores === 'object'\r\n              ? bundle.recentScores\r\n              : prev.recentScoresDashboard || {},\r\n        }));\r\n        // Update UI name and prefs from saved\r\n        if (bundle?.profile?.name) {\r\n          setCurrentUser((prev) =>\r\n            prev ? { ...prev, name: bundle.profile.name } : prev\r\n          );\r\n          setNameDraft(bundle.profile.name);\r\n        }\r\n        const srvFont = bundle?.profile?.fontSize;\r\n        const srvTheme = bundle?.profile?.theme;\r\n        const prefUpdates = {};\r\n        if (srvFont && VALID_FONT_SIZES.has(srvFont))\r\n          prefUpdates.fontSize = srvFont;\r\n        if (srvTheme && VALID_THEMES.has(srvTheme))\r\n          prefUpdates.theme =\r\n            srvTheme === 'system' ? preferences.theme : srvTheme;\r\n        if (Object.keys(prefUpdates).length) {\r\n          setPreferences((prev) => ({ ...prev, ...prefUpdates }));\r\n        }\r\n        alert('Profile saved.');\r\n      }\r\n    } catch (err) {\r\n      console.error('Failed to save full profile:', err);\r\n      alert('Unable to save profile right now. Please try again.');\r\n    } finally {\r\n      setSavingAll(false);\r\n    }\r\n  }, [\r\n    authToken,\r\n    nameDraft,\r\n    preferences.fontSize,\r\n    preferences.theme,\r\n    subjectEdits,\r\n    localProfile?.challengeOptions,\r\n  ]);\r\n\r\n  // Unified navigation helper: push current state onto history then change view\r\n  const navigateTo = useCallback(\r\n    (nextActiveView, options = {}) => {\r\n      setNavHistory((prev) => [\r\n        ...prev,\r\n        {\r\n          activeView,\r\n          view,\r\n          selectedSubject,\r\n          selectedCategory,\r\n        },\r\n      ]);\r\n      if (options.scrollTarget) {\r\n        setPendingScrollTarget(options.scrollTarget);\r\n      }\r\n      setActiveView(nextActiveView);\r\n      setView('start');\r\n    },\r\n    [activeView, view, selectedSubject, selectedCategory]\r\n  );\r\n\r\n  // Hard jump: reset nav history and browser depth, replaceState, and go to top-level view\r\n  const hardJump = useCallback((nextActiveView, options = {}) => {\r\n    setNavHistory([]);\r\n    setActiveView(nextActiveView);\r\n    setView('start');\r\n    setSelectedSubject(null);\r\n    setSelectedCategory(null);\r\n    setActiveQuiz(null);\r\n    setQuizResults(null);\r\n    if (\r\n      typeof window !== 'undefined' &&\r\n      window.history &&\r\n      typeof window.history.replaceState === 'function'\r\n    ) {\r\n      const snapshot = {\r\n        appNav: true,\r\n        activeView: nextActiveView,\r\n        view: 'start',\r\n        selectedSubject: null,\r\n        selectedCategory: null,\r\n      };\r\n      try {\r\n        window.history.replaceState(snapshot, '');\r\n      } catch (e) {}\r\n    }\r\n    browserDepthRef.current = 0;\r\n    if (options.scrollTarget) {\r\n      setPendingScrollTarget(options.scrollTarget);\r\n    }\r\n  }, []);\r\n\r\n  // Back navigation: pop history and restore prior state; fallback to dashboard if empty\r\n  const goBack = useCallback(() => {\r\n    if (\r\n      browserDepthRef.current > 0 &&\r\n      typeof window !== 'undefined' &&\r\n      window.history &&\r\n      typeof window.history.back === 'function'\r\n    ) {\r\n      browserDepthRef.current -= 1;\r\n      window.history.back();\r\n      return;\r\n    }\r\n    setNavHistory((prev) => {\r\n      if (!prev.length) {\r\n        // Fallback: hard reset to dashboard\r\n        setActiveView('dashboard');\r\n        setView('start');\r\n        setSelectedSubject(null);\r\n        setSelectedCategory(null);\r\n        setActiveQuiz(null);\r\n        setQuizResults(null);\r\n        return prev;\r\n      }\r\n      const last = prev[prev.length - 1];\r\n      setActiveView(last.activeView || 'dashboard');\r\n      setView(last.view || 'start');\r\n      setSelectedSubject(\r\n        Object.prototype.hasOwnProperty.call(last, 'selectedSubject')\r\n          ? last.selectedSubject\r\n          : null\r\n      );\r\n      setSelectedCategory(\r\n        Object.prototype.hasOwnProperty.call(last, 'selectedCategory')\r\n          ? last.selectedCategory\r\n          : null\r\n      );\r\n      // Restore quiz context for quiz-like screens; otherwise clear it\r\n      if (\r\n        last.view === 'quiz' ||\r\n        last.view === 'results' ||\r\n        last.view === 'reading' ||\r\n        last.view === 'essay' ||\r\n        last.view === 'simulation'\r\n      ) {\r\n        setActiveQuiz(last.activeQuiz ?? null);\r\n        setQuizResults(last.quizResults ?? null);\r\n      } else {\r\n        setActiveQuiz(null);\r\n        setQuizResults(null);\r\n      }\r\n      return prev.slice(0, -1);\r\n    });\r\n  }, []);\r\n\r\n  // Helper: normalize nextUpcomingTest from server\r\n  const normalizeNextUpcoming = (raw) => {\r\n    if (!raw || typeof raw !== 'object') return null;\r\n    const subject = raw.subject || '';\r\n    const testDate = raw.testDate || '';\r\n    const daysUntil =\r\n      typeof raw.daysUntil === 'number' && Number.isFinite(raw.daysUntil)\r\n        ? raw.daysUntil\r\n        : null;\r\n    if (!subject || !testDate) return null;\r\n    return { subject, testDate, daysUntil };\r\n  };\r\n\r\n  const loadProfileOnce = useCallback(async () => {\r\n    setProfileLoading(true);\r\n    setProfileError(null);\r\n    const token =\r\n      (typeof window !== 'undefined' && window.localStorage\r\n        ? window.localStorage.getItem('appToken')\r\n        : null) ||\r\n      authToken ||\r\n      null;\r\n    if (!token) {\r\n      setProfileLoading(false);\r\n      return null;\r\n    }\r\n    try {\r\n      const bundle = await fetchJSON(`${API_BASE_URL}/api/profile/me`, {\r\n        headers: { Authorization: `Bearer ${token}` },\r\n      });\r\n      if (bundle && typeof bundle === 'object') {\r\n        // Apply server preferences to UI state (not stored inside localProfile)\r\n        const srvFont = bundle?.profile?.fontSize;\r\n        const srvTheme = bundle?.profile?.theme;\r\n        const prefUpdates = {};\r\n        if (srvFont && VALID_FONT_SIZES.has(srvFont))\r\n          prefUpdates.fontSize = srvFont;\r\n        if (srvTheme && VALID_THEMES.has(srvTheme) && srvTheme !== 'system') {\r\n          prefUpdates.theme = srvTheme;\r\n        }\r\n        if (Object.keys(prefUpdates).length) {\r\n          setPreferences((prev) => ({ ...prev, ...prefUpdates }));\r\n        }\r\n\r\n        // Normalize to localProfile shape\r\n        const coerceIso = (str) => {\r\n          if (!str || typeof str !== 'string') return '';\r\n          const s = str.trim();\r\n          // Accept YYYY-MM-DD\r\n          if (/^\\d{4}-\\d{2}-\\d{2}$/.test(s)) return s;\r\n          // Accept MM/DD/YYYY\r\n          const m = s.match(/^(\\d{1,2})\\/(\\d{1,2})\\/(\\d{4})$/);\r\n          if (m) {\r\n            const mm = String(m[1]).padStart(2, '0');\r\n            const dd = String(m[2]).padStart(2, '0');\r\n            const yyyy = m[3];\r\n            return `${yyyy}-${mm}-${dd}`;\r\n          }\r\n          return '';\r\n        };\r\n        const arrayFromPlan = (planArr) =>\r\n          Array.isArray(planArr)\r\n            ? planArr.map((row) => ({\r\n                subject: row?.subject || '',\r\n                testDate: coerceIso(row?.testDate || row?.date),\r\n                testLocation: row?.testLocation || row?.location || '',\r\n                passed: !!(row?.passed ?? row?.isPassed),\r\n                notScheduled: !!(row?.notScheduled ?? row?.not_scheduled),\r\n              }))\r\n            : [];\r\n        let serverTestPlan = arrayFromPlan(bundle.testPlan);\r\n        // Fallback: server might return profile.tests keyed by subject codes\r\n        if (\r\n          (!serverTestPlan || serverTestPlan.length === 0) &&\r\n          bundle?.profile &&\r\n          bundle.profile.tests &&\r\n          typeof bundle.profile.tests === 'object'\r\n        ) {\r\n          const tests = bundle.profile.tests;\r\n          const labelMap = {\r\n            math: 'Math',\r\n            rla: 'Reasoning Through Language Arts (RLA)',\r\n            science: 'Science',\r\n            social_studies: 'Social Studies',\r\n          };\r\n          serverTestPlan = Object.entries(tests).map(([key, val]) => ({\r\n            subject: labelMap[key] || key,\r\n            testDate: coerceIso(val?.testDate || val?.date),\r\n            testLocation: val?.testLocation || val?.location || '',\r\n            passed: !!(val?.passed ?? val?.isPassed),\r\n            notScheduled: !!(val?.notScheduled ?? val?.not_scheduled),\r\n          }));\r\n        }\r\n        const serverChallenges = Array.isArray(bundle.challengeOptions)\r\n          ? bundle.challengeOptions.map((opt, index) => ({\r\n              id: opt?.id ?? `${opt?.subject || 'challenge'}-${index}`,\r\n              subject: opt?.subject || '',\r\n              subtopic: opt?.subtopic || '',\r\n              label: opt?.label || '',\r\n              selected: !!opt?.selected,\r\n            }))\r\n          : [];\r\n        setLocalProfile((prev) => ({\r\n          ...prev,\r\n          profile: {\r\n            ...prev.profile,\r\n            name: bundle?.profile?.name || prev.profile.name || '',\r\n            timezone: bundle?.profile?.timezone || prev.profile.timezone,\r\n            reminderEnabled:\r\n              typeof bundle?.profile?.reminderEnabled === 'boolean'\r\n                ? bundle.profile.reminderEnabled\r\n                : prev.profile.reminderEnabled,\r\n            onboardingComplete: !!bundle?.profile?.onboardingComplete,\r\n          },\r\n          testPlan: serverTestPlan,\r\n          nextUpcomingTest: normalizeNextUpcoming(bundle?.nextUpcomingTest),\r\n          challengeOptions: serverChallenges,\r\n          recentScoresDashboard:\r\n            bundle?.recentScores && typeof bundle.recentScores === 'object'\r\n              ? bundle.recentScores\r\n              : prev.recentScoresDashboard || {},\r\n        }));\r\n      }\r\n      setProfileLoading(false);\r\n      return bundle;\r\n    } catch (error) {\r\n      console.warn(\r\n        'Failed to load profile from server, using local profile:',\r\n        error?.message || error\r\n      );\r\n      setProfileError(\r\n        'Unable to load latest profile. Working from local data.'\r\n      );\r\n      setProfileLoading(false);\r\n      return null;\r\n    }\r\n  }, []);\r\n\r\n  // Top-level navigation shortcuts using hardJump (reset history and browser depth)\r\n  const goToDashboard = useCallback(\r\n    () => hardJump('dashboard', { scrollTarget: '__top' }),\r\n    [hardJump]\r\n  );\r\n  const goToQuizzes = useCallback(\r\n    () => hardJump('quizzes', { scrollTarget: 'quizzes' }),\r\n    [hardJump]\r\n  );\r\n  const goToProgress = useCallback(\r\n    () => hardJump('progress', { scrollTarget: 'progress' }),\r\n    [hardJump]\r\n  );\r\n  const goToProfile = useCallback(() => hardJump('profile'), [hardJump]);\r\n  const goToSettings = useCallback(() => {\r\n    navigateTo('settings');\r\n    if (!profileData) {\r\n      loadProfileOnce();\r\n    }\r\n  }, [navigateTo, loadProfileOnce, profileData]);\r\n\r\n  // Subject/category selection wrappers (record history before changing selection)\r\n  const selectSubject = useCallback(\r\n    (subject) => {\r\n      setNavHistory((prev) => [\r\n        ...prev,\r\n        {\r\n          activeView,\r\n          view,\r\n          selectedSubject,\r\n          selectedCategory,\r\n        },\r\n      ]);\r\n      setSelectedSubject(subject);\r\n      setSelectedCategory(null);\r\n    },\r\n    [activeView, view, selectedSubject, selectedCategory]\r\n  );\r\n\r\n  const selectCategory = useCallback(\r\n    (category) => {\r\n      setNavHistory((prev) => [\r\n        ...prev,\r\n        {\r\n          activeView,\r\n          view,\r\n          selectedSubject,\r\n          selectedCategory,\r\n        },\r\n      ]);\r\n      setSelectedCategory(category);\r\n    },\r\n    [activeView, view, selectedSubject, selectedCategory]\r\n  );\r\n\r\n  // Navigate to a dashboard section (e.g., #quizzes or #progress) from anywhere\r\n  const navigateToSection = useCallback(\r\n    (targetId) => {\r\n      const id = typeof targetId === 'string' ? targetId.replace(/^#/, '') : '';\r\n      if (!id) return;\r\n      if (view !== 'start') {\r\n        setPendingScrollTarget(id);\r\n        setView('start');\r\n        return;\r\n      }\r\n      const el =\r\n        typeof document !== 'undefined' ? document.getElementById(id) : null;\r\n      if (el && typeof el.scrollIntoView === 'function') {\r\n        el.scrollIntoView({ behavior: 'smooth', block: 'start' });\r\n      }\r\n      if (typeof window !== 'undefined') {\r\n        window.location.hash = id;\r\n      }\r\n    },\r\n    [view]\r\n  );\r\n\r\n  // After switching to the dashboard, perform the pending scroll once content is painted\r\n  useEffect(() => {\r\n    if (view !== 'start' || !pendingScrollTarget) return;\r\n    const id = pendingScrollTarget;\r\n    const rAF =\r\n      typeof window !== 'undefined' && window.requestAnimationFrame\r\n        ? window.requestAnimationFrame\r\n        : (fn) => setTimeout(fn, 0);\r\n    rAF(() => {\r\n      if (id === '__top') {\r\n        if (\r\n          typeof window !== 'undefined' &&\r\n          typeof window.scrollTo === 'function'\r\n        ) {\r\n          window.scrollTo({ top: 0, behavior: 'smooth' });\r\n        }\r\n      } else {\r\n        const el =\r\n          typeof document !== 'undefined' ? document.getElementById(id) : null;\r\n        if (el && typeof el.scrollIntoView === 'function') {\r\n          el.scrollIntoView({ behavior: 'smooth', block: 'start' });\r\n        }\r\n        if (typeof window !== 'undefined') {\r\n          window.location.hash = id;\r\n        }\r\n      }\r\n      setPendingScrollTarget(null);\r\n    });\r\n  }, [view, pendingScrollTarget]);\r\n\r\n  // Optional: handle direct hash navigation (e.g., external links to #quizzes or #progress)\r\n  useEffect(() => {\r\n    const handleHashNavigate = () => {\r\n      if (typeof window === 'undefined') return;\r\n      const raw = window.location.hash || '';\r\n      const id = raw.replace(/^#/, '');\r\n      if (id === 'quizzes' || id === 'progress') {\r\n        if (view !== 'start') {\r\n          setPendingScrollTarget(id);\r\n          setView('start');\r\n        } else {\r\n          const el = document.getElementById(id);\r\n          if (el) el.scrollIntoView({ behavior: 'smooth', block: 'start' });\r\n        }\r\n      }\r\n    };\r\n    if (typeof window !== 'undefined') {\r\n      window.addEventListener('hashchange', handleHashNavigate);\r\n      handleHashNavigate();\r\n      return () => window.removeEventListener('hashchange', handleHashNavigate);\r\n    }\r\n  }, [view]);\r\n\r\n  const recalcProgress = useCallback((attemptList) => {\r\n    setProgress(buildProgressFromAttempts(attemptList));\r\n  }, []);\r\n\r\n  const applyPreferenceUpdate = useCallback((partialPrefs, options = {}) => {\r\n    setPreferences((prev) => {\r\n      const merged = normalizePreferences({ ...prev, ...partialPrefs });\r\n      if (\r\n        options.markLocal &&\r\n        partialPrefs &&\r\n        Object.prototype.hasOwnProperty.call(partialPrefs, 'theme') &&\r\n        merged.theme !== prev.theme\r\n      ) {\r\n        pendingThemeSyncRef.current = merged.theme;\r\n      }\r\n      return merged;\r\n    });\r\n    if (options.markLocal) {\r\n      hasLocalPrefsRef.current = true;\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (!VALID_THEMES.has(externalTheme)) {\r\n      return;\r\n    }\r\n    if (preferences.theme !== externalTheme) {\r\n      applyPreferenceUpdate({ theme: externalTheme });\r\n    }\r\n  }, [externalTheme, preferences.theme, applyPreferenceUpdate]);\r\n\r\n  useEffect(() => {\r\n    if (preferences.theme === externalTheme) {\r\n      pendingThemeSyncRef.current = null;\r\n      return;\r\n    }\r\n    if (typeof onThemeChange !== 'function') {\r\n      pendingThemeSyncRef.current = null;\r\n      return;\r\n    }\r\n    if (!VALID_THEMES.has(preferences.theme)) {\r\n      pendingThemeSyncRef.current = null;\r\n      return;\r\n    }\r\n    if (pendingThemeSyncRef.current !== preferences.theme) {\r\n      return;\r\n    }\r\n    onThemeChange(preferences.theme);\r\n    pendingThemeSyncRef.current = null;\r\n  }, [onThemeChange, preferences.theme, externalTheme]);\r\n\r\n  // Always keep document theme in sync with current preference\r\n  useEffect(() => {\r\n    if (typeof onThemeChange === 'function') {\r\n      onThemeChange(preferences.theme === 'dark' ? 'dark' : 'light');\r\n    }\r\n  }, [onThemeChange, preferences.theme]);\r\n\r\n  const handleSettingsInstantChange = useCallback(\r\n    (partialPrefs) => {\r\n      setSettingsStatus('');\r\n      applyPreferenceUpdate(partialPrefs, { markLocal: true });\r\n    },\r\n    [applyPreferenceUpdate]\r\n  );\r\n\r\n  const toggleThemePreference = useCallback(() => {\r\n    const nextTheme = preferences.theme === 'dark' ? 'light' : 'dark';\r\n    applyPreferenceUpdate({ theme: nextTheme }, { markLocal: true });\r\n  }, [applyPreferenceUpdate, preferences.theme]);\r\n\r\n  const handlePersistPreferences = useCallback(\r\n    async ({ fontSize = preferences.fontSize, theme = preferences.theme }) => {\r\n      const nextPrefs = normalizePreferences({ fontSize, theme });\r\n      applyPreferenceUpdate(nextPrefs, { markLocal: true });\r\n      setSettingsSaving(true);\r\n      setSettingsStatus('');\r\n      try {\r\n        const token =\r\n          authToken ||\r\n          (typeof window !== 'undefined' && window.localStorage\r\n            ? window.localStorage.getItem('appToken')\r\n            : null);\r\n        const response = await fetchJSON('/api/profile/preferences', {\r\n          method: 'PATCH',\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n            ...(token ? { Authorization: `Bearer ${token}` } : {}),\r\n          },\r\n          body: JSON.stringify(nextPrefs),\r\n        });\r\n        if (response) {\r\n          const updatedFontSize =\r\n            typeof response === 'object' && response !== null\r\n              ? response.fontSize\r\n              : undefined;\r\n          const updatedTheme =\r\n            typeof response === 'object' && response !== null\r\n              ? response.theme\r\n              : undefined;\r\n          const persistedUpdates = {};\r\n          if (updatedFontSize && VALID_FONT_SIZES.has(updatedFontSize)) {\r\n            persistedUpdates.fontSize = updatedFontSize;\r\n          }\r\n          if (updatedTheme && VALID_THEMES.has(updatedTheme)) {\r\n            persistedUpdates.theme = updatedTheme;\r\n          }\r\n          if (Object.keys(persistedUpdates).length > 0) {\r\n            applyPreferenceUpdate(persistedUpdates);\r\n          }\r\n        }\r\n        setSettingsStatus('Settings saved.');\r\n      } catch (error) {\r\n        console.warn('Failed to persist preferences:', error);\r\n        setSettingsStatus(\r\n          'Settings saved locally. We will sync when the server is available.'\r\n        );\r\n      } finally {\r\n        setSettingsSaving(false);\r\n      }\r\n    },\r\n    [applyPreferenceUpdate, preferences.fontSize, preferences.theme, authToken]\r\n  );\r\n  const saveDisplayName = useCallback((fullName) => {\r\n    const trimmed = String(fullName || '').trim();\r\n    if (!trimmed) {\r\n      return '';\r\n    }\r\n\r\n    let profileId = 'local-user';\r\n    setLocalProfile((prev) => {\r\n      profileId = prev?.profile?.id || profileId;\r\n      return {\r\n        ...prev,\r\n        profile: {\r\n          ...prev.profile,\r\n          name: trimmed,\r\n        },\r\n      };\r\n    });\r\n\r\n    setCurrentUser((prev) => {\r\n      if (!prev) {\r\n        return prev;\r\n      }\r\n      const updated = { ...prev, name: trimmed };\r\n      try {\r\n        if (typeof window !== 'undefined' && window.localStorage) {\r\n          window.localStorage.setItem('appUser', JSON.stringify(updated));\r\n        }\r\n      } catch (error) {\r\n        console.warn('Unable to persist updated name locally:', error);\r\n      }\r\n      return updated;\r\n    });\r\n\r\n    try {\r\n      if (typeof window !== 'undefined' && window.localStorage) {\r\n        window.localStorage.setItem(`customNameSet_${profileId}`, 'true');\r\n      }\r\n    } catch (error) {\r\n      console.warn('Unable to mark custom name locally:', error);\r\n    }\r\n\r\n    alert('Name saved locally.');\r\n    return trimmed;\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (currentUser?.name && !localProfile?.profile?.name) {\r\n      setNameDraft(currentUser.name);\r\n    }\r\n  }, [currentUser?.name, localProfile?.profile?.name]);\r\n\r\n  useEffect(() => {\r\n    if (!currentUser) {\r\n      return;\r\n    }\r\n    // Allow normal access while onboarding is pending; only redirect if explicitly required\r\n    const status = localProfile?.profile?.onboardingStatus;\r\n    if (status === 'required') {\r\n      setView('profile');\r\n    }\r\n  }, [currentUser, localProfile?.profile?.onboardingStatus]);\r\n\r\n  const currentUserId = currentUser?.id ?? null;\r\n\r\n  useEffect(() => {\r\n    if (!currentUserId) {\r\n      return;\r\n    }\r\n    loadProfileOnce();\r\n  }, [currentUserId]);\r\n\r\n  // Optional gentle polling every 60s to keep dashboard fresh without spamming\r\n  useEffect(() => {\r\n    let stopped = false;\r\n    const id = setInterval(() => {\r\n      if (!stopped) {\r\n        loadProfileOnce();\r\n      }\r\n    }, 60000);\r\n    return () => {\r\n      stopped = true;\r\n      clearInterval(id);\r\n    };\r\n  }, []);\r\n\r\n  const handleNameDraftChange = useCallback((value) => {\r\n    setNameDraft(value);\r\n    setNameStatus('');\r\n  }, []);\r\n\r\n  const handleProfileNameSubmit = useCallback(\r\n    async (event) => {\r\n      event.preventDefault();\r\n      const trimmed = nameDraft.trim();\r\n      if (!trimmed) {\r\n        setNameStatus('Please enter a display name.');\r\n        return;\r\n      }\r\n      setNameSaving(true);\r\n      setNameStatus('');\r\n      const token =\r\n        authToken ||\r\n        (typeof window !== 'undefined' && window.localStorage\r\n          ? window.localStorage.getItem('appToken')\r\n          : null);\r\n      if (token) {\r\n        try {\r\n          const resp = await fetchJSON(`${API_BASE_URL}/api/profile/name`, {\r\n            method: 'PATCH',\r\n            headers: {\r\n              'Content-Type': 'application/json',\r\n              Authorization: `Bearer ${token}`,\r\n            },\r\n            body: JSON.stringify({ name: trimmed }),\r\n          });\r\n          const newName = resp?.name || trimmed;\r\n          setLocalProfile((prev) => ({\r\n            ...prev,\r\n            profile: { ...prev.profile, name: newName },\r\n          }));\r\n          setCurrentUser((prev) => (prev ? { ...prev, name: newName } : prev));\r\n          setNameDraft(newName);\r\n          setNameStatus('Name saved.');\r\n          setNameSaving(false);\r\n          return;\r\n        } catch (err) {\r\n          console.warn('Server name save failed; falling back to local:', err);\r\n        }\r\n      }\r\n      const saved = saveDisplayName(trimmed);\r\n      if (saved) {\r\n        setNameStatus('Name saved locally.');\r\n        setNameDraft(saved);\r\n      } else {\r\n        setNameStatus('Please enter a display name.');\r\n      }\r\n      setNameSaving(false);\r\n    },\r\n    [nameDraft, saveDisplayName, authToken]\r\n  );\r\n\r\n  const handleSaveIcon = useCallback(async () => {\r\n    if (!selectedIcon) {\r\n      return;\r\n    }\r\n    setIconSaving(true);\r\n    const token =\r\n      authToken ||\r\n      (typeof window !== 'undefined' && window.localStorage\r\n        ? window.localStorage.getItem('appToken')\r\n        : null);\r\n    if (token) {\r\n      try {\r\n        const resp = await fetchJSON(`${API_BASE_URL}/api/profile/icon`, {\r\n          method: 'PATCH',\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n            Authorization: `Bearer ${token}`,\r\n          },\r\n          body: JSON.stringify({ icon: selectedIcon }),\r\n        });\r\n        setLocalProfile((prev) => ({\r\n          ...prev,\r\n          profile: { ...prev.profile, icon: selectedIcon },\r\n        }));\r\n        setCurrentUser((prev) =>\r\n          prev ? { ...prev, picture: selectedIcon } : prev\r\n        );\r\n        setIconSaving(false);\r\n        return;\r\n      } catch (err) {\r\n        console.warn('Server icon save failed; falling back to local:', err);\r\n      }\r\n    }\r\n    // Local fallback\r\n    setLocalProfile((prev) => ({\r\n      ...prev,\r\n      profile: { ...prev.profile, icon: selectedIcon },\r\n    }));\r\n    setIconSaving(false);\r\n  }, [selectedIcon, authToken]);\r\n\r\n  useEffect(() => {\r\n    const iconFromProfile = localProfile?.profile?.icon || currentUser?.picture;\r\n    if (iconFromProfile && iconFromProfile.startsWith('/icons/')) {\r\n      setSelectedIcon(iconFromProfile);\r\n    }\r\n  }, [localProfile?.profile?.icon, currentUser?.picture]);\r\n\r\n  const handleProfileRefresh = useCallback(async () => {\r\n    await loadProfileOnce();\r\n    setNameStatus('Profile refreshed.');\r\n    setSubjectEdits(buildSubjectEditsFromPlan(localProfile?.testPlan));\r\n  }, [loadProfileOnce, localProfile?.testPlan]);\r\n\r\n  const handleSubjectFieldChange = useCallback((subject, field, value) => {\r\n    if (!subject) {\r\n      return;\r\n    }\r\n    setSubjectEdits((prev) => {\r\n      const existing = prev?.[subject] || {\r\n        testDate: '',\r\n        testLocation: '',\r\n        passed: false,\r\n        notScheduled: false,\r\n      };\r\n      const next = { ...existing };\r\n\r\n      if (field === 'passed') {\r\n        const checked = !!value;\r\n        next.passed = checked;\r\n        if (checked) {\r\n          next.notScheduled = false;\r\n          next.testDate = '';\r\n        }\r\n      } else if (field === 'testDate') {\r\n        const inputValue = typeof value === 'string' ? value : '';\r\n        next.testDate = inputValue;\r\n        if (inputValue) {\r\n          next.notScheduled = false;\r\n        }\r\n      } else if (field === 'notScheduled') {\r\n        const flagged = !!value;\r\n        next.notScheduled = flagged;\r\n        if (flagged) {\r\n          next.testDate = '';\r\n          next.passed = false;\r\n        }\r\n      } else {\r\n        next[field] = value;\r\n      }\r\n\r\n      return {\r\n        ...prev,\r\n        [subject]: next,\r\n      };\r\n    });\r\n  }, []);\r\n\r\n  const handleSaveSubject = useCallback(\r\n    async (subject) => {\r\n      const trimmedSubject = subject ? String(subject).trim() : '';\r\n      if (!trimmedSubject) {\r\n        window.alert('Missing subject.');\r\n        return;\r\n      }\r\n\r\n      const edits = subjectEdits[trimmedSubject] || {\r\n        testDate: '',\r\n        testLocation: '',\r\n        passed: false,\r\n        notScheduled: false,\r\n      };\r\n      const normalizedNotScheduled = !!edits.notScheduled;\r\n      const normalizedDate = normalizedNotScheduled\r\n        ? ''\r\n        : typeof edits.testDate === 'string'\r\n        ? edits.testDate.trim()\r\n        : '';\r\n      const normalizedLocation =\r\n        typeof edits.testLocation === 'string' ? edits.testLocation.trim() : '';\r\n      const normalizedPassed = normalizedNotScheduled ? false : !!edits.passed;\r\n\r\n      setTestSaving(trimmedSubject);\r\n      const token =\r\n        authToken ||\r\n        (typeof window !== 'undefined' && window.localStorage\r\n          ? window.localStorage.getItem('appToken')\r\n          : null);\r\n      if (token) {\r\n        try {\r\n          const bundle = await fetchJSON(`${API_BASE_URL}/api/profile/test`, {\r\n            method: 'PATCH',\r\n            headers: {\r\n              'Content-Type': 'application/json',\r\n              Authorization: `Bearer ${token}`,\r\n            },\r\n            body: JSON.stringify({\r\n              subject: trimmedSubject,\r\n              testDate: normalizedDate,\r\n              testLocation: normalizedLocation,\r\n              passed: normalizedPassed,\r\n              notScheduled: normalizedNotScheduled,\r\n            }),\r\n          });\r\n          if (bundle && typeof bundle === 'object') {\r\n            // merge from server\r\n            setLocalProfile((prev) => ({\r\n              ...prev,\r\n              profile: {\r\n                ...prev.profile,\r\n                name: bundle?.profile?.name ?? prev.profile.name,\r\n                onboardingComplete: !!bundle?.profile?.onboardingComplete,\r\n              },\r\n              testPlan: Array.isArray(bundle.testPlan)\r\n                ? bundle.testPlan.map((row) => ({\r\n                    subject: row?.subject || '',\r\n                    testDate: row?.testDate || '',\r\n                    testLocation: row?.testLocation || '',\r\n                    passed: !!row?.passed,\r\n                    notScheduled: !!row?.notScheduled,\r\n                  }))\r\n                : prev.testPlan,\r\n              nextUpcomingTest: normalizeNextUpcoming(bundle?.nextUpcomingTest),\r\n              challengeOptions: Array.isArray(bundle.challengeOptions)\r\n                ? bundle.challengeOptions.map((opt, index) => ({\r\n                    id: opt?.id ?? `${opt?.subject || 'challenge'}-${index}`,\r\n                    subject: opt?.subject || '',\r\n                    subtopic: opt?.subtopic || '',\r\n                    label: opt?.label || '',\r\n                    selected: !!opt?.selected,\r\n                  }))\r\n                : prev.challengeOptions || [],\r\n              recentScoresDashboard:\r\n                bundle?.recentScores && typeof bundle.recentScores === 'object'\r\n                  ? bundle.recentScores\r\n                  : prev.recentScoresDashboard || {},\r\n            }));\r\n            setTestSaving(null);\r\n            // Re-fetch to ensure freshest computed fields (e.g., nextUpcoming)\r\n            try {\r\n              await loadProfileOnce();\r\n            } catch (_) {}\r\n            window.alert('Saved.');\r\n            return;\r\n          }\r\n        } catch (err) {\r\n          console.warn(\r\n            'Server test plan save failed; falling back to local:',\r\n            err\r\n          );\r\n        }\r\n      }\r\n      // Fallback: save locally\r\n      setLocalProfile((prev) => {\r\n        const existingPlan = Array.isArray(prev.testPlan) ? prev.testPlan : [];\r\n        let updated = false;\r\n        const updatedPlan = existingPlan.map((row) => {\r\n          if (row && row.subject === trimmedSubject) {\r\n            updated = true;\r\n            return {\r\n              ...row,\r\n              testDate: normalizedDate,\r\n              testLocation: normalizedLocation,\r\n              passed: normalizedPassed,\r\n              notScheduled: normalizedNotScheduled,\r\n            };\r\n          }\r\n          return row;\r\n        });\r\n        if (!updated) {\r\n          updatedPlan.push({\r\n            subject: trimmedSubject,\r\n            testDate: normalizedDate,\r\n            testLocation: normalizedLocation,\r\n            passed: normalizedPassed,\r\n            notScheduled: normalizedNotScheduled,\r\n          });\r\n        }\r\n        return { ...prev, testPlan: updatedPlan };\r\n      });\r\n      setTestSaving(null);\r\n      window.alert('Saved locally.');\r\n    },\r\n    [subjectEdits, authToken]\r\n  );\r\n\r\n  const handleSaveChallenges = useCallback(async () => {\r\n    setChallengesSaving(true);\r\n    const token =\r\n      authToken ||\r\n      (typeof window !== 'undefined' && window.localStorage\r\n        ? window.localStorage.getItem('appToken')\r\n        : null);\r\n    const selectedIds = Array.isArray(localProfile?.challengeOptions)\r\n      ? localProfile.challengeOptions\r\n          .filter((c) => c && c.selected && c.id)\r\n          .map((c) => c.id)\r\n      : [];\r\n    if (token) {\r\n      try {\r\n        const bundle = await fetchJSON(\r\n          `${API_BASE_URL}/api/profile/challenges/tags`,\r\n          {\r\n            method: 'PATCH',\r\n            headers: {\r\n              'Content-Type': 'application/json',\r\n              Authorization: `Bearer ${token}`,\r\n            },\r\n            body: JSON.stringify({ selectedIds }),\r\n          }\r\n        );\r\n        if (bundle && typeof bundle === 'object') {\r\n          setLocalProfile((prev) => ({\r\n            ...prev,\r\n            profile: {\r\n              ...prev.profile,\r\n              name: bundle?.profile?.name ?? prev.profile.name,\r\n              onboardingComplete: !!bundle?.profile?.onboardingComplete,\r\n            },\r\n            testPlan: Array.isArray(bundle.testPlan)\r\n              ? bundle.testPlan.map((row) => ({\r\n                  subject: row?.subject || '',\r\n                  testDate: row?.testDate || '',\r\n                  testLocation: row?.testLocation || '',\r\n                  passed: !!row?.passed,\r\n                  notScheduled: !!row?.notScheduled,\r\n                }))\r\n              : prev.testPlan || [],\r\n            nextUpcomingTest: normalizeNextUpcoming(bundle?.nextUpcomingTest),\r\n            challengeOptions: Array.isArray(bundle.challengeOptions)\r\n              ? bundle.challengeOptions.map((opt, index) => ({\r\n                  id: opt?.id ?? `${opt?.subject || 'challenge'}-${index}`,\r\n                  subject: opt?.subject || '',\r\n                  subtopic: opt?.subtopic || '',\r\n                  label: opt?.label || '',\r\n                  selected: !!opt?.selected,\r\n                }))\r\n              : prev.challengeOptions || [],\r\n            recentScoresDashboard:\r\n              bundle?.recentScores && typeof bundle.recentScores === 'object'\r\n                ? bundle.recentScores\r\n                : prev.recentScoresDashboard || {},\r\n          }));\r\n          window.alert('Challenges saved.');\r\n          setChallengesSaving(false);\r\n          return;\r\n        }\r\n      } catch (err) {\r\n        console.warn(\r\n          'Server challenges save failed; falling back to local:',\r\n          err\r\n        );\r\n      }\r\n    }\r\n    window.alert('Challenges saved locally.');\r\n    setChallengesSaving(false);\r\n  }, [authToken, localProfile?.challengeOptions]);\r\n\r\n  const toggleChallengeSelection = useCallback((challengeId) => {\r\n    if (!challengeId) {\r\n      return;\r\n    }\r\n    setLocalProfile((prev) => ({\r\n      ...prev,\r\n      challengeOptions: Array.isArray(prev.challengeOptions)\r\n        ? prev.challengeOptions.map((opt) =>\r\n            opt && opt.id === challengeId\r\n              ? { ...opt, selected: !opt.selected }\r\n              : opt\r\n          )\r\n        : [],\r\n    }));\r\n  }, []);\r\n\r\n  const handleFinishOnboarding = useCallback(async () => {\r\n    setFinishingOnboarding(true);\r\n    const okLocal = canCompleteOnboarding(localProfile);\r\n    if (!okLocal) {\r\n      window.alert(\r\n        'Almost there! Please fill in your test info, choose challenges, and add your name.'\r\n      );\r\n      setFinishingOnboarding(false);\r\n      return;\r\n    }\r\n    const token =\r\n      authToken ||\r\n      (typeof window !== 'undefined' && window.localStorage\r\n        ? window.localStorage.getItem('appToken')\r\n        : null);\r\n    if (token) {\r\n      try {\r\n        const bundle = await fetchJSON(\r\n          `${API_BASE_URL}/api/profile/complete-onboarding`,\r\n          {\r\n            method: 'PATCH',\r\n            headers: {\r\n              'Content-Type': 'application/json',\r\n              Authorization: `Bearer ${token}`,\r\n            },\r\n          }\r\n        );\r\n        if (bundle && typeof bundle === 'object') {\r\n          setLocalProfile((prev) => ({\r\n            ...prev,\r\n            profile: {\r\n              ...prev.profile,\r\n              onboardingStatus: 'complete',\r\n              onboardingComplete: true,\r\n              name: bundle?.profile?.name ?? prev.profile.name,\r\n            },\r\n            testPlan: Array.isArray(bundle.testPlan)\r\n              ? bundle.testPlan.map((row) => ({\r\n                  subject: row?.subject || '',\r\n                  testDate: row?.testDate || '',\r\n                  testLocation: row?.testLocation || '',\r\n                  passed: !!row?.passed,\r\n                  notScheduled: !!row?.notScheduled,\r\n                }))\r\n              : prev.testPlan || [],\r\n            nextUpcomingTest: normalizeNextUpcoming(bundle?.nextUpcomingTest),\r\n            challengeOptions: Array.isArray(bundle.challengeOptions)\r\n              ? bundle.challengeOptions.map((opt, index) => ({\r\n                  id: opt?.id ?? `${opt?.subject || 'challenge'}-${index}`,\r\n                  subject: opt?.subject || '',\r\n                  subtopic: opt?.subtopic || '',\r\n                  label: opt?.label || '',\r\n                  selected: !!opt?.selected,\r\n                }))\r\n              : prev.challengeOptions || [],\r\n            recentScoresDashboard:\r\n              bundle?.recentScores && typeof bundle.recentScores === 'object'\r\n                ? bundle.recentScores\r\n                : prev.recentScoresDashboard || {},\r\n          }));\r\n          window.alert('Great! Youre all set.');\r\n          setFinishingOnboarding(false);\r\n          setView('start');\r\n          return;\r\n        }\r\n      } catch (err) {\r\n        console.warn(\r\n          'Server onboarding completion failed; falling back to local:',\r\n          err\r\n        );\r\n      }\r\n    }\r\n    // Fallback local-only\r\n    setLocalProfile((prev) => ({\r\n      ...prev,\r\n      profile: {\r\n        ...prev.profile,\r\n        onboardingStatus: 'complete',\r\n        onboardingComplete: true,\r\n      },\r\n    }));\r\n    window.alert('Great! Youre all set.');\r\n    setFinishingOnboarding(false);\r\n    setView('start');\r\n  }, [setView, localProfile, authToken]);\r\n\r\n  const handleCompleteOnboardingLater = useCallback(() => {\r\n    // Mark status as pending and allow navigation\r\n    setLocalProfile((prev) => ({\r\n      ...prev,\r\n      profile: {\r\n        ...prev.profile,\r\n        onboardingStatus: 'pending',\r\n        onboardingComplete: false,\r\n      },\r\n    }));\r\n    setView('start');\r\n  }, [setView]);\r\n\r\n  const loadQuizAttempts = useCallback(\r\n    async (token, options = {}) => {\r\n      if (!token) {\r\n        return;\r\n      }\r\n\r\n      const { force = false } = options;\r\n      const now = Date.now();\r\n      const timeSinceLastFetch = now - lastAttemptsFetchRef.current;\r\n\r\n      if (!force) {\r\n        if (pendingAttemptsFetchRef.current) {\r\n          return pendingAttemptsFetchRef.current;\r\n        }\r\n        if (timeSinceLastFetch < SCORE_FETCH_INTERVAL_MS) {\r\n          return;\r\n        }\r\n      }\r\n\r\n      lastAttemptsFetchRef.current = now;\r\n\r\n      const fetchPromise = (async () => {\r\n        try {\r\n          const response = await fetch(`${API_BASE_URL}/api/quiz-attempts`, {\r\n            headers: {\r\n              Authorization: `Bearer ${token}`,\r\n            },\r\n          });\r\n\r\n          if (!response.ok) {\r\n            throw new Error(\r\n              `Failed to fetch quiz attempts: ${response.status}`\r\n            );\r\n          }\r\n\r\n          const data = await response.json();\r\n          const normalized = Array.isArray(data) ? data : [];\r\n          setQuizAttempts(normalized);\r\n          recalcProgress(normalized);\r\n        } catch (error) {\r\n          console.error('Failed to load quiz attempts:', error);\r\n          setQuizAttempts([]);\r\n          recalcProgress([]);\r\n        } finally {\r\n          pendingAttemptsFetchRef.current = null;\r\n        }\r\n      })();\r\n\r\n      pendingAttemptsFetchRef.current = fetchPromise;\r\n      return fetchPromise;\r\n    },\r\n    [recalcProgress]\r\n  );\r\n\r\n  const persistQuizAttempt = useCallback(\r\n    async ({\r\n      subject,\r\n      quizCode,\r\n      quizTitle,\r\n      quizType = null,\r\n      score,\r\n      totalQuestions,\r\n      scaledScore,\r\n      passed,\r\n    }) => {\r\n      if (!currentUser) {\r\n        return;\r\n      }\r\n\r\n      const token = authToken || localStorage.getItem('appToken');\r\n      if (!token) {\r\n        return;\r\n      }\r\n\r\n      const normalizedSubject =\r\n        typeof subject === 'string' ? subject.trim() : '';\r\n      const normalizedQuizCode =\r\n        typeof quizCode === 'string' ? quizCode.trim() : '';\r\n      const normalizedQuizTitle =\r\n        typeof quizTitle === 'string' ? quizTitle.trim() : '';\r\n\r\n      if (!normalizedSubject || !normalizedQuizCode || !normalizedQuizTitle) {\r\n        return;\r\n      }\r\n\r\n      const toRoundedNumber = (value) => {\r\n        const num = Number(value);\r\n        return Number.isFinite(num) ? Math.round(num) : null;\r\n      };\r\n\r\n      const payload = {\r\n        subject: normalizedSubject,\r\n        quizCode: normalizedQuizCode,\r\n        quizTitle: normalizedQuizTitle,\r\n        quizType: quizType || null,\r\n        score: toRoundedNumber(score),\r\n        totalQuestions: toRoundedNumber(totalQuestions),\r\n        scaledScore: toRoundedNumber(scaledScore),\r\n        passed: typeof passed === 'boolean' ? passed : undefined,\r\n      };\r\n\r\n      if (payload.passed === undefined && payload.scaledScore != null) {\r\n        payload.passed = payload.scaledScore >= GED_PASSING_SCORE;\r\n      }\r\n\r\n      try {\r\n        const response = await fetch(`${API_BASE_URL}/api/quiz-attempts`, {\r\n          method: 'POST',\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n            Authorization: `Bearer ${token}`,\r\n          },\r\n          body: JSON.stringify(payload),\r\n        });\r\n\r\n        if (!response.ok) {\r\n          throw new Error(`Failed to save quiz attempt: ${response.status}`);\r\n        }\r\n\r\n        const savedAttempt = await response.json();\r\n        setQuizAttempts((prevAttempts) => {\r\n          const nextAttempts = Array.isArray(prevAttempts)\r\n            ? [savedAttempt, ...prevAttempts]\r\n            : [savedAttempt];\r\n          recalcProgress(nextAttempts);\r\n          return nextAttempts;\r\n        });\r\n        // Persist passed subject locally to drive dashboard badges\r\n        try {\r\n          if (\r\n            savedAttempt &&\r\n            savedAttempt.passed &&\r\n            typeof savedAttempt.subject === 'string'\r\n          ) {\r\n            const raw = localStorage.getItem('passedSubjects');\r\n            const arr = raw ? JSON.parse(raw) : [];\r\n            const set = new Set(Array.isArray(arr) ? arr : []);\r\n            set.add(savedAttempt.subject);\r\n            localStorage.setItem(\r\n              'passedSubjects',\r\n              JSON.stringify(Array.from(set))\r\n            );\r\n          }\r\n        } catch (e) {\r\n          console.warn('Unable to update passedSubjects in localStorage:', e);\r\n        }\r\n      } catch (error) {\r\n        console.error('Failed to save quiz attempt:', error);\r\n      }\r\n    },\r\n    [authToken, currentUser, recalcProgress]\r\n  );\r\n\r\n  useEffect(() => {\r\n    const storedUser = localStorage.getItem('appUser');\r\n    const storedToken = localStorage.getItem('appToken');\r\n\r\n    if (!storedUser || !storedToken) {\r\n      return;\r\n    }\r\n\r\n    try {\r\n      const parsedUser = JSON.parse(storedUser);\r\n      const profile = ensureUserProfile(parsedUser);\r\n      if (profile) {\r\n        currentUserRef.current = profile;\r\n        setCurrentUser(profile);\r\n        setAuthToken(storedToken);\r\n        const isStudent =\r\n          profile.role !== 'super_admin' && profile.role !== 'org_admin';\r\n        if (isStudent) {\r\n          const flagKey = `customNameSet_${profile.id}`;\r\n          const customNameSet = localStorage.getItem(flagKey);\r\n          const hasName = !!(profile?.name && profile.name.trim());\r\n          if (hasName && !customNameSet) {\r\n            try {\r\n              localStorage.setItem(flagKey, 'true');\r\n            } catch (e) {\r\n              // noop\r\n            }\r\n          }\r\n          if (!hasName && !customNameSet) {\r\n            setShowNamePrompt(true);\r\n          } else {\r\n            setShowNamePrompt(false);\r\n          }\r\n          loadQuizAttempts(storedToken);\r\n        } else {\r\n          setShowNamePrompt(false);\r\n        }\r\n      }\r\n    } catch (error) {\r\n      console.error('Failed to restore stored user:', error);\r\n      localStorage.removeItem('appUser');\r\n      localStorage.removeItem('appToken');\r\n      setAuthToken(null);\r\n    }\r\n  }, [loadQuizAttempts]);\r\n\r\n  const handleLogin = (user, token) => {\r\n    if (!token) {\r\n      console.error('Login response did not include a token.');\r\n      return;\r\n    }\r\n\r\n    const profile = ensureUserProfile(user);\r\n    if (!profile) {\r\n      console.error('Login response did not include a valid user profile.');\r\n      return;\r\n    }\r\n\r\n    try {\r\n      localStorage.setItem('appUser', JSON.stringify(profile));\r\n      localStorage.setItem('appToken', token);\r\n    } catch (error) {\r\n      console.warn('Unable to persist login locally:', error);\r\n    }\r\n\r\n    setAuthToken(token);\r\n    const isAdminUser = [\r\n      'superAdmin',\r\n      'super_admin',\r\n      'orgAdmin',\r\n      'org_admin',\r\n      'instructor',\r\n    ].includes(profile.role);\r\n\r\n    if (welcomeTimeoutRef.current) {\r\n      clearTimeout(welcomeTimeoutRef.current);\r\n    }\r\n    if (welcomeFadeTimeoutRef.current) {\r\n      clearTimeout(welcomeFadeTimeoutRef.current);\r\n    }\r\n\r\n    if (!isAdminUser) {\r\n      const firstName = (() => {\r\n        if (profile?.name) {\r\n          const trimmed = profile.name.trim();\r\n          if (trimmed) {\r\n            return trimmed.split(/\\s+/)[0];\r\n          }\r\n        }\r\n        if (profile?.email) {\r\n          const [emailName] = profile.email.split('@');\r\n          return emailName || '';\r\n        }\r\n        return '';\r\n      })();\r\n\r\n      setWelcomeName(firstName);\r\n      setWelcomeFading(false);\r\n      setShowWelcomeSplash(true);\r\n\r\n      if (typeof window !== 'undefined') {\r\n        welcomeFadeTimeoutRef.current = window.setTimeout(() => {\r\n          setWelcomeFading(true);\r\n        }, 2200);\r\n        welcomeTimeoutRef.current = window.setTimeout(() => {\r\n          setShowWelcomeSplash(false);\r\n          setWelcomeFading(false);\r\n        }, 3000);\r\n      }\r\n    } else {\r\n      setShowWelcomeSplash(false);\r\n      setWelcomeFading(false);\r\n      setWelcomeName('');\r\n    }\r\n\r\n    currentUserRef.current = profile;\r\n    setCurrentUser(profile);\r\n    setSubjectEdits(createEmptySubjectEdits());\r\n    setProfileError(null);\r\n    setQuizAttempts([]);\r\n    recalcProgress([]);\r\n\r\n    if (!isAdminUser) {\r\n      const flagKey = `customNameSet_${profile.id}`;\r\n      const customNameSet = localStorage.getItem(flagKey);\r\n      const hasName = !!(profile?.name && profile.name.trim());\r\n      if (hasName && !customNameSet) {\r\n        try {\r\n          localStorage.setItem(flagKey, 'true');\r\n        } catch (e) {\r\n          // noop\r\n        }\r\n      }\r\n      if (!hasName && !customNameSet) {\r\n        setShowNamePrompt(true);\r\n      } else {\r\n        setShowNamePrompt(false);\r\n      }\r\n      loadQuizAttempts(token);\r\n    } else {\r\n      setShowNamePrompt(false);\r\n    }\r\n\r\n    setView('start');\r\n  };\r\n\r\n  const handleSaveName = async (firstName, lastName) => {\r\n    const newName = `${firstName} ${lastName}`.trim();\r\n    if (!newName) {\r\n      alert('Please enter both a first and last name.');\r\n      return;\r\n    }\r\n    const token =\r\n      authToken ||\r\n      (typeof window !== 'undefined' && window.localStorage\r\n        ? window.localStorage.getItem('appToken')\r\n        : null);\r\n    if (token) {\r\n      try {\r\n        const resp = await fetchJSON(`${API_BASE_URL}/api/profile/name`, {\r\n          method: 'PATCH',\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n            Authorization: `Bearer ${token}`,\r\n          },\r\n          body: JSON.stringify({ name: newName }),\r\n        });\r\n        const confirmed = resp?.name || newName;\r\n        setLocalProfile((prev) => ({\r\n          ...prev,\r\n          profile: { ...prev.profile, name: confirmed },\r\n        }));\r\n        setCurrentUser((prev) => (prev ? { ...prev, name: confirmed } : prev));\r\n        setNameDraft(confirmed);\r\n        // Mark locally that the user has set a custom name\r\n        try {\r\n          if (currentUserRef.current?.id) {\r\n            localStorage.setItem(\r\n              `customNameSet_${currentUserRef.current.id}`,\r\n              'true'\r\n            );\r\n          }\r\n        } catch (e) {\r\n          // noop\r\n        }\r\n        setShowNamePrompt(false);\r\n        return;\r\n      } catch (err) {\r\n        console.warn(\r\n          'Server name save failed from modal; falling back to local:',\r\n          err\r\n        );\r\n      }\r\n    }\r\n    const saved = saveDisplayName(newName);\r\n    if (saved) {\r\n      setNameDraft(saved);\r\n    }\r\n    // Also mark locally to prevent re-prompting on next sign-in\r\n    try {\r\n      if (currentUserRef.current?.id) {\r\n        localStorage.setItem(\r\n          `customNameSet_${currentUserRef.current.id}`,\r\n          'true'\r\n        );\r\n      }\r\n    } catch (e) {\r\n      // noop\r\n    }\r\n    setShowNamePrompt(false);\r\n  };\r\n\r\n  const handleDismissNamePrompt = () => {\r\n    setShowNamePrompt(false);\r\n  };\r\n\r\n  const handleLogout = () => {\r\n    localStorage.removeItem('appUser');\r\n    localStorage.removeItem('appToken');\r\n    setCurrentUser(null);\r\n    setAuthToken(null);\r\n    setQuizAttempts([]);\r\n    recalcProgress([]);\r\n    setShowNamePrompt(false);\r\n    setSubjectEdits(createEmptySubjectEdits());\r\n    setProfileError(null);\r\n    setProfileLoading(false);\r\n    setOnboardingComplete(true);\r\n    setNameDraft('');\r\n    setNameStatus('');\r\n    setNameSaving(false);\r\n    currentUserRef.current = null;\r\n    if (welcomeTimeoutRef.current) {\r\n      clearTimeout(welcomeTimeoutRef.current);\r\n    }\r\n    if (welcomeFadeTimeoutRef.current) {\r\n      clearTimeout(welcomeFadeTimeoutRef.current);\r\n    }\r\n    setShowWelcomeSplash(false);\r\n    setWelcomeFading(false);\r\n    setWelcomeName('');\r\n    setSettingsStatus('');\r\n    setSettingsSaving(false);\r\n    if (window.google && google.accounts.id) {\r\n      google.accounts.id.disableAutoSelect();\r\n    }\r\n  };\r\n\r\n  const handleGenerateComprehensiveExam = async (subject) => {\r\n    setIsLoading(true);\r\n    setLoadingMessage(`Generating your comprehensive ${subject} exam...`);\r\n    setActiveQuiz(null);\r\n\r\n    try {\r\n      const response = await fetch(`${API_BASE_URL}/generate-quiz`, {\r\n        method: 'POST',\r\n        headers: { 'Content-Type': 'application/json' },\r\n        body: JSON.stringify({\r\n          subject: subject,\r\n          topic: 'Comprehensive Exam',\r\n          comprehensive: true,\r\n        }),\r\n      });\r\n\r\n      if (!response.ok) {\r\n        const err = await response.json();\r\n        throw new Error(\r\n          err.error || `Request failed with status ${response.status}`\r\n        );\r\n      }\r\n\r\n      const examData = await response.json();\r\n      startQuiz(examData, subject);\r\n    } catch (err) {\r\n      console.error('Failed to generate exam:', err);\r\n      alert('Failed to generate exam: ' + err.message);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    let intervalId = null;\r\n    if (isLoading) {\r\n      let currentIndex = 0;\r\n      setRevolvingPrompt(SMITHING_PROMPTS[currentIndex]);\r\n\r\n      intervalId = setInterval(() => {\r\n        currentIndex = (currentIndex + 1) % SMITHING_PROMPTS.length;\r\n        setRevolvingPrompt(SMITHING_PROMPTS[currentIndex]);\r\n      }, 2500);\r\n    }\r\n\r\n    return () => {\r\n      if (intervalId) {\r\n        clearInterval(intervalId);\r\n      }\r\n    };\r\n  }, [isLoading]);\r\n\r\n  useEffect(() => {\r\n    window.test_setShowNamePrompt = setShowNamePrompt;\r\n    return () => {\r\n      if (window.test_setShowNamePrompt === setShowNamePrompt) {\r\n        window.test_setShowNamePrompt = undefined;\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  const normalizeQuestionList = (list) => {\r\n    if (!Array.isArray(list)) {\r\n      return [];\r\n    }\r\n    return list\r\n      .filter((item) => item && typeof item === 'object')\r\n      .map((item) => ({\r\n        ...item,\r\n        answerOptions: shuffleArray(\r\n          Array.isArray(item.answerOptions) ? item.answerOptions : []\r\n        ),\r\n      }));\r\n  };\r\n\r\n  const startQuiz = (quizPayload, subject) => {\r\n    console.log('Starting quiz with data:', quizPayload); // Debugging line\r\n\r\n    if (!quizPayload || typeof quizPayload !== 'object') {\r\n      console.error('Received invalid quiz payload:', quizPayload);\r\n      alert('Sorry, the generated quiz data was invalid. Please try again.');\r\n      return;\r\n    }\r\n\r\n    if (quizPayload.type === 'essay') {\r\n      setActiveQuiz({ ...quizPayload, subject });\r\n      setView('essay');\r\n      return;\r\n    }\r\n\r\n    if (quizPayload.type === 'simulation') {\r\n      setActiveQuiz({ ...quizPayload, subject });\r\n      setView('simulation');\r\n      return;\r\n    }\r\n\r\n    if (\r\n      quizPayload.type === 'graphing_tool' ||\r\n      quizPayload.type === 'geometry_practice_tool'\r\n    ) {\r\n      openMathTools(\r\n        quizPayload.type === 'graphing_tool' ? 'graphing' : 'geometry'\r\n      );\r\n      setActiveQuiz(null);\r\n      setView('start');\r\n      return;\r\n    }\r\n\r\n    // Push current nav state so Back returns here (include quiz context)\r\n    setNavHistory((prev) => [\r\n      ...prev,\r\n      {\r\n        activeView,\r\n        view,\r\n        selectedSubject,\r\n        selectedCategory,\r\n        activeQuiz,\r\n        quizResults,\r\n      },\r\n    ]);\r\n\r\n    const preparedQuiz = { ...quizPayload, subject };\r\n    preparedQuiz.quizCode =\r\n      quizPayload.quizCode ||\r\n      quizPayload.code ||\r\n      quizPayload.id ||\r\n      preparedQuiz.quizCode ||\r\n      null;\r\n    // Preserve incoming isPremade if explicitly provided; otherwise infer from presence of a quizCode\r\n    if (typeof preparedQuiz.isPremade !== 'boolean') {\r\n      preparedQuiz.isPremade = Boolean(preparedQuiz.quizCode);\r\n    }\r\n    let normalizedQuestions = normalizeQuestionList(quizPayload.questions);\r\n\r\n    if (quizPayload.type === 'multi-part-math') {\r\n      let part1 = normalizeQuestionList(quizPayload.part1_non_calculator);\r\n      let part2 = normalizeQuestionList(quizPayload.part2_calculator);\r\n\r\n      if (!part1.length && normalizedQuestions.length) {\r\n        part1 = normalizedQuestions.slice(0, 5);\r\n      }\r\n      if (!part2.length && normalizedQuestions.length) {\r\n        part2 = normalizedQuestions.slice(part1.length || 5);\r\n      }\r\n\r\n      if (!part1.length || !part2.length) {\r\n        console.error(\r\n          'Incomplete multi-part math payload received:',\r\n          quizPayload\r\n        );\r\n        alert('The generated math exam was incomplete. Please try again.');\r\n        return;\r\n      }\r\n\r\n      preparedQuiz.part1_non_calculator = part1.map((q) => ({\r\n        ...q,\r\n        isPremade: q.isPremade === true || preparedQuiz.isPremade,\r\n      }));\r\n      preparedQuiz.part2_calculator = part2.map((q) => ({\r\n        ...q,\r\n        isPremade: q.isPremade === true || preparedQuiz.isPremade,\r\n      }));\r\n      normalizedQuestions = [...part1, ...part2];\r\n    } else if (quizPayload.type === 'multi-part-rla') {\r\n      const part1 = normalizeQuestionList(quizPayload.part1_reading);\r\n      const part3 = normalizeQuestionList(quizPayload.part3_language);\r\n      const essay = quizPayload.part2_essay;\r\n\r\n      const hasEssayContent =\r\n        essay &&\r\n        typeof essay === 'object' &&\r\n        Array.isArray(essay.passages) &&\r\n        essay.passages.length >= 2 &&\r\n        typeof essay.prompt === 'string';\r\n\r\n      if (!part1.length || !part3.length || !hasEssayContent) {\r\n        console.error(\r\n          'Incomplete multi-part RLA payload received:',\r\n          quizPayload\r\n        );\r\n        alert('The generated RLA exam was incomplete. Please try again.');\r\n        return;\r\n      }\r\n\r\n      preparedQuiz.part1_reading = part1.map((q) => ({\r\n        ...q,\r\n        isPremade: q.isPremade === true || preparedQuiz.isPremade,\r\n      }));\r\n      preparedQuiz.part3_language = part3.map((q) => ({\r\n        ...q,\r\n        isPremade: q.isPremade === true || preparedQuiz.isPremade,\r\n      }));\r\n      preparedQuiz.part2_essay = essay;\r\n      normalizedQuestions = [...part1, ...part3];\r\n    }\r\n\r\n    if (!normalizedQuestions.length) {\r\n      console.error(\r\n        'Quiz payload did not include any valid questions:',\r\n        quizPayload\r\n      );\r\n      alert(\r\n        'The generated quiz did not include any questions. Please try again.'\r\n      );\r\n      return;\r\n    }\r\n\r\n    preparedQuiz.questions = normalizedQuestions.map((q) => ({\r\n      ...q,\r\n      isPremade: q.isPremade === true || preparedQuiz.isPremade,\r\n    }));\r\n\r\n    setActiveQuiz(preparedQuiz);\r\n    // For any multi-part quiz, the view should be 'quiz' so the main QuizRunner can handle routing.\r\n    const requiresStandardView =\r\n      preparedQuiz.type === 'multi-part-rla' ||\r\n      preparedQuiz.type === 'multi-part-math';\r\n    const normalizedType =\r\n      preparedQuiz.type === 'reading' ? 'quiz' : preparedQuiz.type || 'quiz';\r\n    const viewType = requiresStandardView ? 'quiz' : normalizedType;\r\n    setView(viewType);\r\n  };\r\n\r\n  const onQuizComplete = async (results) => {\r\n    setQuizResults(results);\r\n    setView('results');\r\n\r\n    if (results.quiz) {\r\n      setActiveQuiz(results.quiz);\r\n    }\r\n\r\n    const { subject } = results;\r\n\r\n    // Build per-question responses (correct + challenge_tags) when we have answers/questions\r\n    let responses = [];\r\n    try {\r\n      const quizObj = results.quiz || activeQuiz || {};\r\n      const questions = Array.isArray(quizObj?.questions)\r\n        ? quizObj.questions\r\n        : [];\r\n      const answers = Array.isArray(results?.answers) ? results.answers : [];\r\n      if (\r\n        questions.length &&\r\n        answers.length &&\r\n        questions.length === answers.length\r\n      ) {\r\n        const normalizeAnswer = (val) => {\r\n          if (val === null || val === undefined) return '';\r\n          return String(val)\r\n            .replace(/^\\$+|\\$+$/g, '')\r\n            .replace(/\\u00A0/g, ' ')\r\n            .replace(/\\s+/g, ' ')\r\n            .trim();\r\n        };\r\n        const isNumericEqual = (a, b) => {\r\n          const na = Number(a);\r\n          const nb = Number(b);\r\n          if (!Number.isFinite(na) || !Number.isFinite(nb)) return false;\r\n          return Math.abs(na - nb) < 1e-9;\r\n        };\r\n        responses = questions.map((q, i) => {\r\n          const userAns = answers[i];\r\n          let correct = false;\r\n          if (!q.answerOptions || q.answerOptions.length === 0) {\r\n            // fill-in or numeric\r\n            const user = normalizeAnswer(userAns);\r\n            const key = normalizeAnswer(q.correctAnswer);\r\n            correct =\r\n              !!user && !!key && (user === key || isNumericEqual(user, key));\r\n          } else {\r\n            const correctOption = (q.answerOptions || []).find(\r\n              (opt) => opt.isCorrect\r\n            );\r\n            correct = !!correctOption && userAns === correctOption.text;\r\n          }\r\n          const tags = Array.isArray(q.challenge_tags) ? q.challenge_tags : [];\r\n          return {\r\n            correct,\r\n            challenge_tags: tags,\r\n            originalSubject: q.originalSubject || q.subject, // Pass subject for diagnostic analysis\r\n          };\r\n        });\r\n      }\r\n    } catch (e) {\r\n      console.warn(\r\n        '[quiz] failed to build responses payload:',\r\n        e?.message || e\r\n      );\r\n    }\r\n\r\n    // For Practice Session/Pop Quiz, skip attempt history but still ingest challenge responses\r\n    if (subject === 'Pop Quiz' || subject === 'Practice Session') {\r\n      try {\r\n        const token =\r\n          (typeof localStorage !== 'undefined' &&\r\n            localStorage.getItem('appToken')) ||\r\n          null;\r\n        if (token && responses.length) {\r\n          await fetch(`${API_BASE_URL}/api/challenges/ingest-responses`, {\r\n            method: 'POST',\r\n            headers: {\r\n              'Content-Type': 'application/json',\r\n              Authorization: `Bearer ${token}`,\r\n            },\r\n            body: JSON.stringify({\r\n              responses,\r\n              source: subject === 'Pop Quiz' ? 'pop_quiz' : 'practice',\r\n            }),\r\n          });\r\n        }\r\n      } catch (e) {\r\n        console.warn('[practice] failed to ingest responses:', e?.message || e);\r\n      }\r\n      return;\r\n    }\r\n\r\n    const quizDetails = results.quiz || activeQuiz;\r\n    if (!quizDetails) {\r\n      return;\r\n    }\r\n\r\n    const quizCode =\r\n      quizDetails.quizCode || quizDetails.code || quizDetails.id || null;\r\n    if (!quizCode) {\r\n      return;\r\n    }\r\n\r\n    // Persist to local progress history\r\n    persistQuizAttempt({\r\n      subject,\r\n      quizCode,\r\n      quizTitle:\r\n        quizDetails.title || quizDetails.topicTitle || 'GED Practice Exam',\r\n      quizType: quizDetails.type,\r\n      score: results.score,\r\n      totalQuestions: results.totalQuestions,\r\n      scaledScore: results.scaledScore,\r\n      passed:\r\n        typeof results.scaledScore === 'number'\r\n          ? results.scaledScore >= GED_PASSING_SCORE\r\n          : undefined,\r\n    });\r\n\r\n    // Also POST to backend for challenge-tag processing if authenticated\r\n    try {\r\n      const token =\r\n        (typeof localStorage !== 'undefined' &&\r\n          localStorage.getItem('appToken')) ||\r\n        null;\r\n      if (token) {\r\n        const payload = {\r\n          subject,\r\n          quizCode,\r\n          quizTitle:\r\n            quizDetails.title || quizDetails.topicTitle || 'GED Practice Exam',\r\n          quizType: quizDetails.type,\r\n          score: results.score,\r\n          totalQuestions: results.totalQuestions,\r\n          scaledScore: results.scaledScore,\r\n          passed:\r\n            typeof results.scaledScore === 'number'\r\n              ? results.scaledScore >= GED_PASSING_SCORE\r\n              : undefined,\r\n          ...(responses.length ? { responses } : {}),\r\n          ...(quizDetails && (quizDetails.assigned_by || quizDetails.assignedBy)\r\n            ? { assigned_by: quizDetails.assigned_by || quizDetails.assignedBy }\r\n            : {}),\r\n        };\r\n        await fetch(`${API_BASE_URL}/api/quiz-attempts`, {\r\n          method: 'POST',\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n            Authorization: `Bearer ${token}`,\r\n          },\r\n          body: JSON.stringify(payload),\r\n        });\r\n      }\r\n    } catch (e) {\r\n      console.warn(\r\n        '[quiz] failed to POST /api/quiz-attempts:',\r\n        e?.message || e\r\n      );\r\n    }\r\n  };\r\n\r\n  const handleStartPopQuiz = () => {\r\n    // Open the Practice Session modal (renamed feature)\r\n    setShowPracticeModal(true);\r\n  };\r\n\r\n  const navigateHome = useCallback(() => {\r\n    setActiveQuiz(null);\r\n    setQuizResults(null);\r\n    setActiveGenerator(null);\r\n    goToDashboard();\r\n  }, [goToDashboard]);\r\n\r\n  const handleShowProfileView = useCallback(() => {\r\n    goToProfile();\r\n  }, [goToProfile]);\r\n\r\n  const handleShowSettingsView = useCallback(() => {\r\n    goToSettings();\r\n  }, [goToSettings]);\r\n\r\n  const handleReviewMarked = (markedQuestions, subject) => {\r\n    const reviewQuiz = {\r\n      id: 'review_quiz_' + new Date().getTime(),\r\n      title: 'Review Marked Questions',\r\n      questions: markedQuestions.map((q, index) => ({\r\n        ...q,\r\n        questionNumber: index + 1,\r\n      })),\r\n    };\r\n    startQuiz(reviewQuiz, subject || 'Review');\r\n  };\r\n\r\n  const renderView = () => {\r\n    if (!currentUser) {\r\n      return <SharedAuthScreen onLogin={handleLogin} />;\r\n    }\r\n\r\n    // Normalize role string (handle both super_admin and superAdmin formats)\r\n    const normalizedRole =\r\n      currentUser.role?.replace('_', '') || currentUser.role;\r\n\r\n    // Role-based dashboard routing (superAdmin, orgAdmin, instructor have separate dashboards)\r\n    if (normalizedRole === 'superAdmin' || normalizedRole === 'superadmin') {\r\n      return (\r\n        <SuperAdminDashboard\r\n          user={currentUser}\r\n          token={authToken}\r\n          onLogout={handleLogout}\r\n        />\r\n      );\r\n    }\r\n    if (normalizedRole === 'orgAdmin' || normalizedRole === 'orgadmin') {\r\n      return (\r\n        <OrgAdminDashboard\r\n          user={currentUser}\r\n          token={authToken}\r\n          onLogout={handleLogout}\r\n        />\r\n      );\r\n    }\r\n    if (normalizedRole === 'instructor') {\r\n      return (\r\n        <InstructorDashboard\r\n          user={currentUser}\r\n          token={authToken}\r\n          onLogout={handleLogout}\r\n        />\r\n      );\r\n    }\r\n\r\n    // Student view (default) - keep existing quiz/practice UI\r\n    switch (view) {\r\n      case 'quiz':\r\n        return (\r\n          <QuizRunner\r\n            quiz={activeQuiz}\r\n            onComplete={onQuizComplete}\r\n            onExit={goBack}\r\n          />\r\n        );\r\n      case 'reading':\r\n        return (\r\n          <ReadingPractice\r\n            quiz={activeQuiz}\r\n            onComplete={onQuizComplete}\r\n            onExit={goBack}\r\n          />\r\n        );\r\n      case 'essay':\r\n        return <EssayGuide onExit={goBack} />;\r\n      case 'simulation':\r\n        return activeQuiz &&\r\n          (activeQuiz.id === 'sim_life' ||\r\n            activeQuiz.title === 'The Game of Life') ? (\r\n          <div className=\"fade-in\" data-subject=\"Simulations\">\r\n            <div\r\n              className=\"rounded-2xl overflow-hidden shadow-xl mb-4\"\r\n              style={{ background: 'var(--subject-simulations-gradient)' }}\r\n            >\r\n              <header className=\"flex flex-wrap items-center justify-between gap-3 p-4 text-white\">\r\n                <div className=\"flex-none min-w-[120px]\">\r\n                  <button\r\n                    onClick={goBack}\r\n                    className=\"inline-flex items-center gap-2 text-sm font-semibold bg-white/10 hover:bg-white/20 px-3 py-1.5 rounded-md\"\r\n                  >\r\n                    <ArrowLeftIcon />\r\n                    <span>Back</span>\r\n                  </button>\r\n                </div>\r\n                <h2 className=\"text-2xl font-extrabold text-center flex-1\">\r\n                  The Game of Life\r\n                </h2>\r\n                <div\r\n                  className=\"flex-none min-w-[120px]\"\r\n                  aria-hidden=\"true\"\r\n                ></div>\r\n              </header>\r\n            </div>\r\n            <div\r\n              className=\"panel-surface rounded-xl p-2 border\"\r\n              style={{\r\n                borderColor: 'var(--subject-simulations-border)',\r\n                backgroundColor: 'white',\r\n              }}\r\n            >\r\n              <LifeChoicesSimulation srcPath=\"Game of Life/The Game of life.html\" />\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <div className=\"relative overflow-hidden rounded-2xl bg-gradient-to-br from-orange-400 via-orange-300 to-orange-500 text-white p-8 sm:p-10 text-center shadow-xl\">\r\n            <div className=\"absolute inset-0 bg-[radial-gradient(circle_at_top_left,_rgba(255,255,255,0.25),_transparent_55%)] pointer-events-none\"></div>\r\n            <div className=\"relative z-10 flex flex-col items-center gap-6\">\r\n              <div className=\"flex items-center justify-center w-16 h-16 rounded-full bg-white/20 shadow-lg\">\r\n                <svg\r\n                  xmlns=\"http://www.w3.org/2000/svg\"\r\n                  viewBox=\"0 0 24 24\"\r\n                  fill=\"none\"\r\n                  stroke=\"currentColor\"\r\n                  strokeWidth=\"1.5\"\r\n                  className=\"w-9 h-9\"\r\n                >\r\n                  <path\r\n                    strokeLinecap=\"round\"\r\n                    strokeLinejoin=\"round\"\r\n                    d=\"M12 6v6l3.5 3.5M21 12a9 9 0 11-18 0 9 9 0 0118 0z\"\r\n                  />\r\n                </svg>\r\n              </div>\r\n              <div>\r\n                <h1 className=\"text-3xl font-extrabold\">\r\n                  Interactive Simulation\r\n                </h1>\r\n                <p className=\"mt-3 text-lg opacity-90 max-w-xl\">\r\n                  Choose a simulation from the dashboard to get started.\r\n                </p>\r\n              </div>\r\n              <button\r\n                onClick={goBack}\r\n                className=\"px-6 py-2.5 rounded-full bg-white text-orange-600 font-semibold shadow-lg transition hover:shadow-xl hover:bg-orange-50\"\r\n              >\r\n                Back to Dashboard\r\n              </button>\r\n            </div>\r\n          </div>\r\n        );\r\n      case 'results':\r\n        return (\r\n          <ResultsScreen\r\n            results={quizResults}\r\n            quiz={activeQuiz}\r\n            onRestart={() => startQuiz(activeQuiz, activeQuiz.subject)}\r\n            onHome={navigateHome}\r\n            onReviewMarked={handleReviewMarked}\r\n          />\r\n        );\r\n      case 'generator':\r\n        return (\r\n          <AIQuizGenerator\r\n            {...activeGenerator}\r\n            onQuizGenerated={(quiz) => startQuiz(quiz, activeGenerator.subject)}\r\n            onExit={navigateHome}\r\n          />\r\n        );\r\n      case 'profile':\r\n        // Deprecated path: use activeView under 'start'. Keep for backward safety but route to start/profile\r\n        goToProfile();\r\n        return null;\r\n      case 'settings':\r\n        // Deprecated path: use activeView under 'start'. Keep for backward safety but route to start/settings\r\n        goToSettings();\r\n        return null;\r\n      case 'mathTools':\r\n        return (\r\n          <MathPracticeToolsPage\r\n            onExit={navigateHome}\r\n            activeTab={mathToolsActiveTab}\r\n            onTabChange={setMathToolsActiveTab}\r\n            graphingNode={mathToolsNodes ? mathToolsNodes.graphing : null}\r\n            geometryNode={mathToolsNodes ? mathToolsNodes.geometry : null}\r\n          />\r\n        );\r\n      case 'start':\r\n      default: {\r\n        // Route within the dashboard container based on activeView\r\n        if (activeView === 'profile') {\r\n          return (\r\n            <ProfileView\r\n              loading={profileLoading}\r\n              error={profileError}\r\n              data={profileData}\r\n              nameDraft={nameDraft}\r\n              onNameDraftChange={handleNameDraftChange}\r\n              onSubmitName={handleProfileNameSubmit}\r\n              nameSaving={nameSaving}\r\n              nameStatus={nameStatus}\r\n              onRefresh={handleProfileRefresh}\r\n              onBack={goToDashboard}\r\n              onSaveAll={handleSaveAllProfile}\r\n              savingAll={savingAll}\r\n              subjectEdits={subjectEdits}\r\n              onSubjectFieldChange={handleSubjectFieldChange}\r\n              onSubjectSave={handleSaveSubject}\r\n              testSaving={testSaving}\r\n              onSaveChallenges={handleSaveChallenges}\r\n              onToggleChallenge={toggleChallengeSelection}\r\n              challengesSaving={challengesSaving}\r\n              onFinishOnboarding={handleFinishOnboarding}\r\n              onCompleteLater={handleCompleteOnboardingLater}\r\n              finishingOnboarding={finishingOnboarding}\r\n              onboardingComplete={onboardingComplete}\r\n              selectedIcon={selectedIcon}\r\n              onIconChange={setSelectedIcon}\r\n              onSaveIcon={handleSaveIcon}\r\n              iconSaving={iconSaving}\r\n            />\r\n          );\r\n        }\r\n        if (activeView === 'settings') {\r\n          return (\r\n            <SettingsView\r\n              preferences={preferences}\r\n              onApply={handleSettingsInstantChange}\r\n              onSave={handlePersistPreferences}\r\n              saving={settingsSaving}\r\n              status={settingsStatus}\r\n              onBack={goToDashboard}\r\n              loading={profileLoading}\r\n            />\r\n          );\r\n        }\r\n        // Dashboard, Quizzes, Progress all use the StartScreen container; scrolling is handled by pendingScrollTarget\r\n        return (\r\n          <StartScreen\r\n            currentUser={currentUser}\r\n            onLogout={handleLogout}\r\n            progress={progress}\r\n            profileBundle={profileData}\r\n            testDate={profileTestDate}\r\n            onboardingComplete={onboardingComplete}\r\n            onShowProfile={handleShowProfileView}\r\n            onSelectQuiz={startQuiz}\r\n            vocabulary={vocabulary}\r\n            onRefreshProfile={loadProfileOnce}\r\n            onStartPopQuiz={handleStartPopQuiz}\r\n            onStartComprehensiveExam={handleGenerateComprehensiveExam}\r\n            setIsLoading={setIsLoading}\r\n            setLoadingMessage={setLoadingMessage}\r\n            setShowFormulaSheet={setShowFormulaSheet}\r\n            onOpenMathTools={openMathTools}\r\n            setToolsModalSubject={setToolsModalSubject}\r\n            setShowToolsModal={setShowToolsModal}\r\n            theme={preferences.theme}\r\n            selectedSubject={selectedSubject}\r\n            selectedCategory={selectedCategory}\r\n            onSelectSubject={selectSubject}\r\n            onSelectCategory={selectCategory}\r\n            onBack={goBack}\r\n            onSelectGenerator={async (\r\n              subject,\r\n              topic,\r\n              setIsLoading,\r\n              setLoadingMessage\r\n            ) => {\r\n              if (!topic) {\r\n                alert('Please select a topic first.');\r\n                return;\r\n              }\r\n              const subjectParam = resolveSubjectParam(subject);\r\n              if (!subjectParam) {\r\n                alert('Sorry, this subject is not supported yet.');\r\n                return;\r\n              }\r\n              setLoadingMessage(\r\n                'Please give us a moment to smith this for you...'\r\n              );\r\n              setIsLoading(true);\r\n\r\n              try {\r\n                const questions = await generateTopicQuiz(subjectParam, topic);\r\n\r\n                if (!questions.length) {\r\n                  throw new Error('The quiz service returned an empty quiz.');\r\n                }\r\n\r\n                const generatedQuiz = {\r\n                  subject,\r\n                  topic,\r\n                  id: `ai_${Date.now()}`,\r\n                  title: `${subject} Quiz: ${topic}`,\r\n                  questions,\r\n                  // Enable formula sheet for Math & Science topic quizzes\r\n                  config: {\r\n                    formulaSheet: subject === 'Math' || subject === 'Science',\r\n                  },\r\n                };\r\n\r\n                startQuiz(generatedQuiz, subject);\r\n              } catch (err) {\r\n                console.error('Error generating quiz:', err);\r\n                alert(`Sorry, something went wrong. ${err.message}`);\r\n              } finally {\r\n                setIsLoading(false);\r\n              }\r\n            }}\r\n          />\r\n        );\r\n      }\r\n    }\r\n  };\r\n\r\n  const mathToolsNodes = useMemo(() => {\r\n    if (!mathToolsInitialized) {\r\n      return null;\r\n    }\r\n    return {\r\n      graphing: <GraphingTool key=\"math-tools-graphing\" />,\r\n      geometry: <GeometryPracticeTool key=\"math-tools-geometry\" />,\r\n    };\r\n  }, [mathToolsInitialized]);\r\n\r\n  return (\r\n    <>\r\n      {showWelcomeSplash && (\r\n        <div\r\n          className={`fixed inset-0 z-[60] flex flex-col items-center justify-center text-white transition-opacity duration-700 ${\r\n            welcomeFading ? 'opacity-0' : 'opacity-100'\r\n          }`}\r\n          style={{ backgroundColor: 'var(--modal-overlay)' }}\r\n        >\r\n          <img\r\n            src=\"/images/kingmaker-logo.svg\"\r\n            alt=\"Kingmakerconsults logo\"\r\n            className=\"w-4/5 max-w-4xl h-auto object-contain drop-shadow-2xl\"\r\n          />\r\n          <p className=\"mt-8 text-3xl sm:text-4xl font-semibold tracking-wide\">\r\n            Welcome{welcomeName ? `, ${welcomeName}!` : '!'}\r\n          </p>\r\n        </div>\r\n      )}\r\n      <div\r\n        className=\"min-h-screen flex flex-col transition-colors\"\r\n        style={{\r\n          backgroundColor: 'var(--bg-page)',\r\n          color: 'var(--text-primary)',\r\n        }}\r\n      >\r\n        <AppHeader\r\n          currentUser={currentUser}\r\n          onLogout={handleLogout}\r\n          onShowHome={goToDashboard}\r\n          onShowProfile={goToProfile}\r\n          onShowSettings={goToSettings}\r\n          onShowQuizzes={goToQuizzes}\r\n          onShowProgress={goToProgress}\r\n          activePanel={\r\n            activeView === 'profile'\r\n              ? 'profile'\r\n              : activeView === 'settings'\r\n              ? 'settings'\r\n              : null\r\n          }\r\n          theme={preferences.theme}\r\n          onToggleTheme={toggleThemePreference}\r\n        />\r\n        {isLoading && (\r\n          <div\r\n            className=\"fade-in fixed inset-0 w-full h-full flex flex-col items-center justify-center z-50 text-center px-4\"\r\n            style={{ backgroundColor: 'var(--modal-overlay)' }}\r\n          >\r\n            <h2 className=\"text-3xl font-bold text-white mb-4\">Loading...</h2>\r\n            <p className=\"text-xl text-info mb-2\">{loadingMessage}</p>\r\n            <p className=\"text-lg text-muted italic h-8 transition-opacity duration-500\">\r\n              {revolvingPrompt}\r\n            </p>\r\n            {/* Optional: Add a spinner element here */}\r\n          </div>\r\n        )}\r\n        {showFormulaSheet && (\r\n          <FormulaSheetModal onClose={() => setShowFormulaSheet(false)} />\r\n        )}\r\n        {showToolsModal && (\r\n          <SubjectToolsModal\r\n            subject={toolsModalSubject}\r\n            dark={preferences.theme === 'dark'}\r\n            onClose={() => {\r\n              setShowToolsModal(false);\r\n              setToolsModalSubject(null);\r\n            }}\r\n          />\r\n        )}\r\n        {showNamePrompt && (\r\n          <NamePromptModal\r\n            user={currentUser}\r\n            onSave={handleSaveName}\r\n            onDismiss={handleDismissNamePrompt}\r\n          />\r\n        )}\r\n        {showPracticeModal && (\r\n          <PracticeSessionModal\r\n            defaultMode=\"balanced\"\r\n            defaultDuration={10}\r\n            onDismiss={() => setShowPracticeModal(false)}\r\n            onStart={async ({ mode, durationMinutes, practiceMode }) => {\r\n              const payload = { mode, durationMinutes, practiceMode };\r\n              const resp = await fetchJSON(\r\n                `${API_BASE_URL}/api/practice-session`,\r\n                {\r\n                  method: 'POST',\r\n                  headers: { 'Content-Type': 'application/json' },\r\n                  body: JSON.stringify(payload),\r\n                }\r\n              );\r\n              if (\r\n                !resp ||\r\n                !Array.isArray(resp.questions) ||\r\n                resp.questions.length === 0\r\n              ) {\r\n                throw new Error('Practice session is not available right now.');\r\n              }\r\n              const practiceQuiz = {\r\n                id: 'practice_' + Date.now(),\r\n                title:\r\n                  practiceMode === 'olympics'\r\n                    ? 'Olympics Practice'\r\n                    : 'Practice Session',\r\n                // Mark practice session questions as premade so sanitized math renders with KaTeX\r\n                isPremade: true,\r\n                practiceMode: practiceMode || 'standard',\r\n                questions: resp.questions.map((q, i) => ({\r\n                  ...q,\r\n                  isPremade: true,\r\n                  questionNumber: i + 1,\r\n                })),\r\n                timeLimit:\r\n                  practiceMode === 'olympics'\r\n                    ? 0\r\n                    : Number(resp.durationMinutes || durationMinutes) * 60,\r\n              };\r\n              startQuiz(\r\n                practiceQuiz,\r\n                practiceMode === 'olympics'\r\n                  ? 'Olympics Practice'\r\n                  : 'Practice Session'\r\n              );\r\n              setShowPracticeModal(false);\r\n            }}\r\n          />\r\n        )}\r\n        <main className=\"flex-1 w-full max-w-6xl mx-auto p-4 sm:p-6 md:p-8 pt-[4.5rem] space-y-8 text-primary transition-colors duration-300\">\r\n          <div className=\"content-card panel-surface border-subtle rounded-2xl shadow-xl p-4 sm:p-6 md:p-8 transition-all duration-300 relative\">\r\n            {renderView()}\r\n          </div>\r\n        </main>\r\n        <footer className=\"w-full flex flex-col items-center gap-3 text-xs sm:text-sm text-muted pb-6\">\r\n          <img\r\n            src=\"/images/kingmaker-logo.svg\"\r\n            alt=\"Kingmakerconsults logo\"\r\n            className=\"h-48 w-auto object-contain\"\r\n          />\r\n          <p>Kingmakerconsults Copyright &copy;</p>\r\n        </footer>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n\r\n// --- VIEWS & COMPONENTS ---\r\n\r\nfunction ProfileView({\r\n  loading,\r\n  error,\r\n  data,\r\n  nameDraft,\r\n  onNameDraftChange,\r\n  onSubmitName,\r\n  nameSaving,\r\n  nameStatus,\r\n  onRefresh,\r\n  onBack,\r\n  onSaveAll,\r\n  savingAll,\r\n  subjectEdits,\r\n  onSubjectFieldChange,\r\n  onSubjectSave,\r\n  testSaving,\r\n  onToggleChallenge,\r\n  onSaveChallenges,\r\n  challengesSaving,\r\n  onFinishOnboarding,\r\n  onCompleteLater,\r\n  finishingOnboarding,\r\n  onboardingComplete,\r\n}) {\r\n  const profile = data?.profile || {};\r\n  const challengeOptions = Array.isArray(data?.challengeOptions)\r\n    ? data.challengeOptions\r\n    : [];\r\n  const totalChallenges = challengeOptions.length;\r\n  const recentSummary = data?.recentScoresDashboard || {};\r\n  const legacyScores = data?.scores || {};\r\n  const SUBJECT_ORDER = useMemo(() => [...SUBJECT_NAMES], []);\r\n  const rawTestPlan = Array.isArray(data?.testPlan) ? data.testPlan : [];\r\n  const normalizedTestPlan = useMemo(() => {\r\n    const map = new Map();\r\n    rawTestPlan.forEach((entry) => {\r\n      if (!entry || !entry.subject) {\r\n        return;\r\n      }\r\n      const subject = String(entry.subject);\r\n      map.set(subject, {\r\n        subject,\r\n        testDate: entry.testDate || '',\r\n        testLocation: entry.testLocation || '',\r\n        passed: !!entry.passed,\r\n        notScheduled: !!entry.notScheduled,\r\n        daysUntil: entry.daysUntil ?? null,\r\n      });\r\n    });\r\n    SUBJECT_ORDER.forEach((subject) => {\r\n      if (!map.has(subject)) {\r\n        map.set(subject, {\r\n          subject,\r\n          testDate: '',\r\n          testLocation: '',\r\n          passed: false,\r\n          notScheduled: false,\r\n          daysUntil: null,\r\n        });\r\n      }\r\n    });\r\n    const orderedSubjects = [\r\n      ...SUBJECT_ORDER,\r\n      ...Array.from(map.keys()).filter(\r\n        (subject) => !SUBJECT_ORDER.includes(subject)\r\n      ),\r\n    ];\r\n    const seen = new Set();\r\n    const result = [];\r\n    orderedSubjects.forEach((subject) => {\r\n      if (!seen.has(subject) && map.has(subject)) {\r\n        result.push(map.get(subject));\r\n        seen.add(subject);\r\n      }\r\n    });\r\n    map.forEach((value, subject) => {\r\n      if (!seen.has(subject)) {\r\n        result.push(value);\r\n      }\r\n    });\r\n    return result;\r\n  }, [rawTestPlan, SUBJECT_ORDER]);\r\n\r\n  const nextUpcoming = data?.nextUpcomingTest || null;\r\n  const formatDayCount = (value) => {\r\n    if (typeof value !== 'number' || !Number.isFinite(value)) {\r\n      return null;\r\n    }\r\n    const rounded = Math.max(0, Math.floor(value));\r\n    return `${rounded} day${rounded === 1 ? '' : 's'}`;\r\n  };\r\n  const nextUpcomingDaysText = formatDayCount(nextUpcoming?.daysUntil);\r\n  const nextUpcomingSummary =\r\n    nextUpcoming && nextUpcoming.testDate\r\n      ? `Next test: ${nextUpcoming.subject} on ${nextUpcoming.testDate}${\r\n          nextUpcomingDaysText ? ` (${nextUpcomingDaysText})` : ''\r\n        }`\r\n      : 'No test scheduled yet.';\r\n\r\n  const selectedFromServer = useMemo(\r\n    () => challengeOptions.filter((opt) => opt.selected).map((opt) => opt.id),\r\n    [challengeOptions]\r\n  );\r\n  const [selectedIds, setSelectedIds] = useState(selectedFromServer);\r\n  const [showAllChallenges, setShowAllChallenges] = useState(false);\r\n  useEffect(() => {\r\n    setSelectedIds(selectedFromServer);\r\n  }, [selectedFromServer]);\r\n\r\n  const groupedChallenges = useMemo(() => {\r\n    const grouped = {};\r\n    challengeOptions.forEach((opt) => {\r\n      const subjectKey = opt.subject || 'Other';\r\n      const subtopicKey = opt.subtopic || 'General';\r\n      if (!grouped[subjectKey]) {\r\n        grouped[subjectKey] = {};\r\n      }\r\n      if (!grouped[subjectKey][subtopicKey]) {\r\n        grouped[subjectKey][subtopicKey] = [];\r\n      }\r\n      grouped[subjectKey][subtopicKey].push(opt);\r\n    });\r\n    return grouped;\r\n  }, [challengeOptions]);\r\n\r\n  const selectedCount = selectedIds.length;\r\n  const highlightName = !onboardingComplete && !profile.name;\r\n  const hasAnyTestProgress = normalizedTestPlan.some(\r\n    (entry) => entry.passed || entry.notScheduled || entry.testDate\r\n  );\r\n  const highlightTest = !onboardingComplete && !hasAnyTestProgress;\r\n  const highlightChallenges = !onboardingComplete && selectedCount === 0;\r\n\r\n  const handleChallengeToggle = (id) => {\r\n    setSelectedIds((prev) => {\r\n      const next = new Set(prev);\r\n      if (next.has(id)) {\r\n        next.delete(id);\r\n      } else {\r\n        next.add(id);\r\n      }\r\n      return Array.from(next);\r\n    });\r\n    onToggleChallenge?.(id);\r\n  };\r\n\r\n  const handleChallengesSubmit = (event) => {\r\n    event.preventDefault();\r\n    onSaveChallenges?.();\r\n  };\r\n\r\n  const handleBackClick = () => {\r\n    // Allow returning to dashboard even if onboarding is pending\r\n    onBack?.();\r\n  };\r\n\r\n  const timezoneLabel = profile.timezone || 'America/New_York';\r\n  const reminderLabel = profile.reminderEnabled === false ? 'Off' : 'On';\r\n\r\n  return (\r\n    <section\r\n      id=\"profileView\"\r\n      data-view=\"profile\"\r\n      tabIndex={-1}\r\n      className=\"outline-none\"\r\n    >\r\n      <div className=\"max-w-4xl mx-auto space-y-6 settings-card\">\r\n        <div className=\"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between settings-header\">\r\n          <div>\r\n            <h1 className=\"text-3xl font-bold text-primary drop-shadow-sm\">\r\n              Profile\r\n            </h1>\r\n            <p className=\"text-sm text-muted\">\r\n              Update your learning plan and keep your information in sync.\r\n            </p>\r\n          </div>\r\n          <div className=\"flex flex-col gap-2 sm:flex-row sm:items-center\">\r\n            <button\r\n              type=\"button\"\r\n              onClick={onRefresh}\r\n              className=\"refresh-button inline-flex items-center justify-center rounded-lg btn-info px-3 py-2 text-sm font-semibold transition-colors disabled:opacity-60\"\r\n              disabled={loading}\r\n            >\r\n              {loading ? 'Refreshing' : 'Refresh'}\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              onClick={onSaveAll}\r\n              className=\"inline-flex items-center justify-center rounded-lg btn-success px-3 py-2 text-sm font-semibold disabled:opacity-60\"\r\n              disabled={!!savingAll}\r\n            >\r\n              {savingAll ? 'Saving' : 'Save All'}\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              onClick={handleBackClick}\r\n              className=\"inline-flex items-center justify-center rounded-lg btn-ghost px-3 py-2 text-sm font-semibold\"\r\n            >\r\n              Back to Dashboard\r\n            </button>\r\n          </div>\r\n        </div>\r\n\r\n        {error && !loading && (\r\n          <div\r\n            className=\"rounded-xl border-danger bg-danger-soft p-4 text-sm text-danger\"\r\n            role=\"alert\"\r\n          >\r\n            {error}\r\n          </div>\r\n        )}\r\n\r\n        {!onboardingComplete && (\r\n          <div\r\n            className=\"onboarding-banner text-slate-900\"\r\n            style={{\r\n              border: '1px solid #f6c',\r\n              background: '#fff0f6',\r\n              padding: '1rem',\r\n              borderRadius: '0.5rem',\r\n              color: '#0f172a',\r\n            }}\r\n          >\r\n            <strong>Welcome!</strong> Before we start, fill this out so we can\r\n            build you a plan:\r\n            <ol className=\"list-decimal pl-5 text-sm text-slate-700 space-y-1 mt-2\">\r\n              <li>Pick the areas you struggle with</li>\r\n              <li>Set your test date (or mark \"I passed\")</li>\r\n              <li>Choose a display name</li>\r\n            </ol>\r\n            <div className=\"mt-3 flex flex-col sm:flex-row gap-2\">\r\n              <button\r\n                id=\"finishOnboardingBtn\"\r\n                type=\"button\"\r\n                onClick={onFinishOnboarding}\r\n                className=\"inline-flex items-center justify-center rounded-lg btn-primary px-4 py-2 text-sm font-semibold disabled:opacity-60\"\r\n                disabled={finishingOnboarding}\r\n              >\r\n                {finishingOnboarding ? 'Checking' : \"I'm Done\"}\r\n              </button>\r\n              <button\r\n                id=\"completeLaterBtn\"\r\n                type=\"button\"\r\n                onClick={onCompleteLater}\r\n                className=\"inline-flex items-center justify-center rounded-lg btn-ghost px-4 py-2 text-sm font-semibold text-slate-900\"\r\n                aria-label=\"Skip onboarding for now\"\r\n              >\r\n                Complete Later\r\n              </button>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        <form\r\n          onSubmit={onSubmitName}\r\n          className={`panel-surface rounded-2xl border p-5 shadow-sm space-y-4 ${\r\n            highlightName ? 'border-danger' : 'border-subtle'\r\n          }`}\r\n          aria-labelledby=\"profile-name-heading\"\r\n        >\r\n          <div>\r\n            <h2\r\n              id=\"profile-name-heading\"\r\n              className=\"text-xl font-semibold text-primary\"\r\n            >\r\n              Display Name\r\n            </h2>\r\n            <p className=\"text-sm text-muted\">\r\n              This name appears across the app.\r\n            </p>\r\n          </div>\r\n          <div className=\"flex flex-col gap-3 sm:flex-row sm:items-center\">\r\n            <label className=\"w-full sm:flex-1\">\r\n              <span className=\"sr-only\">Display name</span>\r\n              <input\r\n                type=\"text\"\r\n                value={nameDraft}\r\n                onChange={(event) => onNameDraftChange(event.target.value)}\r\n                maxLength={80}\r\n                placeholder=\"Your name\"\r\n                className=\"w-full rounded-lg border-subtle px-3 py-2 text-base focus-ring-primary focus:border-primary\"\r\n              />\r\n            </label>\r\n            <button\r\n              type=\"submit\"\r\n              className=\"inline-flex items-center justify-center rounded-lg btn-primary px-4 py-2 text-sm font-semibold disabled:opacity-60\"\r\n              disabled={nameSaving}\r\n            >\r\n              {nameSaving ? 'Saving' : 'Save Name'}\r\n            </button>\r\n          </div>\r\n          <p className=\"text-xs text-muted\">Maximum 80 characters.</p>\r\n          {nameStatus && (\r\n            <p\r\n              className=\"text-sm text-secondary\"\r\n              role=\"status\"\r\n              aria-live=\"polite\"\r\n            >\r\n              {nameStatus}\r\n            </p>\r\n          )}\r\n        </form>\r\n\r\n        <div className=\"grid gap-4 md:grid-cols-2\">\r\n          <section\r\n            id=\"testPlanCard\"\r\n            className={`panel-surface rounded-2xl border p-5 shadow-sm space-y-4 ${\r\n              highlightTest ? 'border-danger' : 'border-subtle'\r\n            }`}\r\n          >\r\n            <h2 className=\"text-lg font-semibold text-primary\">\r\n              Upcoming Tests\r\n            </h2>\r\n            <div\r\n              id=\"nextUpcomingSummary\"\r\n              className=\"note text-sm text-secondary\"\r\n            >\r\n              {nextUpcomingSummary}\r\n            </div>\r\n            <div id=\"testPlanList\" className=\"grid gap-4 md:grid-cols-2\">\r\n              {normalizedTestPlan.length === 0 ? (\r\n                <p className=\"col-span-full text-sm text-muted\">\r\n                  No subjects available yet.\r\n                </p>\r\n              ) : (\r\n                normalizedTestPlan.map((entry) => {\r\n                  const edits = (subjectEdits &&\r\n                    subjectEdits[entry.subject]) || {\r\n                    testDate: '',\r\n                    testLocation: '',\r\n                    passed: false,\r\n                    notScheduled: false,\r\n                  };\r\n                  const savingThisSubject = testSaving === entry.subject;\r\n                  const isNotScheduled =\r\n                    typeof edits.notScheduled === 'boolean'\r\n                      ? edits.notScheduled\r\n                      : !!entry.notScheduled;\r\n                  const countdownLabel = (() => {\r\n                    if (isNotScheduled || !entry.testDate || edits.passed) {\r\n                      return null;\r\n                    }\r\n                    if (entry.daysUntil != null) {\r\n                      const value = entry.daysUntil;\r\n                      return `${value} day${value === 1 ? '' : 's'} remaining`;\r\n                    }\r\n                    return 'Countdown not available';\r\n                  })();\r\n\r\n                  return (\r\n                    <div\r\n                      key={entry.subject}\r\n                      className=\"subject-test-block profile-test-card rounded-xl border-subtle panel-surface p-4 space-y-3 shadow-sm\"\r\n                    >\r\n                      <h3 className=\"text-base font-semibold text-secondary\">\r\n                        {entry.subject}\r\n                      </h3>\r\n                      <label className=\"flex flex-col gap-1 text-sm text-secondary\">\r\n                        Date\r\n                        <input\r\n                          type=\"date\"\r\n                          className=\"tp-date profile-date-input rounded-lg border-subtle px-3 py-2 focus-ring-primary focus:border-primary\"\r\n                          data-subject={entry.subject}\r\n                          value={isNotScheduled ? '' : edits.testDate || ''}\r\n                          onChange={(event) =>\r\n                            onSubjectFieldChange?.(\r\n                              entry.subject,\r\n                              'testDate',\r\n                              event.target.value\r\n                            )\r\n                          }\r\n                          disabled={savingThisSubject || isNotScheduled}\r\n                        />\r\n                      </label>\r\n                      <label className=\"inline-row checkbox-row flex items-center gap-2 text-sm text-secondary\">\r\n                        <input\r\n                          type=\"checkbox\"\r\n                          className=\"tp-not-scheduled h-4 w-4 rounded border-subtle text-info focus-ring-primary\"\r\n                          data-subject={entry.subject}\r\n                          checked={!!isNotScheduled}\r\n                          onChange={(event) =>\r\n                            onSubjectFieldChange?.(\r\n                              entry.subject,\r\n                              'notScheduled',\r\n                              event.target.checked\r\n                            )\r\n                          }\r\n                          disabled={savingThisSubject}\r\n                        />\r\n                        <span>I have not scheduled this test yet</span>\r\n                      </label>\r\n                      <label className=\"flex flex-col gap-1 text-sm text-secondary\">\r\n                        Location\r\n                        <input\r\n                          type=\"text\"\r\n                          className=\"tp-location rounded-lg border-subtle px-3 py-2 focus-ring-primary focus:border-primary\"\r\n                          placeholder=\"Test center (optional)\"\r\n                          data-subject={entry.subject}\r\n                          value={edits.testLocation || ''}\r\n                          onChange={(event) =>\r\n                            onSubjectFieldChange?.(\r\n                              entry.subject,\r\n                              'testLocation',\r\n                              event.target.value\r\n                            )\r\n                          }\r\n                          disabled={savingThisSubject}\r\n                        />\r\n                      </label>\r\n                      <label className=\"inline-row checkbox-row flex items-center gap-2 text-sm text-secondary\">\r\n                        <input\r\n                          type=\"checkbox\"\r\n                          className=\"tp-passed h-4 w-4 rounded border-subtle text-info focus-ring-primary\"\r\n                          data-subject={entry.subject}\r\n                          checked={!!edits.passed}\r\n                          onChange={(event) =>\r\n                            onSubjectFieldChange?.(\r\n                              entry.subject,\r\n                              'passed',\r\n                              event.target.checked\r\n                            )\r\n                          }\r\n                          disabled={savingThisSubject}\r\n                        />\r\n                        <span>I already passed this subject</span>\r\n                      </label>\r\n                      <button\r\n                        type=\"button\"\r\n                        className=\"btn tp-save inline-flex items-center justify-center rounded-lg btn-primary px-4 py-2 text-sm font-semibold disabled:opacity-60\"\r\n                        data-subject={entry.subject}\r\n                        onClick={() => onSubjectSave?.(entry.subject)}\r\n                        disabled={savingThisSubject}\r\n                      >\r\n                        {savingThisSubject ? 'Saving' : `Save ${entry.subject}`}\r\n                      </button>\r\n                      {edits.passed ? (\r\n                        <p className=\"text-xs text-success\">\r\n                          Great job! We marked this subject as passed.\r\n                        </p>\r\n                      ) : isNotScheduled ? (\r\n                        <p className=\"text-xs text-muted\">\r\n                          We'll remind you to set a date when you're ready.\r\n                        </p>\r\n                      ) : countdownLabel ? (\r\n                        <p className=\"text-xs text-muted\">{countdownLabel}</p>\r\n                      ) : null}\r\n                    </div>\r\n                  );\r\n                })\r\n              )}\r\n            </div>\r\n            <p className=\"text-xs text-muted\">\r\n              Dates saved here will also appear on your dashboard.\r\n            </p>\r\n          </section>\r\n          <article className=\"glass rounded-2xl border-subtle panel-surface p-5 shadow-lg space-y-3\">\r\n            <h2 className=\"text-lg font-semibold text-primary\">\r\n              Preferences Snapshot\r\n            </h2>\r\n            <dl className=\"space-y-2 text-sm text-secondary\">\r\n              <div className=\"flex items-center justify-between rounded-lg bg-surface-soft px-3 py-2 pref-row\">\r\n                <dt className=\"font-medium text-secondary\">Font Size</dt>\r\n                <dd className=\"capitalize text-primary\">\r\n                  {profile.fontSize || 'md'}\r\n                </dd>\r\n              </div>\r\n              <div className=\"flex items-center justify-between rounded-lg bg-surface-soft px-3 py-2 pref-row\">\r\n                <dt className=\"font-medium text-secondary\">Color Contrast</dt>\r\n                <dd className=\"capitalize text-primary\">Automatic</dd>\r\n              </div>\r\n              <div className=\"flex items-center justify-between rounded-lg bg-surface-soft px-3 py-2 pref-row\">\r\n                <dt className=\"font-medium text-secondary\">Timezone</dt>\r\n                <dd className=\"text-primary\">{timezoneLabel}</dd>\r\n              </div>\r\n              <div className=\"flex items-center justify-between rounded-lg bg-surface-soft px-3 py-2 pref-row\">\r\n                <dt className=\"font-medium text-secondary\">Test Reminders</dt>\r\n                <dd className=\"text-primary\">{reminderLabel}</dd>\r\n              </div>\r\n            </dl>\r\n            <p className=\"text-xs text-muted\">\r\n              Adjust these settings anytime from the Settings panel.\r\n            </p>\r\n          </article>\r\n        </div>\r\n\r\n        <form\r\n          onSubmit={handleChallengesSubmit}\r\n          className={`panel-surface rounded-2xl border p-5 shadow-sm space-y-4 ${\r\n            highlightChallenges ? 'border-danger' : 'border-subtle'\r\n          }`}\r\n        >\r\n          <div className=\"flex items-center justify-between gap-2\">\r\n            <h2 className=\"text-lg font-semibold text-primary\">\r\n              Learning Challenges\r\n            </h2>\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => setShowAllChallenges((v) => !v)}\r\n              className=\"inline-flex items-center justify-center rounded-lg btn-ghost px-2.5 py-1.5 text-xs font-semibold challenges-toggle-btn\"\r\n              aria-expanded={showAllChallenges ? 'true' : 'false'}\r\n              aria-controls=\"challengeList\"\r\n            >\r\n              {showAllChallenges ? 'Collapse list' : 'Show all'}\r\n              {totalChallenges ? ` (${totalChallenges})` : ''}\r\n            </button>\r\n          </div>\r\n          <p className=\"text-sm text-secondary\">\r\n            Select the areas you find tough. We'll use this later to build a\r\n            study plan for you.\r\n          </p>\r\n          <div\r\n            id=\"challengeList\"\r\n            className={`${\r\n              showAllChallenges ? 'max-h-none' : 'max-h-64 overflow-y-auto'\r\n            } rounded-lg border-subtle p-2`}\r\n          >\r\n            {Object.keys(groupedChallenges).length === 0 ? (\r\n              <p className=\"text-sm text-muted\">\r\n                No challenge options available yet.\r\n              </p>\r\n            ) : (\r\n              Object.keys(groupedChallenges)\r\n                .sort()\r\n                .map((subject) => (\r\n                  <div key={subject} className=\"mb-3\">\r\n                    <div className=\"challenge-subject font-semibold text-secondary\">\r\n                      {subject}\r\n                    </div>\r\n                    {Object.keys(groupedChallenges[subject])\r\n                      .sort()\r\n                      .map((subtopic) => (\r\n                        <div key={`${subject}-${subtopic}`} className=\"mt-1\">\r\n                          <div className=\"challenge-subtopic ml-4 text-sm italic text-muted\">\r\n                            {subtopic}\r\n                          </div>\r\n                          {groupedChallenges[subject][subtopic].map((opt) => {\r\n                            const isChecked = selectedIds.includes(opt.id);\r\n                            return (\r\n                              <label\r\n                                key={opt.id}\r\n                                className={`ml-8 mt-2 flex items-start gap-2 text-sm rounded-md border px-2 py-1 transition ${\r\n                                  isChecked\r\n                                    ? 'bg-info-soft border-info text-secondary shadow-sm'\r\n                                    : 'panel-surface border-subtle hover:bg-surface-soft text-muted'\r\n                                }`}\r\n                                data-selected={isChecked ? 'true' : 'false'}\r\n                              >\r\n                                <input\r\n                                  type=\"checkbox\"\r\n                                  className=\"challengeBox mt-1 h-4 w-4 rounded border-subtle text-info focus-ring-primary\"\r\n                                  data-id={opt.id}\r\n                                  checked={isChecked}\r\n                                  onChange={() => handleChallengeToggle(opt.id)}\r\n                                  aria-checked={isChecked}\r\n                                  aria-label={\r\n                                    opt.label || opt.subtopic || opt.subject\r\n                                  }\r\n                                />\r\n                                <span>\r\n                                  {opt.label || opt.subtopic || opt.subject}\r\n                                </span>\r\n                              </label>\r\n                            );\r\n                          })}\r\n                        </div>\r\n                      ))}\r\n                  </div>\r\n                ))\r\n            )}\r\n          </div>\r\n          <div className=\"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between\">\r\n            <p className=\"text-xs text-muted\">\r\n              Selected: {selectedCount}\r\n              {totalChallenges ? ` / ${totalChallenges}` : ''}\r\n            </p>\r\n            <button\r\n              id=\"saveChallengesBtn\"\r\n              type=\"submit\"\r\n              className=\"inline-flex items-center justify-center rounded-lg btn-primary px-4 py-2 text-sm font-semibold disabled:opacity-60\"\r\n              disabled={challengesSaving}\r\n            >\r\n              {challengesSaving ? 'Saving' : 'Save Challenges'}\r\n            </button>\r\n          </div>\r\n        </form>\r\n\r\n        <RecentScoresPanel\r\n          title=\"Recent Scores\"\r\n          summary={recentSummary}\r\n          legacyScores={legacyScores}\r\n          loading={loading}\r\n        />\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nfunction RecentScoresPanel({\r\n  summary,\r\n  legacyScores,\r\n  loading,\r\n  title = 'Recent Scores',\r\n}) {\r\n  if (loading) {\r\n    return (\r\n      <section className=\"panel-surface rounded-2xl border-subtle p-5 shadow-sm space-y-3\">\r\n        <h2 className=\"text-lg font-semibold text-primary\">{title}</h2>\r\n        <p className=\"text-sm text-secondary\">Loading</p>\r\n      </section>\r\n    );\r\n  }\r\n\r\n  const hasSummary = summary && Object.keys(summary).length > 0;\r\n  const subjectScores = Array.isArray(summary?.subjects)\r\n    ? summary.subjects\r\n    : [];\r\n  const cardScores = Array.isArray(summary?.cards) ? summary.cards : [];\r\n  const highlightScores = Array.isArray(summary?.highlights)\r\n    ? summary.highlights\r\n    : [];\r\n  const overallValue = summary?.overall ?? summary?.total ?? null;\r\n\r\n  const formatScoreValue = (value) => {\r\n    if (value == null) {\r\n      return '';\r\n    }\r\n    if (typeof value === 'number' && Number.isFinite(value)) {\r\n      return `${Math.round(value)}%`;\r\n    }\r\n    if (typeof value === 'object') {\r\n      if (typeof value.score === 'number') {\r\n        return `${Math.round(value.score)}%`;\r\n      }\r\n      if (typeof value.value === 'number') {\r\n        return `${Math.round(value.value)}%`;\r\n      }\r\n      if (typeof value.display === 'string') {\r\n        return value.display;\r\n      }\r\n    }\r\n    return String(value);\r\n  };\r\n\r\n  const renderCard = (item, index, fallbackLabel) => {\r\n    const label =\r\n      item?.subject ||\r\n      item?.name ||\r\n      item?.label ||\r\n      fallbackLabel ||\r\n      `Item ${index + 1}`;\r\n    const primary =\r\n      item?.latest ??\r\n      item?.score ??\r\n      item?.value ??\r\n      item?.percent ??\r\n      item?.percentage ??\r\n      item?.current ??\r\n      null;\r\n    const secondary =\r\n      item?.average ?? item?.avg ?? item?.trend ?? item?.previous ?? null;\r\n    const note = item?.description || item?.note;\r\n    return (\r\n      <div\r\n        key={item?.id || `${label}-${index}`}\r\n        className=\"rounded-lg border-subtle panel-surface p-4 shadow-sm\"\r\n      >\r\n        <p className=\"text-xs font-semibold uppercase tracking-wide text-muted\">\r\n          {label}\r\n        </p>\r\n        {primary != null && (\r\n          <p className=\"mt-1 text-2xl font-bold text-primary\">\r\n            {formatScoreValue(primary)}\r\n          </p>\r\n        )}\r\n        {secondary != null && (\r\n          <p className=\"text-xs text-muted\">\r\n            Average: {formatScoreValue(secondary)}\r\n          </p>\r\n        )}\r\n        {note && <p className=\"mt-1 text-xs text-muted\">{note}</p>}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  if (hasSummary) {\r\n    return (\r\n      <section className=\"panel-surface rounded-2xl border-subtle p-5 shadow-sm space-y-4\">\r\n        <h2 className=\"text-lg font-semibold text-primary\">{title}</h2>\r\n        <div className=\"space-y-4\">\r\n          {overallValue != null && (\r\n            <div className=\"rounded-lg border-subtle bg-surface-soft px-4 py-3\">\r\n              <p className=\"text-xs font-semibold uppercase tracking-wide text-muted\">\r\n                Overall\r\n              </p>\r\n              <p className=\"text-2xl font-bold text-primary\">\r\n                {formatScoreValue(overallValue)}\r\n              </p>\r\n            </div>\r\n          )}\r\n          {subjectScores.length ||\r\n          cardScores.length ||\r\n          highlightScores.length ? (\r\n            <div className=\"grid gap-3 sm:grid-cols-2\">\r\n              {subjectScores.map((item, index) =>\r\n                renderCard(item, index, 'Subject')\r\n              )}\r\n              {cardScores.map((item, index) =>\r\n                renderCard(item, index + subjectScores.length, 'Summary')\r\n              )}\r\n              {highlightScores.map((item, index) =>\r\n                renderCard(\r\n                  item,\r\n                  index + subjectScores.length + cardScores.length,\r\n                  'Highlight'\r\n                )\r\n              )}\r\n            </div>\r\n          ) : null}\r\n          {summary?.lastUpdated && (\r\n            <p className=\"text-xs text-muted\">\r\n              Last updated {summary.lastUpdated}\r\n            </p>\r\n          )}\r\n          {overallValue == null &&\r\n            !subjectScores.length &&\r\n            !cardScores.length &&\r\n            !highlightScores.length && (\r\n              <pre className=\"whitespace-pre-wrap rounded-lg border-subtle bg-surface-soft p-3 text-xs text-muted\">\r\n                {JSON.stringify(summary, null, 2)}\r\n              </pre>\r\n            )}\r\n        </div>\r\n      </section>\r\n    );\r\n  }\r\n\r\n  const subjectRows = Array.isArray(legacyScores?.bySubject)\r\n    ? legacyScores.bySubject\r\n    : [];\r\n  const subtopicRows = Array.isArray(legacyScores?.bySubtopic)\r\n    ? legacyScores.bySubtopic\r\n    : [];\r\n\r\n  if (!subjectRows.length && !subtopicRows.length) {\r\n    return (\r\n      <section className=\"panel-surface rounded-2xl border-subtle p-5 shadow-sm space-y-3\">\r\n        <h2 className=\"text-lg font-semibold text-primary\">{title}</h2>\r\n        <p className=\"text-sm text-secondary\">No scores yet.</p>\r\n      </section>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <section className=\"panel-surface rounded-2xl border-subtle p-5 shadow-sm space-y-4\">\r\n      <h2 className=\"text-lg font-semibold text-primary\">{title}</h2>\r\n      {subjectRows.length ? (\r\n        <div>\r\n          <h3 className=\"text-sm font-semibold text-secondary uppercase tracking-wide\">\r\n            By Subject\r\n          </h3>\r\n          <div className=\"mt-2 overflow-x-auto\">\r\n            <table className=\"min-w-full divide-y divide-subtle text-sm\">\r\n              <thead className=\"bg-surface-soft text-xs uppercase tracking-wide text-muted\">\r\n                <tr>\r\n                  <th scope=\"col\" className=\"px-3 py-2 text-left font-semibold\">\r\n                    Subject\r\n                  </th>\r\n                  <th scope=\"col\" className=\"px-3 py-2 text-left font-semibold\">\r\n                    Latest\r\n                  </th>\r\n                  <th scope=\"col\" className=\"px-3 py-2 text-left font-semibold\">\r\n                    Average\r\n                  </th>\r\n                </tr>\r\n              </thead>\r\n              <tbody className=\"divide-y divide-subtle text-secondary\">\r\n                {subjectRows.map((row, index) => (\r\n                  <tr key={`${row.subject}-${index}`}>\r\n                    <td className=\"px-3 py-2 font-medium text-secondary\">\r\n                      {row.subject}\r\n                    </td>\r\n                    <td className=\"px-3 py-2\">\r\n                      {row.latest != null ? `${row.latest}%` : ''}\r\n                    </td>\r\n                    <td className=\"px-3 py-2\">\r\n                      {row.avg != null ? `${row.avg}%` : ''}\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      ) : null}\r\n      {subtopicRows.length ? (\r\n        <div>\r\n          <h3 className=\"text-sm font-semibold text-secondary uppercase tracking-wide\">\r\n            By Subtopic\r\n          </h3>\r\n          <div className=\"mt-2 overflow-x-auto\">\r\n            <table className=\"min-w-full divide-y divide-subtle text-sm\">\r\n              <thead className=\"bg-surface-soft text-xs uppercase tracking-wide text-muted\">\r\n                <tr>\r\n                  <th scope=\"col\" className=\"px-3 py-2 text-left font-semibold\">\r\n                    Subject\r\n                  </th>\r\n                  <th scope=\"col\" className=\"px-3 py-2 text-left font-semibold\">\r\n                    Subtopic\r\n                  </th>\r\n                  <th scope=\"col\" className=\"px-3 py-2 text-left font-semibold\">\r\n                    Latest\r\n                  </th>\r\n                  <th scope=\"col\" className=\"px-3 py-2 text-left font-semibold\">\r\n                    Average\r\n                  </th>\r\n                </tr>\r\n              </thead>\r\n              <tbody className=\"divide-y divide-subtle text-secondary\">\r\n                {subtopicRows.map((row, index) => (\r\n                  <tr key={`${row.subject}-${row.subtopic}-${index}`}>\r\n                    <td className=\"px-3 py-2 font-medium text-secondary\">\r\n                      {row.subject}\r\n                    </td>\r\n                    <td className=\"px-3 py-2\">{row.subtopic}</td>\r\n                    <td className=\"px-3 py-2\">\r\n                      {row.latest != null ? `${row.latest}%` : ''}\r\n                    </td>\r\n                    <td className=\"px-3 py-2\">\r\n                      {row.avg != null ? `${row.avg}%` : ''}\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n      ) : null}\r\n    </section>\r\n  );\r\n}\r\n\r\nfunction SettingsView({\r\n  preferences,\r\n  onApply,\r\n  onSave,\r\n  saving,\r\n  status,\r\n  onBack,\r\n  loading,\r\n}) {\r\n  const [fontSize, setFontSize] = useState(preferences.fontSize);\r\n  const [theme, setTheme] = useState(preferences.theme);\r\n\r\n  useEffect(() => {\r\n    setFontSize(preferences.fontSize);\r\n  }, [preferences.fontSize]);\r\n\r\n  useEffect(() => {\r\n    setTheme(preferences.theme);\r\n  }, [preferences.theme]);\r\n\r\n  const fontSizeOptions = [\r\n    {\r\n      value: 'sm',\r\n      label: 'Small',\r\n      description: 'Compact text for dense layouts.',\r\n    },\r\n    {\r\n      value: 'md',\r\n      label: 'Medium',\r\n      description: 'Balanced for most learners.',\r\n    },\r\n    {\r\n      value: 'lg',\r\n      label: 'Large',\r\n      description: 'Larger text for improved legibility.',\r\n    },\r\n    {\r\n      value: 'xl',\r\n      label: 'Extra Large',\r\n      description: 'Maximum size for easy reading.',\r\n    },\r\n  ];\r\n\r\n  const themeOptions = [\r\n    {\r\n      value: 'light',\r\n      label: 'Light',\r\n      description: 'Bright background with dark text.',\r\n    },\r\n    {\r\n      value: 'dark',\r\n      label: 'Dark',\r\n      description: 'Dim background with light text.',\r\n    },\r\n  ];\r\n\r\n  const handleFontSizeChange = (event) => {\r\n    const value = event.target.value;\r\n    setFontSize(value);\r\n    if (onApply) {\r\n      onApply({ fontSize: value });\r\n    }\r\n  };\r\n\r\n  const handleThemeChange = (event) => {\r\n    const value = event.target.value;\r\n    setTheme(value);\r\n    if (onApply) {\r\n      onApply({ theme: value });\r\n    }\r\n  };\r\n\r\n  const handleSubmit = async (event) => {\r\n    event.preventDefault();\r\n    await onSave({ fontSize, theme });\r\n  };\r\n\r\n  return (\r\n    <section\r\n      id=\"settingsView\"\r\n      data-view=\"settings\"\r\n      tabIndex={-1}\r\n      className=\"outline-none\"\r\n    >\r\n      <div className=\"max-w-4xl mx-auto space-y-6\">\r\n        <div className=\"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between settings-header\">\r\n          <div>\r\n            <h1 className=\"text-3xl font-bold text-primary\">Settings</h1>\r\n            <p className=\"text-sm text-muted\">\r\n              Choose the font size and color mode that feel right for your\r\n              reading style. Changes apply instantly.\r\n            </p>\r\n          </div>\r\n          <button\r\n            type=\"button\"\r\n            onClick={onBack}\r\n            className=\"btn-primary px-3 py-2 text-sm\"\r\n          >\r\n            Back to Dashboard\r\n          </button>\r\n        </div>\r\n\r\n        <form\r\n          onSubmit={handleSubmit}\r\n          className=\"settings-panel rounded-2xl panel-surface p-5 shadow-sm space-y-6\"\r\n        >\r\n          <fieldset className=\"space-y-3 settings-section\">\r\n            <legend className=\"text-lg font-semibold text-primary dark:text-white\">\r\n              Font Size\r\n            </legend>\r\n            <p className=\"text-sm text-muted dark:text-white\">\r\n              Pick the text size that feels comfortable on your device.\r\n            </p>\r\n            <div className=\"grid gap-2 sm:grid-cols-2\">\r\n              {fontSizeOptions.map((option) => (\r\n                <label\r\n                  key={option.value}\r\n                  className={`option-pill ${\r\n                    fontSize === option.value ? 'is-selected' : ''\r\n                  } flex items-center gap-3 rounded-lg border-subtle bg-surface-alt px-3 py-2 hover:border-primary focus-within:ring-2 focus-within:focus-ring-primary`}\r\n                >\r\n                  <input\r\n                    type=\"radio\"\r\n                    name=\"fontSize\"\r\n                    value={option.value}\r\n                    checked={fontSize === option.value}\r\n                    onChange={handleFontSizeChange}\r\n                    className=\"h-4 w-4 text-primary focus:ring-2 focus:ring-primary\"\r\n                  />\r\n                  <span className=\"flex flex-col\">\r\n                    <span className=\"font-semibold text-secondary\">\r\n                      {option.label}\r\n                    </span>\r\n                    <span className=\"text-xs text-muted\">\r\n                      {option.description}\r\n                    </span>\r\n                  </span>\r\n                </label>\r\n              ))}\r\n            </div>\r\n          </fieldset>\r\n\r\n          <fieldset className=\"space-y-3 settings-section\">\r\n            <legend className=\"text-lg font-semibold text-primary dark:text-white\">\r\n              Color Mode\r\n            </legend>\r\n            <p className=\"text-sm text-muted dark:text-white\">\r\n              Choose between light and dark themes. Well remember your pick.\r\n            </p>\r\n            <div className=\"grid gap-2 sm:grid-cols-2\">\r\n              {themeOptions.map((option) => (\r\n                <label\r\n                  key={option.value}\r\n                  className={`option-pill ${\r\n                    theme === option.value ? 'is-selected ' : ''\r\n                  }flex items-center gap-3 rounded-lg border px-3 py-2 transition ${\r\n                    theme === option.value\r\n                      ? 'border-primary ring-2 ring-primary/40'\r\n                      : 'border-subtle'\r\n                  } bg-surface-alt hover:border-primary`}\r\n                >\r\n                  <input\r\n                    type=\"radio\"\r\n                    name=\"theme\"\r\n                    value={option.value}\r\n                    checked={theme === option.value}\r\n                    onChange={handleThemeChange}\r\n                    className=\"h-4 w-4 text-primary focus:ring-2 focus:ring-primary\"\r\n                  />\r\n                  <span className=\"flex flex-col\">\r\n                    <span className=\"font-semibold text-secondary\">\r\n                      {option.label}\r\n                    </span>\r\n                    <span className=\"text-xs text-muted\">\r\n                      {option.description}\r\n                    </span>\r\n                  </span>\r\n                </label>\r\n              ))}\r\n            </div>\r\n          </fieldset>\r\n\r\n          <div className=\"flex flex-col gap-2 sm:flex-row sm:items-center sm:justify-between\">\r\n            <p className=\"text-xs text-muted\" role=\"status\" aria-live=\"polite\">\r\n              {status}\r\n            </p>\r\n            <button\r\n              type=\"submit\"\r\n              className=\"inline-flex items-center justify-center rounded-lg btn-primary px-4 py-2 text-sm font-semibold disabled:opacity-60\"\r\n              disabled={saving || loading}\r\n            >\r\n              {saving ? 'Saving' : 'Save Settings'}\r\n            </button>\r\n          </div>\r\n        </form>\r\n\r\n        <div className=\"rounded-2xl border-subtle bg-surface-soft p-5 text-sm text-secondary\">\r\n          <h2 className=\"text-base font-semibold text-primary\">\r\n            How settings work\r\n          </h2>\r\n          <ul className=\"mt-2 list-disc space-y-1 pl-5\">\r\n            <li>\r\n              Changes apply instantly so you can preview them before saving.\r\n            </li>\r\n            <li>\r\n              We try to sync your preferences to the server. If that fails, they\r\n              stay on this device.\r\n            </li>\r\n            <li>\r\n              Text and background colors now adjust automatically so light text\r\n              sits on darker surfaces for readability.\r\n            </li>\r\n          </ul>\r\n        </div>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\nfunction AdminRoleBadge({ role }) {\r\n  const normalizedRole = role?.replace('_', '') || role;\r\n  const label =\r\n    normalizedRole === 'superAdmin' || normalizedRole === 'super_admin'\r\n      ? 'Super Admin'\r\n      : normalizedRole === 'orgAdmin' || normalizedRole === 'org_admin'\r\n      ? 'Organization Admin'\r\n      : normalizedRole === 'instructor'\r\n      ? 'Instructor'\r\n      : 'Student';\r\n  const palette =\r\n    normalizedRole === 'superAdmin' || normalizedRole === 'super_admin'\r\n      ? 'bg-purple-100 text-purple-700 dark:bg-purple-500/20 dark:text-purple-200'\r\n      : normalizedRole === 'orgAdmin' || normalizedRole === 'org_admin'\r\n      ? 'bg-info-soft text-info'\r\n      : normalizedRole === 'instructor'\r\n      ? 'bg-success-soft text-success'\r\n      : 'bg-surface-soft text-secondary';\r\n  return (\r\n    <span\r\n      className={`inline-flex items-center rounded-full px-3 py-1 text-xs font-semibold ${palette}`}\r\n    >\r\n      {label}\r\n    </span>\r\n  );\r\n}\r\n\r\nfunction formatDateTime(value) {\r\n  if (!value) {\r\n    return '';\r\n  }\r\n  try {\r\n    const date = new Date(value);\r\n    if (Number.isNaN(date.getTime())) {\r\n      return '';\r\n    }\r\n    return date.toLocaleString(undefined, {\r\n      dateStyle: 'medium',\r\n      timeStyle: 'short',\r\n    });\r\n  } catch (error) {\r\n    return '';\r\n  }\r\n}\r\n\r\nfunction OrganizationSummaryView({ summary }) {\r\n  if (!summary) {\r\n    return null;\r\n  }\r\n\r\n  const organization = summary.organization || {};\r\n  const users = Array.isArray(summary.users) ? summary.users : [];\r\n\r\n  return (\r\n    <section className=\"mt-10\">\r\n      <div className=\"flex flex-col sm:flex-row sm:items-end sm:justify-between gap-4\">\r\n        <div>\r\n          <h2 className=\"text-xl font-semibold text-primary\">\r\n            Organization: {organization.name || 'Unknown'}\r\n          </h2>\r\n          <p className=\"mt-1 text-sm text-muted\">\r\n            Roster and recent quiz activity (up to five recent attempts per\r\n            learner).\r\n          </p>\r\n        </div>\r\n        <div className=\"text-sm text-muted\">\r\n          {users.length} {users.length === 1 ? 'member' : 'members'}\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"mt-6 overflow-x-auto rounded-2xl border-subtle panel-surface shadow-sm\">\r\n        <table className=\"min-w-full divide-y divide-subtle\">\r\n          <thead className=\"bg-surface-soft\">\r\n            <tr>\r\n              <th className=\"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wide text-muted\">\r\n                Learner\r\n              </th>\r\n              <th className=\"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wide text-muted\">\r\n                Email\r\n              </th>\r\n              <th className=\"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wide text-muted\">\r\n                Last Login\r\n              </th>\r\n              <th className=\"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wide text-muted\">\r\n                Recent Quiz Attempts\r\n              </th>\r\n            </tr>\r\n          </thead>\r\n          <tbody className=\"divide-y divide-subtle panel-surface text-sm\">\r\n            {users.length === 0 && (\r\n              <tr>\r\n                <td colSpan={4} className=\"px-4 py-6 text-center text-muted\">\r\n                  No users are linked to this organization yet.\r\n                </td>\r\n              </tr>\r\n            )}\r\n            {users.map((user) => {\r\n              const attempts = Array.isArray(user.quizAttempts)\r\n                ? user.quizAttempts\r\n                : [];\r\n              return (\r\n                <tr key={user.id} className=\"hover:bg-surface-soft\">\r\n                  <td className=\"px-4 py-3 font-medium text-secondary\">\r\n                    {user.name || 'Learner'}\r\n                  </td>\r\n                  <td className=\"px-4 py-3 text-muted\">{user.email || ''}</td>\r\n                  <td className=\"px-4 py-3 text-muted\">\r\n                    {formatDateTime(user.last_login)}\r\n                  </td>\r\n                  <td className=\"px-4 py-3 text-secondary\">\r\n                    {attempts.length === 0 ? (\r\n                      <span className=\"text-xs text-muted\">\r\n                        No recent attempts\r\n                      </span>\r\n                    ) : (\r\n                      <ul className=\"space-y-1 text-xs\">\r\n                        {attempts.map((attempt, index) => (\r\n                          <li\r\n                            key={`${user.id}-${index}`}\r\n                            className=\"flex flex-col sm:flex-row sm:items-center sm:gap-2\"\r\n                          >\r\n                            <span className=\"font-semibold text-secondary\">\r\n                              {attempt.subject || 'Subject N/A'}\r\n                            </span>\r\n                            <span className=\"text-muted\">\r\n                              {attempt.quiz_type || 'Quiz'}\r\n                            </span>\r\n                            <span className=\"text-muted\">\r\n                              Score:{' '}\r\n                              {attempt.scaled_score != null\r\n                                ? attempt.scaled_score\r\n                                : ''}\r\n                            </span>\r\n                            <span className=\"text-muted\">\r\n                              {formatDateTime(attempt.attempted_at)}\r\n                            </span>\r\n                          </li>\r\n                        ))}\r\n                      </ul>\r\n                    )}\r\n                  </td>\r\n                </tr>\r\n              );\r\n            })}\r\n          </tbody>\r\n        </table>\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\n// ========== INSTRUCTOR DASHBOARD ==========\r\nfunction InstructorDashboard({ user, token, onLogout }) {\r\n  const [students, setStudents] = useState([]);\r\n  const [activity, setActivity] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [error, setError] = useState('');\r\n  const [selectedStudent, setSelectedStudent] = useState(null);\r\n\r\n  const loadData = useCallback(async () => {\r\n    setLoading(true);\r\n    setError('');\r\n    try {\r\n      const headers = token ? { Authorization: `Bearer ${token}` } : undefined;\r\n\r\n      // Load students list\r\n      const studentsData = await fetchJSON(\r\n        `${API_BASE_URL}/api/instructor/students`,\r\n        { headers }\r\n      );\r\n      setStudents(\r\n        Array.isArray(studentsData?.students) ? studentsData.students : []\r\n      );\r\n\r\n      // Load recent activity\r\n      const activityData = await fetchJSON(\r\n        `${API_BASE_URL}/api/instructor/activity/recent?limit=25`,\r\n        { headers }\r\n      );\r\n      setActivity(\r\n        Array.isArray(activityData?.activity) ? activityData.activity : []\r\n      );\r\n    } catch (err) {\r\n      setError(err?.message || 'Unable to load instructor data');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [token]);\r\n\r\n  useEffect(() => {\r\n    loadData();\r\n  }, [loadData]);\r\n\r\n  const organizationName = user?.organization_name || 'Your organization';\r\n\r\n  if (selectedStudent) {\r\n    const student = students.find((s) => s.id === selectedStudent);\r\n    if (!student) {\r\n      setSelectedStudent(null);\r\n      return null;\r\n    }\r\n\r\n    return (\r\n      <div className=\"min-h-screen bg-page py-10 text-primary\">\r\n        <div className=\"mx-auto flex max-w-6xl flex-col gap-8 px-4\">\r\n          <header className=\"flex items-center gap-4 rounded-3xl border-subtle panel-surface p-6 shadow-sm\">\r\n            <button\r\n              type=\"button\"\r\n              onClick={() => setSelectedStudent(null)}\r\n              className=\"flex items-center gap-2 text-sm font-semibold btn-ghost px-3 py-1.5 rounded-md\"\r\n            >\r\n              <ArrowLeftIcon />\r\n              <span>Back to Roster</span>\r\n            </button>\r\n            <div className=\"flex-1\">\r\n              <h1 className=\"text-2xl font-bold text-primary\">\r\n                {student.name || student.email}\r\n              </h1>\r\n              <p className=\"text-sm text-secondary mt-1\">{student.email}</p>\r\n            </div>\r\n          </header>\r\n\r\n          <section className=\"rounded-3xl border-subtle panel-surface p-6 shadow-sm\">\r\n            <h2 className=\"text-xl font-semibold text-primary mb-4\">\r\n              Subject Performance\r\n            </h2>\r\n            {student.subjects && student.subjects.length > 0 ? (\r\n              <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n                {student.subjects.map((subj, idx) => (\r\n                  <div\r\n                    key={idx}\r\n                    className=\"rounded-lg border-subtle bg-surface-soft p-4\"\r\n                  >\r\n                    <h3 className=\"font-semibold text-primary mb-2\">\r\n                      {subj.subject}\r\n                    </h3>\r\n                    <div className=\"space-y-1 text-sm\">\r\n                      <p className=\"text-secondary\">\r\n                        <span className=\"text-muted\">Attempts:</span>{' '}\r\n                        {subj.attempt_count || 0}\r\n                      </p>\r\n                      <p className=\"text-secondary\">\r\n                        <span className=\"text-muted\">Avg Score:</span>{' '}\r\n                        {subj.avg_scaled_score != null\r\n                          ? Math.round(subj.avg_scaled_score)\r\n                          : 'N/A'}\r\n                      </p>\r\n                      <p className=\"text-xs text-muted\">\r\n                        Last: {formatDateTime(subj.last_attempt_at)}\r\n                      </p>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            ) : (\r\n              <p className=\"text-sm text-muted\">No quiz attempts yet.</p>\r\n            )}\r\n          </section>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-page py-10 text-primary\">\r\n      <div className=\"mx-auto flex max-w-6xl flex-col gap-8 px-4\">\r\n        <header className=\"flex flex-col gap-4 rounded-3xl border-subtle panel-surface p-6 shadow-sm sm:flex-row sm:items-center sm:justify-between\">\r\n          <div>\r\n            <h1 className=\"text-2xl font-bold text-primary\">\r\n              Welcome back, {user?.name || user?.email || 'Instructor'}\r\n            </h1>\r\n            <div className=\"mt-2 flex flex-wrap items-center gap-2 text-sm text-secondary\">\r\n              <AdminRoleBadge role={user?.role} />\r\n              <span>{organizationName}</span>\r\n            </div>\r\n          </div>\r\n          <div className=\"flex items-center gap-3\">\r\n            <button\r\n              type=\"button\"\r\n              onClick={loadData}\r\n              className=\"rounded-full btn-ghost px-4 py-2 text-sm font-semibold transition\"\r\n            >\r\n              Refresh Data\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              onClick={onLogout}\r\n              className=\"rounded-full btn-primary px-4 py-2 text-sm font-semibold shadow\"\r\n            >\r\n              Sign out\r\n            </button>\r\n          </div>\r\n        </header>\r\n\r\n        {loading ? (\r\n          <div className=\"rounded-3xl border-subtle panel-surface p-6 shadow-sm\">\r\n            <p className=\"text-sm text-muted\">\r\n              Loading instructor dashboard...\r\n            </p>\r\n          </div>\r\n        ) : error ? (\r\n          <div className=\"rounded-3xl border-subtle panel-surface p-6 shadow-sm\">\r\n            <div className=\"space-y-3\">\r\n              <div className=\"rounded-lg border border-red-200 bg-red-50 p-4 text-sm text-red-700 dark:border-red-500/40 dark:bg-red-500/10 dark:text-red-200\">\r\n                {error}\r\n              </div>\r\n              <button\r\n                type=\"button\"\r\n                onClick={loadData}\r\n                className=\"btn-ghost px-4 py-2 text-sm font-semibold rounded-full\"\r\n              >\r\n                Try again\r\n              </button>\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <>\r\n            <section className=\"rounded-3xl border-subtle panel-surface p-6 shadow-sm\">\r\n              <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-6\">\r\n                <div className=\"relative overflow-hidden rounded-xl bg-gradient-to-br from-green-500 to-green-600 p-6 text-white shadow-lg\">\r\n                  <div className=\"absolute -right-4 -top-4 h-24 w-24 rounded-full bg-white/10\"></div>\r\n                  <div className=\"relative\">\r\n                    <div className=\"text-sm font-medium opacity-90 mb-2\">\r\n                      Total Students\r\n                    </div>\r\n                    <div className=\"text-4xl font-bold\">{students.length}</div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"relative overflow-hidden rounded-xl bg-gradient-to-br from-blue-500 to-blue-600 p-6 text-white shadow-lg\">\r\n                  <div className=\"absolute -right-4 -top-4 h-24 w-24 rounded-full bg-white/10\"></div>\r\n                  <div className=\"relative\">\r\n                    <div className=\"text-sm font-medium opacity-90 mb-2\">\r\n                      Active Students\r\n                    </div>\r\n                    <div className=\"text-4xl font-bold\">\r\n                      {\r\n                        students.filter(\r\n                          (s) => s.subjects && s.subjects.length > 0\r\n                        ).length\r\n                      }\r\n                    </div>\r\n                  </div>\r\n                </div>\r\n                <div className=\"relative overflow-hidden rounded-xl bg-gradient-to-br from-purple-500 to-purple-600 p-6 text-white shadow-lg\">\r\n                  <div className=\"absolute -right-4 -top-4 h-24 w-24 rounded-full bg-white/10\"></div>\r\n                  <div className=\"relative\">\r\n                    <div className=\"text-sm font-medium opacity-90 mb-2\">\r\n                      Recent Activity\r\n                    </div>\r\n                    <div className=\"text-4xl font-bold\">{activity.length}</div>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n\r\n              <h2 className=\"text-xl font-semibold text-primary mb-4\">\r\n                Student Roster\r\n              </h2>\r\n              {students.length === 0 ? (\r\n                <p className=\"text-sm text-muted\">No students assigned yet.</p>\r\n              ) : (\r\n                <div className=\"overflow-x-auto\">\r\n                  <table className=\"min-w-full divide-y divide-subtle text-sm\">\r\n                    <thead className=\"bg-surface-soft\">\r\n                      <tr>\r\n                        <th className=\"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wide text-muted\">\r\n                          Student\r\n                        </th>\r\n                        <th className=\"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wide text-muted\">\r\n                          Email\r\n                        </th>\r\n                        <th className=\"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wide text-muted\">\r\n                          Subjects Attempted\r\n                        </th>\r\n                        <th className=\"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wide text-muted\">\r\n                          Last Activity\r\n                        </th>\r\n                        <th className=\"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wide text-muted\">\r\n                          Actions\r\n                        </th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody className=\"divide-y divide-subtle panel-surface\">\r\n                      {students.map((student) => (\r\n                        <tr\r\n                          key={student.id}\r\n                          className=\"hover:bg-surface-soft transition\"\r\n                        >\r\n                          <td className=\"px-4 py-3 font-medium text-primary\">\r\n                            {student.name || 'Student'}\r\n                          </td>\r\n                          <td className=\"px-4 py-3 text-secondary\">\r\n                            {student.email}\r\n                          </td>\r\n                          <td className=\"px-4 py-3 text-secondary\">\r\n                            {student.subjects ? student.subjects.length : 0}{' '}\r\n                            subjects\r\n                          </td>\r\n                          <td className=\"px-4 py-3 text-muted text-xs\">\r\n                            {formatDateTime(student.last_attempt_at)}\r\n                          </td>\r\n                          <td className=\"px-4 py-3\">\r\n                            <button\r\n                              type=\"button\"\r\n                              onClick={() => setSelectedStudent(student.id)}\r\n                              className=\"btn-primary px-3 py-1 text-xs font-semibold rounded-full shadow-sm\"\r\n                            >\r\n                              View Details\r\n                            </button>\r\n                          </td>\r\n                        </tr>\r\n                      ))}\r\n                    </tbody>\r\n                  </table>\r\n                </div>\r\n              )}\r\n            </section>\r\n\r\n            <section className=\"rounded-3xl border-subtle panel-surface p-6 shadow-sm\">\r\n              <h2 className=\"text-xl font-semibold text-primary mb-4\">\r\n                Recent Student Activity\r\n              </h2>\r\n              {activity.length === 0 ? (\r\n                <p className=\"text-sm text-muted\">No recent activity.</p>\r\n              ) : (\r\n                <div className=\"space-y-3\">\r\n                  {activity.map((act) => (\r\n                    <div\r\n                      key={act.id}\r\n                      className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 p-3 rounded-lg bg-surface-soft\"\r\n                    >\r\n                      <div className=\"flex-1\">\r\n                        <div className=\"font-medium text-primary\">\r\n                          {act.user_name || act.user_email}\r\n                        </div>\r\n                        <div className=\"text-sm text-secondary\">\r\n                          {act.subject} - {act.quiz_title || act.quiz_type}\r\n                        </div>\r\n                      </div>\r\n                      <div className=\"flex items-center gap-4 text-sm\">\r\n                        <span className=\"text-secondary\">\r\n                          Score:{' '}\r\n                          <span className=\"font-semibold\">\r\n                            {act.scaled_score != null\r\n                              ? Math.round(act.scaled_score)\r\n                              : 'N/A'}\r\n                          </span>\r\n                        </span>\r\n                        <span className=\"text-muted text-xs\">\r\n                          {formatDateTime(act.attempted_at)}\r\n                        </span>\r\n                      </div>\r\n                    </div>\r\n                  ))}\r\n                </div>\r\n              )}\r\n            </section>\r\n          </>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction SuperAdminDashboard({ user, token, onLogout }) {\r\n  const [organizations, setOrganizations] = useState([]);\r\n  const [users, setUsers] = useState([]);\r\n  const [activity, setActivity] = useState([]);\r\n  const [loadingOrgs, setLoadingOrgs] = useState(true);\r\n  const [loadingUsers, setLoadingUsers] = useState(false);\r\n  const [loadingActivity, setLoadingActivity] = useState(false);\r\n  const [orgError, setOrgError] = useState('');\r\n  const [selectedOrgId, setSelectedOrgId] = useState(null);\r\n  const [orgSummary, setOrgSummary] = useState(null);\r\n  const [summaryLoading, setSummaryLoading] = useState(false);\r\n  const [summaryError, setSummaryError] = useState('');\r\n  // Force-load Question Browser tab first for super admin\r\n  const [activeTab, setActiveTab] = useState('question-browser'); // organizations, users, activity, questions, question-browser\r\n  // Prevent repeated fetch loops when API returns empty/500\r\n  const usersLoadAttempted = useRef(false);\r\n  const activityLoadAttempted = useRef(false);\r\n\r\n  const loadOrganizations = useCallback(async () => {\r\n    setLoadingOrgs(true);\r\n    setOrgError('');\r\n    try {\r\n      const headers = token ? { Authorization: `Bearer ${token}` } : undefined;\r\n      const data = await fetchJSON(`${API_BASE_URL}/api/admin/organizations`, {\r\n        headers,\r\n      });\r\n      const list = Array.isArray(data?.organizations)\r\n        ? data.organizations\r\n        : Array.isArray(data)\r\n        ? data\r\n        : [];\r\n      setOrganizations(list);\r\n    } catch (error) {\r\n      setOrgError(error?.message || 'Unable to load organizations');\r\n    } finally {\r\n      setLoadingOrgs(false);\r\n    }\r\n  }, [token]);\r\n\r\n  const loadUsers = useCallback(async () => {\r\n    setLoadingUsers(true);\r\n    try {\r\n      const headers = token ? { Authorization: `Bearer ${token}` } : undefined;\r\n      const data = await fetchJSON(`${API_BASE_URL}/api/admin/users`, {\r\n        headers,\r\n      });\r\n      setUsers(Array.isArray(data?.users) ? data.users : []);\r\n    } catch (error) {\r\n      console.error('Failed to load users:', error);\r\n    } finally {\r\n      setLoadingUsers(false);\r\n    }\r\n  }, [token]);\r\n\r\n  const loadActivity = useCallback(async () => {\r\n    setLoadingActivity(true);\r\n    try {\r\n      const headers = token ? { Authorization: `Bearer ${token}` } : undefined;\r\n      const data = await fetchJSON(\r\n        `${API_BASE_URL}/api/admin/activity/recent?limit=50`,\r\n        { headers }\r\n      );\r\n      setActivity(Array.isArray(data?.activity) ? data.activity : []);\r\n    } catch (error) {\r\n      console.error('Failed to load activity:', error);\r\n    } finally {\r\n      setLoadingActivity(false);\r\n    }\r\n  }, [token]);\r\n\r\n  const loadOrgSummary = useCallback(\r\n    async (orgId) => {\r\n      if (!orgId) {\r\n        setOrgSummary(null);\r\n        setSelectedOrgId(null);\r\n        return;\r\n      }\r\n      setSelectedOrgId(orgId);\r\n      setSummaryLoading(true);\r\n      setSummaryError('');\r\n      try {\r\n        const headers = token\r\n          ? { Authorization: `Bearer ${token}` }\r\n          : undefined;\r\n        const data = await fetchJSON(\r\n          `${API_BASE_URL}/api/admin/org-summary?organization_id=${encodeURIComponent(\r\n            orgId\r\n          )}`,\r\n          { headers }\r\n        );\r\n        setOrgSummary(data);\r\n      } catch (error) {\r\n        setSummaryError(\r\n          error?.message || 'Unable to load organization summary'\r\n        );\r\n      } finally {\r\n        setSummaryLoading(false);\r\n      }\r\n    },\r\n    [token]\r\n  );\r\n\r\n  useEffect(() => {\r\n    loadOrganizations();\r\n  }, [loadOrganizations]);\r\n\r\n  useEffect(() => {\r\n    if (\r\n      activeTab === 'users' &&\r\n      !usersLoadAttempted.current &&\r\n      users.length === 0 &&\r\n      !loadingUsers\r\n    ) {\r\n      usersLoadAttempted.current = true;\r\n      loadUsers();\r\n    } else if (\r\n      activeTab === 'activity' &&\r\n      !activityLoadAttempted.current &&\r\n      activity.length === 0 &&\r\n      !loadingActivity\r\n    ) {\r\n      activityLoadAttempted.current = true;\r\n      loadActivity();\r\n    }\r\n  }, [\r\n    activeTab,\r\n    users.length,\r\n    activity.length,\r\n    loadingUsers,\r\n    loadingActivity,\r\n    loadUsers,\r\n    loadActivity,\r\n  ]);\r\n\r\n  useEffect(() => {\r\n    if (!organizations.length) {\r\n      return;\r\n    }\r\n    if (selectedOrgId != null) {\r\n      return;\r\n    }\r\n    loadOrgSummary(organizations[0].id);\r\n  }, [organizations, selectedOrgId, loadOrgSummary]);\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-page py-10 text-primary\">\r\n      <div className=\"mx-auto flex max-w-6xl flex-col gap-8 px-4\">\r\n        <header className=\"flex flex-col gap-4 rounded-3xl border-subtle panel-surface p-6 shadow-sm sm:flex-row sm:items-center sm:justify-between\">\r\n          <div>\r\n            <h1 className=\"text-2xl font-bold text-primary\">\r\n              Welcome back, {user?.name || user?.email || 'Administrator'}\r\n            </h1>\r\n            <div className=\"mt-2 flex flex-wrap items-center gap-2 text-sm text-secondary\">\r\n              <AdminRoleBadge role={user?.role} />\r\n              <span>Platform-wide access</span>\r\n            </div>\r\n          </div>\r\n          <div className=\"flex items-center gap-3\">\r\n            <button\r\n              type=\"button\"\r\n              onClick={loadOrganizations}\r\n              className=\"rounded-full btn-ghost px-4 py-2 text-sm font-semibold transition\"\r\n            >\r\n              Refresh Overview\r\n            </button>\r\n            {activeTab === 'users' && (\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => {\r\n                  usersLoadAttempted.current = true; // stays true but allows manual refetch\r\n                  loadUsers();\r\n                }}\r\n                className=\"rounded-full btn-ghost px-4 py-2 text-sm font-semibold transition\"\r\n              >\r\n                Refresh Users\r\n              </button>\r\n            )}\r\n            {activeTab === 'activity' && (\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => {\r\n                  activityLoadAttempted.current = true;\r\n                  loadActivity();\r\n                }}\r\n                className=\"rounded-full btn-ghost px-4 py-2 text-sm font-semibold transition\"\r\n              >\r\n                Refresh Activity\r\n              </button>\r\n            )}\r\n            <button\r\n              type=\"button\"\r\n              onClick={onLogout}\r\n              className=\"rounded-full btn-primary px-4 py-2 text-sm font-semibold shadow flex items-center gap-2\"\r\n            >\r\n              <img\r\n                src=\"/icons/house-svgrepo-com.svg\"\r\n                alt=\"\"\r\n                className=\"w-4 h-4\"\r\n                style={{ filter: 'brightness(0) saturate(100%) invert(100%)' }}\r\n              />\r\n              Sign out\r\n            </button>\r\n          </div>\r\n        </header>\r\n\r\n        {/* TEMP: Debug banner to ensure Questions Catalog is visible */}\r\n        <div className=\"mb-3 rounded-lg border border-amber-300 bg-amber-50 text-amber-800 dark:border-amber-700 dark:bg-amber-900/20 dark:text-amber-200 p-3\">\r\n          Debug: Rendering Questions Catalog below to verify visibility.\r\n        </div>\r\n        <section className=\"rounded-3xl border-subtle panel-surface shadow-sm mb-6\">\r\n          <SuperAdminAllQuestions />\r\n        </section>\r\n\r\n        {/* Platform Stats Overview */}\r\n        <section className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n          <div className=\"relative overflow-hidden rounded-xl bg-gradient-to-br from-purple-500 to-purple-600 p-6 text-white shadow-lg\">\r\n            <div className=\"absolute -right-4 -top-4 h-24 w-24 rounded-full bg-white/10\"></div>\r\n            <div className=\"relative\">\r\n              <div className=\"text-sm font-medium opacity-90 mb-2\">\r\n                Total Organizations\r\n              </div>\r\n              <div className=\"text-4xl font-bold\">{organizations.length}</div>\r\n            </div>\r\n          </div>\r\n          <div className=\"relative overflow-hidden rounded-xl bg-gradient-to-br from-blue-500 to-blue-600 p-6 text-white shadow-lg\">\r\n            <div className=\"absolute -right-4 -top-4 h-24 w-24 rounded-full bg-white/10\"></div>\r\n            <div className=\"relative\">\r\n              <div className=\"text-sm font-medium opacity-90 mb-2\">\r\n                Total Users\r\n              </div>\r\n              <div className=\"text-4xl font-bold\">\r\n                {organizations.reduce(\r\n                  (sum, org) => sum + (org.userCount || 0),\r\n                  0\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"relative overflow-hidden rounded-xl bg-gradient-to-br from-green-500 to-green-600 p-6 text-white shadow-lg\">\r\n            <div className=\"absolute -right-4 -top-4 h-24 w-24 rounded-full bg-white/10\"></div>\r\n            <div className=\"relative\">\r\n              <div className=\"text-sm font-medium opacity-90 mb-2\">\r\n                Total Students\r\n              </div>\r\n              <div className=\"text-4xl font-bold\">\r\n                {organizations.reduce(\r\n                  (sum, org) => sum + (org.studentCount || 0),\r\n                  0\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div className=\"relative overflow-hidden rounded-xl bg-gradient-to-br from-orange-500 to-orange-600 p-6 text-white shadow-lg\">\r\n            <div className=\"absolute -right-4 -top-4 h-24 w-24 rounded-full bg-white/10\"></div>\r\n            <div className=\"relative\">\r\n              <div className=\"text-sm font-medium opacity-90 mb-2\">\r\n                Total Instructors\r\n              </div>\r\n              <div className=\"text-4xl font-bold\">\r\n                {organizations.reduce(\r\n                  (sum, org) => sum + (org.instructorCount || 0),\r\n                  0\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </section>\r\n\r\n        {/* Tab Navigation */}\r\n        <div className=\"flex gap-1 bg-slate-100 dark:bg-slate-800/50 rounded-xl p-1\">\r\n          <button\r\n            type=\"button\"\r\n            onClick={() => setActiveTab('organizations')}\r\n            className={`px-6 py-2.5 text-sm font-semibold transition-all rounded-lg ${\r\n              activeTab === 'organizations'\r\n                ? 'bg-white dark:bg-slate-700 text-primary shadow-sm'\r\n                : 'text-muted hover:text-secondary hover:bg-white/50 dark:hover:bg-slate-700/50'\r\n            }`}\r\n          >\r\n            Organizations\r\n          </button>\r\n          <button\r\n            type=\"button\"\r\n            onClick={() => setActiveTab('users')}\r\n            className={`px-6 py-2.5 text-sm font-semibold transition-all rounded-lg ${\r\n              activeTab === 'users'\r\n                ? 'bg-white dark:bg-slate-700 text-primary shadow-sm'\r\n                : 'text-muted hover:text-secondary hover:bg-white/50 dark:hover:bg-slate-700/50'\r\n            }`}\r\n          >\r\n            All Users\r\n          </button>\r\n          <button\r\n            type=\"button\"\r\n            onClick={() => setActiveTab('activity')}\r\n            className={`px-6 py-2.5 text-sm font-semibold transition-all rounded-lg ${\r\n              activeTab === 'activity'\r\n                ? 'bg-white dark:bg-slate-700 text-primary shadow-sm'\r\n                : 'text-muted hover:text-secondary hover:bg-white/50 dark:hover:bg-slate-700/50'\r\n            }`}\r\n          >\r\n            Recent Activity\r\n          </button>\r\n          <button\r\n            type=\"button\"\r\n            onClick={() => setActiveTab('question-browser')}\r\n            className={`px-6 py-2.5 text-sm font-semibold transition-all rounded-lg ${\r\n              activeTab === 'question-browser'\r\n                ? 'bg-white dark:bg-slate-700 text-primary shadow-sm'\r\n                : 'text-muted hover:text-secondary hover:bg-white/50 dark:hover:bg-slate-700/50'\r\n            }`}\r\n          >\r\n            Question Browser\r\n          </button>\r\n          <button\r\n            type=\"button\"\r\n            onClick={() => setActiveTab('questions')}\r\n            className={`px-6 py-2.5 text-sm font-semibold transition-all rounded-lg ${\r\n              activeTab === 'questions'\r\n                ? 'bg-white dark:bg-slate-700 text-primary shadow-sm'\r\n                : 'text-muted hover:text-secondary hover:bg-white/50 dark:hover:bg-slate-700/50'\r\n            }`}\r\n          >\r\n            Questions Catalog\r\n          </button>\r\n        </div>\r\n\r\n        {/* Organizations Tab */}\r\n        {activeTab === 'organizations' && (\r\n          <>\r\n            <section className=\"rounded-3xl border-subtle panel-surface p-6 shadow-sm\">\r\n              <div className=\"mb-4 flex items-center justify-between\">\r\n                <div>\r\n                  <h2 className=\"text-xl font-semibold text-primary\">\r\n                    Partner organizations\r\n                  </h2>\r\n                  <p className=\"text-sm text-slate-500 dark:text-slate-400\">\r\n                    Select an organization to view its roster and quiz activity.\r\n                  </p>\r\n                </div>\r\n              </div>\r\n\r\n              {loadingOrgs ? (\r\n                <p className=\"py-4 text-sm text-slate-500 dark:text-slate-300\">\r\n                  Loading organizations\r\n                </p>\r\n              ) : orgError ? (\r\n                <div className=\"rounded-lg border border-red-200 bg-red-50 p-4 text-sm text-red-700 dark:border-red-500/40 dark:bg-red-500/10 dark:text-red-200\">\r\n                  {orgError}\r\n                </div>\r\n              ) : (\r\n                <div className=\"overflow-x-auto rounded-lg border border-slate-200 dark:border-slate-700\">\r\n                  <table className=\"min-w-full divide-y divide-slate-200 text-sm dark:divide-slate-700\">\r\n                    <thead className=\"bg-gradient-to-r from-slate-50 to-slate-100 dark:from-slate-800 dark:to-slate-800/60\">\r\n                      <tr>\r\n                        <th className=\"px-6 py-4 text-left text-xs font-bold uppercase tracking-wide text-slate-700 dark:text-slate-300\">\r\n                          Organization\r\n                        </th>\r\n                        <th className=\"px-6 py-4 text-left text-xs font-bold uppercase tracking-wide text-slate-700 dark:text-slate-300\">\r\n                          Members\r\n                        </th>\r\n                        <th className=\"px-6 py-4 text-left text-xs font-bold uppercase tracking-wide text-slate-700 dark:text-slate-300\">\r\n                          Recent Activity\r\n                        </th>\r\n                        <th className=\"px-6 py-4 text-left text-xs font-bold uppercase tracking-wide text-slate-700 dark:text-slate-300\">\r\n                          Actions\r\n                        </th>\r\n                      </tr>\r\n                    </thead>\r\n                    <tbody className=\"divide-y divide-slate-100 bg-white dark:divide-slate-800 dark:bg-slate-900\">\r\n                      {organizations.length === 0 && (\r\n                        <tr>\r\n                          <td\r\n                            colSpan={4}\r\n                            className=\"px-4 py-6 text-center text-slate-500 dark:text-slate-400\"\r\n                          >\r\n                            No partner organizations found yet.\r\n                          </td>\r\n                        </tr>\r\n                      )}\r\n                      {organizations.map((org) => (\r\n                        <tr\r\n                          key={org.id}\r\n                          className={\r\n                            selectedOrgId === org.id\r\n                              ? 'bg-blue-50 dark:bg-blue-500/10 border-l-4 border-blue-500'\r\n                              : 'hover:bg-slate-50 dark:hover:bg-slate-800/40 transition-colors'\r\n                          }\r\n                        >\r\n                          <td className=\"px-6 py-4 font-semibold text-slate-900 dark:text-slate-100\">\r\n                            {org.name}\r\n                          </td>\r\n                          <td className=\"px-6 py-4\">\r\n                            <span className=\"inline-flex items-center rounded-full bg-blue-100 dark:bg-blue-900/30 px-3 py-1 text-sm font-medium text-blue-700 dark:text-blue-300\">\r\n                              {org.userCount ?? 0}\r\n                            </span>\r\n                          </td>\r\n                          <td className=\"px-6 py-4 text-slate-600 dark:text-slate-400\">\r\n                            {formatDateTime(org.recentActivity)}\r\n                          </td>\r\n                          <td className=\"px-6 py-4\">\r\n                            <button\r\n                              type=\"button\"\r\n                              onClick={() => loadOrgSummary(org.id)}\r\n                              className=\"rounded-lg bg-blue-600 px-4 py-2 text-xs font-semibold text-white shadow-sm hover:bg-blue-700 hover:shadow-md transition-all focus:outline-none focus-visible:ring-2 focus-visible:ring-blue-500 focus-visible:ring-offset-2\"\r\n                            >\r\n                              View Details\r\n                            </button>\r\n                          </td>\r\n                        </tr>\r\n                      ))}\r\n                    </tbody>\r\n                  </table>\r\n                </div>\r\n              )}\r\n            </section>\r\n\r\n            <section className=\"rounded-3xl border-subtle panel-surface p-6 shadow-sm\">\r\n              {summaryLoading ? (\r\n                <p className=\"text-sm text-muted\">\r\n                  Loading organization summary...\r\n                </p>\r\n              ) : summaryError ? (\r\n                <div className=\"space-y-3\">\r\n                  <div className=\"rounded-lg border border-red-200 bg-red-50 p-4 text-sm text-red-700 dark:border-red-500/40 dark:bg-red-500/10 dark:text-red-200\">\r\n                    {summaryError}\r\n                  </div>\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => loadOrgSummary(selectedOrgId)}\r\n                    className=\"btn-ghost px-4 py-2 text-sm font-semibold rounded-full\"\r\n                  >\r\n                    Try again\r\n                  </button>\r\n                </div>\r\n              ) : orgSummary ? (\r\n                <OrganizationSummaryView summary={orgSummary} />\r\n              ) : (\r\n                <p className=\"text-sm text-muted\">\r\n                  Select an organization to view details.\r\n                </p>\r\n              )}\r\n            </section>\r\n          </>\r\n        )}\r\n\r\n        {/* Users Tab */}\r\n        {activeTab === 'users' && (\r\n          <section className=\"rounded-3xl border-subtle panel-surface p-6 shadow-sm\">\r\n            <div className=\"mb-4\">\r\n              <h2 className=\"text-xl font-semibold text-primary\">\r\n                All Platform Users\r\n              </h2>\r\n              <p className=\"text-sm text-muted mt-1\">\r\n                Manage users across all organizations\r\n              </p>\r\n            </div>\r\n\r\n            {loadingUsers ? (\r\n              <p className=\"text-sm text-muted\">Loading users...</p>\r\n            ) : users.length === 0 ? (\r\n              <p className=\"text-sm text-muted\">No users found.</p>\r\n            ) : (\r\n              <div className=\"overflow-x-auto\">\r\n                <table className=\"min-w-full divide-y divide-subtle text-sm\">\r\n                  <thead className=\"bg-surface-soft\">\r\n                    <tr>\r\n                      <th className=\"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wide text-muted\">\r\n                        Name\r\n                      </th>\r\n                      <th className=\"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wide text-muted\">\r\n                        Email\r\n                      </th>\r\n                      <th className=\"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wide text-muted\">\r\n                        Role\r\n                      </th>\r\n                      <th className=\"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wide text-muted\">\r\n                        Organization\r\n                      </th>\r\n                      <th className=\"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wide text-muted\">\r\n                        Attempts\r\n                      </th>\r\n                      <th className=\"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wide text-muted\">\r\n                        Avg Score\r\n                      </th>\r\n                      <th className=\"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wide text-muted\">\r\n                        Last Login\r\n                      </th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody className=\"divide-y divide-subtle panel-surface\">\r\n                    {users.map((u) => (\r\n                      <tr\r\n                        key={u.id}\r\n                        className=\"hover:bg-surface-soft transition\"\r\n                      >\r\n                        <td className=\"px-4 py-3 font-medium text-primary\">\r\n                          {u.name || ''}\r\n                        </td>\r\n                        <td className=\"px-4 py-3 text-secondary\">{u.email}</td>\r\n                        <td className=\"px-4 py-3\">\r\n                          <AdminRoleBadge role={u.role} />\r\n                        </td>\r\n                        <td className=\"px-4 py-3 text-secondary\">\r\n                          {u.organization_name || ''}\r\n                        </td>\r\n                        <td className=\"px-4 py-3 text-secondary\">\r\n                          {u.quiz_attempt_count || 0}\r\n                        </td>\r\n                        <td className=\"px-4 py-3 text-secondary\">\r\n                          {u.average_scaled_score != null\r\n                            ? Math.round(u.average_scaled_score)\r\n                            : ''}\r\n                        </td>\r\n                        <td className=\"px-4 py-3 text-muted text-xs\">\r\n                          {formatDateTime(u.last_login_at)}\r\n                        </td>\r\n                      </tr>\r\n                    ))}\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            )}\r\n          </section>\r\n        )}\r\n\r\n        {/* Activity Tab */}\r\n        {activeTab === 'activity' && (\r\n          <section className=\"rounded-3xl border-subtle panel-surface p-6 shadow-sm\">\r\n            <div className=\"mb-4\">\r\n              <h2 className=\"text-xl font-semibold text-primary\">\r\n                Recent Platform Activity\r\n              </h2>\r\n              <p className=\"text-sm text-muted mt-1\">\r\n                Latest quiz attempts across all organizations\r\n              </p>\r\n            </div>\r\n\r\n            {loadingActivity ? (\r\n              <p className=\"text-sm text-muted\">Loading activity...</p>\r\n            ) : activity.length === 0 ? (\r\n              <p className=\"text-sm text-muted\">No recent activity.</p>\r\n            ) : (\r\n              <div className=\"space-y-3\">\r\n                {activity.map((act) => (\r\n                  <div\r\n                    key={act.id}\r\n                    className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 p-3 rounded-lg bg-surface-soft\"\r\n                  >\r\n                    <div className=\"flex-1\">\r\n                      <div className=\"font-medium text-primary\">\r\n                        {act.user_name || act.user_email}\r\n                      </div>\r\n                      <div className=\"text-sm text-secondary\">\r\n                        {act.organization_name || 'No org'}\r\n                      </div>\r\n                      <div className=\"text-sm text-secondary\">\r\n                        {act.subject} - {act.quiz_title || act.quiz_type}\r\n                      </div>\r\n                    </div>\r\n                    <div className=\"flex items-center gap-4 text-sm\">\r\n                      <span className=\"text-secondary\">\r\n                        Score:{' '}\r\n                        <span className=\"font-semibold\">\r\n                          {act.scaled_score != null\r\n                            ? Math.round(act.scaled_score)\r\n                            : 'N/A'}\r\n                        </span>\r\n                      </span>\r\n                      <span className=\"text-muted text-xs\">\r\n                        {formatDateTime(act.attempted_at)}\r\n                      </span>\r\n                    </div>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            )}\r\n          </section>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction OrgAdminDashboard({ user, token, onLogout }) {\r\n  const [summary, setSummary] = useState(null);\r\n  const [users, setUsers] = useState([]);\r\n  const [activity, setActivity] = useState([]);\r\n  const [loading, setLoading] = useState(true);\r\n  const [loadingUsers, setLoadingUsers] = useState(false);\r\n  const [loadingActivity, setLoadingActivity] = useState(false);\r\n  const [error, setError] = useState('');\r\n  const [activeTab, setActiveTab] = useState('overview'); // overview, users, activity\r\n  const usersLoadAttempted = useRef(false);\r\n  const activityLoadAttempted = useRef(false);\r\n\r\n  const loadSummary = useCallback(async () => {\r\n    setLoading(true);\r\n    setError('');\r\n    try {\r\n      const headers = token ? { Authorization: `Bearer ${token}` } : undefined;\r\n      const data = await fetchJSON(`${API_BASE_URL}/api/org/summary`, {\r\n        headers,\r\n      });\r\n      setSummary(data);\r\n    } catch (err) {\r\n      setError(err?.message || 'Unable to load organization data');\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  }, [token]);\r\n\r\n  const loadUsers = useCallback(async () => {\r\n    setLoadingUsers(true);\r\n    try {\r\n      const headers = token ? { Authorization: `Bearer ${token}` } : undefined;\r\n      const data = await fetchJSON(`${API_BASE_URL}/api/org/users`, {\r\n        headers,\r\n      });\r\n      setUsers(Array.isArray(data?.users) ? data.users : []);\r\n    } catch (err) {\r\n      console.error('Failed to load org users:', err);\r\n    } finally {\r\n      setLoadingUsers(false);\r\n    }\r\n  }, [token]);\r\n\r\n  const loadActivity = useCallback(async () => {\r\n    setLoadingActivity(true);\r\n    try {\r\n      const headers = token ? { Authorization: `Bearer ${token}` } : undefined;\r\n      const data = await fetchJSON(\r\n        `${API_BASE_URL}/api/org/activity/recent?limit=30`,\r\n        { headers }\r\n      );\r\n      setActivity(Array.isArray(data?.activity) ? data.activity : []);\r\n    } catch (err) {\r\n      console.error('Failed to load org activity:', err);\r\n    } finally {\r\n      setLoadingActivity(false);\r\n    }\r\n  }, [token]);\r\n\r\n  useEffect(() => {\r\n    loadSummary();\r\n  }, [loadSummary]);\r\n\r\n  useEffect(() => {\r\n    if (\r\n      activeTab === 'users' &&\r\n      !usersLoadAttempted.current &&\r\n      users.length === 0 &&\r\n      !loadingUsers\r\n    ) {\r\n      usersLoadAttempted.current = true;\r\n      loadUsers();\r\n    } else if (\r\n      activeTab === 'activity' &&\r\n      !activityLoadAttempted.current &&\r\n      activity.length === 0 &&\r\n      !loadingActivity\r\n    ) {\r\n      activityLoadAttempted.current = true;\r\n      loadActivity();\r\n    }\r\n  }, [\r\n    activeTab,\r\n    users.length,\r\n    activity.length,\r\n    loadingUsers,\r\n    loadingActivity,\r\n    loadUsers,\r\n    loadActivity,\r\n  ]);\r\n\r\n  const organizationName =\r\n    summary?.organization?.name ||\r\n    user?.organization_name ||\r\n    'Your organization';\r\n\r\n  const students = summary?.students || 0;\r\n  const instructors = summary?.instructors || 0;\r\n  const activeThisWeek = summary?.active_this_week || 0;\r\n\r\n  return (\r\n    <div className=\"min-h-screen bg-page py-10 text-primary\">\r\n      <div className=\"mx-auto flex max-w-6xl flex-col gap-8 px-4\">\r\n        <header className=\"flex flex-col gap-4 rounded-3xl border-subtle panel-surface p-6 shadow-sm sm:flex-row sm:items-center sm:justify-between\">\r\n          <div>\r\n            <h1 className=\"text-2xl font-bold text-primary\">\r\n              {organizationName}\r\n            </h1>\r\n            <div className=\"mt-2 flex flex-wrap items-center gap-2 text-sm text-secondary\">\r\n              <AdminRoleBadge role={user?.role} />\r\n              <span>Organization dashboard</span>\r\n            </div>\r\n          </div>\r\n          <div className=\"flex items-center gap-3\">\r\n            <button\r\n              type=\"button\"\r\n              onClick={loadSummary}\r\n              className=\"rounded-full btn-ghost px-4 py-2 text-sm font-semibold transition\"\r\n            >\r\n              Refresh Data\r\n            </button>\r\n            <button\r\n              type=\"button\"\r\n              onClick={onLogout}\r\n              className=\"rounded-full btn-primary px-4 py-2 text-sm font-semibold shadow\"\r\n            >\r\n              Sign out\r\n            </button>\r\n          </div>\r\n        </header>\r\n\r\n        {loading ? (\r\n          <div className=\"rounded-3xl border-subtle panel-surface p-6 shadow-sm\">\r\n            <p className=\"text-sm text-muted\">Loading organization data...</p>\r\n          </div>\r\n        ) : error ? (\r\n          <div className=\"rounded-3xl border-subtle panel-surface p-6 shadow-sm\">\r\n            <div className=\"space-y-3\">\r\n              <div className=\"rounded-lg border border-red-200 bg-red-50 p-4 text-sm text-red-700 dark:border-red-500/40 dark:bg-red-500/10 dark:text-red-200\">\r\n                {error}\r\n              </div>\r\n              <button\r\n                type=\"button\"\r\n                onClick={loadSummary}\r\n                className=\"btn-ghost px-4 py-2 text-sm font-semibold rounded-full\"\r\n              >\r\n                Try again\r\n              </button>\r\n            </div>\r\n          </div>\r\n        ) : (\r\n          <>\r\n            {/* Organization Stats */}\r\n            <section className=\"grid grid-cols-1 md:grid-cols-4 gap-4\">\r\n              <div className=\"relative overflow-hidden rounded-xl bg-gradient-to-br from-green-500 to-green-600 p-6 text-white shadow-lg\">\r\n                <div className=\"absolute -right-4 -top-4 h-24 w-24 rounded-full bg-white/10\"></div>\r\n                <div className=\"relative\">\r\n                  <div className=\"text-sm font-medium opacity-90 mb-2\">\r\n                    Total Students\r\n                  </div>\r\n                  <div className=\"text-4xl font-bold\">{students}</div>\r\n                </div>\r\n              </div>\r\n              <div className=\"relative overflow-hidden rounded-xl bg-gradient-to-br from-orange-500 to-orange-600 p-6 text-white shadow-lg\">\r\n                <div className=\"absolute -right-4 -top-4 h-24 w-24 rounded-full bg-white/10\"></div>\r\n                <div className=\"relative\">\r\n                  <div className=\"text-sm font-medium opacity-90 mb-2\">\r\n                    Instructors\r\n                  </div>\r\n                  <div className=\"text-4xl font-bold\">{instructors}</div>\r\n                </div>\r\n              </div>\r\n              <div className=\"relative overflow-hidden rounded-xl bg-gradient-to-br from-cyan-500 to-cyan-600 p-6 text-white shadow-lg\">\r\n                <div className=\"absolute -right-4 -top-4 h-24 w-24 rounded-full bg-white/10\"></div>\r\n                <div className=\"relative\">\r\n                  <div className=\"text-sm font-medium opacity-90 mb-2\">\r\n                    Active This Week\r\n                  </div>\r\n                  <div className=\"text-4xl font-bold\">{activeThisWeek}</div>\r\n                </div>\r\n              </div>\r\n              <div className=\"relative overflow-hidden rounded-xl bg-gradient-to-br from-blue-500 to-blue-600 p-6 text-white shadow-lg\">\r\n                <div className=\"absolute -right-4 -top-4 h-24 w-24 rounded-full bg-white/10\"></div>\r\n                <div className=\"relative\">\r\n                  <div className=\"text-sm font-medium opacity-90 mb-2\">\r\n                    Total Users\r\n                  </div>\r\n                  <div className=\"text-4xl font-bold\">\r\n                    {summary?.total_users || 0}\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </section>\r\n\r\n            {/* Tab Navigation */}\r\n            <div className=\"flex gap-1 bg-slate-100 dark:bg-slate-800/50 rounded-xl p-1\">\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => setActiveTab('overview')}\r\n                className={`px-6 py-2.5 text-sm font-semibold transition-all rounded-lg ${\r\n                  activeTab === 'overview'\r\n                    ? 'bg-white dark:bg-slate-700 text-primary shadow-sm'\r\n                    : 'text-muted hover:text-secondary hover:bg-white/50 dark:hover:bg-slate-700/50'\r\n                }`}\r\n              >\r\n                Overview\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => setActiveTab('users')}\r\n                className={`px-6 py-2.5 text-sm font-semibold transition-all rounded-lg ${\r\n                  activeTab === 'users'\r\n                    ? 'bg-white dark:bg-slate-700 text-primary shadow-sm'\r\n                    : 'text-muted hover:text-secondary hover:bg-white/50 dark:hover:bg-slate-700/50'\r\n                }`}\r\n              >\r\n                Users\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => setActiveTab('activity')}\r\n                className={`px-6 py-2.5 text-sm font-semibold transition-all rounded-lg ${\r\n                  activeTab === 'activity'\r\n                    ? 'bg-white dark:bg-slate-700 text-primary shadow-sm'\r\n                    : 'text-muted hover:text-secondary hover:bg-white/50 dark:hover:bg-slate-700/50'\r\n                }`}\r\n              >\r\n                Activity\r\n              </button>\r\n            </div>\r\n\r\n            {/* Overview Tab */}\r\n            {activeTab === 'overview' && (\r\n              <section className=\"rounded-3xl border-subtle panel-surface p-6 shadow-sm\">\r\n                <OrganizationSummaryView summary={summary} />\r\n              </section>\r\n            )}\r\n\r\n            {/* Users Tab */}\r\n            {activeTab === 'users' && (\r\n              <section className=\"rounded-3xl border-subtle panel-surface p-6 shadow-sm\">\r\n                <div className=\"mb-4\">\r\n                  <h2 className=\"text-xl font-semibold text-primary\">\r\n                    Organization Users\r\n                  </h2>\r\n                  <p className=\"text-sm text-muted mt-1\">\r\n                    Manage users within your organization\r\n                  </p>\r\n                </div>\r\n\r\n                {loadingUsers ? (\r\n                  <p className=\"text-sm text-muted\">Loading users...</p>\r\n                ) : users.length === 0 ? (\r\n                  <p className=\"text-sm text-muted\">No users found.</p>\r\n                ) : (\r\n                  <div className=\"overflow-x-auto\">\r\n                    <table className=\"min-w-full divide-y divide-subtle text-sm\">\r\n                      <thead className=\"bg-surface-soft\">\r\n                        <tr>\r\n                          <th className=\"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wide text-muted\">\r\n                            Name\r\n                          </th>\r\n                          <th className=\"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wide text-muted\">\r\n                            Email\r\n                          </th>\r\n                          <th className=\"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wide text-muted\">\r\n                            Role\r\n                          </th>\r\n                          <th className=\"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wide text-muted\">\r\n                            Attempts\r\n                          </th>\r\n                          <th className=\"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wide text-muted\">\r\n                            Avg Score\r\n                          </th>\r\n                          <th className=\"px-4 py-3 text-left text-xs font-semibold uppercase tracking-wide text-muted\">\r\n                            Last Login\r\n                          </th>\r\n                        </tr>\r\n                      </thead>\r\n                      <tbody className=\"divide-y divide-subtle panel-surface\">\r\n                        {users.map((u) => (\r\n                          <tr\r\n                            key={u.id}\r\n                            className=\"hover:bg-surface-soft transition\"\r\n                          >\r\n                            <td className=\"px-4 py-3 font-medium text-primary\">\r\n                              {u.name || ''}\r\n                            </td>\r\n                            <td className=\"px-4 py-3 text-secondary\">\r\n                              {u.email}\r\n                            </td>\r\n                            <td className=\"px-4 py-3\">\r\n                              <AdminRoleBadge role={u.role} />\r\n                            </td>\r\n                            <td className=\"px-4 py-3 text-secondary\">\r\n                              {u.quiz_attempt_count || 0}\r\n                            </td>\r\n                            <td className=\"px-4 py-3 text-secondary\">\r\n                              {u.average_scaled_score != null\r\n                                ? Math.round(u.average_scaled_score)\r\n                                : ''}\r\n                            </td>\r\n                            <td className=\"px-4 py-3 text-muted text-xs\">\r\n                              {formatDateTime(u.last_login_at)}\r\n                            </td>\r\n                          </tr>\r\n                        ))}\r\n                      </tbody>\r\n                    </table>\r\n                  </div>\r\n                )}\r\n              </section>\r\n            )}\r\n\r\n            {/* Activity Tab */}\r\n            {activeTab === 'activity' && (\r\n              <section className=\"rounded-3xl border-subtle panel-surface p-6 shadow-sm\">\r\n                <div className=\"mb-4\">\r\n                  <h2 className=\"text-xl font-semibold text-primary\">\r\n                    Recent Organization Activity\r\n                  </h2>\r\n                  <p className=\"text-sm text-muted mt-1\">\r\n                    Latest quiz attempts within your organization\r\n                  </p>\r\n                </div>\r\n\r\n                {loadingActivity ? (\r\n                  <p className=\"text-sm text-muted\">Loading activity...</p>\r\n                ) : activity.length === 0 ? (\r\n                  <p className=\"text-sm text-muted\">No recent activity.</p>\r\n                ) : (\r\n                  <div className=\"space-y-3\">\r\n                    {activity.map((act) => (\r\n                      <div\r\n                        key={act.id}\r\n                        className=\"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 p-3 rounded-lg bg-surface-soft\"\r\n                      >\r\n                        <div className=\"flex-1\">\r\n                          <div className=\"font-medium text-primary\">\r\n                            {act.user_name || act.user_email}\r\n                          </div>\r\n                          <div className=\"text-sm text-secondary\">\r\n                            {act.subject} - {act.quiz_title || act.quiz_type}\r\n                          </div>\r\n                        </div>\r\n                        <div className=\"flex items-center gap-4 text-sm\">\r\n                          <span className=\"text-secondary\">\r\n                            Score:{' '}\r\n                            <span className=\"font-semibold\">\r\n                              {act.scaled_score != null\r\n                                ? Math.round(act.scaled_score)\r\n                                : 'N/A'}\r\n                            </span>\r\n                          </span>\r\n                          <span className=\"text-muted text-xs\">\r\n                            {formatDateTime(act.attempted_at)}\r\n                          </span>\r\n                        </div>\r\n                      </div>\r\n                    ))}\r\n                  </div>\r\n                )}\r\n              </section>\r\n            )}\r\n\r\n            {/* Question Browser Tab */}\r\n            {activeTab === 'question-browser' && (\r\n              <section className=\"rounded-3xl border-subtle panel-surface shadow-sm\">\r\n                <SuperAdminQuestionBrowser />\r\n              </section>\r\n            )}\r\n\r\n            {/* Questions Catalog Tab */}\r\n            {activeTab === 'questions' && (\r\n              <section className=\"rounded-3xl border-subtle panel-surface shadow-sm\">\r\n                <SuperAdminAllQuestions />\r\n              </section>\r\n            )}\r\n\r\n            {/* TEMP: Always render catalog for debugging so logs appear even if tab state is off */}\r\n            {activeTab !== 'questions' && (\r\n              <section className=\"rounded-3xl border-subtle panel-surface shadow-sm mt-4\">\r\n                <div className=\"mb-2 text-xs text-amber-600\">\r\n                  Debug: Questions Catalog rendered even though tab inactive\r\n                </div>\r\n                <SuperAdminAllQuestions />\r\n              </section>\r\n            )}\r\n          </>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction DetailedProgressView({\r\n  subject,\r\n  progressData,\r\n  onBack,\r\n  rlaEssayAvgDisplay,\r\n}) {\r\n  const attempts = Array.isArray(progressData?.attempts)\r\n    ? progressData.attempts\r\n    : [];\r\n  const lastAttempt =\r\n    progressData?.lastAttempt || (attempts.length ? attempts[0] : null);\r\n  const totalPremade =\r\n    typeof progressData?.totalPremadeExams === 'number'\r\n      ? progressData.totalPremadeExams\r\n      : 0;\r\n  const completedCount =\r\n    typeof progressData?.completedCount === 'number'\r\n      ? progressData.completedCount\r\n      : 0;\r\n  const completionPercentage =\r\n    typeof progressData?.completionPercentage === 'number'\r\n      ? progressData.completionPercentage\r\n      : 0;\r\n  const averageScaledScore =\r\n    typeof progressData?.averageScaledScore === 'number'\r\n      ? progressData.averageScaledScore\r\n      : null;\r\n\r\n  const formatDate = (value) => {\r\n    if (!value) return '';\r\n    const date = new Date(value);\r\n    if (Number.isNaN(date.getTime())) {\r\n      return '';\r\n    }\r\n    return date.toLocaleString(undefined, {\r\n      dateStyle: 'medium',\r\n      timeStyle: 'short',\r\n    });\r\n  };\r\n\r\n  const formatScore = (value) => (value == null ? 'N/A' : Math.round(value));\r\n  const formatPassStatus = (passed) => {\r\n    if (passed === true)\r\n      return { label: 'Passed', className: 'text-emerald-600' };\r\n    if (passed === false)\r\n      return { label: 'Keep Practicing', className: 'text-amber-600' };\r\n    return { label: '', className: 'text-slate-500' };\r\n  };\r\n\r\n  const recentAttempts = attempts.slice(0, 10);\r\n\r\n  return (\r\n    <div className=\"fade-in\" data-subject={subject}>\r\n      <header className=\"flex items-center pb-4 mb-4 border-b\">\r\n        <button\r\n          type=\"button\"\r\n          onClick={onBack}\r\n          className=\"flex items-center gap-1 text-sm text-sky-600 hover:text-sky-800 font-semibold\"\r\n        >\r\n          <ArrowLeftIcon /> Back to Dashboard\r\n        </button>\r\n      </header>\r\n      <h2 className=\"text-3xl font-extrabold subject-accent-heading mb-4\">\r\n        {subject} Progress Details\r\n      </h2>\r\n      <div className=\"space-y-6\">\r\n        <section className=\"rounded-lg border border-slate-200 bg-slate-50 p-5 shadow-inner panel-surface\">\r\n          <h3 className=\"text-lg font-semibold subject-accent-heading\">\r\n            Premade Exam Progress\r\n          </h3>\r\n          <div className=\"mt-3 h-3 w-full rounded-full bg-white/70\">\r\n            <div\r\n              className=\"h-3 rounded-full bg-sky-500 transition-all duration-300\"\r\n              style={{\r\n                width: `${Math.min(100, Math.max(0, completionPercentage))}%`,\r\n              }}\r\n            ></div>\r\n          </div>\r\n          <div className=\"mt-2 flex flex-wrap justify-between text-sm text-slate-600\">\r\n            <span>\r\n              {completedCount} of {totalPremade} exams passed\r\n            </span>\r\n            <span>{completionPercentage}% complete</span>\r\n          </div>\r\n          {averageScaledScore != null && (\r\n            <p className=\"mt-2 text-sm text-slate-600\">\r\n              Average scaled score:{' '}\r\n              <span className=\"font-semibold text-slate-800\">\r\n                {averageScaledScore}\r\n              </span>\r\n            </p>\r\n          )}\r\n          {subject === 'Reasoning Through Language Arts (RLA)' &&\r\n            rlaEssayAvgDisplay && (\r\n              <p className=\"mt-1 text-sm text-slate-600\">\r\n                Avg essay (06):{' '}\r\n                <span className=\"font-semibold text-slate-800\">\r\n                  {rlaEssayAvgDisplay}\r\n                </span>\r\n              </p>\r\n            )}\r\n        </section>\r\n\r\n        <section className=\"rounded-lg border border-slate-200 bg-white p-5 shadow-sm panel-surface\">\r\n          <h3 className=\"text-lg font-semibold subject-accent-heading mb-2\">\r\n            Last Exam\r\n          </h3>\r\n          {lastAttempt ? (\r\n            <div className=\"space-y-2\">\r\n              <p className=\"text-xl font-bold text-slate-900\">\r\n                {lastAttempt.quizTitle || 'Exam'}\r\n              </p>\r\n              <p className=\"text-sm text-slate-600 break-words\">\r\n                Code:{' '}\r\n                <span className=\"font-mono text-slate-700\">\r\n                  {lastAttempt.quizCode || ''}\r\n                </span>\r\n              </p>\r\n              <p className=\"text-lg font-semibold text-slate-800\">\r\n                Scaled Score:{' '}\r\n                <span className=\"text-sky-700\">\r\n                  {formatScore(lastAttempt.scaledScore)}\r\n                </span>\r\n                <span\r\n                  className={`ml-3 text-sm font-semibold ${\r\n                    formatPassStatus(lastAttempt.passed).className\r\n                  }`}\r\n                >\r\n                  {formatPassStatus(lastAttempt.passed).label}\r\n                </span>\r\n              </p>\r\n              {typeof lastAttempt.score === 'number' &&\r\n                typeof lastAttempt.totalQuestions === 'number' && (\r\n                  <p className=\"text-sm text-slate-600\">\r\n                    Correct: {lastAttempt.score} / {lastAttempt.totalQuestions}\r\n                  </p>\r\n                )}\r\n              <p className=\"text-sm text-slate-500\">\r\n                Completed {formatDate(lastAttempt.attemptedAt)}\r\n              </p>\r\n            </div>\r\n          ) : (\r\n            <p className=\"text-sm text-slate-600\">\r\n              No completed exams recorded yet. Start a premade exam to see your\r\n              progress here.\r\n            </p>\r\n          )}\r\n        </section>\r\n\r\n        <section>\r\n          <h3 className=\"text-lg font-semibold subject-accent-heading mb-3\">\r\n            Recent Attempts\r\n          </h3>\r\n          {recentAttempts.length ? (\r\n            <ul className=\"space-y-3\">\r\n              {recentAttempts.map((attempt, index) => {\r\n                const { label, className } = formatPassStatus(attempt.passed);\r\n                return (\r\n                  <li\r\n                    key={`${attempt.quizCode || 'attempt'}-${index}`}\r\n                    className=\"rounded-lg border border-slate-200 bg-white p-4 shadow-sm panel-surface\"\r\n                  >\r\n                    <div className=\"flex items-start justify-between gap-3\">\r\n                      <div>\r\n                        <p className=\"font-semibold text-slate-800\">\r\n                          {attempt.quizTitle ||\r\n                            attempt.quizCode ||\r\n                            `Exam ${index + 1}`}\r\n                        </p>\r\n                        <p className=\"text-xs text-slate-500\">\r\n                          Code: {attempt.quizCode || ''}\r\n                        </p>\r\n                      </div>\r\n                      <div className=\"space-y-3\">\r\n                        {/* Recent attempt details go here (removed accidental option renderer) */}\r\n                      </div>\r\n                    </div>\r\n                  </li>\r\n                );\r\n              })}\r\n            </ul>\r\n          ) : (\r\n            <p className=\"text-sm text-slate-600\">\r\n              No recent attempts recorded yet.\r\n            </p>\r\n          )}\r\n        </section>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction DashboardProgressSummary({\r\n  progress,\r\n  profilePassedFromProps,\r\n  recentSummary,\r\n  onSubjectClick,\r\n}) {\r\n  // Static base path for badges served by the backend\r\n  const BADGE_BASE = '/badges';\r\n  // Build passed set from profile only, plus optional localStorage overrides\r\n  const passedSubjectsSet = React.useMemo(() => {\r\n    const set = new Set();\r\n    // Merge in profile-passed flags coming from the profile/test-plan (source of truth)\r\n    try {\r\n      const pm = profilePassedFromProps;\r\n      if (pm && typeof pm === 'object') {\r\n        Object.entries(pm).forEach(([id, isPassed]) => {\r\n          if (!isPassed) return;\r\n          const label =\r\n            id === 'rla'\r\n              ? 'Reasoning Through Language Arts (RLA)'\r\n              : id === 'social_studies'\r\n              ? 'Social Studies'\r\n              : id === 'math'\r\n              ? 'Math'\r\n              : id === 'science'\r\n              ? 'Science'\r\n              : null;\r\n          if (label) set.add(label);\r\n        });\r\n      }\r\n    } catch {}\r\n    // Optional: also respect any local manual flags present in localStorage\r\n    try {\r\n      const raw = localStorage.getItem('passedSubjects');\r\n      if (raw) {\r\n        const arr = JSON.parse(raw);\r\n        if (Array.isArray(arr))\r\n          arr.forEach((s) => {\r\n            if (typeof s === 'string') set.add(s);\r\n          });\r\n      }\r\n    } catch {}\r\n    return set;\r\n  }, [profilePassedFromProps]);\r\n  const totalAttempts = Object.values(progress).reduce(\r\n    (acc, subjectData) => acc + (subjectData?.attemptCount || 0),\r\n    0\r\n  );\r\n  const subjects = SUBJECT_PROGRESS_KEYS;\r\n  const getScoreTheme = (subject) => SUBJECT_COLORS[subject] || {};\r\n  const getCardStyles = (subject) => {\r\n    const theme = getScoreTheme(subject);\r\n    const gradient = SUBJECT_BG_GRADIENTS[subject];\r\n    const style = {\r\n      borderColor: theme.scoreBorder || 'var(--border-subtle)',\r\n      color: theme.scoreText || theme.text || '#ffffff',\r\n      backgroundColor:\r\n        theme.scoreBackground || theme.background || 'var(--bg-overlay)',\r\n    };\r\n    if (gradient) {\r\n      style.backgroundImage = gradient;\r\n    }\r\n    return style;\r\n  };\r\n  const isDark = (() => {\r\n    if (typeof document === 'undefined') return false;\r\n    const root = document.documentElement;\r\n    return (\r\n      root.classList.contains('dark') ||\r\n      root.getAttribute('data-theme') === 'dark' ||\r\n      document.body.classList.contains('dark')\r\n    );\r\n  })();\r\n  const totalCardStyle = isDark\r\n    ? {\r\n        borderColor: DEFAULT_COLOR_SCHEME.scoreBorder || 'var(--border-subtle)',\r\n        backgroundColor: 'rgba(15,23,42,0.9)',\r\n        color: '#f8fafc',\r\n      }\r\n    : {\r\n        borderColor: 'rgba(148,163,184,0.35)',\r\n        backgroundColor: '#ffffff',\r\n        backgroundImage: 'linear-gradient(180deg, #ffffff 0%, #f8fafc 100%)',\r\n        color: '#0f172a',\r\n      };\r\n\r\n  const formatAverage = (value) => (value == null ? 'N/A' : Math.round(value));\r\n  const rlaEssayAvgDisplay = (() => {\r\n    try {\r\n      const cards = Array.isArray(recentSummary?.cards)\r\n        ? recentSummary.cards\r\n        : [];\r\n      const card = cards.find(\r\n        (c) => c && (c.id === 'rla_essay_avg' || c.subject === 'RLA')\r\n      );\r\n      if (!card) return null;\r\n      if (card.value && typeof card.value.display === 'string')\r\n        return card.value.display;\r\n      if (typeof card.value === 'number')\r\n        return `${(Math.round(card.value * 10) / 10).toFixed(1)} / 6`;\r\n      if (typeof card.latest === 'number')\r\n        return `${(Math.round(card.latest * 10) / 10).toFixed(1)} / 6`;\r\n      return null;\r\n    } catch {\r\n      return null;\r\n    }\r\n  })();\r\n\r\n  return (\r\n    <section className=\"dashboard-progress grid grid-cols-1 sm:grid-cols-3 lg:grid-cols-5 gap-4 mb-8\">\r\n      <div\r\n        className=\"progress-card total-attempts p-4 rounded-lg text-center shadow-inner border sm:col-span-3 lg:col-span-1\"\r\n        style={totalCardStyle}\r\n      >\r\n        <p\r\n          className=\"text-sm font-semibold uppercase tracking-wider\"\r\n          style={{ color: isDark ? 'rgba(248,250,252,0.75)' : '#334155' }}\r\n        >\r\n          Total Attempts\r\n        </p>\r\n        <p\r\n          className=\"text-4xl font-bold\"\r\n          style={{ color: isDark ? '#ffffff' : '#0f172a' }}\r\n        >\r\n          {totalAttempts}\r\n        </p>\r\n      </div>\r\n      <div className=\"progress-subjects sm:col-span-3 lg:col-span-4 grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4\">\r\n        {subjects.map((subject) => {\r\n          const data = progress[subject] || {};\r\n          const cardStyle = getCardStyles(subject);\r\n          const completionPercent = Math.min(\r\n            100,\r\n            Math.max(0, data.completionPercentage || 0)\r\n          );\r\n          const completedCount = data.completedCount || 0;\r\n          const totalPremade = data.totalPremadeExams || 0;\r\n          const averageScore = formatAverage(data.averageScaledScore);\r\n          const lastTitle = data.lastAttempt?.quizTitle;\r\n          const lastScore = data.lastAttempt?.scaledScore;\r\n          const truncatedTitle =\r\n            lastTitle && lastTitle.length > 52\r\n              ? `${lastTitle.slice(0, 49)}`\r\n              : lastTitle;\r\n          const subjectId = SUBJECT_ID_MAP[subject] || null;\r\n          const shortLabel =\r\n            (SUBJECT_SHORT_LABELS && SUBJECT_SHORT_LABELS[subject]) ||\r\n            (subjectId === 'rla' ? 'RLA' : subject);\r\n          const hasGradient = Boolean(SUBJECT_BG_GRADIENTS[subject]);\r\n          const titleColor = hasGradient ? 'rgba(255,255,255,0.85)' : '#0f172a';\r\n          // Map subjectId to on-disk filename (social studies uses a hyphen)\r\n          const badgeFile =\r\n            subjectId === 'social_studies' ? 'social-studies' : subjectId;\r\n          const badgeSrc = badgeFile ? `${BADGE_BASE}/${badgeFile}.svg` : null;\r\n          const showBadge = passedSubjectsSet.has(subject);\r\n          return (\r\n            <button\r\n              key={subject}\r\n              id={subjectId ? `subject-card-${subjectId}` : undefined}\r\n              onClick={() => onSubjectClick(subject)}\r\n              className=\"subject-card relative p-4 rounded-lg text-left shadow-inner border transition-transform duration-200 hover:-translate-y-1\"\r\n              style={cardStyle}\r\n            >\r\n              {showBadge &&\r\n                (badgeSrc ? (\r\n                  <div className=\"subject-badge-shell\">\r\n                    <img\r\n                      src={badgeSrc}\r\n                      alt={`${subject} GED badge`}\r\n                      className=\"subject-badge-img\"\r\n                      onError={(e) => {\r\n                        // Hide the shell if the image fails, then show pill fallback\r\n                        const shell = e.currentTarget.parentElement;\r\n                        if (shell) shell.style.display = 'none';\r\n                        const pill = e.currentTarget\r\n                          .closest('.subject-card')\r\n                          ?.querySelector('.subject-badge-pill');\r\n                        if (pill) pill.style.display = 'inline-flex';\r\n                      }}\r\n                    />\r\n                  </div>\r\n                ) : (\r\n                  <span className=\"subject-badge-pill\">{shortLabel}</span>\r\n                ))}\r\n              <p\r\n                className=\"text-sm font-semibold uppercase tracking-wider\"\r\n                style={{ color: titleColor }}\r\n              >\r\n                {subject}\r\n              </p>\r\n              <div\r\n                className=\"mt-3 h-2 w-full rounded-full\"\r\n                style={{\r\n                  backgroundColor: isDark ? 'rgba(255,255,255,0.3)' : '#e2e8f0',\r\n                }}\r\n              >\r\n                <div\r\n                  className=\"h-2 rounded-full shadow-sm\"\r\n                  style={{\r\n                    width: `${Math.max(0, Math.min(100, completionPercent))}%`,\r\n                    opacity: 0.95,\r\n                    backgroundColor:\r\n                      SUBJECT_COLORS[subject]?.accent ||\r\n                      (isDark ? '#ffffff' : '#0f172a'),\r\n                  }}\r\n                ></div>\r\n              </div>\r\n              <p className=\"mt-2 text-sm\" style={{ color: cardStyle.color }}>\r\n                {Number.isFinite(totalPremade) && totalPremade > 0\r\n                  ? `${completedCount} of ${totalPremade} exams passed`\r\n                  : `0 of 0 (no quizzes loaded yet)`}\r\n              </p>\r\n              <p\r\n                className=\"text-xs\"\r\n                style={{ color: 'rgba(255,255,255,0.85)' }}\r\n              >\r\n                Avg scaled score:{' '}\r\n                <span className=\"font-semibold\">{averageScore}</span>\r\n              </p>\r\n              {truncatedTitle && (\r\n                <p\r\n                  className=\"mt-2 text-xs\"\r\n                  style={{ color: 'rgba(255,255,255,0.8)' }}\r\n                >\r\n                  Last exam:{' '}\r\n                  <span className=\"font-semibold\">{truncatedTitle}</span>\r\n                  {lastScore != null && ` (${Math.round(lastScore)})`}\r\n                </p>\r\n              )}\r\n              {subjectId === 'rla' && rlaEssayAvgDisplay && (\r\n                <p\r\n                  className=\"mt-1 text-xs\"\r\n                  style={{ color: 'rgba(255,255,255,0.9)' }}\r\n                >\r\n                  Avg essay:{' '}\r\n                  <span className=\"font-semibold\">{rlaEssayAvgDisplay}</span>\r\n                </p>\r\n              )}\r\n            </button>\r\n          );\r\n        })}\r\n      </div>\r\n    </section>\r\n  );\r\n}\r\n\r\n// Shim component expected elsewhere in the app\r\nfunction ProgressDashboard({\r\n  progress,\r\n  onSubjectClick,\r\n  profilePassedMap,\r\n  recentSummary,\r\n}) {\r\n  return (\r\n    <DashboardProgressSummary\r\n      progress={progress}\r\n      profilePassedFromProps={profilePassedMap}\r\n      recentSummary={recentSummary}\r\n      onSubjectClick={onSubjectClick}\r\n    />\r\n  );\r\n}\r\n\r\nfunction VocabularyTicker({ vocabulary, onWordClick }) {\r\n  const entries = useMemo(() => {\r\n    if (!vocabulary) return [];\r\n    return Object.entries(vocabulary).flatMap(([subject, words]) => {\r\n      if (!Array.isArray(words) || !words.length) return [];\r\n      return words\r\n        .slice(0, MAX_TICKER_WORDS_PER_SUBJECT)\r\n        .map((word) => ({ subject, term: word.term }))\r\n        .filter((item) => item.term);\r\n    });\r\n  }, [vocabulary]);\r\n\r\n  if (!entries.length) {\r\n    return null;\r\n  }\r\n\r\n  const repeatedEntries = [...entries, ...entries];\r\n\r\n  return (\r\n    <div\r\n      className=\"vocabulary-spotlight glass rounded-2xl overflow-hidden shadow-lg animate-floatIn\"\r\n      style={{\r\n        borderColor: 'var(--border-strong)',\r\n        backgroundColor: 'var(--bg-overlay)',\r\n      }}\r\n    >\r\n      <div\r\n        className=\"flex items-center justify-between px-4 py-3\"\r\n        style={{\r\n          backgroundColor: 'var(--nav-active-bg)',\r\n          color: 'var(--nav-active-text)',\r\n        }}\r\n      >\r\n        <span className=\"text-sm font-semibold uppercase tracking-wide\">\r\n          Vocabulary Spotlight\r\n        </span>\r\n        <span\r\n          className=\"hidden text-xs sm:inline\"\r\n          style={{ color: 'var(--text-secondary)', opacity: 0.75 }}\r\n        >\r\n          Click any word to view the full list.\r\n        </span>\r\n      </div>\r\n      <div className=\"vocabulary-ticker\">\r\n        <div className=\"vocabulary-ticker-track\">\r\n          {repeatedEntries.map((item, index) => {\r\n            const color = VOCABULARY_SUBJECT_COLORS[item.subject] || '#0f172a';\r\n            const shortLabel =\r\n              SUBJECT_SHORT_LABELS[item.subject] || item.subject;\r\n            return (\r\n              <button\r\n                key={`${item.subject}-${item.term}-${index}`}\r\n                type=\"button\"\r\n                onClick={() => onWordClick?.(item.subject)}\r\n                className=\"vocabulary-chip\"\r\n                title={`View ${item.subject} vocabulary`}\r\n              >\r\n                <span\r\n                  className=\"vocabulary-chip-dot\"\r\n                  style={{ backgroundColor: color }}\r\n                ></span>\r\n                <span style={{ color: 'var(--text-primary)' }}>\r\n                  {item.term}\r\n                </span>\r\n                <span\r\n                  className=\"vocabulary-chip-label\"\r\n                  style={{ color: 'var(--text-secondary)' }}\r\n                >\r\n                  {shortLabel}\r\n                </span>\r\n              </button>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction VocabularyOverview({ vocabulary, onWordClick }) {\r\n  const subjects = Object.entries(vocabulary || {}).filter(\r\n    ([, words]) => Array.isArray(words) && words.length > 0\r\n  );\r\n\r\n  if (!subjects.length) {\r\n    return null;\r\n  }\r\n\r\n  return (\r\n    <div className=\"grid grid-cols-1 gap-4 md:grid-cols-2 xl:grid-cols-4\">\r\n      {subjects.map(([subjectName, words]) => {\r\n        const colorScheme = SUBJECT_COLORS[subjectName] || {};\r\n        const headerGradient = SUBJECT_BG_GRADIENTS[subjectName];\r\n        const headerStyle = headerGradient\r\n          ? { backgroundImage: headerGradient }\r\n          : {\r\n              backgroundColor: colorScheme.background || 'var(--nav-active-bg)',\r\n            };\r\n        const previewWords = words.slice(0, 3);\r\n\r\n        return (\r\n          <div\r\n            key={subjectName}\r\n            className=\"subject-card glass animate-floatIn flex h-full flex-col overflow-hidden rounded-2xl shadow-lg\"\r\n            style={{\r\n              backgroundColor: 'var(--bg-surface)',\r\n              borderColor: 'var(--border-strong)',\r\n            }}\r\n          >\r\n            <div\r\n              className=\"flex items-center justify-between px-4 py-3 shadow-inner rounded-t-2xl\"\r\n              style={{\r\n                ...(headerStyle || {}),\r\n                backgroundColor: headerStyle?.backgroundColor || undefined,\r\n                backgroundImage: headerStyle?.backgroundImage || undefined,\r\n                color: colorScheme.text || 'var(--nav-active-text)',\r\n              }}\r\n            >\r\n              <h3 className=\"text-lg font-semibold drop-shadow-sm\">\r\n                {subjectName}\r\n              </h3>\r\n              <span\r\n                className=\"text-xs uppercase tracking-wide\"\r\n                style={{\r\n                  color: colorScheme.text || 'var(--nav-active-text)',\r\n                  opacity: 0.85,\r\n                }}\r\n              >\r\n                Key Terms\r\n              </span>\r\n            </div>\r\n            <div className=\"flex flex-1 flex-col gap-4 p-4\">\r\n              <ul className=\"space-y-2\">\r\n                {previewWords.map((word) => (\r\n                  <li\r\n                    key={word.term}\r\n                    className=\"rounded-lg px-3 py-2 text-sm font-medium shadow-sm\"\r\n                    style={{\r\n                      backgroundColor: 'var(--bg-muted)',\r\n                      color: 'var(--text-secondary)',\r\n                    }}\r\n                  >\r\n                    {word.term}\r\n                  </li>\r\n                ))}\r\n              </ul>\r\n              <div className=\"mt-auto\">\r\n                <div\r\n                  className=\"mb-1 text-xs font-medium\"\r\n                  style={{ color: 'var(--text-secondary)' }}\r\n                >\r\n                  Study Progress\r\n                </div>\r\n                <div\r\n                  className=\"h-2 w-full overflow-hidden rounded-full\"\r\n                  style={{ backgroundColor: 'var(--border-subtle)' }}\r\n                >\r\n                  <div\r\n                    className=\"h-full rounded-full transition-all duration-500\"\r\n                    style={{\r\n                      width: '40%',\r\n                      backgroundColor: colorScheme.accent || 'var(--accent)',\r\n                    }}\r\n                  />\r\n                </div>\r\n              </div>\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => onWordClick?.(subjectName)}\r\n                className=\"mt-2 inline-flex items-center justify-center rounded-lg px-4 py-2 text-sm font-semibold shadow-sm transition\"\r\n                data-role=\"secondary\"\r\n                style={{\r\n                  color: colorScheme.accentText || 'var(--accent-text)',\r\n                  borderColor: colorScheme.accent || 'var(--accent)',\r\n                }}\r\n              >\r\n                View full list\r\n              </button>\r\n            </div>\r\n          </div>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction SubjectVocabularySection({ subject, words, theme = 'light' }) {\r\n  if (!Array.isArray(words) || !words.length) {\r\n    return null;\r\n  }\r\n\r\n  const isDarkMode = theme === 'dark';\r\n  const colorScheme = SUBJECT_COLORS[subject] || {};\r\n  const accentColor = colorScheme.accent || colorScheme.text || '#0f172a';\r\n  const textColor = colorScheme.text || '#0f172a';\r\n  const lightTint = SUBJECT_LIGHT_TINTS[subject] || 'rgba(148,163,184,0.28)';\r\n  const lightSurface = SUBJECT_LIGHT_SURFACE_GRADIENTS[subject];\r\n\r\n  const containerClasses = `animate-floatIn rounded-2xl p-6 mb-6 border transition-colors duration-300 ${\r\n    isDarkMode ? 'bg-slate-900/60 border-slate-700/60' : 'bg-white shadow-xl'\r\n  }`;\r\n  const containerStyle = isDarkMode\r\n    ? undefined\r\n    : {\r\n        backgroundColor: '#ffffff',\r\n        backgroundImage: lightSurface || undefined,\r\n        borderColor: lightTint,\r\n        boxShadow: '0 22px 45px -32px rgba(15,23,42,0.45)',\r\n      };\r\n\r\n  const headerTextStyle = isDarkMode ? undefined : { color: accentColor };\r\n  const subtextStyle = isDarkMode\r\n    ? undefined\r\n    : { color: textColor, opacity: 0.75 };\r\n\r\n  const cardClasses = `rounded-xl p-4 shadow-sm border transition-all ${\r\n    isDarkMode ? 'bg-slate-900/60 border-slate-700/60' : 'bg-white'\r\n  }`;\r\n  const cardStyle = isDarkMode\r\n    ? undefined\r\n    : {\r\n        backgroundColor: '#ffffff',\r\n        borderColor: lightTint,\r\n        borderLeft: `4px solid ${accentColor}`,\r\n        boxShadow: '0 14px 32px -28px rgba(15,23,42,0.35)',\r\n      };\r\n\r\n  const termStyle = isDarkMode ? undefined : { color: textColor };\r\n  const definitionStyle = isDarkMode\r\n    ? undefined\r\n    : { color: textColor, opacity: 0.85 };\r\n  const exampleStyle = isDarkMode\r\n    ? undefined\r\n    : { color: accentColor, opacity: 0.8 };\r\n\r\n  return (\r\n    <div\r\n      id=\"subject-vocabulary-section\"\r\n      className={containerClasses}\r\n      style={containerStyle}\r\n    >\r\n      <div className=\"flex flex-col gap-1 md:flex-row md:items-center md:justify-between\">\r\n        <div>\r\n          <h3\r\n            className=\"text-xl font-bold text-slate-900 dark:text-slate-100\"\r\n            style={headerTextStyle}\r\n          >\r\n            Subject Vocabulary\r\n          </h3>\r\n          <p\r\n            className=\"text-sm text-slate-600 dark:text-slate-300\"\r\n            style={subtextStyle}\r\n          >\r\n            Scroll through the complete list of key terms for {subject}.\r\n          </p>\r\n        </div>\r\n      </div>\r\n      <div className=\"mt-4 max-h-96 overflow-y-auto pr-1 space-y-3\">\r\n        {words.map((word) => (\r\n          <div key={word.term} className={cardClasses} style={cardStyle}>\r\n            <p\r\n              className=\"text-lg font-semibold text-slate-900 dark:text-slate-100\"\r\n              style={termStyle}\r\n            >\r\n              {word.term}\r\n            </p>\r\n            {word.definition && (\r\n              <p\r\n                className=\"text-sm text-slate-600 dark:text-slate-300 mt-2 leading-relaxed\"\r\n                style={definitionStyle}\r\n              >\r\n                {word.definition}\r\n              </p>\r\n            )}\r\n            {word.example && (\r\n              <p\r\n                className=\"text-xs text-slate-500 dark:text-slate-400 italic mt-2\"\r\n                style={exampleStyle}\r\n              >\r\n                Example: {word.example}\r\n              </p>\r\n            )}\r\n          </div>\r\n        ))}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction VocabularyBySubject({ vocabulary, onStartQuiz, theme = 'light' }) {\r\n  const [expandedSubjects, setExpandedSubjects] = React.useState({});\r\n  const isDarkMode = theme === 'dark';\r\n\r\n  const subjects = Object.entries(vocabulary || {}).filter(\r\n    ([, words]) => Array.isArray(words) && words.length > 0\r\n  );\r\n\r\n  if (!subjects.length) {\r\n    return null;\r\n  }\r\n\r\n  const toggleSubject = (subjectName) => {\r\n    setExpandedSubjects((prev) => ({\r\n      ...prev,\r\n      [subjectName]: !prev[subjectName],\r\n    }));\r\n  };\r\n\r\n  return (\r\n    <div className=\"space-y-4\">\r\n      {subjects.map(([subjectName, words]) => {\r\n        const colorScheme = SUBJECT_COLORS[subjectName] || {};\r\n        const accentColor = colorScheme.accent || colorScheme.text || '#0f172a';\r\n        const textColor = colorScheme.text || '#0f172a';\r\n        const lightTint =\r\n          SUBJECT_LIGHT_TINTS[subjectName] || 'rgba(148,163,184,0.28)';\r\n        const lightSurface = SUBJECT_LIGHT_SURFACE_GRADIENTS[subjectName];\r\n        const gradientBg = SUBJECT_BG_GRADIENTS[subjectName];\r\n        const isExpanded = expandedSubjects[subjectName];\r\n\r\n        const containerClasses = `animate-floatIn rounded-2xl border transition-all duration-300 ${\r\n          isDarkMode\r\n            ? 'bg-slate-900/60 border-slate-700/60'\r\n            : 'bg-white shadow-lg'\r\n        }`;\r\n        const containerStyle = isDarkMode\r\n          ? undefined\r\n          : {\r\n              backgroundColor: '#ffffff',\r\n              backgroundImage: lightSurface || undefined,\r\n              borderColor: lightTint,\r\n              boxShadow: '0 18px 38px -24px rgba(15,23,42,0.4)',\r\n            };\r\n\r\n        const headerClasses = `flex items-center justify-between p-4 cursor-pointer rounded-t-2xl transition-all ${\r\n          isDarkMode ? 'hover:bg-slate-800/40' : 'hover:opacity-90'\r\n        }`;\r\n        const headerStyle = isDarkMode\r\n          ? { backgroundImage: gradientBg }\r\n          : {\r\n              backgroundColor: accentColor,\r\n              borderBottom: `2px solid ${accentColor}`,\r\n            };\r\n\r\n        const titleStyle = isDarkMode\r\n          ? undefined\r\n          : { color: '#ffffff', fontWeight: 'bold' };\r\n        const countStyle = isDarkMode\r\n          ? undefined\r\n          : { color: 'rgba(255, 255, 255, 0.85)', opacity: 0.9 };\r\n\r\n        const buttonClasses = `px-4 py-2 rounded-lg font-semibold text-sm transition-all shadow-sm ${\r\n          isDarkMode\r\n            ? 'bg-purple-600 hover:bg-purple-700 text-white'\r\n            : 'text-white hover:scale-105'\r\n        }`;\r\n        const buttonStyle = isDarkMode\r\n          ? undefined\r\n          : {\r\n              backgroundColor: accentColor,\r\n              boxShadow: `0 4px 14px -6px ${accentColor}`,\r\n            };\r\n\r\n        const cardClasses = `rounded-lg p-3 border transition-all ${\r\n          isDarkMode ? 'bg-slate-900/60 border-slate-700/60' : 'bg-white'\r\n        }`;\r\n        const cardStyle = isDarkMode\r\n          ? undefined\r\n          : {\r\n              backgroundColor: '#ffffff',\r\n              borderColor: lightTint,\r\n              borderLeft: `3px solid ${accentColor}`,\r\n              boxShadow: '0 10px 24px -20px rgba(15,23,42,0.3)',\r\n            };\r\n\r\n        const termStyle = isDarkMode ? undefined : { color: textColor };\r\n        const definitionStyle = isDarkMode\r\n          ? undefined\r\n          : { color: textColor, opacity: 0.85 };\r\n\r\n        return (\r\n          <div\r\n            key={subjectName}\r\n            className={containerClasses}\r\n            style={containerStyle}\r\n          >\r\n            <div\r\n              className={headerClasses}\r\n              style={headerStyle}\r\n              onClick={() => toggleSubject(subjectName)}\r\n            >\r\n              <div className=\"flex items-center gap-3\">\r\n                <h3\r\n                  className=\"text-lg font-bold text-slate-900 dark:text-slate-100\"\r\n                  style={titleStyle}\r\n                >\r\n                  {subjectName}\r\n                </h3>\r\n                <span\r\n                  className=\"text-sm text-slate-600 dark:text-slate-300\"\r\n                  style={countStyle}\r\n                >\r\n                  ({words.length} terms)\r\n                </span>\r\n              </div>\r\n              <div className=\"flex items-center gap-2\">\r\n                <button\r\n                  onClick={(e) => {\r\n                    e.stopPropagation();\r\n                    onStartQuiz?.(subjectName);\r\n                  }}\r\n                  className={buttonClasses}\r\n                  style={buttonStyle}\r\n                >\r\n                   Vocabulary Quiz\r\n                </button>\r\n                <span className=\"text-slate-600 dark:text-slate-300 text-xl\">\r\n                  {isExpanded ? '' : ''}\r\n                </span>\r\n              </div>\r\n            </div>\r\n            {isExpanded && (\r\n              <div className=\"p-4 space-y-3 max-h-96 overflow-y-auto\">\r\n                {words.map((word) => (\r\n                  <div\r\n                    key={word.term}\r\n                    className={cardClasses}\r\n                    style={cardStyle}\r\n                  >\r\n                    <p\r\n                      className=\"text-base font-semibold text-slate-900 dark:text-slate-100\"\r\n                      style={termStyle}\r\n                    >\r\n                      {word.term}\r\n                    </p>\r\n                    {word.definition && (\r\n                      <p\r\n                        className=\"text-sm text-slate-600 dark:text-slate-300 mt-2 leading-relaxed\"\r\n                        style={definitionStyle}\r\n                      >\r\n                        {word.definition}\r\n                      </p>\r\n                    )}\r\n                  </div>\r\n                ))}\r\n              </div>\r\n            )}\r\n          </div>\r\n        );\r\n      })}\r\n    </div>\r\n  );\r\n}\r\n\r\nconst ICONS = {\r\n  GlobeIcon,\r\n  BookOpenIcon,\r\n  BeakerIcon,\r\n  CalculatorIcon,\r\n  ChartBarIcon,\r\n  VariableIcon,\r\n  ShapesIcon,\r\n};\r\n\r\nfunction FormulaDisplay({ latex, className = '' }) {\r\n  const safeLatex = normalizeFormulaLatex(latex);\r\n  let html = '';\r\n\r\n  try {\r\n    html = renderLatexToHtml(safeLatex);\r\n  } catch (error) {\r\n    console.warn('Formula render failed:', error?.message || error);\r\n    html = escapeHtml(typeof safeLatex === 'string' ? safeLatex : '');\r\n  }\r\n\r\n  return (\r\n    <span\r\n      className={className}\r\n      dangerouslySetInnerHTML={{ __html: sanitizeUnicode(html) }}\r\n    />\r\n  );\r\n}\r\n\r\nfunction ScienceFormulaSheet({ onClose }) {\r\n  return (\r\n    <div\r\n      className=\"fixed inset-0 z-50 flex items-center justify-center\"\r\n      style={{ backgroundColor: 'var(--modal-overlay)' }}\r\n    >\r\n      <div className=\"formula-sheet science-formula-sheet rounded-xl shadow-2xl max-w-lg w-11/12 p-6 relative\">\r\n        <button\r\n          className=\"formula-sheet-close absolute top-3 right-3 font-bold hover:opacity-80 transition-opacity\"\r\n          onClick={onClose}\r\n          type=\"button\"\r\n          aria-label=\"Close science formula sheet\"\r\n          style={{ color: 'inherit' }}\r\n        >\r\n          \r\n        </button>\r\n\r\n        <h2 className=\"formula-sheet-title text-xl font-bold mb-4\">\r\n          Science Formula Sheet\r\n        </h2>\r\n\r\n        <div className=\"formula-sheet-grid space-y-4 max-h-[60vh] overflow-y-auto pr-2\">\r\n          {(Array.isArray(ScienceFormulas) ? ScienceFormulas : []).map(\r\n            (item, idx) => (\r\n              <div\r\n                key={idx}\r\n                className=\"formula-sheet-card rounded-lg p-3 space-y-2\"\r\n              >\r\n                <h3 className=\"formula-sheet-label font-semibold\">\r\n                  {item.name}\r\n                </h3>\r\n                <FormulaDisplay\r\n                  latex={item.formula}\r\n                  className=\"formula-equation rounded text-center my-2 text-lg font-mono px-2 py-2\"\r\n                />\r\n                <p className=\"formula-sheet-description text-xs leading-snug\">\r\n                  {item.variables}\r\n                </p>\r\n              </div>\r\n            )\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction FormulaSheetModal({ onClose }) {\r\n  const Formula = ({ title, formula, description }) => {\r\n    const sanitizedFormula =\r\n      typeof formula === 'string'\r\n        ? (() => {\r\n            let working = formula;\r\n            working = applySafeMathFix(working);\r\n            if (typeof normalizeLatexMacrosInMath === 'function') {\r\n              working = normalizeLatexMacrosInMath(working);\r\n            }\r\n            return working;\r\n          })()\r\n        : formula;\r\n    let html = '';\r\n    try {\r\n      html = renderLatexToHtml(sanitizedFormula);\r\n    } catch (err) {\r\n      console.warn('KaTeX render fallback triggered:', err?.message || err);\r\n      html = escapeHtml(\r\n        typeof sanitizedFormula === 'string' ? sanitizedFormula : ''\r\n      );\r\n    }\r\n\r\n    return (\r\n      <div className=\"formula-sheet-card rounded-lg p-3 space-y-2 mb-4\">\r\n        <h4 className=\"formula-sheet-label font-bold text-md\">{title}</h4>\r\n        <div className=\"formula-equation rounded text-center text-lg font-mono px-2 py-2\">\r\n          <span\r\n            dangerouslySetInnerHTML={{ __html: sanitizeUnicode(html) }}\r\n          ></span>\r\n        </div>\r\n        {description && (\r\n          <p className=\"formula-sheet-description text-sm\">{description}</p>\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className=\"fixed inset-0 w-full h-full flex items-center justify-center z-50\"\r\n      style={{ backgroundColor: 'var(--modal-overlay)' }}\r\n    >\r\n      <div className=\"formula-sheet rounded-lg shadow-2xl w-11/12 max-w-2xl max-h-[90vh]\">\r\n        <div\r\n          className=\"formula-sheet-header p-4 border-b flex justify-between items-center sticky top-0\"\r\n          style={{ borderColor: 'rgba(148,163,184,0.35)' }}\r\n        >\r\n          <h2 className=\"formula-sheet-title text-xl font-bold\">\r\n            GED Mathematical Reasoning Formula Sheet\r\n          </h2>\r\n          <button\r\n            onClick={onClose}\r\n            className=\"formula-sheet-close text-3xl hover:opacity-80 transition-opacity\"\r\n            style={{ color: 'inherit' }}\r\n          >\r\n            &times;\r\n          </button>\r\n        </div>\r\n        <div className=\"p-6 overflow-y-auto max-h-[calc(90vh-65px)] grid grid-cols-1 md:grid-cols-2 gap-x-6\">\r\n          <div>\r\n            <h3 className=\"formula-sheet-section text-lg font-bold border-b mb-2\">\r\n              Area\r\n            </h3>\r\n            <Formula title=\"Square\" formula=\"A = s^2\" />\r\n            <Formula title=\"Rectangle\" formula=\"A = lw\" />\r\n            <Formula title=\"Parallelogram\" formula=\"A = bh\" />\r\n            <Formula title=\"Triangle\" formula=\"A = \\\\\\\\frac{1}{2}bh\" />\r\n            <Formula\r\n              title=\"Trapezoid\"\r\n              formula=\"A = \\\\\\\\frac{1}{2}h(b_1 + b_2)\"\r\n            />\r\n            <Formula title=\"Circle\" formula=\"A = \\\\pi r^2\" />\r\n\r\n            <h3 className=\"formula-sheet-section text-lg font-bold border-b mt-4 mb-2\">\r\n              Perimeter / Circumference\r\n            </h3>\r\n            <Formula title=\"Square\" formula=\"P = 4s\" />\r\n            <Formula title=\"Rectangle\" formula=\"P = 2l + 2w\" />\r\n            <Formula title=\"Triangle\" formula=\"P = s_1 + s_2 + s_3\" />\r\n            <Formula\r\n              title=\"Circle (Circumference)\"\r\n              formula=\"C = 2\\\\\\\\pi r \\\\\\\\text{ or } C = \\\\\\\\pi d\"\r\n            />\r\n          </div>\r\n          <div>\r\n            <h3 className=\"formula-sheet-section text-lg font-bold border-b mb-2\">\r\n              Volume\r\n            </h3>\r\n            <Formula title=\"Cube\" formula=\"V = s^3\" />\r\n            <Formula title=\"Rectangular Prism\" formula=\"V = lwh\" />\r\n            <Formula title=\"Cylinder\" formula=\"V = \\\\pi r^2 h\" />\r\n            <Formula\r\n              title=\"Pyramid\"\r\n              formula=\"V = \\\\\\\\frac{1}{3}Bh\"\r\n              description=\"B = area of base\"\r\n            />\r\n            <Formula title=\"Cone\" formula=\"V = \\\\\\\\frac{1}{3}\\\\\\\\pi r^2 h\" />\r\n            <Formula title=\"Sphere\" formula=\"V = \\\\\\\\frac{4}{3}\\\\\\\\pi r^3\" />\r\n\r\n            <h3 className=\"formula-sheet-section text-lg font-bold border-b mt-4 mb-2\">\r\n              Data\r\n            </h3>\r\n            <Formula\r\n              title=\"Mean\"\r\n              formula=\"mean = \\\\\\\\frac{\\\\\\\\text{sum of values}}{\\\\\\\\text{number of values}}\"\r\n            />\r\n            <Formula\r\n              title=\"Median\"\r\n              formula=\"median = \\\\\\\\text{middle value of an ordered data set}\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction StartScreen({\r\n  currentUser,\r\n  onLogout,\r\n  progress,\r\n  profileBundle: profileData,\r\n  testDate,\r\n  onboardingComplete,\r\n  onShowProfile,\r\n  onSelectQuiz,\r\n  vocabulary,\r\n  onSelectGenerator,\r\n  onStartPopQuiz,\r\n  onStartComprehensiveExam,\r\n  setIsLoading,\r\n  setLoadingMessage,\r\n  setShowFormulaSheet,\r\n  onOpenMathTools,\r\n  setToolsModalSubject,\r\n  setShowToolsModal,\r\n  theme = 'light',\r\n  onRefreshProfile,\r\n  selectedSubject,\r\n  selectedCategory,\r\n  onSelectSubject,\r\n  onSelectCategory,\r\n  onBack,\r\n}) {\r\n  const [aiQuizTopic, setAiQuizTopic] = useState('');\r\n  const [detailedViewSubject, setDetailedViewSubject] = useState(null);\r\n  \r\n  // Back button handler to return to dashboard from progress view\r\n  const handleBackToProgress = useCallback(() => {\r\n    setDetailedViewSubject(null);\r\n  }, []);\r\n  \r\n  // weekly coach\r\n  const [weeklyCoachPlan, setWeeklyCoachPlan] = useState(null);\r\n  const [coachLoading, setCoachLoading] = useState(false);\r\n  const [coachError, setCoachError] = useState('');\r\n\r\n  // daily coach progress snapshot\r\n  const [dailyLoading, setDailyLoading] = useState(false);\r\n  const [dailyError, setDailyError] = useState('');\r\n  const [coachDailySubjects, setCoachDailySubjects] = useState([]);\r\n  // weekly coach summary for dashboard\r\n  const [weeklyCoachSummary, setWeeklyCoachSummary] = useState([]);\r\n  const [generatingAll, setGeneratingAll] = useState(false);\r\n  // Vocabulary collapsible\r\n  const [vocabOpen, setVocabOpen] = useState(true);\r\n\r\n  // Ask Coach (advice)\r\n  const [adviceLoading, setAdviceLoading] = useState(false);\r\n  const [adviceText, setAdviceText] = useState('');\r\n  const [adviceError, setAdviceError] = useState('');\r\n\r\n  // Diagnostic Test Handler\r\n  const handleStartDiagnostic = async () => {\r\n    try {\r\n      setIsLoading(true);\r\n      setLoadingMessage('Preparing your diagnostic test...');\r\n\r\n      const token = localStorage.getItem('appToken');\r\n      const res = await fetch('/api/diagnostic-test', {\r\n        method: 'POST',\r\n        headers: {\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n      });\r\n\r\n      if (!res.ok) throw new Error('Failed to start diagnostic');\r\n\r\n      const quiz = await res.json();\r\n\r\n      // Use onSelectQuiz to launch it\r\n      onSelectQuiz(quiz, 'Diagnostic');\r\n    } catch (err) {\r\n      console.error(err);\r\n      alert('Failed to start diagnostic test. Please try again.');\r\n    } finally {\r\n      setIsLoading(false);\r\n      setLoadingMessage('');\r\n    }\r\n  };\r\n\r\n  // Weekly coach helpers (top-level)\r\n  const canonicalSubjectId = (value) => {\r\n    const str = (value || '').toString().toLowerCase();\r\n    if (!str) return '';\r\n    if (str.startsWith('math')) return 'math';\r\n    if (str.startsWith('science')) return 'science';\r\n    if (str === 'rla' || str.includes('language')) return 'rla';\r\n    if (str.includes('social')) return 'social_studies';\r\n    return str.replace(/[^a-z0-9]+/g, '_');\r\n  };\r\n\r\n  const displaySubjectName = (value) => {\r\n    const id = canonicalSubjectId(value);\r\n    if (id === 'rla') return 'Reasoning Through Language Arts (RLA)';\r\n    if (id === 'social_studies') return 'Social Studies';\r\n    if (id === 'math') return 'Math';\r\n    if (id === 'science') return 'Science';\r\n    return value || 'Subject';\r\n  };\r\n\r\n  const practiceSubjectParam = (value) => {\r\n    const id = canonicalSubjectId(value);\r\n    if (!id) return '';\r\n    if (id === 'math') return 'math';\r\n    if (id === 'science') return 'science';\r\n    if (id === 'rla') return 'rla';\r\n    return 'social-studies';\r\n  };\r\n\r\n  const addDaysToDate = (iso, offset = 0) => {\r\n    if (!iso) return null;\r\n    try {\r\n      const base = new Date(`${iso}T00:00:00`);\r\n      const shifted = new Date(base.getTime() + offset * 24 * 60 * 60 * 1000);\r\n      return shifted.toISOString().slice(0, 10);\r\n    } catch {\r\n      return null;\r\n    }\r\n  };\r\n\r\n  const normalizeCoachTask = (\r\n    task = {},\r\n    dayFallback = {},\r\n    dayIndex = 0,\r\n    taskIndex = 0\r\n  ) => {\r\n    const rawSubject =\r\n      task.subject || dayFallback.subject || dayFallback.subjectLabel || '';\r\n    const subjectId = canonicalSubjectId(rawSubject);\r\n    const subjectLabel =\r\n      task.subjectLabel ||\r\n      dayFallback.subjectLabel ||\r\n      displaySubjectName(rawSubject || subjectId);\r\n    const focus = Array.isArray(task.focus)\r\n      ? task.focus\r\n      : task.focus\r\n      ? [task.focus]\r\n      : [];\r\n    const minutesFromTask = Number(task.minutes);\r\n    const minutesFallback = Number(dayFallback.minutes);\r\n    return {\r\n      id: task.id || `${subjectId || 'task'}-${dayIndex}-${taskIndex}`,\r\n      subject: subjectId,\r\n      subjectLabel,\r\n      title:\r\n        task.title ||\r\n        task.label ||\r\n        dayFallback.label ||\r\n        dayFallback.task ||\r\n        task.type ||\r\n        'Practice',\r\n      type: task.type || dayFallback.type || 'practice',\r\n      minutes: Number.isFinite(minutesFromTask)\r\n        ? minutesFromTask\r\n        : Number.isFinite(minutesFallback)\r\n        ? minutesFallback\r\n        : 20,\r\n      quizId: task.quizId || task.quizCode || null,\r\n      quizPath: task.quizPath || null,\r\n      focus,\r\n      message: task.message || dayFallback.message || null,\r\n    };\r\n  };\r\n\r\n  const adaptWeeklyCoachResponse = (raw) => {\r\n    if (!raw) return { weekStart: null, weekEnd: null, days: [] };\r\n    const plan = raw.plan || raw;\r\n    const weekStart = plan.weekStart || raw.weekStart || null;\r\n    const weekEnd = plan.weekEnd || raw.weekEnd || null;\r\n    const daysInput = Array.isArray(plan.days) ? plan.days : [];\r\n    const normalizedDays = daysInput.map((day, idx) => {\r\n      const dayNumber = Number(day.day);\r\n      const resolvedIndex =\r\n        Number.isFinite(dayNumber) && dayNumber >= 1 ? dayNumber - 1 : idx;\r\n      const label = day.label || `Day ${resolvedIndex + 1}`;\r\n      const date = day.date || addDaysToDate(weekStart, resolvedIndex);\r\n      const tasks = Array.isArray(day.tasks)\r\n        ? day.tasks.map((task, taskIndex) =>\r\n            normalizeCoachTask(task, day, resolvedIndex, taskIndex)\r\n          )\r\n        : [];\r\n      return {\r\n        day: resolvedIndex + 1,\r\n        label,\r\n        date,\r\n        tasks,\r\n      };\r\n    });\r\n    return {\r\n      weekStart,\r\n      weekEnd,\r\n      generatedAt: plan.generatedAt || null,\r\n      subjects: plan.subjects || {},\r\n      days: normalizedDays,\r\n    };\r\n  };\r\n\r\n  const getTodayIndex = (weekStartISO) => {\r\n    if (!weekStartISO) return -1;\r\n    try {\r\n      const today = new Date();\r\n      const localToday = new Date(\r\n        today.getFullYear(),\r\n        today.getMonth(),\r\n        today.getDate()\r\n      );\r\n      const start = new Date(weekStartISO + 'T00:00:00');\r\n      const diff = Math.floor((localToday - start) / (24 * 60 * 60 * 1000));\r\n      if (diff < 0 || diff > 6) return -1;\r\n      return diff;\r\n    } catch {\r\n      return -1;\r\n    }\r\n  };\r\n\r\n  const fetchWeeklyCoachPlan = async () => {\r\n    // Coach feature disabled guard\r\n    if (!window.__COACH_ENABLED__) return;\r\n    try {\r\n      setCoachLoading(true);\r\n      setCoachError('');\r\n      const token =\r\n        (typeof localStorage !== 'undefined' &&\r\n          localStorage.getItem('appToken')) ||\r\n        null;\r\n      if (!token) {\r\n        setWeeklyCoachPlan(null);\r\n        setWeeklyCoachSummary([]);\r\n        return;\r\n      }\r\n      const res = await fetch(\r\n        `${API_BASE_URL}/api/coach/weekly?t=${Date.now()}`,\r\n        {\r\n          method: 'GET',\r\n          headers: { Authorization: `Bearer ${token}` },\r\n          cache: 'no-store',\r\n        }\r\n      );\r\n      if (!res.ok) {\r\n        setWeeklyCoachPlan(\r\n          (prev) => prev || { weekStart: null, weekEnd: null, days: [] }\r\n        );\r\n        if (res.status !== 404)\r\n          setCoachError('Unable to load weekly coach plan.');\r\n        return;\r\n      }\r\n      const data = await res.json();\r\n      // Debug: log weekly payload to verify structure coming from backend\r\n      try {\r\n        console.log('Weekly coach data:', data);\r\n      } catch (_) {}\r\n      const normalized = adaptWeeklyCoachResponse(data);\r\n      setWeeklyCoachPlan(normalized);\r\n      setWeeklyCoachSummary(Array.isArray(data?.subjects) ? data.subjects : []);\r\n    } catch (e) {\r\n      setCoachError('Unable to load weekly coach plan.');\r\n      setWeeklyCoachPlan(\r\n        (prev) => prev || { weekStart: null, weekEnd: null, days: [] }\r\n      );\r\n    } finally {\r\n      setCoachLoading(false);\r\n    }\r\n  };\r\n\r\n  const fetchCoachDailyProgress = async () => {\r\n    // Coach feature disabled guard\r\n    if (!window.__COACH_ENABLED__) return;\r\n    try {\r\n      setDailyLoading(true);\r\n      setDailyError('');\r\n      const token =\r\n        (typeof localStorage !== 'undefined' &&\r\n          localStorage.getItem('appToken')) ||\r\n        null;\r\n      if (!token) {\r\n        setCoachDailySubjects([]);\r\n        return;\r\n      }\r\n      const res = await fetch(\r\n        `${API_BASE_URL}/api/coach/daily?t=${Date.now()}`,\r\n        {\r\n          method: 'GET',\r\n          headers: { Authorization: `Bearer ${token}` },\r\n          cache: 'no-store',\r\n        }\r\n      );\r\n      if (res.ok) {\r\n        const data = await res.json();\r\n        try {\r\n          console.log('Daily coach data:', data);\r\n        } catch (_) {}\r\n        if (data && data.ok) {\r\n          setCoachDailySubjects(\r\n            Array.isArray(data.subjects) ? data.subjects : []\r\n          );\r\n        } else {\r\n          setCoachDailySubjects([]);\r\n        }\r\n      } else {\r\n        setDailyError(\"Unable to load today's coach goals.\");\r\n      }\r\n    } catch (e) {\r\n      setDailyError(\"Unable to load today's coach goals.\");\r\n    } finally {\r\n      setDailyLoading(false);\r\n    }\r\n  };\r\n\r\n  const refreshCoachPanels = async () => {\r\n    await Promise.all([fetchWeeklyCoachPlan(), fetchCoachDailyProgress()]);\r\n  };\r\n  const generateCoachPlan = async () => {\r\n    if (!window.__COACH_ENABLED__) return;\r\n    const token =\r\n      (typeof localStorage !== 'undefined' &&\r\n        localStorage.getItem('appToken')) ||\r\n      null;\r\n    const subjectParam = practiceSubjectParam(selectedSubject);\r\n\r\n    // do the cheap checks BEFORE we ever set loading\r\n    if (!token) {\r\n      alert('Please sign in to generate a weekly plan.');\r\n      return;\r\n    }\r\n    if (!subjectParam) {\r\n      alert('Pick a subject first.');\r\n      return;\r\n    }\r\n\r\n    setCoachLoading(true);\r\n    setCoachError('');\r\n\r\n    // map what the API expects\r\n    const apiSubject =\r\n      subjectParam === 'social-studies'\r\n        ? 'Social Studies'\r\n        : subjectParam === 'rla'\r\n        ? 'RLA'\r\n        : subjectParam === 'math'\r\n        ? 'Math'\r\n        : 'Science';\r\n\r\n    try {\r\n      const res = await fetch(\r\n        `${API_BASE_URL}/api/coach/${encodeURIComponent(\r\n          apiSubject\r\n        )}/generate-week`,\r\n        {\r\n          method: 'POST',\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n            Authorization: `Bearer ${token}`,\r\n          },\r\n          body: JSON.stringify({}),\r\n        }\r\n      );\r\n\r\n      if (!res.ok) {\r\n        setCoachError('Unable to generate weekly coach plan.');\r\n        return;\r\n      }\r\n\r\n      // reload weekly + today's goals so the panel gets the days quiz links\r\n      await refreshCoachPanels();\r\n    } catch (e) {\r\n      setCoachError('Unable to generate weekly coach plan.');\r\n    } finally {\r\n      setCoachLoading(false);\r\n    }\r\n  };\r\n\r\n  // Generate weekly plans for all subjects, then refresh weekly summary\r\n  const generateAllWeeklyPlans = async () => {\r\n    if (!window.__COACH_ENABLED__) return;\r\n    // Early token check before toggling loading\r\n    const token =\r\n      (typeof localStorage !== 'undefined' &&\r\n        localStorage.getItem('appToken')) ||\r\n      null;\r\n    if (!token) {\r\n      alert('Please sign in to generate weekly plans.');\r\n      return;\r\n    }\r\n\r\n    setGeneratingAll(true);\r\n    setCoachError('');\r\n    const subjects = ['Math', 'RLA', 'Science', 'Social Studies'];\r\n    const results = [];\r\n\r\n    try {\r\n      for (const subj of subjects) {\r\n        try {\r\n          const res = await fetch(\r\n            `${API_BASE_URL}/api/coach/${encodeURIComponent(\r\n              subj\r\n            )}/generate-week`,\r\n            {\r\n              method: 'POST',\r\n              headers: {\r\n                'Content-Type': 'application/json',\r\n                Authorization: `Bearer ${token}`,\r\n              },\r\n              body: JSON.stringify({}),\r\n            }\r\n          );\r\n          if (res.status === 429) {\r\n            results.push(`${subj}: already generated`);\r\n            continue;\r\n          }\r\n          if (!res.ok) {\r\n            results.push(`${subj}: error (${res.status})`);\r\n            continue;\r\n          }\r\n          results.push(`${subj}: ok`);\r\n        } catch (e) {\r\n          results.push(`${subj}: error`);\r\n        }\r\n      }\r\n      // Refresh both daily and weekly so panels reflect new plans immediately\r\n      await refreshCoachPanels();\r\n      if (results.length) alert(results.join('\\n'));\r\n    } catch (e) {\r\n      setCoachError('Unable to generate all weekly coach plans.');\r\n    } finally {\r\n      setGeneratingAll(false);\r\n    }\r\n  };\r\n  // (removed subject-specific plan loader; we rely on consolidated weekly plan + daily progress)\r\n\r\n  // Load consolidated weekly plan and daily progress on mount\r\n  useEffect(() => {\r\n    if (!window.__COACH_ENABLED__) return; // Coach feature disabled: skip loading\r\n    (async () => {\r\n      await fetchWeeklyCoachPlan();\r\n      await fetchCoachDailyProgress();\r\n    })();\r\n  }, []);\r\n\r\n  // (helpers moved above; refreshCoachPanels now fetches both weekly plan and daily progress)\r\n  // Resolve and launch a premade by quizCode for a subject (global helper)\r\n  const launchPremadeByCodeGlobal = (subject, quizCode) => {\r\n    try {\r\n      const data =\r\n        typeof window !== 'undefined'\r\n          ? window.MergedExpandedQuizData || window.ExpandedQuizData || {}\r\n          : {};\r\n      const subjectData =\r\n        data?.[displaySubjectName(subject)] || data?.[subject] || null;\r\n      if (!subjectData) throw new Error('Subject dataset not found');\r\n      let found = null;\r\n      const setIfMatch = (obj) => {\r\n        if (found) return;\r\n        if (!obj) return;\r\n        if (obj.quizCode && obj.quizCode === quizCode) found = obj;\r\n      };\r\n      if (Array.isArray(subjectData.quizzes))\r\n        subjectData.quizzes.forEach(setIfMatch);\r\n      const cats = subjectData.categories || {};\r\n      for (const catName of Object.keys(cats)) {\r\n        const cat = cats[catName];\r\n        if (!cat) continue;\r\n        if (Array.isArray(cat.quizzes)) cat.quizzes.forEach(setIfMatch);\r\n        const topics = Array.isArray(cat.topics) ? cat.topics : [];\r\n        for (const t of topics) {\r\n          setIfMatch(t);\r\n          if (Array.isArray(t?.quizzes)) t.quizzes.forEach(setIfMatch);\r\n        }\r\n      }\r\n      if (!found) throw new Error('not_found');\r\n      const baseTitle = found.title || 'Premade Quiz';\r\n      let questions = [];\r\n      if (Array.isArray(found.questions) && found.questions.length) {\r\n        questions = found.questions;\r\n      } else {\r\n        // try origin topic\r\n        const locateTopicById = (id) => {\r\n          if (!id) return null;\r\n          for (const cat of Object.values(cats)) {\r\n            const topics = Array.isArray(cat?.topics) ? cat.topics : [];\r\n            for (const t of topics)\r\n              if (t && (t.id === id || t.quizCode === id)) return t;\r\n          }\r\n          return null;\r\n        };\r\n        const originTopic = locateTopicById(found.topicId) || null;\r\n        if (\r\n          originTopic &&\r\n          Array.isArray(originTopic.questions) &&\r\n          originTopic.questions.length\r\n        ) {\r\n          questions = originTopic.questions;\r\n        } else if (originTopic && Array.isArray(originTopic.quizzes)) {\r\n          const match =\r\n            originTopic.quizzes.find(\r\n              (q) => q.quizCode === found.quizCode || q.quizId === found.quizId\r\n            ) || originTopic.quizzes[0];\r\n          if (match && Array.isArray(match.questions))\r\n            questions = match.questions;\r\n        }\r\n      }\r\n      const normalized = (questions || []).map((q, i) =>\r\n        normalizeQuestionAssets(\r\n          q && typeof q === 'object'\r\n            ? { ...q, questionNumber: q.questionNumber ?? i + 1 }\r\n            : q,\r\n          displaySubjectName(subject)\r\n        )\r\n      );\r\n      const payload = {\r\n        ...found,\r\n        id: found.quizCode || found.quizId || baseTitle,\r\n        quizCode: found.quizCode || found.quizId || baseTitle,\r\n        title: baseTitle,\r\n        type: found.type || 'quiz',\r\n        questions: normalized,\r\n        isPremade: true,\r\n        assigned_by: 'coach-smith',\r\n      };\r\n      startQuiz(payload, displaySubjectName(subject));\r\n      return true;\r\n    } catch (e) {\r\n      console.warn('launchPremadeByCodeGlobal failed', subject, quizCode, e);\r\n      return false;\r\n    }\r\n  };\r\n\r\n  // Open a coach-assigned premade quiz by code (search across subjects)\r\n  const openQuizFromCoach = (quizCode) => {\r\n    if (!quizCode) return;\r\n    const SUBJECTS = ['Math', 'Science', 'RLA', 'Social Studies'];\r\n    for (const subj of SUBJECTS) {\r\n      if (launchPremadeByCodeGlobal(subj, quizCode)) return; // stop on first successful launch\r\n    }\r\n    alert(\"Unable to open today's quiz right now.\");\r\n  };\r\n\r\n  const todaysTasks = React.useMemo(() => {\r\n    if (\r\n      !weeklyCoachPlan ||\r\n      !Array.isArray(weeklyCoachPlan?.days) ||\r\n      weeklyCoachPlan.days.length === 0\r\n    )\r\n      return [];\r\n    let idx = getTodayIndex(weeklyCoachPlan.weekStart);\r\n    if (idx < 0 || idx >= weeklyCoachPlan.days.length) idx = 0;\r\n    const day = weeklyCoachPlan.days[idx];\r\n    return Array.isArray(day.tasks) ? day.tasks : [];\r\n  }, [weeklyCoachPlan]);\r\n\r\n  const todaysTaskGroups = React.useMemo(() => {\r\n    const groups = new Map();\r\n    todaysTasks.forEach((task) => {\r\n      if (!task) return;\r\n      const subjectId = canonicalSubjectId(\r\n        task.subject || task.subjectLabel || ''\r\n      );\r\n      const subjectLabel = displaySubjectName(\r\n        task.subjectLabel || task.subject\r\n      );\r\n      if (!groups.has(subjectId)) {\r\n        groups.set(subjectId, { subjectId, subjectLabel, tasks: [] });\r\n      }\r\n      groups.get(subjectId).tasks.push(task);\r\n    });\r\n    return Array.from(groups.values());\r\n  }, [todaysTasks]);\r\n\r\n  const dailyProgressMap = React.useMemo(() => {\r\n    const map = new Map();\r\n    (Array.isArray(coachDailySubjects) ? coachDailySubjects : []).forEach(\r\n      (entry) => {\r\n        if (!entry) return;\r\n        const id = canonicalSubjectId(entry.subject);\r\n        map.set(id, entry);\r\n      }\r\n    );\r\n    return map;\r\n  }, [coachDailySubjects]);\r\n\r\n  const openCoachTask = (task) => {\r\n    if (!task) return;\r\n    const subjectLabel = displaySubjectName(task.subjectLabel || task.subject);\r\n    const subjectId = canonicalSubjectId(\r\n      task.subject || task.subjectLabel || ''\r\n    );\r\n    if (task.type === 'coach-quiz') {\r\n      // Launch the AI composite quiz instead of looking up a premade by code\r\n      const focusTag =\r\n        Array.isArray(task.focus) && task.focus.length > 0\r\n          ? task.focus[0]\r\n          : null;\r\n      startDailyCompositeForSubject(subjectLabel, focusTag);\r\n      return;\r\n    }\r\n    if (task.quizId) {\r\n      const launched = launchPremadeByCodeGlobal(subjectLabel, task.quizId);\r\n      if (!launched) {\r\n        if (task.quizPath) {\r\n          window.location.href = task.quizPath;\r\n        } else {\r\n          alert('Unable to open this quiz right now.');\r\n        }\r\n      }\r\n      return;\r\n    }\r\n    if (task.quizPath) {\r\n      window.location.href = task.quizPath;\r\n      return;\r\n    }\r\n    if (task.message) {\r\n      alert(task.message);\r\n    }\r\n  };\r\n\r\n  const startCoachQuizForSubject = async (subject, sourceId) => {\r\n    if (!window.__COACH_ENABLED__) return;\r\n    try {\r\n      const token =\r\n        (typeof localStorage !== 'undefined' &&\r\n          localStorage.getItem('appToken')) ||\r\n        null;\r\n      if (!token) {\r\n        alert(\"Please sign in to take today's coach quiz.\");\r\n        return;\r\n      }\r\n      setIsLoading(true);\r\n      setLoadingMessage(`Loading Coach Smith quiz for ${subject}...`);\r\n\r\n      // Try to use the server-assigned quiz for today first\r\n      if (!sourceId) {\r\n        const daily = await fetch(\r\n          `${API_BASE_URL}/api/coach/daily?subject=${encodeURIComponent(\r\n            subject\r\n          )}`,\r\n          {\r\n            headers: { Authorization: `Bearer ${token}` },\r\n          }\r\n        )\r\n          .then((r) => (r.ok ? r.json() : null))\r\n          .catch(() => null);\r\n        if (daily && daily.coach_quiz_source_id) {\r\n          const launched = launchPremadeByCodeGlobal(\r\n            subject,\r\n            daily.coach_quiz_source_id\r\n          );\r\n          if (launched) return; // early exit; loader will be dismissed in finally\r\n        }\r\n      }\r\n\r\n      if (sourceId) {\r\n        // If a premade assignment exists, launch it directly\r\n        const launched = launchPremadeByCodeGlobal(subject, sourceId);\r\n        if (launched) return; // early exit; loader will be dismissed in finally\r\n      }\r\n      const body = {\r\n        durationMinutes: 20,\r\n        mode: 'single-subject',\r\n        subject: practiceSubjectParam(subject),\r\n      };\r\n      const res = await fetch(`${API_BASE_URL}/api/practice-session`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n        body: JSON.stringify(body),\r\n      });\r\n      if (!res.ok) {\r\n        throw new Error(`Server responded ${res.status}`);\r\n      }\r\n      const session = await res.json();\r\n      const today = new Date().toISOString().slice(0, 10);\r\n      const quizId = `coach-smith:${subject}:${today}`;\r\n      const displaySubject = displaySubjectName(subject);\r\n      const quizPayload = {\r\n        id: quizId,\r\n        quizCode: quizId,\r\n        title: 'Coach Smith Quiz',\r\n        type: 'coach-quiz',\r\n        questions: Array.isArray(session?.questions) ? session.questions : [],\r\n        assigned_by: 'coach-smith',\r\n      };\r\n      startQuiz(quizPayload, displaySubject);\r\n    } catch (e) {\r\n      alert('Unable to start Coach Smith quiz right now.');\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  // Ask Coach (subject): ad-hoc challenge-filtered 12Q quiz via daily-composite endpoint\r\n  const startDailyCompositeForSubject = async (subject, focusTag) => {\r\n    if (!window.__ASK_COACH_ENABLED__) return;\r\n    try {\r\n      const token =\r\n        (typeof localStorage !== 'undefined' &&\r\n          localStorage.getItem('appToken')) ||\r\n        null;\r\n      if (!token) {\r\n        alert('Please sign in to start a composite quiz.');\r\n        return;\r\n      }\r\n      setIsLoading(true);\r\n      setLoadingMessage(`Asking Coach for a custom ${subject} mix`);\r\n      const res = await fetch(\r\n        `${API_BASE_URL}/api/coach/${encodeURIComponent(\r\n          practiceSubjectParam(subject)\r\n        )}/daily-composite`,\r\n        {\r\n          method: 'POST',\r\n          headers: {\r\n            'Content-Type': 'application/json',\r\n            Authorization: `Bearer ${token}`,\r\n          },\r\n          body: JSON.stringify({ focusTag }),\r\n        }\r\n      );\r\n      const data = await res.json().catch(() => ({}));\r\n      if (!res.ok || !data?.ok) {\r\n        throw new Error(data?.error || `HTTP ${res.status}`);\r\n      }\r\n      const quiz = data.quiz || null;\r\n      if (!quiz || !Array.isArray(quiz.questions)) throw new Error('no_quiz');\r\n      const displaySubject = displaySubjectName(subject);\r\n      startQuiz({ ...quiz, assigned_by: 'coach-smith' }, displaySubject);\r\n    } catch (e) {\r\n      alert('Unable to start an Ask Coach quiz right now.');\r\n    } finally {\r\n      setIsLoading(false);\r\n      // make sure panels reflect the new coach quiz assignment\r\n      await refreshCoachPanels();\r\n    }\r\n  };\r\n\r\n  const handleAskCoach = async (subjectHint) => {\r\n    if (!window.__ASK_COACH_ENABLED__) return;\r\n    try {\r\n      setAdviceLoading(true);\r\n      setAdviceError('');\r\n      setAdviceText('');\r\n      const subj = subjectHint || selectedSubject;\r\n      if (!subj) {\r\n        alert('Pick a subject first.');\r\n        return;\r\n      }\r\n      await startDailyCompositeForSubject(subj);\r\n    } catch (e) {\r\n      setAdviceError(e?.message || 'Unable to start coach quiz right now.');\r\n    } finally {\r\n      setAdviceLoading(false);\r\n    }\r\n  };\r\n  const [viewScienceFormulas, setViewScienceFormulas] = useState(false);\r\n  const [onboardingBannerHidden, setOnboardingBannerHidden] = useState(() => {\r\n    try {\r\n      return (\r\n        typeof sessionStorage !== 'undefined' &&\r\n        sessionStorage.getItem('hide_onboarding_banner') === 'true'\r\n      );\r\n    } catch (_) {\r\n      return false;\r\n    }\r\n  });\r\n  const isDarkMode = theme === 'dark';\r\n  const homePanelStyle = isDarkMode\r\n    ? undefined\r\n    : {\r\n        backgroundColor: '#ffffff',\r\n        color: '#0f172a',\r\n        borderColor: 'rgba(148,163,184,0.32)',\r\n      };\r\n  const homePanelPrimaryTextClass = isDarkMode\r\n    ? 'text-slate-300'\r\n    : 'text-slate-900';\r\n  const vocabularyData =\r\n    vocabulary && typeof vocabulary === 'object' ? vocabulary : {};\r\n  const profile = profileData?.profile || {};\r\n  const challengeOptions = Array.isArray(profileData?.challengeOptions)\r\n    ? profileData.challengeOptions\r\n    : [];\r\n  const selectedChallenges = challengeOptions.filter((opt) => opt.selected);\r\n  const displayedChallenges = selectedChallenges.slice(0, 4);\r\n  const hiddenChallengeCount = Math.max(\r\n    0,\r\n    selectedChallenges.length - displayedChallenges.length\r\n  );\r\n  const recentDashboardSummary = profileData?.recentScoresDashboard || {};\r\n  const testPlan = Array.isArray(profileData?.testPlan)\r\n    ? profileData.testPlan\r\n    : [];\r\n  const nextUpcomingTest = profileData?.nextUpcomingTest || null;\r\n  const hasSavedTest = testPlan.some(\r\n    (entry) => entry && (entry.passed || entry.testDate)\r\n  );\r\n  const allSubjectsPassed =\r\n    testPlan.length > 0 && testPlan.every((entry) => entry.passed);\r\n  const formatDayCount = (value) => {\r\n    if (typeof value !== 'number' || !Number.isFinite(value)) {\r\n      return null;\r\n    }\r\n    const rounded = Math.max(0, Math.floor(value));\r\n    return `${rounded} day${rounded === 1 ? '' : 's'}`;\r\n  };\r\n  const upcomingMatch = nextUpcomingTest\r\n    ? testPlan.find(\r\n        (entry) =>\r\n          entry.subject === nextUpcomingTest.subject &&\r\n          entry.testDate === nextUpcomingTest.testDate\r\n      )\r\n    : null;\r\n  const nextUpcomingSummary =\r\n    nextUpcomingTest && nextUpcomingTest.testDate\r\n      ? {\r\n          subject: nextUpcomingTest.subject,\r\n          testDate: nextUpcomingTest.testDate,\r\n          daysUntilText: formatDayCount(nextUpcomingTest.daysUntil),\r\n          location: upcomingMatch?.testLocation || null,\r\n        }\r\n      : null;\r\n  const userDisplayName = currentUser?.name || currentUser?.email || 'Learner';\r\n  const userInitial = userDisplayName\r\n    ? userDisplayName.trim().charAt(0).toUpperCase()\r\n    : 'U';\r\n  const hasVocabulary = Object.values(vocabularyData).some(\r\n    (words) => Array.isArray(words) && words.length > 0\r\n  );\r\n  const goToProfile = () => {\r\n    onShowProfile?.();\r\n  };\r\n  const hideOnboardingBanner = () => {\r\n    setOnboardingBannerHidden(true);\r\n    try {\r\n      if (typeof sessionStorage !== 'undefined') {\r\n        sessionStorage.setItem('hide_onboarding_banner', 'true');\r\n      }\r\n    } catch (_) {\r\n      // ignore\r\n    }\r\n  };\r\n\r\n  // --- Upcoming GED Test (profile-level) helpers ---\r\n  const parseYMD = (str) => {\r\n    if (!str || typeof str !== 'string') return null;\r\n    const m = str.match(/^(\\d{4})-(\\d{2})-(\\d{2})/);\r\n    if (!m) return null;\r\n    const y = Number(m[1]);\r\n    const mo = Number(m[2]);\r\n    const d = Number(m[3]);\r\n    if (!y || !mo || !d) return null;\r\n    return new Date(y, mo - 1, d);\r\n  };\r\n  const toLocalMidnight = (dt) =>\r\n    dt ? new Date(dt.getFullYear(), dt.getMonth(), dt.getDate()) : null;\r\n  const formatMMDDYYYY = (dt) => {\r\n    if (!(dt instanceof Date) || isNaN(dt)) return 'Invalid date';\r\n    const mm = String(dt.getMonth() + 1).padStart(2, '0');\r\n    const dd = String(dt.getDate()).padStart(2, '0');\r\n    const yyyy = dt.getFullYear();\r\n    return `${mm}/${dd}/${yyyy}`;\r\n  };\r\n  const diffDaysFromToday = (dateStr) => {\r\n    const examLocal = toLocalMidnight(parseYMD(dateStr));\r\n    if (!examLocal) return null;\r\n    const today = new Date();\r\n    const todayLocal = new Date(\r\n      today.getFullYear(),\r\n      today.getMonth(),\r\n      today.getDate()\r\n    );\r\n    const msPerDay = 1000 * 60 * 60 * 24;\r\n    return Math.ceil((examLocal - todayLocal) / msPerDay);\r\n  };\r\n\r\n  // Refresh test plan on dashboard mount to reduce staleness\r\n  useEffect(() => {\r\n    onRefreshProfile?.();\r\n  }, []);\r\n\r\n  // Build upcoming list from testPlan with filtering and sorting\r\n  const parseAnyDate = (s) => {\r\n    if (!s || typeof s !== 'string') return null;\r\n    if (/^\\d{4}-\\d{2}-\\d{2}$/.test(s)) return parseYMD(s);\r\n    const m = s.match(/^(\\d{1,2})\\/(\\d{1,2})\\/(\\d{4})$/);\r\n    if (m) {\r\n      const mm = Number(m[1]);\r\n      const dd = Number(m[2]);\r\n      const yyyy = Number(m[3]);\r\n      return new Date(yyyy, mm - 1, dd);\r\n    }\r\n    return null;\r\n  };\r\n  const toISO = (dt) =>\r\n    dt\r\n      ? `${dt.getFullYear()}-${String(dt.getMonth() + 1).padStart(\r\n          2,\r\n          '0'\r\n        )}-${String(dt.getDate()).padStart(2, '0')}`\r\n      : '';\r\n  const todayLocal = new Date();\r\n  const todayStart = new Date(\r\n    todayLocal.getFullYear(),\r\n    todayLocal.getMonth(),\r\n    todayLocal.getDate()\r\n  );\r\n  const upcomingList = useMemo(() => {\r\n    const rows = [];\r\n    for (const entry of testPlan) {\r\n      if (!entry) continue;\r\n      const passed = !!entry.passed;\r\n      const notScheduled = !!entry.notScheduled;\r\n      const rawDate = entry.testDate || '';\r\n      if (passed || notScheduled || !rawDate) continue;\r\n      const dt = parseAnyDate(rawDate);\r\n      if (!dt || isNaN(dt)) continue;\r\n      const d0 = new Date(dt.getFullYear(), dt.getMonth(), dt.getDate());\r\n      if (d0 < todayStart) continue; // past\r\n      rows.push({\r\n        subject: entry.subject || '',\r\n        dateISO: toISO(d0),\r\n        formattedDate: formatMMDDYYYY(d0),\r\n        location: entry.testLocation || null,\r\n        daysUntil: Math.ceil((d0 - todayStart) / (1000 * 60 * 60 * 24)),\r\n      });\r\n    }\r\n    rows.sort((a, b) =>\r\n      a.dateISO < b.dateISO ? -1 : a.dateISO > b.dateISO ? 1 : 0\r\n    );\r\n    return rows.slice(0, 4);\r\n  }, [testPlan]);\r\n  const countdownLabel = (days) => {\r\n    if (typeof days !== 'number' || !Number.isFinite(days)) return null;\r\n    if (days <= 0) return 'Today';\r\n    if (days === 1) return '1 day left';\r\n    return `${days} days left`;\r\n  };\r\n\r\n  const normalizedProfileTestDate = testDate || null;\r\n  const testDateDiffDays = normalizedProfileTestDate\r\n    ? diffDaysFromToday(normalizedProfileTestDate)\r\n    : null;\r\n  const testDateDisplay = normalizedProfileTestDate\r\n    ? formatMMDDYYYY(parseYMD(normalizedProfileTestDate))\r\n    : null;\r\n\r\n  // Decide which upcoming panel to show (avoid duplicates)\r\n  const showPlanCard = Boolean(\r\n    nextUpcomingSummary || hasSavedTest || allSubjectsPassed\r\n  );\r\n  const showProfileCard = !showPlanCard;\r\n\r\n  const [showTestReminder, setShowTestReminder] = useState(null);\r\n  useEffect(() => {\r\n    const todayKey = new Date().toISOString().slice(0, 10);\r\n    const storageKey = `seenTestReminder:${todayKey}`;\r\n\r\n    // Profile-level single test date: remind for upcoming/today (>= 0 days)\r\n    if (normalizedProfileTestDate) {\r\n      const days = diffDaysFromToday(normalizedProfileTestDate);\r\n      if (days != null && days >= 0) {\r\n        try {\r\n          const hasSeen =\r\n            typeof localStorage !== 'undefined' &&\r\n            localStorage.getItem(storageKey);\r\n          if (!hasSeen) {\r\n            const exam = parseYMD(normalizedProfileTestDate);\r\n            setShowTestReminder({\r\n              days,\r\n              date: exam\r\n                ? exam.toISOString().slice(0, 10)\r\n                : normalizedProfileTestDate,\r\n            });\r\n            localStorage.setItem(storageKey, '1');\r\n            return; // show only one reminder per day\r\n          }\r\n        } catch (_) {}\r\n      }\r\n    }\r\n\r\n    // NEW: Test-plan nextUpcomingTest also show when the next scheduled test is today\r\n    if (nextUpcomingTest && nextUpcomingTest.testDate) {\r\n      const daysFromPlan =\r\n        typeof nextUpcomingTest.daysUntil === 'number'\r\n          ? Math.floor(nextUpcomingTest.daysUntil)\r\n          : diffDaysFromToday(nextUpcomingTest.testDate);\r\n      if (daysFromPlan === 0) {\r\n        try {\r\n          const hasSeen =\r\n            typeof localStorage !== 'undefined' &&\r\n            localStorage.getItem(storageKey);\r\n          if (!hasSeen) {\r\n            const exam = parseYMD(nextUpcomingTest.testDate);\r\n            setShowTestReminder({\r\n              days: 0,\r\n              date: exam\r\n                ? exam.toISOString().slice(0, 10)\r\n                : nextUpcomingTest.testDate,\r\n            });\r\n            localStorage.setItem(storageKey, '1');\r\n          }\r\n        } catch (_) {}\r\n      }\r\n    }\r\n  }, [\r\n    normalizedProfileTestDate,\r\n    nextUpcomingTest?.testDate,\r\n    nextUpcomingTest?.daysUntil,\r\n  ]);\r\n\r\n  const handleSelectSubject = (subject) => {\r\n    if (typeof onSelectSubject === 'function') {\r\n      onSelectSubject(subject);\r\n    }\r\n    setAiQuizTopic('');\r\n    setViewScienceFormulas(false);\r\n  };\r\n\r\n  const handleSelectCategory = (category) => {\r\n    if (typeof onSelectCategory === 'function') {\r\n      onSelectCategory(category);\r\n    }\r\n  };\r\n\r\n  const handleViewVocabulary = (subject) => {\r\n    if (!subject) return;\r\n    const words = vocabularyData[subject];\r\n    if (Array.isArray(words) && words.length > 0) {\r\n      if (typeof onSelectSubject === 'function') {\r\n        onSelectSubject(subject);\r\n      }\r\n      setAiQuizTopic('');\r\n      setTimeout(() => {\r\n        const section = document.getElementById('subject-vocabulary-section');\r\n        if (section) {\r\n          section.scrollIntoView({ behavior: 'smooth', block: 'start' });\r\n        }\r\n      }, 200);\r\n    }\r\n  };\r\n\r\n  const handleStartVocabularyQuiz = async (subject) => {\r\n    if (!subject) return;\r\n    try {\r\n      const normalizedSubject = subject\r\n        .toLowerCase()\r\n        .replace(/\\s+/g, '-')\r\n        .replace(/[()]/g, '');\r\n      // Use API_BASE_URL for all vocabulary quiz fetches\r\n      const res = await fetch(\r\n        `${API_BASE_URL}/api/vocabulary-quiz/${normalizedSubject}`\r\n      );\r\n\r\n      if (!res.ok) {\r\n        throw new Error(`Failed to fetch vocabulary quiz: ${res.status}`);\r\n      }\r\n\r\n      const data = await res.json();\r\n\r\n      // backend returns { subject, count, quiz: [...] }\r\n      if (data && data.quiz) {\r\n        // Use the standard quiz launcher\r\n        onSelectQuiz(data.quiz, subject);\r\n      } else {\r\n        console.error('Invalid vocabulary quiz response:', data);\r\n        alert('Failed to generate vocabulary quiz. Please try again.');\r\n      }\r\n    } catch (err) {\r\n      console.error('Error starting vocabulary quiz:', err);\r\n      alert('Failed to start vocabulary quiz. Please try again.');\r\n    }\r\n  };\r\n\r\n  const handleBack = () => {\r\n    if (typeof onBack === 'function') {\r\n      onBack();\r\n      return;\r\n    }\r\n    // Fallback behavior if onBack isn't provided\r\n    if (selectedCategory && typeof onSelectCategory === 'function') {\r\n      onSelectCategory(null);\r\n      setAiQuizTopic('');\r\n      return;\r\n    }\r\n    if (selectedSubject && typeof onSelectSubject === 'function') {\r\n      onSelectSubject(null);\r\n      setAiQuizTopic('');\r\n      setShowFormulaSheet?.(false);\r\n      setViewScienceFormulas(false);\r\n    }\r\n  };\r\n\r\n  // --- Earned badges (passed subjects) --- (uses global SUBJECT_ID_MAP / BADGE_IMG_PATHS)\r\n  const profilePassedMap = useMemo(() => {\r\n    const map = {};\r\n    const plan = Array.isArray(profileData?.testPlan)\r\n      ? profileData.testPlan\r\n      : [];\r\n    plan.forEach((row) => {\r\n      if (!row || !row.subject) return;\r\n      const id = SUBJECT_ID_MAP[row.subject] || null;\r\n      if (!id) return;\r\n      if (row.passed === true) map[id] = true;\r\n    });\r\n    // Also check profile.tests if present\r\n    const pt = profileData?.profile?.tests;\r\n    if (pt && typeof pt === 'object') {\r\n      Object.entries(pt).forEach(([key, val]) => {\r\n        if (!val) return;\r\n        const id = key;\r\n        if (val.passed === true || val.isPassed === true) map[id] = true;\r\n      });\r\n    }\r\n    return map;\r\n  }, [profileData?.testPlan, profileData?.profile?.tests]);\r\n  const progressPassedMap = useMemo(() => {\r\n    const map = {};\r\n    const subjectNames = Object.keys(SUBJECT_ID_MAP);\r\n    subjectNames.forEach((label) => {\r\n      const id = SUBJECT_ID_MAP[label];\r\n      const p = progress?.[label] || {};\r\n      const passedCount = Array.isArray(p?.passedExamCodes)\r\n        ? p.passedExamCodes.length\r\n        : typeof p?.completedCount === 'number'\r\n        ? p.completedCount\r\n        : 0;\r\n      if (passedCount > 0) map[id] = true;\r\n    });\r\n    return map;\r\n  }, [progress]);\r\n  // Self-declared \"already passed\" check: require all four subjects to be marked passed in profile/test plan\r\n  const allSubjectsSelfDeclaredPassed = useMemo(() => {\r\n    try {\r\n      const required = ['math', 'rla', 'science', 'social_studies'];\r\n      if (!profilePassedMap || typeof profilePassedMap !== 'object')\r\n        return false;\r\n      let count = 0;\r\n      for (const id of required) {\r\n        if (profilePassedMap[id] === true) count += 1;\r\n      }\r\n      return count === required.length;\r\n    } catch {\r\n      return false;\r\n    }\r\n  }, [profilePassedMap]);\r\n  const earnedBadges = useMemo(() => {\r\n    const ids = new Set();\r\n    Object.entries(profilePassedMap).forEach(([id, val]) => {\r\n      if (val) ids.add(id);\r\n    });\r\n    Object.entries(progressPassedMap).forEach(([id, val]) => {\r\n      if (val) ids.add(id);\r\n    });\r\n    const order = ['math', 'rla', 'science', 'social_studies'];\r\n    return order\r\n      .filter((id) => ids.has(id))\r\n      .map((id) => ({\r\n        id,\r\n        label:\r\n          id === 'rla'\r\n            ? 'Reasoning Through Language Arts (RLA)'\r\n            : id === 'social_studies'\r\n            ? 'Social Studies'\r\n            : id.charAt(0).toUpperCase() + id.slice(1).replace('_', ' '),\r\n        img: BADGE_IMG_PATHS[id],\r\n      }));\r\n  }, [profilePassedMap, progressPassedMap]);\r\n\r\n  // Restore: clicking a subject opens its premade list view (do not auto-start a quiz)\r\n  const openSubjectPremades = (subjectLabel) => {\r\n    const subjectKey = subjectLabel; // labels already match keys in AppData\r\n    handleSelectSubject(subjectKey);\r\n  };\r\n\r\n  // Compute RLA essay avg display for details view\r\n  const rlaEssayAvgDisplayForDetails = useMemo(() => {\r\n    if (detailedViewSubject !== 'Reasoning Through Language Arts (RLA)')\r\n      return null;\r\n    const cards = Array.isArray(recentDashboardSummary?.cards)\r\n      ? recentDashboardSummary.cards\r\n      : [];\r\n    const card = cards.find(\r\n      (c) => c && (c.id === 'rla_essay_avg' || c.subject === 'RLA')\r\n    );\r\n    if (!card) return null;\r\n    if (card.value && typeof card.value.display === 'string')\r\n      return card.value.display;\r\n    if (typeof card.value === 'number')\r\n      return `${(Math.round(card.value * 10) / 10).toFixed(1)} / 6`;\r\n    return null;\r\n  }, [detailedViewSubject, recentDashboardSummary]);\r\n\r\n  // --- NEW: If detailed view is active, render it instead of the main dashboard ---\r\n  if (detailedViewSubject) {\r\n    return (\r\n      <DetailedProgressView\r\n        subject={detailedViewSubject}\r\n        progressData={progress[detailedViewSubject]}\r\n        onBack={handleBackToProgress}\r\n        rlaEssayAvgDisplay={rlaEssayAvgDisplayForDetails}\r\n      />\r\n    );\r\n  }\r\n\r\n  // --- NEW: Logic to get topics for the dropdown (moved from AIQuizGenerator) ---\r\n  // Build strictly from the canonical list; do NOT derive from filenames or AppData quiz sets.\r\n  const dropVariantish = (name) => {\r\n    if (!name) return false;\r\n    const t = String(name).toLowerCase();\r\n    return /quiz\\b|\\bset\\b|version\\b|form\\s*[a-z]\\b|practice\\b/.test(t)\r\n      ? false\r\n      : true;\r\n  };\r\n  const dedupeCI = (arr) => {\r\n    const seen = new Set();\r\n    const out = [];\r\n    arr.forEach((s) => {\r\n      const key = String(s || '')\r\n        .trim()\r\n        .toLowerCase();\r\n      if (!key || seen.has(key)) return;\r\n      seen.add(key);\r\n      out.push(s);\r\n    });\r\n    return out;\r\n  };\r\n  const availableTopics = (() => {\r\n    if (!selectedSubject) return [];\r\n    try {\r\n      if (\r\n        typeof window !== 'undefined' &&\r\n        typeof window.getSmithAQuizTopics === 'function'\r\n      ) {\r\n        const list = window.getSmithAQuizTopics(selectedSubject) || [];\r\n        return dedupeCI(list.filter(dropVariantish));\r\n      }\r\n    } catch {}\r\n    // No fallback: when canonical list is unavailable, return empty to avoid reintroducing filename-derived topics\r\n    return [];\r\n  })();\r\n\r\n  const Breadcrumb = ({ variant = 'default', color, accentColor } = {}) => {\r\n    const isOnColor = variant === 'onColor';\r\n    const resolvedColor = color || (isOnColor ? '#ffffff' : '#475569');\r\n    const resolvedAccent = accentColor || resolvedColor;\r\n    const backLabel = selectedCategory\r\n      ? `Back to ${selectedSubject}`\r\n      : 'Back to Main Menu';\r\n\r\n    return (\r\n      <div\r\n        className={`mb-4 text-lg font-semibold flex items-center gap-2 ${\r\n          isOnColor ? '' : 'text-slate-600'\r\n        }`}\r\n        style={isOnColor ? { color: resolvedColor } : undefined}\r\n      >\r\n        <button\r\n          type=\"button\"\r\n          onClick={handleBack}\r\n          className={`flex items-center gap-2 ${\r\n            isOnColor ? 'transition-colors' : 'text-sky-600 hover:underline'\r\n          }`}\r\n          style={isOnColor ? { color: resolvedAccent } : undefined}\r\n          aria-label={backLabel}\r\n        >\r\n          <ArrowLeftIcon />\r\n          <span>{backLabel}</span>\r\n        </button>\r\n        <span>/</span>\r\n        <span style={isOnColor ? { color: resolvedColor } : undefined}>\r\n          {selectedSubject}\r\n        </span>\r\n        {selectedCategory && (\r\n          <>\r\n            <span>/</span>\r\n            <span\r\n              className={isOnColor ? '' : 'text-slate-800'}\r\n              style={isOnColor ? { color: resolvedAccent } : undefined}\r\n            >\r\n              {selectedCategory}\r\n            </span>\r\n          </>\r\n        )}\r\n      </div>\r\n    );\r\n  };\r\n\r\n  // View 3: Topic Selection (with Category Sets)\r\n  if (selectedSubject && selectedCategory) {\r\n    const [variantExpanded, setVariantExpanded] = React.useState({});\r\n    const rawTopics =\r\n      AppData[selectedSubject].categories[selectedCategory].topics || [];\r\n    // Collapse variants under canonical topic headings for a cleaner selector\r\n    const topics = buildCanonicalTopics(\r\n      selectedSubject,\r\n      selectedCategory,\r\n      rawTopics\r\n    );\r\n    const subjectColors =\r\n      SUBJECT_COLORS[selectedSubject] || DEFAULT_COLOR_SCHEME;\r\n    const lightTint =\r\n      SUBJECT_LIGHT_TINTS[selectedSubject] || 'rgba(148,163,184,0.28)';\r\n    const lightCardBackground =\r\n      SUBJECT_LIGHT_SURFACE_GRADIENTS[selectedSubject] ||\r\n      'linear-gradient(135deg, rgba(255,255,255,0.98), rgba(148,163,184,0.12))';\r\n    const cardTextColor =\r\n      subjectColors.text || subjectColors.heroText || '#0f172a';\r\n    const badgeTextColor =\r\n      subjectColors.text || subjectColors.accent || '#0f172a';\r\n    const gradientBackground = isDarkMode\r\n      ? SUBJECT_BG_GRADIENTS[selectedSubject]\r\n      : SUBJECT_LIGHT_SURFACE_GRADIENTS[selectedSubject] ||\r\n        SUBJECT_BG_GRADIENTS[selectedSubject];\r\n    const heroStyles = isDarkMode\r\n      ? gradientBackground\r\n        ? { backgroundImage: gradientBackground }\r\n        : subjectColors.background\r\n        ? { backgroundColor: subjectColors.background }\r\n        : { backgroundColor: DEFAULT_COLOR_SCHEME.background }\r\n      : {\r\n          backgroundColor: '#ffffff',\r\n          backgroundImage:\r\n            gradientBackground ||\r\n            'linear-gradient(135deg, rgba(255,255,255,0.98), rgba(148,163,184,0.12))',\r\n          border: `1px solid ${\r\n            SUBJECT_LIGHT_TINTS[selectedSubject] || 'rgba(148,163,184,0.35)'\r\n          }`,\r\n        };\r\n    const heroTextColor = isDarkMode\r\n      ? subjectColors.heroText || subjectColors.onBackgroundText || '#ffffff'\r\n      : subjectColors.text || subjectColors.accent || '#0f172a';\r\n    const heroAccentColor =\r\n      subjectColors.accent || subjectColors.text || '#0f172a';\r\n    const backButtonStyle = isDarkMode\r\n      ? {\r\n          backgroundColor: 'rgba(255,255,255,0.18)',\r\n          color: heroTextColor,\r\n          border: `1px solid ${\r\n            subjectColors.border || 'rgba(255,255,255,0.25)'\r\n          }`,\r\n        }\r\n      : {\r\n          backgroundColor: '#ffffff',\r\n          color: heroAccentColor,\r\n          border: `1px solid ${\r\n            SUBJECT_LIGHT_TINTS[selectedSubject] || 'rgba(148,163,184,0.35)'\r\n          }`,\r\n        };\r\n    // Read category-level sets (grouped in 3s) if present\r\n    const categoryObj =\r\n      AppData[selectedSubject].categories[selectedCategory] || {};\r\n    // Support both legacy \"sets\" map and backend-provided quizSets array\r\n    const categorySetsMap = (() => {\r\n      if (categoryObj && categoryObj.sets) return categoryObj.sets;\r\n      if (Array.isArray(categoryObj?.quizSets)) {\r\n        return categoryObj.quizSets.reduce((acc, s) => {\r\n          const key =\r\n            s && s.title\r\n              ? String(s.title)\r\n              : `Set ${Object.keys(acc).length + 1}`;\r\n          const quizzes = Array.isArray(s?.quizzes) ? s.quizzes : [];\r\n          acc[key] = quizzes;\r\n          return acc;\r\n        }, {});\r\n      }\r\n      return {};\r\n    })();\r\n    const orderedSetNames = Object.keys(categorySetsMap).sort((a, b) => {\r\n      const na = parseInt(String(a).replace(/\\D+/g, ''), 10) || 0;\r\n      const nb = parseInt(String(b).replace(/\\D+/g, ''), 10) || 0;\r\n      return na - nb;\r\n    });\r\n\r\n    const launchCategorySet = (setName) => {\r\n      if (typeof onSelectQuiz !== 'function') return;\r\n      const quizzes = Array.isArray(categorySetsMap[setName])\r\n        ? categorySetsMap[setName]\r\n        : [];\r\n      if (!quizzes.length) return;\r\n\r\n      const subjectName = selectedSubject;\r\n      // Combine questions from each quiz in the set, normalizing assets and renumbering\r\n      const combinedQuestions = [];\r\n      quizzes.forEach((quiz) => {\r\n        if (!quiz || typeof quiz !== 'object') return;\r\n        const sourceTopic = quiz.questionSourceTopicId\r\n          ? getTopicById(subjectName, quiz.questionSourceTopicId)\r\n          : null;\r\n        const resolved =\r\n          Array.isArray(quiz.questions) && quiz.questions.length\r\n            ? quiz.questions\r\n            : resolveQuizQuestions(subjectName, sourceTopic, quiz);\r\n        (resolved || []).forEach((q) => {\r\n          const withNum = q && typeof q === 'object' ? { ...q } : q;\r\n          combinedQuestions.push(normalizeQuestionAssets(withNum, subjectName));\r\n        });\r\n      });\r\n      // Ensure sequential numbering and a reasonable minimum length\r\n      const prepared = {\r\n        questions: combinedQuestions.map((q, i) =>\r\n          q && typeof q === 'object'\r\n            ? { ...q, questionNumber: q.questionNumber ?? i + 1 }\r\n            : q\r\n        ),\r\n      };\r\n      ensureMinQuestions(prepared, subjectName, 12);\r\n\r\n      const setIndex = orderedSetNames.findIndex((n) => n === setName);\r\n      const setNumber = setIndex >= 0 ? setIndex + 1 : 1;\r\n      const title = `${selectedSubject} ${selectedCategory} Set ${setNumber}`;\r\n      const subjectSlug = sanitizeCodeSegment(selectedSubject, 'subject');\r\n      const categorySlug = sanitizeCodeSegment(selectedCategory, 'category');\r\n      const quizCode = [subjectSlug, categorySlug, `set-${setNumber}`].join(\r\n        '__'\r\n      );\r\n\r\n      const preparedQuiz = {\r\n        id: quizCode,\r\n        quizCode,\r\n        title,\r\n        topicId: null,\r\n        topicTitle: selectedCategory,\r\n        canonicalTopicTitle: selectedCategory,\r\n        description: `${selectedCategory} practice combined set of 3 quizzes`,\r\n        type: 'quiz',\r\n        questions: prepared.questions,\r\n      };\r\n\r\n      if (!preparedQuiz.questions || !preparedQuiz.questions.length) {\r\n        alert(\r\n          'This set does not have any questions yet. Please try another set.'\r\n        );\r\n        return;\r\n      }\r\n      onSelectQuiz(preparedQuiz, subjectName);\r\n    };\r\n\r\n    return (\r\n      <>\r\n        <div\r\n          className=\"hero-section animate-floatIn rounded-2xl -m-4 sm:-m-6 md:-m-8 p-4 sm:p-6 md:p-8 shadow-2xl\"\r\n          style={{\r\n            ...heroStyles,\r\n            '--hero-text-color': heroTextColor,\r\n            '--hero-accent-color': heroAccentColor,\r\n          }}\r\n        >\r\n          <Breadcrumb\r\n            variant=\"onColor\"\r\n            color={heroTextColor}\r\n            accentColor={heroAccentColor}\r\n          />\r\n          <h2 className=\"hero-title text-3xl font-extrabold mb-4\">\r\n            {selectedCategory}\r\n          </h2>\r\n          {orderedSetNames.length > 0 && (\r\n            <div className=\"mb-6 rounded-xl border bg-white/95 dark:bg-slate-900/80 dark:border-slate-700 p-5 shadow-lg\">\r\n              <h3\r\n                className=\"text-lg font-semibold mb-3\"\r\n                style={\r\n                  isDarkMode\r\n                    ? { color: heroTextColor }\r\n                    : { color: heroAccentColor }\r\n                }\r\n              >\r\n                Practice Sets\r\n              </h3>\r\n              <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3\">\r\n                {orderedSetNames.map((setName, idx) => (\r\n                  <button\r\n                    key={setName}\r\n                    onClick={() => launchCategorySet(setName)}\r\n                    className=\"w-full px-4 py-2 rounded-lg font-semibold shadow-sm transition hover:opacity-95\"\r\n                    style={{\r\n                      backgroundColor:\r\n                        subjectColors.accent || DEFAULT_COLOR_SCHEME.accent,\r\n                      color: subjectColors.accentText || '#ffffff',\r\n                      borderColor:\r\n                        subjectColors.border ||\r\n                        subjectColors.accent ||\r\n                        DEFAULT_COLOR_SCHEME.accent,\r\n                    }}\r\n                  >\r\n                    Start{' '}\r\n                    {`${selectedSubject} ${selectedCategory} Set ${idx + 1}`}\r\n                  </button>\r\n                ))}\r\n              </div>\r\n            </div>\r\n          )}\r\n          <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4\">\r\n            {topics.length === 0 && (\r\n              <div className=\"col-span-full text-center text-sm text-slate-600 dark:text-slate-300 bg-white/70 dark:bg-slate-800/60 border border-dashed border-slate-300 dark:border-slate-600 rounded-lg p-6\">\r\n                Premade quizzes for this category are coming soon.\r\n              </div>\r\n            )}\r\n            {topics.map((topic, topicIndex) => {\r\n              const quizSets = Array.isArray(topic.quizzes)\r\n                ? topic.quizzes.filter((quiz) =>\r\n                    quizHasAvailableQuestions(selectedSubject, topic, quiz)\r\n                  )\r\n                : [];\r\n              const supportsMultipleQuizzes =\r\n                quizSets.length > 0 &&\r\n                ![\r\n                  'essay',\r\n                  'simulation',\r\n                  'graphing_tool',\r\n                  'geometry_tool',\r\n                ].includes(topic.type);\r\n              const buttonStyle = {\r\n                backgroundColor:\r\n                  subjectColors.accent || DEFAULT_COLOR_SCHEME.accent,\r\n                color: subjectColors.accentText || '#ffffff',\r\n                borderColor:\r\n                  subjectColors.border ||\r\n                  subjectColors.accent ||\r\n                  DEFAULT_COLOR_SCHEME.accent,\r\n                boxShadow: !isDarkMode\r\n                  ? '0 12px 24px -18px rgba(15,23,42,0.45)'\r\n                  : undefined,\r\n              };\r\n              const defaultButtonLabel =\r\n                topic.type === 'essay' ||\r\n                topic.type === 'simulation' ||\r\n                topic.type === 'graphing_tool' ||\r\n                topic.type === 'geometry_tool'\r\n                  ? 'Open'\r\n                  : 'Start Quiz';\r\n\r\n              const launchQuizSet = (quiz, index) => {\r\n                if (typeof onSelectQuiz !== 'function' || !quiz) {\r\n                  return;\r\n                }\r\n                const quizLabel =\r\n                  quiz.label || `Quiz ${String.fromCharCode(65 + index)}`;\r\n                const baseTitle = topic.title || 'Quiz';\r\n                const derivedTitle = quiz.title || `${baseTitle} ${quizLabel}`;\r\n                const quizIdBase = topic.id || `topic_${topicIndex}`;\r\n                const resolvedQuestions = resolveQuizQuestions(\r\n                  selectedSubject,\r\n                  topic,\r\n                  quiz\r\n                ).map((question, questionIndex) => {\r\n                  if (question && typeof question === 'object') {\r\n                    const nextNumber =\r\n                      question.questionNumber ?? questionIndex + 1;\r\n                    return { ...question, questionNumber: nextNumber };\r\n                  }\r\n                  return question;\r\n                });\r\n\r\n                if (!resolvedQuestions.length) {\r\n                  alert(\r\n                    'This quiz does not have any questions yet. Please try another set.'\r\n                  );\r\n                  return;\r\n                }\r\n\r\n                const quizCode = quiz.quizCode || `${quizIdBase}_set_${index}`;\r\n                const sourceTopic = quiz.questionSourceTopicId\r\n                  ? getTopicById(selectedSubject, quiz.questionSourceTopicId)\r\n                  : null;\r\n                const articleSource =\r\n                  quiz.article ||\r\n                  topic.article ||\r\n                  (sourceTopic && sourceTopic.article);\r\n                const articleClone = cloneArticle(articleSource);\r\n                const resolvedImageUrl =\r\n                  quiz.imageUrl ||\r\n                  topic.imageUrl ||\r\n                  (sourceTopic && sourceTopic.imageUrl) ||\r\n                  (articleClone && articleClone.imageUrl) ||\r\n                  (articleSource && articleSource.imageUrl);\r\n\r\n                const preparedQuiz = {\r\n                  ...quiz,\r\n                  id: quiz.quizId || quizCode,\r\n                  quizCode,\r\n                  title: derivedTitle,\r\n                  topicId: topic.id,\r\n                  topicTitle: topic.title || baseTitle,\r\n                  canonicalTopicTitle: topic.title || baseTitle,\r\n                  description: quiz.description || topic.description,\r\n                  type:\r\n                    quiz.type ||\r\n                    topic.type ||\r\n                    (sourceTopic ? sourceTopic.type : 'quiz') ||\r\n                    'quiz',\r\n                  questions: resolvedQuestions,\r\n                };\r\n\r\n                if (articleClone) {\r\n                  preparedQuiz.article = articleClone;\r\n                }\r\n                if (!preparedQuiz.imageUrl && resolvedImageUrl) {\r\n                  preparedQuiz.imageUrl = resolvedImageUrl;\r\n                }\r\n\r\n                onSelectQuiz(preparedQuiz, selectedSubject);\r\n              };\r\n\r\n              return (\r\n                <div\r\n                  key={topic.id || `topic_${topicIndex}`}\r\n                  className=\"rounded-xl border bg-white/95 dark:bg-slate-900/80 dark:border-slate-700 p-5 flex flex-col justify-between shadow-lg transition-all duration-200 ease-in-out hover:-translate-y-1 hover:shadow-2xl\"\r\n                  style={\r\n                    isDarkMode\r\n                      ? {\r\n                          borderColor:\r\n                            subjectColors.border || 'rgba(148,163,184,0.35)',\r\n                          color: subjectColors.text || '#f8fafc',\r\n                        }\r\n                      : {\r\n                          borderColor: lightTint,\r\n                          backgroundColor: '#ffffff',\r\n                          backgroundImage: lightCardBackground,\r\n                          color: cardTextColor,\r\n                          boxShadow: '0 22px 45px -34px rgba(15,23,42,0.45)',\r\n                        }\r\n                  }\r\n                >\r\n                  <div>\r\n                    <h3\r\n                      className=\"text-xl font-bold\"\r\n                      style={\r\n                        isDarkMode\r\n                          ? { color: subjectColors.text || '#f8fafc' }\r\n                          : { color: cardTextColor }\r\n                      }\r\n                    >\r\n                      {topic.title}\r\n                    </h3>\r\n                    <p\r\n                      className=\"text-sm my-3 flex-grow\"\r\n                      style={\r\n                        isDarkMode\r\n                          ? { color: 'rgba(226,232,240,0.82)' }\r\n                          : { color: 'rgba(15,23,42,0.78)' }\r\n                      }\r\n                    >\r\n                      {topic.description}\r\n                    </p>\r\n                  </div>\r\n                  {supportsMultipleQuizzes\r\n                    ? (() => {\r\n                        const sorted = sortVariantsStable(quizSets);\r\n                        const list = sorted.map((q, i) => ({\r\n                          quiz: q,\r\n                          name: getVariantDisplayName(\r\n                            selectedSubject,\r\n                            topic.title,\r\n                            i\r\n                          ),\r\n                        }));\r\n                        const expKey = `topic-variants:${sanitizeCodeSegment(\r\n                          selectedSubject\r\n                        )}:${topic.id || `topic_${topicIndex}`}`;\r\n                        const expanded = !!variantExpanded[expKey];\r\n                        const setExpanded = (val) =>\r\n                          setVariantExpanded((prev) => ({\r\n                            ...prev,\r\n                            [expKey]: val,\r\n                          }));\r\n                        const shown = expanded ? list : list.slice(0, 3);\r\n                        return (\r\n                          <div className=\"mt-2 space-y-3 w-full\">\r\n                            <div className=\"grid gap-2\">\r\n                              {shown.map(({ quiz, name }, index) => (\r\n                                <button\r\n                                  key={\r\n                                    quiz.quizId ||\r\n                                    `${\r\n                                      topic.id || `topic_${topicIndex}`\r\n                                    }_quiz_${index}`\r\n                                  }\r\n                                  onClick={() =>\r\n                                    launchQuizSet(quiz, index, name)\r\n                                  }\r\n                                  className=\"w-full mt-2 px-4 py-2 rounded-lg font-semibold shadow-sm transition hover:opacity-95\"\r\n                                  style={buttonStyle}\r\n                                >\r\n                                  Start {name}\r\n                                </button>\r\n                              ))}\r\n                            </div>\r\n                            {list.length > shown.length && (\r\n                              <button\r\n                                type=\"button\"\r\n                                className=\"text-sm underline\"\r\n                                aria-expanded={expanded}\r\n                                onClick={() => setExpanded(!expanded)}\r\n                              >\r\n                                {expanded ? 'Show fewer' : 'More in this topic'}\r\n                              </button>\r\n                            )}\r\n                          </div>\r\n                        );\r\n                      })()\r\n                    : (() => {\r\n                        const fallbackTopicSlug = sanitizeCodeSegment(\r\n                          topic.title || `topic-${topicIndex + 1}`,\r\n                          `topic-${topicIndex + 1}`\r\n                        );\r\n                        const subjectSlug = sanitizeCodeSegment(\r\n                          selectedSubject,\r\n                          'subject'\r\n                        );\r\n                        const topicQuizCode =\r\n                          topic.quizCode ||\r\n                          topic.id ||\r\n                          `${subjectSlug}__${fallbackTopicSlug}`;\r\n                        // If exactly one quiz variant exists, start that variant directly\r\n                        if (Array.isArray(quizSets) && quizSets.length === 1) {\r\n                          const single = quizSets[0];\r\n                          return (\r\n                            <button\r\n                              onClick={() => launchQuizSet(single, 0)}\r\n                              className=\"w-full mt-2 px-4 py-2 rounded-lg font-semibold shadow-sm transition hover:opacity-95\"\r\n                              style={buttonStyle}\r\n                            >\r\n                              {defaultButtonLabel}\r\n                            </button>\r\n                          );\r\n                        }\r\n                        // Otherwise, fall back to topic-level questions (if present)\r\n                        return (\r\n                          <button\r\n                            onClick={() => {\r\n                              if (typeof onSelectQuiz !== 'function') {\r\n                                return;\r\n                              }\r\n                              const articleClone = cloneArticle(topic.article);\r\n                              const preparedQuiz = {\r\n                                ...topic,\r\n                                id: topic.quizCode || topicQuizCode,\r\n                                quizCode: topicQuizCode,\r\n                                canonicalTopicTitle:\r\n                                  topic.title || selectedCategory + ' Topic',\r\n                              };\r\n                              if (articleClone) {\r\n                                preparedQuiz.article = articleClone;\r\n                              }\r\n                              const fallbackImageUrl =\r\n                                topic.imageUrl ||\r\n                                (articleClone && articleClone.imageUrl) ||\r\n                                (topic.article && topic.article.imageUrl);\r\n                              if (!preparedQuiz.imageUrl && fallbackImageUrl) {\r\n                                preparedQuiz.imageUrl = fallbackImageUrl;\r\n                              }\r\n                              if (Array.isArray(topic.questions)) {\r\n                                preparedQuiz.questions = topic.questions.map(\r\n                                  (question, questionIndex) => {\r\n                                    if (\r\n                                      question &&\r\n                                      typeof question === 'object'\r\n                                    ) {\r\n                                      const nextNumber =\r\n                                        question.questionNumber ??\r\n                                        questionIndex + 1;\r\n                                      return {\r\n                                        ...question,\r\n                                        questionNumber: nextNumber,\r\n                                      };\r\n                                    }\r\n                                    return question;\r\n                                  }\r\n                                );\r\n                              }\r\n                              onSelectQuiz(preparedQuiz, selectedSubject);\r\n                            }}\r\n                            className=\"w-full mt-2 px-4 py-2 rounded-lg font-semibold shadow-sm transition hover:opacity-95\"\r\n                            style={buttonStyle}\r\n                          >\r\n                            {defaultButtonLabel}\r\n                          </button>\r\n                        );\r\n                      })()}\r\n                </div>\r\n              );\r\n            })}\r\n          </div>\r\n          <div className=\"mt-6\">\r\n            <button\r\n              type=\"button\"\r\n              onClick={handleBack}\r\n              className=\"inline-flex items-center gap-2 px-4 py-2 rounded-lg font-semibold transition\"\r\n              style={backButtonStyle}\r\n            >\r\n              <ArrowLeftIcon />\r\n              <span>Back to {selectedSubject}</span>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n\r\n  // View 2: Category Selection (with updated \"Smith a Quiz\" box)\r\n  if (selectedSubject) {\r\n    const subject = AppData[selectedSubject];\r\n    const subjectColors = SUBJECT_COLORS[selectedSubject] || {};\r\n    const gradientBackground = isDarkMode\r\n      ? SUBJECT_BG_GRADIENTS[selectedSubject]\r\n      : SUBJECT_LIGHT_SURFACE_GRADIENTS[selectedSubject] ||\r\n        SUBJECT_BG_GRADIENTS[selectedSubject];\r\n    const heroStyles = isDarkMode\r\n      ? gradientBackground\r\n        ? { backgroundImage: gradientBackground }\r\n        : subjectColors.background\r\n        ? { backgroundColor: subjectColors.background }\r\n        : { backgroundColor: DEFAULT_COLOR_SCHEME.background }\r\n      : {\r\n          backgroundColor: '#ffffff',\r\n          backgroundImage:\r\n            gradientBackground ||\r\n            'linear-gradient(135deg, rgba(255,255,255,0.98), rgba(148,163,184,0.12))',\r\n          border: `1px solid ${\r\n            SUBJECT_LIGHT_TINTS[selectedSubject] || 'rgba(148,163,184,0.35)'\r\n          }`,\r\n        };\r\n    const heroTextColor = isDarkMode\r\n      ? subjectColors.heroText || subjectColors.onBackgroundText || '#ffffff'\r\n      : subjectColors.text || subjectColors.accent || '#0f172a';\r\n    const heroAccentColor =\r\n      subjectColors.accent || subjectColors.text || '#0f172a';\r\n    const heroMutedTextStyle = isDarkMode\r\n      ? { color: 'rgba(255,255,255,0.85)' }\r\n      : { color: heroTextColor, opacity: 0.75 };\r\n    const panelBorderColor = isDarkMode\r\n      ? subjectColors.border || 'rgba(255,255,255,0.55)'\r\n      : SUBJECT_LIGHT_TINTS[selectedSubject] || 'rgba(148,163,184,0.35)';\r\n    const panelBaseStyle = {\r\n      borderColor: panelBorderColor,\r\n      backgroundColor: isDarkMode ? 'rgba(51, 65, 85, 0.9)' : '#ffffff',\r\n      color: isDarkMode ? '#f8fafc' : '#0f172a',\r\n    };\r\n\r\n    const panelBackground =\r\n      !isDarkMode && SUBJECT_LIGHT_SURFACE_GRADIENTS[selectedSubject];\r\n    if (panelBackground) {\r\n      panelBaseStyle.backgroundImage = panelBackground;\r\n      panelBaseStyle.boxShadow = '0 22px 45px -34px rgba(15,23,42,0.35)';\r\n    }\r\n    const selectStyle = isDarkMode\r\n      ? {\r\n          border: `1px solid ${\r\n            subjectColors.border || 'rgba(255,255,255,0.35)'\r\n          }`,\r\n          backgroundColor: 'rgba(15,23,42,0.85)',\r\n          color: '#f8fafc',\r\n        }\r\n      : {\r\n          border: `1px solid ${panelBorderColor}`,\r\n          backgroundColor: '#ffffff',\r\n          color: '#0f172a',\r\n        };\r\n    const backButtonStyle = isDarkMode\r\n      ? {\r\n          backgroundColor: 'rgba(255,255,255,0.18)',\r\n          color: heroTextColor,\r\n          border: `1px solid ${\r\n            subjectColors.border || 'rgba(255,255,255,0.25)'\r\n          }`,\r\n        }\r\n      : {\r\n          backgroundColor: '#ffffff',\r\n          color: heroAccentColor,\r\n          border: `1px solid ${\r\n            SUBJECT_LIGHT_TINTS[selectedSubject] || 'rgba(148,163,184,0.35)'\r\n          }`,\r\n        };\r\n    const subjectVocabulary = Array.isArray(vocabularyData[selectedSubject])\r\n      ? vocabularyData[selectedSubject]\r\n      : [];\r\n    const subjectPremadeTotal = getPremadeQuizTotal(selectedSubject);\r\n    const expandedReady =\r\n      typeof window !== 'undefined' &&\r\n      window.ExpandedQuizData &&\r\n      Object.keys(window.ExpandedQuizData).length > 0;\r\n    const subjectPremadeLabel =\r\n      subjectPremadeTotal === 1\r\n        ? '1 premade quiz ready'\r\n        : `${subjectPremadeTotal} premade quizzes ready`;\r\n    return (\r\n      <>\r\n        {viewScienceFormulas && (\r\n          <ScienceFormulaSheet onClose={() => setViewScienceFormulas(false)} />\r\n        )}\r\n        <div\r\n          className=\"hero-section animate-floatIn rounded-2xl -m-4 sm:-m-6 md:-m-8 p-4 sm:p-6 md:p-8 shadow-2xl\"\r\n          style={{\r\n            ...heroStyles,\r\n            '--hero-text-color': heroTextColor,\r\n            '--hero-accent-color': heroAccentColor,\r\n          }}\r\n        >\r\n          <Breadcrumb\r\n            variant=\"onColor\"\r\n            color={heroTextColor}\r\n            accentColor={heroAccentColor}\r\n          />\r\n          <div className=\"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between mb-4\">\r\n            <div className=\"flex flex-col gap-1\">\r\n              <h2 className=\"hero-title text-3xl font-extrabold\">\r\n                {selectedSubject}\r\n              </h2>\r\n              <p className=\"text-sm font-semibold\" style={heroMutedTextStyle}>\r\n                {subjectPremadeLabel}\r\n              </p>\r\n            </div>\r\n            {(selectedSubject === 'Math' ||\r\n              selectedSubject === 'Science' ||\r\n              selectedSubject === 'Social Studies') && (\r\n              <div className=\"flex flex-wrap gap-2\">\r\n                {(selectedSubject === 'Math' ||\r\n                  selectedSubject === 'Science' ||\r\n                  selectedSubject === 'Social Studies') && (\r\n                  <button\r\n                    onClick={() => {\r\n                      setToolsModalSubject(selectedSubject);\r\n                      setShowToolsModal(true);\r\n                    }}\r\n                    className=\"px-4 py-2 font-semibold rounded-lg shadow-sm transition\"\r\n                    style={{\r\n                      backgroundColor: heroTextColor,\r\n                      color: heroAccentColor,\r\n                    }}\r\n                  >\r\n                     {selectedSubject} Tools\r\n                  </button>\r\n                )}\r\n                {selectedSubject === 'Math' && (\r\n                  <button\r\n                    onClick={() => setShowFormulaSheet(true)}\r\n                    className=\"px-4 py-2 bg-white/90 text-sky-700 font-semibold rounded-lg hover:bg-white transition\"\r\n                  >\r\n                    Formula Sheet\r\n                  </button>\r\n                )}\r\n                {selectedSubject === 'Science' && (\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => setViewScienceFormulas(true)}\r\n                    className=\"px-4 py-2 font-semibold rounded-lg border-2 transition hover:opacity-90\"\r\n                    style={{\r\n                      borderColor: isDarkMode\r\n                        ? subjectColors.border || 'rgba(255,255,255,0.5)'\r\n                        : panelBorderColor,\r\n                      color: heroAccentColor,\r\n                      backgroundColor: isDarkMode ? 'transparent' : '#ffffff',\r\n                    }}\r\n                  >\r\n                    View Science Formula Sheet\r\n                  </button>\r\n                )}\r\n              </div>\r\n            )}\r\n          </div>\r\n          {subjectVocabulary.length > 0 && (\r\n            <SubjectVocabularySection\r\n              subject={selectedSubject}\r\n              words={subjectVocabulary}\r\n              theme={theme}\r\n            />\r\n          )}\r\n          {/* Daily Coach goals (across subjects) - COACH FEATURE DISABLED */}\r\n          {window.__COACH_ENABLED__ && (\r\n            <div\r\n              className={`coach-panel rounded-lg p-4 mt-4 shadow-md ${\r\n                isDarkMode ? '' : 'coach-gold-light'\r\n              }`}\r\n            >\r\n              <div\r\n                className=\"flex items-center justify-center gap-2\"\r\n                style={{ color: heroAccentColor }}\r\n              >\r\n                <CalendarIcon className=\"h-8 w-8\" />\r\n                <h3\r\n                  className=\"text-xl font-bold\"\r\n                  style={{ color: heroTextColor }}\r\n                >\r\n                  Today&apos;s Coach Goals\r\n                </h3>\r\n              </div>\r\n              {dailyLoading ? (\r\n                <p\r\n                  className=\"text-center text-sm mt-2\"\r\n                  style={heroMutedTextStyle}\r\n                >\r\n                  Loading\r\n                </p>\r\n              ) : dailyError ? (\r\n                <p className=\"text-center text-sm mt-2 text-red-600\">\r\n                  {dailyError}\r\n                </p>\r\n              ) : todaysTaskGroups.length ? (\r\n                <div className=\"mt-3 space-y-3\">\r\n                  {todaysTaskGroups\r\n                    .filter((group) => {\r\n                      // Only show the group for the currently selected subject\r\n                      const groupSubjectId = canonicalSubjectId(\r\n                        group.subjectId || group.subjectLabel\r\n                      );\r\n                      const selectedSubjectId =\r\n                        canonicalSubjectId(selectedSubject);\r\n                      return groupSubjectId === selectedSubjectId;\r\n                    })\r\n                    .map((group) => {\r\n                      const progress =\r\n                        dailyProgressMap.get(group.subjectId) || {};\r\n                      return (\r\n                        <div\r\n                          key={group.subjectId || group.subjectLabel}\r\n                          className=\"border rounded-md p-3\"\r\n                          style={{ borderColor: panelBorderColor }}\r\n                        >\r\n                          <div className=\"flex items-center justify-between gap-3\">\r\n                            <div>\r\n                              <div\r\n                                className=\"font-semibold\"\r\n                                style={{ color: heroTextColor }}\r\n                              >\r\n                                {group.subjectLabel}\r\n                              </div>\r\n                              <div\r\n                                className=\"text-sm\"\r\n                                style={heroMutedTextStyle}\r\n                              >\r\n                                {Math.max(0, progress.completed_minutes || 0)} /{' '}\r\n                                {progress.expected_minutes || 45} minutes\r\n                              </div>\r\n                            </div>\r\n                            {progress.coach_quiz_id &&\r\n                              (progress.coach_quiz_completed ? (\r\n                                <span\r\n                                  className=\"text-sm px-3 py-1 rounded-full\"\r\n                                  style={{\r\n                                    backgroundColor: isDarkMode\r\n                                      ? 'rgba(34,197,94,0.2)'\r\n                                      : '#dcfce7',\r\n                                    color: '#166534',\r\n                                  }}\r\n                                >\r\n                                  Coach Quiz Done\r\n                                </span>\r\n                              ) : null)}\r\n                          </div>\r\n                          <div className=\"mt-3 space-y-2\">\r\n                            {group.tasks.map((task) => {\r\n                              const focusText =\r\n                                Array.isArray(task.focus) && task.focus.length\r\n                                  ? `Focus: ${task.focus.join(', ')}`\r\n                                  : '';\r\n                              const buttonLabel =\r\n                                task.type === 'coach-quiz'\r\n                                  ? `Start Coach Quiz`\r\n                                  : task.quizId || task.quizPath\r\n                                  ? `Start ${\r\n                                      group.subjectLabel.split(' ')[0]\r\n                                    } Practice`\r\n                                  : '';\r\n                              return (\r\n                                <div\r\n                                  key={task.id}\r\n                                  className=\"rounded-md border px-3 py-2\"\r\n                                  style={{ borderColor: panelBorderColor }}\r\n                                >\r\n                                  <div className=\"flex items-start justify-between gap-3\">\r\n                                    <div>\r\n                                      <div\r\n                                        className=\"font-medium\"\r\n                                        style={{ color: heroTextColor }}\r\n                                      >\r\n                                        {task.title}\r\n                                      </div>\r\n                                      {focusText ? (\r\n                                        <div\r\n                                          className=\"text-xs\"\r\n                                          style={heroMutedTextStyle}\r\n                                        >\r\n                                          {focusText}\r\n                                        </div>\r\n                                      ) : null}\r\n                                      {task.message ? (\r\n                                        <p\r\n                                          className=\"text-sm mt-1\"\r\n                                          style={heroMutedTextStyle}\r\n                                        >\r\n                                          {task.message}\r\n                                        </p>\r\n                                      ) : null}\r\n                                    </div>\r\n                                    <span\r\n                                      className=\"text-xs font-semibold\"\r\n                                      style={heroMutedTextStyle}\r\n                                    >\r\n                                      {task.minutes} min\r\n                                    </span>\r\n                                  </div>\r\n                                  {buttonLabel && (\r\n                                    <button\r\n                                      onClick={() => openCoachTask(task)}\r\n                                      className=\"mt-2 px-4 py-2 bg-purple-600 text-white text-sm font-semibold rounded-md shadow-sm hover:bg-purple-700 transition\"\r\n                                    >\r\n                                      {buttonLabel}\r\n                                    </button>\r\n                                  )}\r\n                                </div>\r\n                              );\r\n                            })}\r\n                          </div>\r\n                        </div>\r\n                      );\r\n                    })}\r\n                </div>\r\n              ) : (\r\n                <div className=\"mt-3 space-y-2\">\r\n                  {Array.isArray(coachDailySubjects) &&\r\n                  coachDailySubjects.some(\r\n                    (s) =>\r\n                      s &&\r\n                      s.coach_quiz_id &&\r\n                      !s.coach_quiz_completed &&\r\n                      s.coach_quiz_source_id\r\n                  ) ? (\r\n                    (coachDailySubjects || []).map((entry) => {\r\n                      if (\r\n                        !entry ||\r\n                        !entry.coach_quiz_id ||\r\n                        entry.coach_quiz_completed ||\r\n                        !entry.coach_quiz_source_id\r\n                      )\r\n                        return null;\r\n                      const subjLabel = displaySubjectName(entry.subject);\r\n                      return (\r\n                        <div\r\n                          key={`daily-fallback-${entry.subject}`}\r\n                          className=\"rounded-md border px-3 py-2 flex items-center justify-between\"\r\n                          style={{ borderColor: panelBorderColor }}\r\n                        >\r\n                          <div>\r\n                            <div\r\n                              className=\"font-medium\"\r\n                              style={{ color: heroTextColor }}\r\n                            >\r\n                              {subjLabel}\r\n                            </div>\r\n                            <div className=\"text-xs\" style={heroMutedTextStyle}>\r\n                              Todays Coach Quiz is ready\r\n                            </div>\r\n                          </div>\r\n                          <button\r\n                            onClick={() =>\r\n                              startCoachQuizForSubject(\r\n                                subjLabel,\r\n                                entry.coach_quiz_source_id\r\n                              )\r\n                            }\r\n                            className=\"px-3 py-1 bg-purple-600 text-white text-xs font-semibold rounded-md hover:bg-purple-700 transition\"\r\n                          >\r\n                            Open todays quiz\r\n                          </button>\r\n                        </div>\r\n                      );\r\n                    })\r\n                  ) : (\r\n                    <p\r\n                      className=\"text-center text-sm\"\r\n                      style={heroMutedTextStyle}\r\n                    >\r\n                      No goals for today yet.\r\n                    </p>\r\n                  )}\r\n                </div>\r\n              )}\r\n              {/* Ask Coach */}\r\n              <div\r\n                className=\"mt-4 border rounded-md p-3\"\r\n                style={{\r\n                  borderColor: panelBorderColor,\r\n                  backgroundColor: isDarkMode\r\n                    ? 'rgba(15,23,42,0.5)'\r\n                    : 'rgba(255,255,255,0.7)',\r\n                }}\r\n              >\r\n                <div\r\n                  className=\"flex items-center gap-2 mb-2\"\r\n                  style={{ color: heroTextColor }}\r\n                >\r\n                  <svg\r\n                    xmlns=\"http://www.w3.org/2000/svg\"\r\n                    viewBox=\"0 0 24 24\"\r\n                    fill=\"currentColor\"\r\n                    className=\"w-5 h-5\"\r\n                  >\r\n                    <path d=\"M12 2a9 9 0 00-9 9c0 4.418 3.134 8.09 7.25 8.848V22l3.5-2H14a9 9 0 000-18z\" />\r\n                  </svg>\r\n                  <span className=\"text-sm font-medium\">\r\n                    Ask Coach for a{' '}\r\n                    {selectedSubject ? selectedSubject : 'subject'} tip\r\n                  </span>\r\n                </div>\r\n                <div className=\"flex items-center gap-2\">\r\n                  <button\r\n                    onClick={() =>\r\n                      selectedSubject &&\r\n                      startDailyCompositeForSubject(selectedSubject)\r\n                    }\r\n                    disabled={\r\n                      !selectedSubject ||\r\n                      adviceLoading ||\r\n                      !window.__ASK_COACH_ENABLED__\r\n                    }\r\n                    className=\"px-3 py-2 text-sm font-semibold rounded-md transition hover:opacity-90\"\r\n                    style={{\r\n                      backgroundColor: '#ffffff',\r\n                      color: '#0f172a',\r\n                      opacity: adviceLoading ? 0.6 : 1,\r\n                    }}\r\n                  >\r\n                    {adviceLoading ? 'Asking' : 'Ask Coach'}\r\n                  </button>\r\n                  {!window.__ASK_COACH_ENABLED__ && (\r\n                    <span className=\"text-xs\" style={heroMutedTextStyle}>\r\n                      Ask Coach is currently disabled.\r\n                    </span>\r\n                  )}\r\n                  {adviceError && (\r\n                    <span className=\"text-xs text-red-600\">{adviceError}</span>\r\n                  )}\r\n                </div>\r\n                {adviceText && (\r\n                  <div\r\n                    className=\"mt-2 text-sm whitespace-pre-wrap\"\r\n                    style={{ color: heroTextColor }}\r\n                  >\r\n                    <TypewriterText text={adviceText} speed={15} />\r\n                  </div>\r\n                )}\r\n                <p className=\"mt-2 text-xs\" style={heroMutedTextStyle}>\r\n                  2 tips per week per student. Tester account is unlimited.\r\n                </p>\r\n              </div>\r\n            </div>\r\n          )}\r\n\r\n          {/* Social Studies Tools Modal will be added here */}\r\n\r\n          {/* New clustered quiz browser - show for all subjects */}\r\n          <SubjectQuizBrowser\r\n            subjectName={selectedSubject}\r\n            onSelectQuiz={onSelectQuiz}\r\n            theme={theme}\r\n          />\r\n          {/* Keep generator and comprehensive exam below the cluster UI */}\r\n          {(selectedSubject === 'Social Studies' ||\r\n            selectedSubject === 'Reasoning Through Language Arts (RLA)' ||\r\n            selectedSubject === 'Science' ||\r\n            selectedSubject === 'Math') && (\r\n            <div className=\"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4 mt-4\">\r\n              {(() => {\r\n                const subj = selectedSubject;\r\n                const subjectId = canonicalSubjectId(subj);\r\n                const subjectKey =\r\n                  subjectId === 'science'\r\n                    ? 'science'\r\n                    : subjectId === 'math'\r\n                    ? 'math'\r\n                    : subjectId === 'rla'\r\n                    ? 'rla'\r\n                    : 'social';\r\n                const match = Array.isArray(weeklyCoachSummary)\r\n                  ? weeklyCoachSummary.find(\r\n                      (ws) =>\r\n                        canonicalSubjectId(ws.subject) === subjectId ||\r\n                        (subjectId === 'rla' &&\r\n                          canonicalSubjectId(ws.subject) === 'rla')\r\n                    )\r\n                  : null;\r\n                const completed = Math.max(\r\n                  0,\r\n                  match?.completed_minutes_week || 0\r\n                );\r\n                const subjectPlanDays = Array.isArray(weeklyCoachPlan?.days)\r\n                  ? weeklyCoachPlan.days\r\n                      .map((day) => ({\r\n                        ...day,\r\n                        tasks: Array.isArray(day.tasks)\r\n                          ? day.tasks.filter(\r\n                              (task) =>\r\n                                canonicalSubjectId(\r\n                                  task.subject || task.subjectLabel || ''\r\n                                ) === subjectId\r\n                            )\r\n                          : [],\r\n                      }))\r\n                      .filter((day) => day.tasks.length > 0)\r\n                  : [];\r\n                const fallbackTarget =\r\n                  subjectPlanDays.reduce(\r\n                    (acc, day) =>\r\n                      acc +\r\n                      day.tasks.reduce(\r\n                        (sum, task) => sum + (Number(task.minutes) || 0),\r\n                        0\r\n                      ),\r\n                    0\r\n                  ) || 140;\r\n                const target = match?.expected_minutes_week || fallbackTarget;\r\n                const hasPlan = subjectPlanDays.length > 0;\r\n                return (\r\n                  window.__COACH_ENABLED__ && (\r\n                    <div\r\n                      className={`coach-panel ${\r\n                        theme === 'dark' ? '' : 'coach-gold-light'\r\n                      } coach-subject-card subject-${subjectKey} rounded-lg p-4 flex flex-col justify-between shadow-md hover:shadow-lg transition-all`}\r\n                    >\r\n                      <div>\r\n                        <div className=\"flex items-center justify-between mb-2\">\r\n                          <p\r\n                            className=\"subject-pill text-xs font-semibold uppercase tracking-wide\"\r\n                            style={{\r\n                              borderRadius: '9999px',\r\n                              padding: '2px 10px',\r\n                            }}\r\n                          >\r\n                            {subj?.startsWith('Reasoning') ? 'RLA' : subj}\r\n                          </p>\r\n                          <span className=\"minutes-pill text-[0.70rem]\">\r\n                            {completed} / {target} min\r\n                          </span>\r\n                        </div>\r\n                        <div\r\n                          className=\"flex items-center justify-center gap-2\"\r\n                          style={{ color: heroAccentColor }}\r\n                        >\r\n                          <CalendarIcon className=\"h-8 w-8\" />\r\n                          <h3\r\n                            className=\"text-xl font-bold\"\r\n                            style={{ color: heroTextColor }}\r\n                          >\r\n                            Weekly Coach\r\n                          </h3>\r\n                        </div>\r\n                        <p\r\n                          className=\"text-sm my-2 text-center\"\r\n                          style={heroMutedTextStyle}\r\n                        >\r\n                          A 7-day plan tailored to your recent progress.\r\n                        </p>\r\n                        {coachLoading ? (\r\n                          <p\r\n                            className=\"text-center text-sm\"\r\n                            style={heroMutedTextStyle}\r\n                          >\r\n                            Loading\r\n                          </p>\r\n                        ) : hasPlan ? (\r\n                          <div className=\"mt-2 max-h-48 overflow-y-auto space-y-1\">\r\n                            {subjectPlanDays.slice(0, 7).map((d, idx) => {\r\n                              const focusList = d.tasks.flatMap((task) =>\r\n                                Array.isArray(task.focus) ? task.focus : []\r\n                              );\r\n                              const focus = focusList.length\r\n                                ? Array.from(new Set(focusList)).join(', ')\r\n                                : '';\r\n                              const minutes =\r\n                                d.tasks.reduce(\r\n                                  (sum, task) =>\r\n                                    sum + (Number(task.minutes) || 0),\r\n                                  0\r\n                                ) || 0;\r\n                              const titles = d.tasks\r\n                                .map((task) => task.title)\r\n                                .join(' ');\r\n                              return (\r\n                                <div\r\n                                  key={`${d.day}-${idx}`}\r\n                                  className=\"text-sm flex flex-col\"\r\n                                >\r\n                                  <span className=\"font-semibold\">\r\n                                    Day {d.day}:\r\n                                  </span>\r\n                                  <span>\r\n                                    {focus ? `${focus} ` : ''}\r\n                                    {titles || 'Practice'} ({minutes}m)\r\n                                  </span>\r\n                                </div>\r\n                              );\r\n                            })}\r\n                          </div>\r\n                        ) : (\r\n                          <p\r\n                            className=\"text-center text-sm\"\r\n                            style={heroMutedTextStyle}\r\n                          >\r\n                            Plan generated. Refreshing...\r\n                          </p>\r\n                        )}\r\n                        {coachError && (\r\n                          <p className=\"text-center text-xs text-red-600 mt-2\">\r\n                            {coachError}\r\n                          </p>\r\n                        )}\r\n                      </div>\r\n                      <div className=\"mt-3\">\r\n                        <button\r\n                          onClick={generateCoachPlan}\r\n                          disabled={coachLoading}\r\n                          className=\"w-full mt-2 px-4 py-2 bg-white text-slate-900 font-semibold rounded-md hover:bg-white/90 transition disabled:bg-white/70 disabled:text-slate-400\"\r\n                        >\r\n                          {hasPlan\r\n                            ? 'Generate / Refresh Plan'\r\n                            : 'Generate Plan'}\r\n                        </button>\r\n                      </div>\r\n                    </div>\r\n                  )\r\n                );\r\n              })()}\r\n              {selectedSubject === 'Reasoning Through Language Arts (RLA)' && (\r\n                <div\r\n                  className=\"border-2 border-dashed rounded-lg p-4 flex flex-col justify-between hover:shadow-lg transition-all\"\r\n                  style={{ ...panelBaseStyle, borderStyle: 'dashed' }}\r\n                >\r\n                  <div>\r\n                    <div\r\n                      className=\"flex items-center justify-center gap-2\"\r\n                      style={{ color: heroAccentColor }}\r\n                    >\r\n                      <BookOpenIcon className=\"h-8 w-8\" />\r\n                      <h3\r\n                        className=\"text-xl font-bold\"\r\n                        style={{ color: heroTextColor }}\r\n                      >\r\n                        Essay Practice Tool\r\n                      </h3>\r\n                    </div>\r\n                    <p\r\n                      className=\"text-sm my-2 text-center\"\r\n                      style={heroMutedTextStyle}\r\n                    >\r\n                      Build your extended response with guided support.\r\n                    </p>\r\n                  </div>\r\n                  <button\r\n                    onClick={() =>\r\n                      onSelectQuiz(\r\n                        {\r\n                          id: 'essay_practice_tool',\r\n                          type: 'essay',\r\n                          title: 'GED Essay Practice Toolkit',\r\n                        },\r\n                        selectedSubject\r\n                      )\r\n                    }\r\n                    className=\"w-full mt-2 px-4 py-2 bg-white text-slate-900 font-semibold rounded-md hover:bg-white/90 transition\"\r\n                  >\r\n                    Launch Essay Practice\r\n                  </button>\r\n                </div>\r\n              )}\r\n              {selectedSubject === 'Social Studies' && (\r\n                <div\r\n                  className=\"border-2 border-dashed rounded-lg p-4 flex flex-col justify-between hover:shadow-lg transition-all\"\r\n                  style={{ ...panelBaseStyle, borderStyle: 'dashed' }}\r\n                >\r\n                  <div>\r\n                    <div\r\n                      className=\"flex items-center justify-center gap-2\"\r\n                      style={{ color: heroAccentColor }}\r\n                    >\r\n                      <GlobeIcon className=\"h-8 w-8\" />\r\n                      <h3\r\n                        className=\"text-xl font-bold\"\r\n                        style={{ color: heroTextColor }}\r\n                      >\r\n                        Social Studies Tools\r\n                      </h3>\r\n                    </div>\r\n                    <p\r\n                      className=\"text-sm my-2 text-center\"\r\n                      style={heroMutedTextStyle}\r\n                    >\r\n                      Interactive tools to master Civics, Economics, Geography,\r\n                      and History.\r\n                    </p>\r\n                  </div>\r\n                  <button\r\n                    onClick={() => setShowToolsModal(true)}\r\n                    className=\"w-full mt-2 px-4 py-2 bg-white text-slate-900 font-semibold rounded-md hover:bg-white/90 transition\"\r\n                  >\r\n                     Open Social Studies Tools\r\n                  </button>\r\n                </div>\r\n              )}\r\n              <div\r\n                className=\"border-2 border-dashed rounded-lg p-4 flex flex-col justify-between hover:shadow-lg transition-all\"\r\n                style={{ ...panelBaseStyle, borderStyle: 'dashed' }}\r\n              >\r\n                <div>\r\n                  <div\r\n                    className=\"flex items-center justify-center gap-2\"\r\n                    style={{ color: heroAccentColor }}\r\n                  >\r\n                    <SparklesIcon className=\"h-8 w-8\" />\r\n                    <h3\r\n                      className=\"text-xl font-bold\"\r\n                      style={{ color: heroTextColor }}\r\n                    >\r\n                      Smith a Quiz\r\n                    </h3>\r\n                  </div>\r\n                  <p\r\n                    className=\"text-sm my-2 text-center\"\r\n                    style={heroMutedTextStyle}\r\n                  >\r\n                    Generate a new quiz for any topic in {selectedSubject}.\r\n                  </p>\r\n                  <div className=\"mt-2\">\r\n                    <label\r\n                      className=\"block font-semibold mb-1\"\r\n                      htmlFor=\"ai-quiz-topic\"\r\n                      style={{ color: heroTextColor }}\r\n                    >\r\n                      Choose a topic\r\n                    </label>\r\n                    <select\r\n                      id=\"ai-quiz-topic\"\r\n                      value={aiQuizTopic}\r\n                      onChange={(e) => setAiQuizTopic(e.target.value)}\r\n                      className=\"w-full px-3 py-2 rounded-md focus:outline-none focus:ring-2 focus:ring-offset-0\"\r\n                      style={selectStyle}\r\n                    >\r\n                      <option value=\"\">Select a topic</option>\r\n                      {availableTopics.map(\r\n                        (topic, idx) =>\r\n                          topic && (\r\n                            <option key={`${topic}-${idx}`} value={topic}>\r\n                              {topic}\r\n                            </option>\r\n                          )\r\n                      )}\r\n                    </select>\r\n                  </div>\r\n                </div>\r\n                <button\r\n                  onClick={() =>\r\n                    onSelectGenerator(\r\n                      selectedSubject,\r\n                      aiQuizTopic,\r\n                      setIsLoading,\r\n                      setLoadingMessage\r\n                    )\r\n                  }\r\n                  disabled={!aiQuizTopic}\r\n                  className=\"w-full mt-2 px-4 py-2 bg-white text-slate-900 font-semibold rounded-md transition hover:bg-white/90 disabled:bg-white/60 disabled:text-slate-400 disabled:cursor-not-allowed\"\r\n                >\r\n                  Generate Quiz\r\n                </button>\r\n              </div>\r\n              <div\r\n                className=\"border-2 border-dashed rounded-lg p-4 flex flex-col justify-center items-center hover:shadow-lg transition-all md:col-span-2 lg:col-span-1\"\r\n                style={{ ...panelBaseStyle, borderStyle: 'dashed' }}\r\n              >\r\n                <SparklesIcon\r\n                  className=\"h-8 w-8\"\r\n                  style={{ color: heroAccentColor }}\r\n                />\r\n                <h3\r\n                  className=\"text-xl font-bold mt-2\"\r\n                  style={{ color: heroTextColor }}\r\n                >\r\n                  Comprehensive Exam\r\n                </h3>\r\n                <p\r\n                  className=\"text-sm my-2 text-center\"\r\n                  style={heroMutedTextStyle}\r\n                >\r\n                  Take a full-length practice exam for {selectedSubject}.\r\n                </p>\r\n                <button\r\n                  onClick={async () =>\r\n                    await onStartComprehensiveExam(selectedSubject)\r\n                  }\r\n                  className=\"w-full mt-2 px-4 py-2 bg-white text-slate-900 font-semibold rounded-md hover:bg-white/90 transition\"\r\n                >\r\n                  Start Comprehensive Exam\r\n                </button>\r\n              </div>\r\n            </div>\r\n          )}\r\n          <div className=\"mt-6\">\r\n            <button\r\n              type=\"button\"\r\n              onClick={handleBack}\r\n              className=\"inline-flex items-center gap-2 px-4 py-2 rounded-lg font-semibold transition\"\r\n              style={backButtonStyle}\r\n            >\r\n              <ArrowLeftIcon />\r\n              <span>Back to Main Menu</span>\r\n            </button>\r\n          </div>\r\n        </div>\r\n      </>\r\n    );\r\n  }\r\n\r\n  // View 1: Subject Selection (Default)\r\n  return (\r\n    <>\r\n      <div className=\"fade-in\">\r\n        <header className=\"text-center pb-4 mb-4\">\r\n          {currentUser ? (\r\n            <div className=\"flex flex-col items-center gap-2\">\r\n              {currentUser.picture &&\r\n              currentUser.picture.startsWith('/icons/') ? (\r\n                <div className=\"w-16 h-16 rounded-full bg-sky-600 text-white flex items-center justify-center shadow-lg\">\r\n                  <img\r\n                    src={currentUser.picture}\r\n                    alt=\"User avatar\"\r\n                    className=\"w-10 h-10\"\r\n                    style={{\r\n                      filter: 'brightness(0) saturate(100%) invert(100%)',\r\n                    }}\r\n                  />\r\n                </div>\r\n              ) : currentUser.picture ? (\r\n                <img\r\n                  src={currentUser.picture}\r\n                  alt=\"User\"\r\n                  className=\"w-16 h-16 rounded-full shadow-lg\"\r\n                />\r\n              ) : (\r\n                <div className=\"w-16 h-16 rounded-full bg-sky-600 text-white flex items-center justify-center text-2xl font-bold shadow-lg\">\r\n                  <img\r\n                    src=\"/icons/student-svgrepo-com.svg\"\r\n                    alt=\"\"\r\n                    className=\"w-10 h-10\"\r\n                    style={{\r\n                      filter: 'brightness(0) saturate(100%) invert(100%)',\r\n                    }}\r\n                  />\r\n                </div>\r\n              )}\r\n              <h1 className=\"text-4xl font-extrabold text-slate-900 dark:text-slate-100\">\r\n                Welcome, {userDisplayName}!\r\n              </h1>\r\n              <p className=\"text-slate-700 dark:text-slate-300\">\r\n                Please select a subject to begin.\r\n              </p>\r\n              <button\r\n                onClick={onLogout}\r\n                className=\"text-sm font-semibold text-sky-600 hover:text-sky-800 dark:text-sky-300 dark:hover:text-sky-200 flex items-center gap-2\"\r\n              >\r\n                <img\r\n                  src=\"/icons/house-svgrepo-com.svg\"\r\n                  alt=\"\"\r\n                  className=\"w-4 h-4\"\r\n                  style={{\r\n                    filter:\r\n                      'brightness(0) saturate(100%) invert(47%) sepia(89%) saturate(1057%) hue-rotate(168deg) brightness(95%) contrast(101%)',\r\n                  }}\r\n                />\r\n                [ Log Out ]\r\n              </button>\r\n            </div>\r\n          ) : (\r\n            <>\r\n              <h1 className=\"text-4xl font-extrabold text-slate-900 dark:text-slate-100\">\r\n                Mr. Smith's Learning Canvas\r\n              </h1>\r\n              <p className=\"text-slate-700 dark:text-slate-300 mt-2\">\r\n                An interactive learning experience.\r\n              </p>\r\n            </>\r\n          )}\r\n        </header>\r\n        {!onboardingComplete && !onboardingBannerHidden && (\r\n          <div className=\"mb-6 rounded-xl border border-amber-300 dark:border-amber-700 bg-amber-50 dark:bg-amber-950 p-4 text-amber-900 dark:text-amber-100 shadow-sm flex flex-col sm:flex-row sm:items-center sm:justify-between gap-3\">\r\n            <div className=\"space-y-1\">\r\n              <p className=\"font-semibold\">\r\n                Finish setting up your learning plan\r\n              </p>\r\n              <p className=\"text-sm opacity-90\">\r\n                Add your name, pick a few challenge areas, and set test dates to\r\n                personalize your dashboard.\r\n              </p>\r\n            </div>\r\n            <div className=\"flex gap-2 shrink-0\">\r\n              <button\r\n                type=\"button\"\r\n                onClick={goToProfile}\r\n                className=\"inline-flex items-center justify-center rounded-lg bg-amber-600 px-4 py-2 text-sm font-semibold text-white hover:bg-amber-700 focus:outline-none focus-visible:ring-2 focus-visible:ring-amber-500 focus-visible:ring-offset-2\"\r\n              >\r\n                Continue Onboarding\r\n              </button>\r\n              <button\r\n                type=\"button\"\r\n                onClick={hideOnboardingBanner}\r\n                className=\"inline-flex items-center gap-2 rounded-lg px-3 py-2 bg-slate-100 text-slate-900 hover:bg-slate-200 focus:outline-none focus-visible:ring-2 focus-visible:ring-amber-500 focus-visible:ring-offset-2 dark:bg-slate-700 dark:text-slate-100\"\r\n                aria-label=\"Hide onboarding reminder for now\"\r\n              >\r\n                Hide for now\r\n              </button>\r\n            </div>\r\n          </div>\r\n        )}\r\n        <div className=\"dashboard-sections\">\r\n          {/* Day 0 Diagnostic Card */}\r\n          <div className=\"mb-6 rounded-xl border border-indigo-200 bg-white p-6 shadow-lg dark:bg-slate-800 dark:border-indigo-900 relative overflow-hidden group hover:shadow-xl transition-all\">\r\n            <div className=\"absolute top-0 right-0 p-4 opacity-10 text-indigo-600 dark:text-indigo-400 transform group-hover:scale-110 transition-transform\">\r\n              <svg\r\n                className=\"w-32 h-32\"\r\n                fill=\"currentColor\"\r\n                viewBox=\"0 0 24 24\"\r\n              >\r\n                <path d=\"M9 11.75c-.69 0-1.25.56-1.25 1.25s.56 1.25 1.25 1.25 1.25-.56 1.25-1.25-.56-1.25-1.25-1.25zm6 0c-.69 0-1.25.56-1.25 1.25s.56 1.25 1.25 1.25 1.25-.56 1.25-1.25-.56-1.25-1.25-1.25zM12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8 0-.29.02-.58.05-.86 2.36-1.05 4.23-2.98 5.21-5.37C11.07 8.33 14.05 10 17.42 10c.78 0 1.53-.09 2.25-.26.21 1.01.33 2.05.33 3.1 0 4.41-3.59 8-8 8z\" />\r\n              </svg>\r\n            </div>\r\n            <div className=\"relative z-10\">\r\n              <div className=\"flex items-center gap-3 mb-2\">\r\n                <span className=\"bg-indigo-100 text-indigo-800 text-xs font-semibold px-2.5 py-0.5 rounded dark:bg-indigo-900 dark:text-indigo-300\">\r\n                  Recommended\r\n                </span>\r\n                <h2 className=\"text-2xl font-bold text-slate-900 dark:text-white\">\r\n                  Day 0 Diagnostic\r\n                </h2>\r\n              </div>\r\n              <p\r\n                className=\"text-slate-900 dark:text-slate-300 mb-4 max-w-2xl\"\r\n                style={{ color: 'inherit' }}\r\n              >\r\n                Start your journey with a comprehensive 40-question assessment\r\n                covering all 4 subjects. This sets your baseline and helps Coach\r\n                Smith build your personalized learning plan.\r\n              </p>\r\n              <button\r\n                onClick={handleStartDiagnostic}\r\n                className=\"inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-lg shadow-sm text-white bg-indigo-600 hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 transition-colors\"\r\n              >\r\n                Start Diagnostic Test\r\n              </button>\r\n            </div>\r\n          </div>\r\n\r\n          {currentUser && (\r\n            <div\r\n              className={`grid gap-4 ${\r\n                showProfileCard && showPlanCard\r\n                  ? 'md:grid-cols-2'\r\n                  : 'md:grid-cols-1'\r\n              } mb-6 dashboard-row`}\r\n            >\r\n              {/* Upcoming GED Test (Profile-level) - only when no plan data yet */}\r\n              {showProfileCard && (\r\n                <article\r\n                  className=\"glass rounded-2xl border border-slate-200/70 dark:border-slate-700/60 p-5 shadow-lg space-y-2 dark:bg-slate-800/70 block-profile-test panel card\"\r\n                  style={homePanelStyle}\r\n                >\r\n                  <div className=\"flex items-center justify-between\">\r\n                    <h2\r\n                      className=\"text-lg font-semibold text-slate-900 dark:text-slate-100\"\r\n                      style={isDarkMode ? undefined : { color: '#000000' }}\r\n                    >\r\n                      Upcoming GED Test\r\n                    </h2>\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={goToProfile}\r\n                      className=\"text-sm font-semibold text-sky-600 hover:text-sky-800 dark:text-sky-300 dark:hover:text-sky-200\"\r\n                    >\r\n                      Edit\r\n                    </button>\r\n                  </div>\r\n                  {normalizedProfileTestDate ? (\r\n                    (() => {\r\n                      if (testDateDiffDays == null) {\r\n                        return (\r\n                          <p className={`text-sm ${homePanelPrimaryTextClass}`}>\r\n                            Test date unavailable. Please update in profile.\r\n                          </p>\r\n                        );\r\n                      }\r\n                      if (testDateDiffDays > 1) {\r\n                        return (\r\n                          <div\r\n                            className={`text-sm ${homePanelPrimaryTextClass}`}\r\n                          >\r\n                            <p>\r\n                              Your test is in{' '}\r\n                              <strong>{testDateDiffDays}</strong> days (\r\n                              {testDateDisplay}).\r\n                            </p>\r\n                            <span className=\"countdown-chip mt-2 inline-block\">\r\n                              {testDateDiffDays} days left\r\n                            </span>\r\n                          </div>\r\n                        );\r\n                      }\r\n                      if (testDateDiffDays === 1) {\r\n                        return (\r\n                          <div\r\n                            className={`text-sm ${homePanelPrimaryTextClass}`}\r\n                          >\r\n                            <p>\r\n                              Your test is <strong>tomorrow</strong> (\r\n                              {testDateDisplay}).\r\n                            </p>\r\n                            <span className=\"countdown-chip mt-2 inline-block\">\r\n                              1 day left\r\n                            </span>\r\n                          </div>\r\n                        );\r\n                      }\r\n                      if (testDateDiffDays === 0) {\r\n                        return (\r\n                          <p className={`text-sm ${homePanelPrimaryTextClass}`}>\r\n                            <strong>Your test is today.</strong> Good luck!\r\n                          </p>\r\n                        );\r\n                      }\r\n                      // Past date\r\n                      return (\r\n                        <p className={`text-sm ${homePanelPrimaryTextClass}`}>\r\n                          Your previous test date was {testDateDisplay}. Set a\r\n                          new one.\r\n                        </p>\r\n                      );\r\n                    })()\r\n                  ) : (\r\n                    <p className={`text-sm ${homePanelPrimaryTextClass}`}>\r\n                      No test date on file. Set one in your profile.\r\n                    </p>\r\n                  )}\r\n                  <p\r\n                    className={`text-xs ${\r\n                      isDarkMode ? 'text-slate-400' : 'text-slate-800'\r\n                    }`}\r\n                  >\r\n                    This uses the single profile test date.\r\n                  </p>\r\n                </article>\r\n              )}\r\n              {showPlanCard && (\r\n                <article\r\n                  className=\"glass rounded-2xl border border-slate-200/70 dark:border-slate-700/60 p-5 shadow-lg space-y-2 dark:bg-slate-800/70 block-test-date panel card\"\r\n                  style={homePanelStyle}\r\n                >\r\n                  <div className=\"flex items-center justify-between\">\r\n                    <h2\r\n                      className=\"text-lg font-semibold text-slate-900 dark:text-slate-100\"\r\n                      style={isDarkMode ? undefined : { color: '#000000' }}\r\n                    >\r\n                      Upcoming Tests\r\n                    </h2>\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={goToProfile}\r\n                      className=\"text-sm font-semibold text-sky-600 hover:text-sky-800 dark:text-sky-300 dark:hover:text-sky-200\"\r\n                    >\r\n                      Edit\r\n                    </button>\r\n                  </div>\r\n                  <p className={`text-sm ${homePanelPrimaryTextClass}`}>\r\n                    Keep adding your remaining test dates to stay organized.\r\n                  </p>\r\n                  {allSubjectsSelfDeclaredPassed ? (\r\n                    <p className=\"text-sm text-emerald-600\">\r\n                      You marked every GED subject as passed. Amazing work!\r\n                    </p>\r\n                  ) : upcomingList && upcomingList.length > 0 ? (\r\n                    <div className=\"mt-2 space-y-2\">\r\n                      {upcomingList.map((item, idx) => (\r\n                        <div\r\n                          key={`${item.subject}-${item.dateISO}-${idx}`}\r\n                          className=\"flex items-center justify-between py-1\"\r\n                        >\r\n                          <div>\r\n                            <p className=\"font-semibold text-slate-900 dark:text-slate-100\">\r\n                              {item.subject}\r\n                            </p>\r\n                            <p\r\n                              className={`text-sm ${homePanelPrimaryTextClass}`}\r\n                            >\r\n                              {item.formattedDate}\r\n                              {item.location ? (\r\n                                <span> {item.location}</span>\r\n                              ) : null}\r\n                            </p>\r\n                          </div>\r\n                          <span className=\"countdown-chip inline-flex\">\r\n                            <span className=\"dot\"></span>\r\n                            <span className=\"label\">\r\n                              {countdownLabel(item.daysUntil)}\r\n                            </span>\r\n                          </span>\r\n                        </div>\r\n                      ))}\r\n                    </div>\r\n                  ) : hasSavedTest ? (\r\n                    <p className={`text-sm ${homePanelPrimaryTextClass}`}>\r\n                      No test scheduled yet.\r\n                    </p>\r\n                  ) : (\r\n                    <p className={`text-sm ${homePanelPrimaryTextClass}`}>\r\n                      Set your test dates to start the countdown.\r\n                    </p>\r\n                  )}\r\n                  <p\r\n                    className={`text-xs ${\r\n                      isDarkMode ? 'text-slate-400' : 'text-slate-800'\r\n                    }`}\r\n                  >\r\n                    Need changes? Update them from your profile.\r\n                  </p>\r\n                </article>\r\n              )}\r\n              <article\r\n                className=\"glass rounded-2xl border border-slate-200/70 dark:border-slate-700/60 p-5 shadow-lg space-y-2 dark:bg-slate-800/70 block-challenges panel card\"\r\n                style={homePanelStyle}\r\n              >\r\n                <div className=\"flex items-center justify-between\">\r\n                  <h2\r\n                    className=\"text-lg font-semibold text-slate-900 dark:text-slate-100\"\r\n                    style={isDarkMode ? undefined : { color: '#000000' }}\r\n                  >\r\n                    Learning Challenges\r\n                  </h2>\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={goToProfile}\r\n                    className=\"text-sm font-semibold text-sky-600 hover:text-sky-800 dark:text-sky-300 dark:hover:text-sky-200\"\r\n                  >\r\n                    Update\r\n                  </button>\r\n                </div>\r\n                {selectedChallenges.length ? (\r\n                  <ul\r\n                    className={`space-y-1 text-sm ${homePanelPrimaryTextClass}`}\r\n                  >\r\n                    {displayedChallenges.map((challenge) => (\r\n                      <li key={challenge.id}>\r\n                        {' '}\r\n                        {challenge.label ||\r\n                          `${challenge.subject} ${challenge.subtopic}`}\r\n                      </li>\r\n                    ))}\r\n                    {hiddenChallengeCount > 0 && (\r\n                      <li\r\n                        className={`text-xs ${\r\n                          isDarkMode ? 'text-slate-400' : 'text-slate-800'\r\n                        }`}\r\n                      >\r\n                        and {hiddenChallengeCount} more\r\n                      </li>\r\n                    )}\r\n                  </ul>\r\n                ) : (\r\n                  <p className={`text-sm ${homePanelPrimaryTextClass}`}>\r\n                    Tell us what topics to focus on to unlock a tailored plan.\r\n                  </p>\r\n                )}\r\n                {!onboardingComplete && (\r\n                  <p className=\"text-xs text-rose-500\">\r\n                    Finish selecting challenges to complete onboarding.\r\n                  </p>\r\n                )}\r\n              </article>\r\n            </div>\r\n          )}\r\n          {currentUser && (\r\n            <div id=\"progress\" className=\"animate-floatIn block-profile panel\">\r\n              <ProgressDashboard\r\n                progress={progress}\r\n                onSubjectClick={setDetailedViewSubject}\r\n                profilePassedMap={profilePassedMap}\r\n                recentSummary={recentDashboardSummary}\r\n              />\r\n            </div>\r\n          )}\r\n          {/* Coach Smith This Week (4 subject cards) */}\r\n          {window.__COACH_ENABLED__ && currentUser && (\r\n            <div\r\n              className={`mb-6 block-profile panel coach-smith-shell coach-panel rounded-xl p-4 shadow-md ${\r\n                theme === 'dark' ? '' : 'coach-gold-light'\r\n              }`}\r\n            >\r\n              <div className=\"flex items-center justify-between mb-3\">\r\n                <h2\r\n                  className={`text-lg font-semibold ${homePanelPrimaryTextClass}`}\r\n                >\r\n                  Coach Smith This Week\r\n                </h2>\r\n                <button\r\n                  onClick={generateAllWeeklyPlans}\r\n                  disabled={generatingAll}\r\n                  className=\"text-sm font-semibold px-3 py-1 rounded-md bg-white text-slate-900 hover:bg-white/90 disabled:opacity-60 dark:bg-slate-900 dark:text-slate-100 dark:hover:bg-slate-800\"\r\n                  title=\"Generate weekly plans for Math, RLA, Science, and Social Studies\"\r\n                >\r\n                  {generatingAll ? 'Generating' : 'Generate all'}\r\n                </button>\r\n              </div>\r\n\r\n              {dailyLoading ? (\r\n                <p className={`text-sm ${homePanelPrimaryTextClass}`}>\r\n                  Loading...\r\n                </p>\r\n              ) : dailyError ? (\r\n                <p className=\"text-sm text-red-600\">{dailyError}</p>\r\n              ) : (\r\n                <div className=\"grid grid-cols-1 md:grid-cols-2 gap-3\">\r\n                  {[\r\n                    'Math',\r\n                    'Reasoning Through Language Arts (RLA)',\r\n                    'Science',\r\n                    'Social Studies',\r\n                  ].map((label) => {\r\n                    const match = Array.isArray(weeklyCoachSummary)\r\n                      ? weeklyCoachSummary.find((ws) => {\r\n                          if (\r\n                            label === 'Reasoning Through Language Arts (RLA)'\r\n                          ) {\r\n                            return ws.subject === 'RLA' || ws.subject === label;\r\n                          }\r\n                          return ws.subject === label;\r\n                        })\r\n                      : null;\r\n\r\n                    const completed = Math.max(\r\n                      0,\r\n                      match?.completed_minutes_week || 0\r\n                    );\r\n                    const target = match?.expected_minutes_week || 140;\r\n                    const summary = match?.summary;\r\n\r\n                    // subject key for styling hooks\r\n                    const subjectKey =\r\n                      label === 'Math'\r\n                        ? 'math'\r\n                        : label.startsWith('Reasoning')\r\n                        ? 'rla'\r\n                        : label === 'Science'\r\n                        ? 'science'\r\n                        : 'social';\r\n\r\n                    return (\r\n                      <div\r\n                        key={label}\r\n                        className={`coach-subject-card coach-gold-card rounded-lg border p-3 backdrop-blur-sm subject-${subjectKey}`}\r\n                      >\r\n                        <div className=\"flex items-center justify-between mb-2\">\r\n                          <p\r\n                            className=\"subject-pill text-xs font-semibold uppercase tracking-wide\"\r\n                            style={{\r\n                              borderRadius: '9999px',\r\n                              padding: '2px 10px',\r\n                            }}\r\n                          >\r\n                            {label === 'Reasoning Through Language Arts (RLA)'\r\n                              ? 'RLA'\r\n                              : label}\r\n                          </p>\r\n                          <span className=\"minutes-pill text-[0.65rem] text-slate-700 dark:text-slate-200\">\r\n                            {completed} / {target} min\r\n                          </span>\r\n                        </div>\r\n                        {summary ? (\r\n                          <p className=\"text-xs text-slate-800 dark:text-slate-100 leading-snug\">\r\n                            {summary}\r\n                          </p>\r\n                        ) : (\r\n                          <p className=\"text-xs text-slate-700 dark:text-slate-200 leading-snug\">\r\n                            No weekly plan yet. Use Weekly Coach in this\r\n                            subject.\r\n                          </p>\r\n                        )}\r\n                      </div>\r\n                    );\r\n                  })}\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n          {hasVocabulary && (\r\n            <div className=\"mb-6 block-vocab panel vocab-shell\">\r\n              <div className=\"flex items-center justify-between mb-2\">\r\n                <h3\r\n                  className={`text-base font-semibold ${homePanelPrimaryTextClass}`}\r\n                >\r\n                  Vocabulary Spotlight\r\n                </h3>\r\n                <button\r\n                  onClick={() => setVocabOpen((v) => !v)}\r\n                  className=\"text-sm font-semibold px-3 py-1 rounded-md bg-white text-slate-900 hover:bg-white/90 dark:bg-slate-800 dark:text-slate-100 dark:hover:bg-slate-700\"\r\n                >\r\n                  {vocabOpen ? 'Hide' : 'Show'}\r\n                </button>\r\n              </div>\r\n              {vocabOpen && (\r\n                <div className=\"space-y-6\">\r\n                  <VocabularyTicker\r\n                    vocabulary={vocabularyData}\r\n                    onWordClick={handleViewVocabulary}\r\n                  />\r\n                  <VocabularyOverview\r\n                    vocabulary={vocabularyData}\r\n                    onWordClick={handleViewVocabulary}\r\n                  />\r\n                  <VocabularyBySubject\r\n                    vocabulary={vocabularyData}\r\n                    onStartQuiz={handleStartVocabularyQuiz}\r\n                    theme={theme}\r\n                  />\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n          <section className=\"block-start-quiz\">\r\n            <div className=\"my-6 text-center panel card\">\r\n              <button\r\n                onClick={onStartPopQuiz}\r\n                className=\"px-8 py-4 bg-purple-600 text-white font-bold rounded-lg shadow-lg hover:bg-purple-700 transition-transform transform hover:scale-105 quiz-start-btn\"\r\n              >\r\n                Start a Practice Session\r\n              </button>\r\n            </div>\r\n            <div\r\n              id=\"quizzes\"\r\n              className=\"grid grid-cols-1 md:grid-cols-3 gap-6 subject-bar\"\r\n            >\r\n              {SUBJECT_DISPLAY_ORDER.filter(\r\n                (subjectName) => AppData && AppData[subjectName]\r\n              ).map((subjectName) => {\r\n                const iconMap = {\r\n                  Math: '/icons/math-svgrepo-com.svg',\r\n                  Science: '/icons/double-helix-svgrepo-com.svg',\r\n                  'Social Studies': '/icons/globe-svgrepo-com.svg',\r\n                  'Reasoning Through Language Arts (RLA)':\r\n                    '/icons/book-closed-svgrepo-com.svg',\r\n                  RLA: '/icons/book-closed-svgrepo-com.svg',\r\n                  'Workforce Readiness': '/icons/briefcase-svgrepo-com.svg',\r\n                };\r\n                const iconPath =\r\n                  iconMap[subjectName] || '/icons/knowledge-svgrepo-com.svg';\r\n                const premadeTotal = getPremadeQuizTotal(subjectName);\r\n                const premadeLabel =\r\n                  premadeTotal === 1\r\n                    ? '1 premade quiz ready'\r\n                    : `${premadeTotal} premade quizzes ready`;\r\n                const subjectKeyShort =\r\n                  SUBJECT_SHORT_LABELS[subjectName] || subjectName;\r\n                return (\r\n                  <SubjectCard\r\n                    key={subjectName}\r\n                    subject={subjectName}\r\n                    icon={iconPath}\r\n                    onClick={() => openSubjectPremades(subjectName)}\r\n                    className=\"bg-surface border border-subtle\"\r\n                  >\r\n                    <div\r\n                      className=\"text-sm text-primary\"\r\n                      data-subject={subjectKeyShort}\r\n                    >\r\n                      {premadeLabel}\r\n                    </div>\r\n                  </SubjectCard>\r\n                );\r\n              })}\r\n            </div>\r\n          </section>\r\n        </div>\r\n      </div>\r\n      {/* Test reminder modal/toast (scoped to StartScreen) */}\r\n      {showTestReminder && (\r\n        <div\r\n          className=\"fixed inset-0 z-50 flex items-center justify-center p-4\"\r\n          role=\"dialog\"\r\n          aria-modal=\"true\"\r\n          style={{ backgroundColor: 'var(--modal-overlay)' }}\r\n        >\r\n          <div\r\n            className=\"rounded-lg shadow-2xl w-full max-w-md p-6\"\r\n            style={{\r\n              backgroundColor: 'var(--modal-surface)',\r\n              color: 'var(--modal-text)',\r\n              border: '1px solid var(--modal-border)',\r\n            }}\r\n          >\r\n            <h2 className=\"text-xl font-bold mb-2\">Upcoming GED test</h2>\r\n            <p className=\"mb-4\">\r\n              Your test is in <strong>{showTestReminder.days}</strong> day(s):{' '}\r\n              {showTestReminder.date}\r\n            </p>\r\n            <div className=\"flex justify-end\">\r\n              <button\r\n                type=\"button\"\r\n                onClick={() => setShowTestReminder(null)}\r\n                className=\"px-4 py-2 rounded-md font-semibold border\"\r\n                style={{\r\n                  background: 'transparent',\r\n                  color: 'var(--text-primary)',\r\n                  borderColor: 'var(--border-subtle)',\r\n                }}\r\n              >\r\n                Got it\r\n              </button>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nfunction Stem({ item, subject = null, isReview = false }) {\r\n  const passageContent =\r\n    typeof item.passage === 'string' ? item.passage.trim() : '';\r\n  const questionContent =\r\n    typeof (item.questionText || item.question) === 'string'\r\n      ? (item.questionText || item.question).trim()\r\n      : '';\r\n\r\n  const displaySource =\r\n    (item?.asset && item.asset.displaySource) ||\r\n    item.displaySource ||\r\n    item.source ||\r\n    '';\r\n\r\n  return (\r\n    <div className=\"stem space-y-4\">\r\n      {item.stimulusImage?.src &&\r\n        (() => {\r\n          const resolved = resolveAssetUrl(item.stimulusImage.src, subject);\r\n          return resolved ? (\r\n            <div className=\"mb-3\">\r\n              <img\r\n                src={resolved}\r\n                alt={item.stimulusImage.alt || 'stimulus'}\r\n                className=\"max-w-full rounded-md shadow\"\r\n                loading=\"lazy\"\r\n                style={{ border: '1px solid var(--border-subtle)' }}\r\n              />\r\n            </div>\r\n          ) : null;\r\n        })()}\r\n\r\n      {passageContent && (\r\n        <div\r\n          className=\"question-stem block\"\r\n          dangerouslySetInnerHTML={{\r\n            __html: sanitizeHtmlContent(passageContent, {\r\n              normalizeSpacing: true,\r\n              subject,\r\n              trustedHtml: item.isPremade === true,\r\n            }),\r\n          }}\r\n        />\r\n      )}\r\n\r\n      {questionContent && (\r\n        <div className=\"mt-2\">\r\n          <div\r\n            className=\"question-stem block font-bold text-slate-900\"\r\n            dangerouslySetInnerHTML={renderQuestionTextForDisplay(\r\n              questionContent,\r\n              item.isPremade === true\r\n            )}\r\n          />\r\n        </div>\r\n      )}\r\n\r\n      {displaySource && (\r\n        <div className=\"mt-2 text-xs opacity-70\">Source: {displaySource}</div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction QuizInterface({\r\n  questions,\r\n  answers,\r\n  setAnswers,\r\n  onComplete,\r\n  buttonText,\r\n  quizTitle,\r\n  onExit,\r\n  timeLimit,\r\n  subject,\r\n  showTimer = true,\r\n  quizConfig,\r\n  article = null,\r\n  articleImage = null,\r\n  practiceMode = null, // 'standard' | 'timed' | 'olympics'\r\n}) {\r\n  const [currentIndex, setCurrentIndex] = useState(0);\r\n  const [marked, setMarked] = useState(Array(questions.length).fill(false));\r\n  const [confidence, setConfidence] = useState(\r\n    Array(questions.length).fill(null)\r\n  );\r\n  const [timeLeft, setTimeLeft] = useState(timeLimit || questions.length * 90);\r\n  const [isPaused, setIsPaused] = useState(false);\r\n  const [pausesRemaining, setPausesRemaining] = useState(2);\r\n  const handleSubmitRef = useRef(() => {});\r\n  const [showMathFormulas, setShowMathFormulas] = useState(false);\r\n  const [showScienceFormulas, setShowScienceFormulas] = useState(false);\r\n  const [showArticle, setShowArticle] = useState(Boolean(article));\r\n  const toolPanelRef = useRef(null);\r\n  const toolInstanceRef = useRef(null);\r\n  const toolTypeRef = useRef(null); // 'graph' | 'geometry' | null\r\n\r\n  // Olympics mode state\r\n  const isOlympicsMode = practiceMode === 'olympics';\r\n  const [livesRemaining, setLivesRemaining] = useState(3);\r\n  const [olympicsHistory, setOlympicsHistory] = useState([]);\r\n  const [totalAnswered, setTotalAnswered] = useState(0);\r\n  const [totalCorrect, setTotalCorrect] = useState(0);\r\n  const [totalWrong, setTotalWrong] = useState(0);\r\n  const [olympicsFinished, setOlympicsFinished] = useState(false);\r\n  const [showingExplanation, setShowingExplanation] = useState(false);\r\n  const [lastAnswerCorrect, setLastAnswerCorrect] = useState(null);\r\n\r\n  useEffect(() => {\r\n    setTimeLeft(timeLimit || questions.length * 90);\r\n    setIsPaused(false);\r\n    setPausesRemaining(2);\r\n  }, [questions, timeLimit]);\r\n\r\n  useEffect(() => {\r\n    setShowArticle(Boolean(article));\r\n  }, [article]);\r\n\r\n  useEffect(() => {\r\n    if (isOlympicsMode) return; // No timer for Olympics mode\r\n    if (!onComplete || isPaused) return; // Don't run timer if there's no completion action (e.g., in a part of a larger quiz)\r\n    const timer = setInterval(() => {\r\n      setTimeLeft((prev) => {\r\n        if (prev <= 1) {\r\n          clearInterval(timer);\r\n          handleSubmitRef.current?.();\r\n          return 0;\r\n        }\r\n        return prev - 1;\r\n      });\r\n    }, 1000);\r\n    return () => clearInterval(timer);\r\n  }, [onComplete, isPaused, isOlympicsMode]);\r\n\r\n  const handleSelect = (optionText) => {\r\n    const newAnswers = [...answers];\r\n    newAnswers[currentIndex] = optionText;\r\n    setAnswers(newAnswers);\r\n  };\r\n\r\n  const handleInputChange = (e) => {\r\n    const newAnswers = [...answers];\r\n    newAnswers[currentIndex] = e.target.value;\r\n    setAnswers(newAnswers);\r\n  };\r\n\r\n  const handleConfidenceSelect = (level) => {\r\n    const newConfidence = [...confidence];\r\n    newConfidence[currentIndex] = level;\r\n    setConfidence(newConfidence);\r\n  };\r\n\r\n  const handleSubmit = useCallback(() => {\r\n    if (isOlympicsMode) {\r\n      // Olympics mode: finish and show summary\r\n      onComplete({\r\n        answers,\r\n        marked,\r\n        confidence,\r\n        olympicsMode: true,\r\n        olympicsHistory,\r\n        totalAnswered,\r\n        totalCorrect,\r\n        totalWrong,\r\n        livesRemaining,\r\n      });\r\n    } else {\r\n      onComplete({ answers, marked, confidence });\r\n    }\r\n  }, [\r\n    answers,\r\n    marked,\r\n    onComplete,\r\n    confidence,\r\n    isOlympicsMode,\r\n    olympicsHistory,\r\n    totalAnswered,\r\n    totalCorrect,\r\n    totalWrong,\r\n    livesRemaining,\r\n  ]);\r\n\r\n  // Olympics mode: check answer correctness\r\n  const checkOlympicsAnswer = useCallback(\r\n    (questionIndex) => {\r\n      const q = questions[questionIndex];\r\n      const userAnswer = answers[questionIndex];\r\n\r\n      if (\r\n        !q ||\r\n        userAnswer === null ||\r\n        userAnswer === undefined ||\r\n        userAnswer === ''\r\n      ) {\r\n        return false;\r\n      }\r\n\r\n      // Check if multiple choice\r\n      if (Array.isArray(q.answerOptions) && q.answerOptions.length > 0) {\r\n        const correctOption = q.answerOptions.find((opt) => opt.isCorrect);\r\n        return correctOption && correctOption.text === userAnswer;\r\n      } else {\r\n        // Fill-in-the-blank: simple string comparison for now\r\n        const normalize = (val) => (val ?? '').toString().trim().toLowerCase();\r\n        return normalize(q.correctAnswer) === normalize(userAnswer);\r\n      }\r\n    },\r\n    [questions, answers]\r\n  );\r\n\r\n  // Olympics mode: handle submitting current question\r\n  const handleOlympicsQuestionSubmit = useCallback(() => {\r\n    if (!isOlympicsMode) return;\r\n    if (showingExplanation) {\r\n      // Move to next question after viewing explanation\r\n      setShowingExplanation(false);\r\n      setLastAnswerCorrect(null);\r\n\r\n      if (currentIndex < questions.length - 1) {\r\n        setCurrentIndex((prev) => prev + 1);\r\n      } else {\r\n        // No more questions, end session\r\n        handleSubmit();\r\n      }\r\n      return;\r\n    }\r\n\r\n    const isCorrect = checkOlympicsAnswer(currentIndex);\r\n    const currentQ = questions[currentIndex];\r\n\r\n    // Record in history\r\n    const historyEntry = {\r\n      questionId: currentQ.id || currentIndex,\r\n      subject: currentQ.subject || subject || 'Unknown',\r\n      topic: currentQ.topic || currentQ.area || null,\r\n      premadeQuizId: currentQ.originQuizId || currentQ.quizId || null,\r\n      premadeQuizTitle: currentQ.originQuizTitle || currentQ.quizTitle || null,\r\n      correct: isCorrect,\r\n    };\r\n\r\n    setOlympicsHistory((prev) => [...prev, historyEntry]);\r\n    setTotalAnswered((prev) => prev + 1);\r\n\r\n    if (isCorrect) {\r\n      setTotalCorrect((prev) => prev + 1);\r\n    } else {\r\n      setTotalWrong((prev) => prev + 1);\r\n      setLivesRemaining((prev) => prev - 1);\r\n    }\r\n\r\n    setLastAnswerCorrect(isCorrect);\r\n    setShowingExplanation(true);\r\n\r\n    // Check if lives ran out\r\n    if (!isCorrect && livesRemaining <= 1) {\r\n      // Will end after showing explanation\r\n      setTimeout(() => {\r\n        handleSubmit();\r\n      }, 100);\r\n    }\r\n  }, [\r\n    isOlympicsMode,\r\n    showingExplanation,\r\n    currentIndex,\r\n    questions,\r\n    checkOlympicsAnswer,\r\n    livesRemaining,\r\n    handleSubmit,\r\n    subject,\r\n  ]);\r\n\r\n  useEffect(() => {\r\n    handleSubmitRef.current = handleSubmit;\r\n  }, [handleSubmit]);\r\n\r\n  const handlePauseToggle = () => {\r\n    if (isPaused) {\r\n      setIsPaused(false);\r\n      return;\r\n    }\r\n    if (pausesRemaining > 0) {\r\n      setIsPaused(true);\r\n      setPausesRemaining((prev) => prev - 1);\r\n    }\r\n  };\r\n\r\n  const formatTime = (seconds) => {\r\n    const safeSeconds = Math.max(0, seconds);\r\n    return `${Math.floor(safeSeconds / 60)}:${(safeSeconds % 60)\r\n      .toString()\r\n      .padStart(2, '0')}`;\r\n  };\r\n  const currentQ = questions[currentIndex];\r\n  if (!currentQ) return <div>Loading question...</div>;\r\n\r\n  const isFillInTheBlank =\r\n    currentQ.type === 'fill-in-the-blank' ||\r\n    currentQ.type === 'fillIn' ||\r\n    !currentQ.answerOptions ||\r\n    currentQ.answerOptions.length === 0;\r\n\r\n  // TEMPORARY: disable interactive math tool mounting entirely\r\n  const TOOL_PANEL_ENABLED = true;\r\n\r\n  // Precompute if the question would need a tool (ignored when flag is false)\r\n  const hasGraphDataForRender = Boolean(\r\n    currentQ &&\r\n      (currentQ.graphSpec || currentQ.graphData || currentQ.coordinatePlane)\r\n  );\r\n  const hasGeometryDataForRender = Boolean(currentQ && currentQ.geometrySpec);\r\n  const needsToolPanel = Boolean(\r\n    currentQ &&\r\n      (currentQ.useGraphTool ||\r\n        currentQ.useGeometryTool ||\r\n        hasGraphDataForRender ||\r\n        hasGeometryDataForRender)\r\n  );\r\n\r\n  const subjectForRender = currentQ.subject || subject || 'Default';\r\n  const quizSubject = subject || 'Default';\r\n  const formulaSheetEnabled = true;\r\n  const canShowMathFormulas = formulaSheetEnabled && quizSubject === 'Math';\r\n  const canShowScienceFormulas =\r\n    formulaSheetEnabled && quizSubject === 'Science';\r\n  const subjectColors = SUBJECT_COLORS[subjectForRender] || {};\r\n  const scheme = { ...DEFAULT_COLOR_SCHEME, ...subjectColors };\r\n  const timerStyle =\r\n    timeLeft <= 60\r\n      ? { backgroundColor: scheme.timerLowBg, color: scheme.timerLowText }\r\n      : {\r\n          backgroundColor: scheme.timerDefaultBg,\r\n          color: scheme.timerDefaultText,\r\n        };\r\n\r\n  // Interactive tool mounting lifecycle\r\n  useEffect(() => {\r\n    const panel = toolPanelRef.current;\r\n    // Cleanup helper\r\n    const destroyTool = () => {\r\n      try {\r\n        toolInstanceRef.current?.destroy?.();\r\n      } catch {}\r\n      toolInstanceRef.current = null;\r\n      toolTypeRef.current = null;\r\n      if (panel) panel.innerHTML = '';\r\n    };\r\n\r\n    // Hard-off flag: don't render or import any tool\r\n    if (!TOOL_PANEL_ENABLED) {\r\n      destroyTool();\r\n      if (panel) {\r\n        try {\r\n          panel.style.display = 'none';\r\n          panel.setAttribute('aria-hidden', 'true');\r\n        } catch {}\r\n      }\r\n      return;\r\n    }\r\n\r\n    if (!panel || !currentQ) {\r\n      destroyTool();\r\n      return;\r\n    }\r\n\r\n    const hasGraphData =\r\n      currentQ &&\r\n      (currentQ.graphSpec || currentQ.graphData || currentQ.coordinatePlane);\r\n    const hasGeometryData = currentQ && currentQ.geometrySpec;\r\n\r\n    const wantsGraph =\r\n      Boolean(currentQ && currentQ.useGraphTool) || Boolean(hasGraphData);\r\n    const wantsGeometry =\r\n      !wantsGraph &&\r\n      (Boolean(currentQ && currentQ.useGeometryTool) ||\r\n        Boolean(hasGeometryData));\r\n    const nextType = wantsGraph ? 'graph' : wantsGeometry ? 'geometry' : null;\r\n\r\n    // Nothing to mount for this question\r\n    if (!nextType) {\r\n      destroyTool();\r\n      // Hide panel if no tool is needed\r\n      try {\r\n        panel.style.display = 'none';\r\n        panel.setAttribute('aria-hidden', 'true');\r\n      } catch {}\r\n      return;\r\n    }\r\n\r\n    // If the same tool type is already mounted, just keep it\r\n    if (toolInstanceRef.current && toolTypeRef.current === nextType) {\r\n      return;\r\n    }\r\n\r\n    // Replace any existing tool\r\n    destroyTool();\r\n    panel.innerHTML = '';\r\n    // Ensure panel is visible when we're mounting a tool\r\n    try {\r\n      panel.style.display = '';\r\n      panel.removeAttribute('aria-hidden');\r\n    } catch {}\r\n\r\n    // Ensure container has a reasonable height for canvases\r\n    panel.style.minHeight = '320px';\r\n\r\n    // Dynamically import modules served from /frontend\r\n    (async () => {\r\n      try {\r\n        if (!TOOL_PANEL_ENABLED) return;\r\n        if (nextType === 'graph') {\r\n          const mod = await import('/graphing/GraphCanvas.js');\r\n          const mount = mod && mod.mount;\r\n          const unmount = mod && mod.unmount;\r\n          const GraphCanvas = mod && (mod.default || mod.GraphCanvas);\r\n          const payload = {\r\n            graphSpec:\r\n              (currentQ &&\r\n                (currentQ.graphSpec ||\r\n                  currentQ.graphData ||\r\n                  currentQ.coordinatePlane)) ||\r\n              null,\r\n          };\r\n          if (typeof mount === 'function') {\r\n            mount(panel, payload);\r\n            toolInstanceRef.current = {\r\n              destroy: () => {\r\n                try {\r\n                  unmount && unmount(panel);\r\n                } catch {}\r\n              },\r\n            };\r\n            toolTypeRef.current = 'graph';\r\n          } else if (typeof GraphCanvas === 'function') {\r\n            toolInstanceRef.current = new GraphCanvas(panel, {\r\n              spec: payload.graphSpec,\r\n            });\r\n            toolTypeRef.current = 'graph';\r\n          }\r\n        } else if (nextType === 'geometry') {\r\n          const mod = await import('/geometry/GeometryCanvas.js');\r\n          const mount = mod && mod.mount;\r\n          const unmount = mod && mod.unmount;\r\n          const GeometryCanvas = mod && (mod.default || mod.GeometryCanvas);\r\n          const payload = {\r\n            geometrySpec: (currentQ && currentQ.geometrySpec) || null,\r\n          };\r\n          if (typeof mount === 'function') {\r\n            mount(panel, payload);\r\n            toolInstanceRef.current = {\r\n              destroy: () => {\r\n                try {\r\n                  unmount && unmount(panel);\r\n                } catch {}\r\n              },\r\n            };\r\n            toolTypeRef.current = 'geometry';\r\n          } else if (typeof GeometryCanvas === 'function') {\r\n            toolInstanceRef.current = new GeometryCanvas(panel, {\r\n              spec: payload.geometrySpec,\r\n            });\r\n            toolTypeRef.current = 'geometry';\r\n          }\r\n        }\r\n      } catch (e) {\r\n        console.warn(\r\n          '[tool-panel] failed to mount tool:',\r\n          nextType,\r\n          e?.message || e\r\n        );\r\n      }\r\n    })();\r\n\r\n    // Cleanup on unmount or question change\r\n    return () => {\r\n      destroyTool();\r\n    };\r\n  }, [\r\n    currentIndex,\r\n    currentQ && currentQ.useGraphTool,\r\n    currentQ && currentQ.useGeometryTool,\r\n  ]);\r\n\r\n  return (\r\n    <div className=\"fade-in\">\r\n      {canShowMathFormulas && showMathFormulas && (\r\n        <FormulaSheetModal onClose={() => setShowMathFormulas(false)} />\r\n      )}\r\n      {canShowScienceFormulas && showScienceFormulas && (\r\n        <ScienceFormulaSheet onClose={() => setShowScienceFormulas(false)} />\r\n      )}\r\n      <div\r\n        className=\"quiz-panel rounded-2xl p-4 sm:p-6 shadow-lg\"\r\n        data-subject={quizSubject}\r\n        style={{\r\n          backgroundColor: scheme.surface,\r\n          border: `1px solid ${scheme.surfaceBorder}`,\r\n        }}\r\n      >\r\n        {(showTimer || isOlympicsMode) && (\r\n          <header\r\n            className=\"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between pb-4 mb-4\"\r\n            style={{ borderBottom: `1px solid ${scheme.divider}` }}\r\n          >\r\n            {onExit && (\r\n              <button\r\n                onClick={onExit}\r\n                className=\"flex items-center gap-1 text-sm font-semibold hover:underline\"\r\n                style={{ color: scheme.mutedText }}\r\n              >\r\n                <ArrowLeftIcon /> Back\r\n              </button>\r\n            )}\r\n            <h2\r\n              className=\"flex-1 text-center text-xl font-bold exam-title\"\r\n              style={{ color: scheme.text }}\r\n            >\r\n              {quizTitle}\r\n            </h2>\r\n            <div className=\"flex flex-col sm:items-end gap-2\">\r\n              {isOlympicsMode ? (\r\n                <>\r\n                  {/* Olympics mode display */}\r\n                  <div className=\"flex items-center gap-3 text-sm font-medium\">\r\n                    <span style={{ color: scheme.text }}>Olympics</span>\r\n                    <span className=\"text-base\">\r\n                      {'?'.repeat(livesRemaining)}\r\n                      {'?'.repeat(3 - livesRemaining)}\r\n                    </span>\r\n                    <span\r\n                      style={{ color: scheme.mutedText }}\r\n                      className=\"opacity-80\"\r\n                    >\r\n                      Questions: {totalAnswered}\r\n                    </span>\r\n                  </div>\r\n                  {showingExplanation && lastAnswerCorrect !== null && (\r\n                    <div\r\n                      className={`mt-2 px-4 py-2 rounded-lg text-sm font-medium ${\r\n                        lastAnswerCorrect\r\n                          ? 'bg-green-100 dark:bg-green-900/30 text-green-800 dark:text-green-200 border border-green-300 dark:border-green-700'\r\n                          : 'bg-red-100 dark:bg-red-900/30 text-red-800 dark:text-red-200 border border-red-300 dark:border-red-700'\r\n                      }`}\r\n                    >\r\n                      {lastAnswerCorrect ? '? Correct!' : '? Incorrect'}\r\n                      {!lastAnswerCorrect &&\r\n                        livesRemaining > 0 &&\r\n                        '  Lives remaining: ' + livesRemaining}\r\n                    </div>\r\n                  )}\r\n                </>\r\n              ) : (\r\n                <>\r\n                  {/* Standard/Timed mode timer */}\r\n                  <div\r\n                    className=\"flex items-center gap-2 rounded-full px-3 py-1 font-mono text-lg font-semibold\"\r\n                    style={timerStyle}\r\n                  >\r\n                    <span role=\"img\" aria-label=\"timer\">\r\n                      \r\n                    </span>\r\n                    <span>{formatTime(timeLeft)}</span>\r\n                    {isPaused && (\r\n                      <span\r\n                        className=\"text-xs uppercase tracking-wide\"\r\n                        style={{ color: scheme.mutedText }}\r\n                      >\r\n                        Paused\r\n                      </span>\r\n                    )}\r\n                  </div>\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={handlePauseToggle}\r\n                      disabled={!isPaused && pausesRemaining === 0}\r\n                      className=\"rounded-md px-3 py-1 text-sm font-semibold transition-colors\"\r\n                      style={\r\n                        isPaused\r\n                          ? {\r\n                              backgroundColor: 'var(--success-bg)',\r\n                              color: 'var(--success-text)',\r\n                              border: '1px solid var(--success-border)',\r\n                            }\r\n                          : {\r\n                              backgroundColor: scheme.accent,\r\n                              color: scheme.accentText,\r\n                              border: `1px solid ${scheme.accent}`,\r\n                            }\r\n                      }\r\n                    >\r\n                      {isPaused ? 'Resume Timer' : 'Pause Timer'}\r\n                    </button>\r\n                    <span\r\n                      className=\"text-xs\"\r\n                      style={{ color: scheme.mutedText }}\r\n                    >\r\n                      {pausesRemaining} pause{pausesRemaining === 1 ? '' : 's'}{' '}\r\n                      left\r\n                    </span>\r\n                  </div>\r\n                </>\r\n              )}\r\n              {formulaSheetEnabled && (\r\n                <div className=\"flex flex-wrap justify-end gap-2\">\r\n                  {canShowMathFormulas && (\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={() => setShowMathFormulas(true)}\r\n                      className=\"rounded-md px-3 py-1.5 text-sm font-semibold shadow-sm transition\"\r\n                      data-role=\"secondary\"\r\n                      style={{\r\n                        color: scheme.accentText,\r\n                        borderColor: scheme.accent,\r\n                      }}\r\n                    >\r\n                      View Formula Sheet\r\n                    </button>\r\n                  )}\r\n                  {canShowScienceFormulas && (\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={() => setShowScienceFormulas(true)}\r\n                      className=\"rounded-md px-3 py-1.5 text-sm font-semibold shadow-sm transition\"\r\n                      data-role=\"secondary\"\r\n                      style={{\r\n                        color: 'var(--danger-text)',\r\n                        borderColor: 'var(--danger-border)',\r\n                      }}\r\n                    >\r\n                      View Science Formula Sheet\r\n                    </button>\r\n                  )}\r\n                </div>\r\n              )}\r\n            </div>\r\n          </header>\r\n        )}\r\n\r\n        {article && (\r\n          <div className=\"ged-split-view h-[calc(100vh-140px)] overflow-hidden mb-6\">\r\n            <div className=\"passage-pane overflow-y-auto p-6 border-r border-subtle bg-white dark:bg-slate-900\">\r\n              <div className=\"flex flex-col gap-2 mb-4\">\r\n                <h3\r\n                  className=\"text-lg font-semibold\"\r\n                  style={{ color: scheme.text }}\r\n                >\r\n                  ?? Reading Passage\r\n                </h3>\r\n                {article.genre && (\r\n                  <p\r\n                    className=\"text-xs uppercase tracking-wide\"\r\n                    style={{ color: scheme.mutedText }}\r\n                  >\r\n                    {article.genre}\r\n                  </p>\r\n                )}\r\n              </div>\r\n              <div className=\"space-y-3 text-sm leading-relaxed\">\r\n                {article.title && (\r\n                  <h4\r\n                    className=\"text-base font-bold\"\r\n                    style={{ color: scheme.text }}\r\n                    dangerouslySetInnerHTML={{\r\n                      __html: sanitizeHtmlContent(article.title, {\r\n                        normalizeSpacing: true,\r\n                        subject: subject,\r\n                      }),\r\n                    }}\r\n                  />\r\n                )}\r\n                {(article.imageUrl || articleImage) &&\r\n                  (() => {\r\n                    const rawImg = article.imageUrl || articleImage;\r\n                    const imgSrc = resolveAssetUrl(rawImg, subject);\r\n                    return imgSrc ? (\r\n                      <img\r\n                        src={imgSrc}\r\n                        alt={\r\n                          article.imageAlt ||\r\n                          article.title ||\r\n                          'Reading passage illustration'\r\n                        }\r\n                        className=\"max-h-40 w-full rounded-lg object-cover\"\r\n                        style={{ border: '1px solid var(--border-subtle)' }}\r\n                      />\r\n                    ) : null;\r\n                  })()}\r\n                {(article.text || []).map((paragraph, index) => (\r\n                  <p\r\n                    key={index}\r\n                    className=\"text-sm\"\r\n                    style={{ color: scheme.text }}\r\n                    dangerouslySetInnerHTML={{\r\n                      __html: sanitizeHtmlContent(paragraph, {\r\n                        normalizeSpacing: true,\r\n                        subject: subject,\r\n                      }),\r\n                    }}\r\n                  />\r\n                ))}\r\n              </div>\r\n            </div>\r\n            <div className=\"question-pane overflow-y-auto p-6\">\r\n              <div className=\"mb-4 flex flex-wrap gap-2 quiz-nav\">\r\n                {!isOlympicsMode &&\r\n                  questions.map((_, i) => {\r\n                    const isActive = i === currentIndex;\r\n                    const isAnswered = Boolean(answers[i]);\r\n                    const navStyle = isActive\r\n                      ? {\r\n                          backgroundColor: scheme.background,\r\n                          color: scheme.onBackgroundText,\r\n                        }\r\n                      : isAnswered\r\n                      ? {\r\n                          backgroundColor: scheme.navAnsweredBg,\r\n                          color: scheme.navAnsweredText,\r\n                        }\r\n                      : {\r\n                          backgroundColor: scheme.navDefaultBg,\r\n                          color: scheme.navDefaultText,\r\n                        };\r\n                    if (marked[i]) {\r\n                      navStyle.boxShadow = `0 0 0 2px ${scheme.navMarkedRing}`;\r\n                    }\r\n                    return (\r\n                      <button\r\n                        key={i}\r\n                        onClick={() => setCurrentIndex(i)}\r\n                        className=\"h-8 w-8 rounded-full text-sm font-bold transition\"\r\n                        style={navStyle}\r\n                      >\r\n                        {i + 1}\r\n                      </button>\r\n                    );\r\n                  })}\r\n              </div>\r\n\r\n              <div\r\n                className=\"question-container rounded-xl p-4 sm:p-6 shadow-inner\"\r\n                data-subject={quizSubject}\r\n                style={{\r\n                  border: `1px solid ${scheme.surfaceBorder}`,\r\n                  backgroundColor: scheme.surfaceStrong || scheme.surface,\r\n                }}\r\n              >\r\n                <div className=\"mb-4\">\r\n                  <div className=\"flex items-start gap-3\">\r\n                    <span\r\n                      className=\"text-xl font-semibold leading-relaxed\"\r\n                      style={{ color: scheme.text }}\r\n                    >\r\n                      {currentQ.questionNumber ?? currentIndex + 1}.\r\n                    </span>\r\n                    <Stem item={currentQ} subject={selectedSubject} />\r\n                  </div>\r\n                </div>\r\n                {(() => {\r\n                  const rawImgSrc =\r\n                    !currentQ.stimulusImage?.src && currentQ.imageUrl\r\n                      ? currentQ.imageUrl\r\n                      : null;\r\n                  const imgSrc = resolveAssetUrl(rawImgSrc, selectedSubject);\r\n                  return imgSrc ? (\r\n                    <img\r\n                      src={imgSrc}\r\n                      alt={`Visual for question ${currentQ.questionNumber}`}\r\n                      className=\"my-4 h-auto max-w-full rounded-md\"\r\n                      style={{ border: `1px solid ${scheme.surfaceBorder}` }}\r\n                    />\r\n                  ) : null;\r\n                })()}\r\n                {GEOMETRY_FIGURES_ENABLED && currentQ.geometrySpec && (\r\n                  <div\r\n                    className=\"my-4 mx-auto max-w-md rounded-md p-4 shadow-sm bg-white text-black dark:bg-slate-900 dark:text-slate-100\"\r\n                    style={{ border: `1px solid ${scheme.surfaceBorder}` }}\r\n                  >\r\n                    <GeometryFigure\r\n                      spec={currentQ.geometrySpec}\r\n                      className=\"w-full h-auto\"\r\n                    />\r\n                  </div>\r\n                )}\r\n\r\n                {/* Interactive tool panel (conditionally rendered; disabled via flag) */}\r\n                {TOOL_PANEL_ENABLED && needsToolPanel && (\r\n                  <div\r\n                    id=\"interactive-tool-panel\"\r\n                    ref={toolPanelRef}\r\n                    className=\"quiz-tool-panel my-4 rounded-lg\"\r\n                    role=\"region\"\r\n                    aria-label=\"Interactive math tool\"\r\n                    style={{\r\n                      backgroundColor: scheme.surface,\r\n                      border: `1px dashed ${scheme.surfaceBorder}`,\r\n                      padding: '0.75rem',\r\n                    }}\r\n                  />\r\n                )}\r\n\r\n                {isFillInTheBlank ? (\r\n                  <div>\r\n                    <label\r\n                      htmlFor=\"fill-in-blank-answer\"\r\n                      className=\"mb-1 block text-sm font-medium\"\r\n                      style={{ color: scheme.mutedText }}\r\n                    >\r\n                      Enter your answer:\r\n                    </label>\r\n                    <input\r\n                      id=\"fill-in-blank-answer\"\r\n                      type=\"text\"\r\n                      value={answers[currentIndex] || ''}\r\n                      onChange={handleInputChange}\r\n                      placeholder=\"Type your answer here\"\r\n                      disabled={isOlympicsMode && showingExplanation}\r\n                      className=\"w-full max-w-sm rounded-lg p-3 focus:outline-none\"\r\n                      style={{\r\n                        border: `1px solid ${scheme.inputBorder}`,\r\n                        color: 'var(--text-primary)',\r\n                        opacity: isOlympicsMode && showingExplanation ? 0.6 : 1,\r\n                      }}\r\n                    />\r\n                  </div>\r\n                ) : (\r\n                  <div className=\"space-y-3\">\r\n                    {(currentQ.answerOptions || []).map((opt, i) => {\r\n                      const cleanedOptionText = opt.text\r\n                        .trim()\r\n                        .replace(/^\\$\\$/, '$');\r\n                      const isSelected = answers[currentIndex] === opt.text;\r\n                      const optionStyles = {};\r\n                      if (isSelected) {\r\n                        optionStyles.backgroundColor = scheme.optionSelectedBg;\r\n                        optionStyles.borderColor = scheme.optionSelectedBorder;\r\n                        optionStyles.color = scheme.accentText;\r\n                      }\r\n                      const optionClassNames = [\r\n                        'option',\r\n                        'answer-option',\r\n                        'w-full',\r\n                        'text-left',\r\n                        'transition',\r\n                      ];\r\n                      if (isSelected) {\r\n                        optionClassNames.push('selected');\r\n                      }\r\n                      return (\r\n                        <button\r\n                          key={i}\r\n                          onClick={() => handleSelect(opt.text)}\r\n                          disabled={isOlympicsMode && showingExplanation}\r\n                          className={optionClassNames.join(' ')}\r\n                          style={{\r\n                            ...optionStyles,\r\n                            opacity:\r\n                              isOlympicsMode && showingExplanation ? 0.6 : 1,\r\n                            cursor:\r\n                              isOlympicsMode && showingExplanation\r\n                                ? 'not-allowed'\r\n                                : 'pointer',\r\n                          }}\r\n                        >\r\n                          <span\r\n                            className=\"flex-grow text-left\"\r\n                            style={{ color: 'var(--text-primary)' }}\r\n                          >\r\n                            <span className=\"mr-2 font-bold\">\r\n                              {String.fromCharCode(65 + i)}.\r\n                            </span>\r\n                            <span\r\n                              className=\"question-stem\"\r\n                              dangerouslySetInnerHTML={renderQuestionTextForDisplay(\r\n                                cleanedOptionText,\r\n                                currentQ.isPremade === true\r\n                              )}\r\n                            />\r\n                          </span>\r\n                        </button>\r\n                      );\r\n                    })}\r\n                  </div>\r\n                )}\r\n              </div>\r\n\r\n              <div className=\"mt-6 flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between\">\r\n                {isOlympicsMode ? (\r\n                  <>\r\n                    {/* Olympics mode controls */}\r\n                    <button\r\n                      onClick={handleSubmit}\r\n                      className=\"rounded-md px-4 py-2 font-semibold transition bg-amber-100 dark:bg-amber-900/30 border border-amber-300 dark:border-amber-700 text-amber-900 dark:text-amber-200 hover:bg-amber-200 dark:hover:bg-amber-900/50\"\r\n                    >\r\n                      End Olympics Session\r\n                    </button>\r\n                    <div className=\"flex-1\"></div>\r\n                    {showingExplanation ? (\r\n                      <button\r\n                        onClick={handleOlympicsQuestionSubmit}\r\n                        className=\"rounded-md px-6 py-2 font-semibold\"\r\n                        data-role=\"primary\"\r\n                        style={{\r\n                          backgroundColor: scheme.accent,\r\n                          color: scheme.accentText,\r\n                          borderColor: scheme.accent,\r\n                        }}\r\n                      >\r\n                        {currentIndex === questions.length - 1 ||\r\n                        livesRemaining === 0\r\n                          ? 'View Summary'\r\n                          : 'Next Question'}\r\n                      </button>\r\n                    ) : (\r\n                      <button\r\n                        onClick={handleOlympicsQuestionSubmit}\r\n                        disabled={!answers[currentIndex]}\r\n                        className=\"rounded-md px-6 py-2 font-semibold transition\"\r\n                        data-role=\"primary\"\r\n                        style={{\r\n                          backgroundColor: answers[currentIndex]\r\n                            ? scheme.accent\r\n                            : '#9ca3af',\r\n                          color: scheme.accentText,\r\n                          borderColor: answers[currentIndex]\r\n                            ? scheme.accent\r\n                            : '#9ca3af',\r\n                          opacity: answers[currentIndex] ? 1 : 0.6,\r\n                          cursor: answers[currentIndex]\r\n                            ? 'pointer'\r\n                            : 'not-allowed',\r\n                        }}\r\n                      >\r\n                        Submit Answer\r\n                      </button>\r\n                    )}\r\n                  </>\r\n                ) : (\r\n                  <>\r\n                    {/* Standard mode controls */}\r\n                    <button\r\n                      onClick={() => setCurrentIndex((p) => Math.max(0, p - 1))}\r\n                      disabled={currentIndex === 0}\r\n                      className=\"rounded-md px-4 py-2 font-semibold transition\"\r\n                      data-role=\"secondary\"\r\n                      style={{\r\n                        borderColor: scheme.surfaceBorder,\r\n                        color: scheme.mutedText,\r\n                        opacity: currentIndex === 0 ? 0.6 : 1,\r\n                      }}\r\n                    >\r\n                      Previous\r\n                    </button>\r\n                    <button\r\n                      onClick={() =>\r\n                        setMarked((m) => {\r\n                          const newM = [...m];\r\n                          newM[currentIndex] = !newM[currentIndex];\r\n                          return newM;\r\n                        })\r\n                      }\r\n                      className=\"rounded-md px-4 py-2 font-semibold transition\"\r\n                      style={\r\n                        marked[currentIndex]\r\n                          ? {\r\n                              backgroundColor: scheme.navMarkedRing,\r\n                              color: scheme.onBackgroundText,\r\n                              border: `1px solid ${scheme.navMarkedRing}`,\r\n                            }\r\n                          : {\r\n                              backgroundColor: scheme.navDefaultBg,\r\n                              color: scheme.navDefaultText,\r\n                              border: `1px solid ${scheme.navDefaultBg}`,\r\n                            }\r\n                      }\r\n                    >\r\n                      {marked[currentIndex] ? 'Unmark' : 'Mark'} for Review\r\n                    </button>\r\n                    {currentIndex === questions.length - 1 ? (\r\n                      <button\r\n                        onClick={handleSubmit}\r\n                        className=\"rounded-md px-4 py-2 font-semibold\"\r\n                        data-role=\"primary\"\r\n                        style={{\r\n                          backgroundColor: scheme.accent,\r\n                          color: scheme.accentText,\r\n                          borderColor: scheme.accent,\r\n                        }}\r\n                      >\r\n                        {buttonText || 'Finish'}\r\n                      </button>\r\n                    ) : (\r\n                      <button\r\n                        onClick={() =>\r\n                          setCurrentIndex((p) =>\r\n                            Math.min(questions.length - 1, p + 1)\r\n                          )\r\n                        }\r\n                        className=\"rounded-md px-4 py-2 font-semibold\"\r\n                        data-role=\"primary\"\r\n                        style={{\r\n                          backgroundColor: scheme.accent,\r\n                          color: scheme.accentText,\r\n                          borderColor: scheme.accent,\r\n                        }}\r\n                      >\r\n                        Next\r\n                      </button>\r\n                    )}\r\n                  </>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        )}\r\n\r\n        {!article && (\r\n          <div>\r\n            <div className=\"mb-4 flex flex-wrap gap-2 quiz-nav\">\r\n              {!isOlympicsMode &&\r\n                questions.map((_, i) => {\r\n                  const isActive = i === currentIndex;\r\n                  const isAnswered = Boolean(answers[i]);\r\n                  const navStyle = isActive\r\n                    ? {\r\n                        backgroundColor: scheme.background,\r\n                        color: scheme.onBackgroundText,\r\n                      }\r\n                    : isAnswered\r\n                    ? {\r\n                        backgroundColor: scheme.navAnsweredBg,\r\n                        color: scheme.navAnsweredText,\r\n                      }\r\n                    : {\r\n                        backgroundColor: scheme.navDefaultBg,\r\n                        color: scheme.navDefaultText,\r\n                      };\r\n                  if (marked[i]) {\r\n                    navStyle.boxShadow = `0 0 0 2px ${scheme.navMarkedRing}`;\r\n                  }\r\n                  return (\r\n                    <button\r\n                      key={i}\r\n                      onClick={() => setCurrentIndex(i)}\r\n                      className=\"h-8 w-8 rounded-full text-sm font-bold transition\"\r\n                      style={navStyle}\r\n                    >\r\n                      {i + 1}\r\n                    </button>\r\n                  );\r\n                })}\r\n            </div>\r\n\r\n            <div\r\n              className=\"question-container rounded-xl p-4 sm:p-6 shadow-inner\"\r\n              data-subject={quizSubject}\r\n              style={{\r\n                border: `1px solid ${scheme.surfaceBorder}`,\r\n                backgroundColor: scheme.surfaceStrong || scheme.surface,\r\n              }}\r\n            >\r\n              <div className=\"mb-4\">\r\n                <div className=\"flex items-start gap-3\">\r\n                  <span\r\n                    className=\"text-xl font-semibold leading-relaxed\"\r\n                    style={{ color: scheme.text }}\r\n                  >\r\n                    {currentQ.questionNumber ?? currentIndex + 1}.\r\n                  </span>\r\n                  <Stem item={currentQ} subject={subject} />\r\n                </div>\r\n              </div>\r\n              {(() => {\r\n                const rawImgSrc =\r\n                  !currentQ.stimulusImage?.src && currentQ.imageUrl\r\n                    ? currentQ.imageUrl\r\n                    : null;\r\n                const imgSrc = resolveAssetUrl(rawImgSrc, subject);\r\n                return imgSrc ? (\r\n                  <img\r\n                    src={imgSrc}\r\n                    alt={`Visual for question ${currentQ.questionNumber}`}\r\n                    className=\"my-4 h-auto max-w-full rounded-md\"\r\n                    style={{ border: `1px solid ${scheme.surfaceBorder}` }}\r\n                  />\r\n                ) : null;\r\n              })()}\r\n              {GEOMETRY_FIGURES_ENABLED && currentQ.geometrySpec && (\r\n                <div\r\n                  className=\"my-4 mx-auto max-w-md rounded-md p-4 shadow-sm bg-white text-black dark:bg-slate-900 dark:text-slate-100\"\r\n                  style={{ border: `1px solid ${scheme.surfaceBorder}` }}\r\n                >\r\n                  <GeometryFigure\r\n                    spec={currentQ.geometrySpec}\r\n                    className=\"w-full h-auto\"\r\n                  />\r\n                </div>\r\n              )}\r\n\r\n              {/* Interactive tool panel (conditionally rendered; disabled via flag) */}\r\n              {TOOL_PANEL_ENABLED && needsToolPanel && (\r\n                <div\r\n                  id=\"interactive-tool-panel\"\r\n                  ref={toolPanelRef}\r\n                  className=\"quiz-tool-panel my-4 rounded-lg\"\r\n                  role=\"region\"\r\n                  aria-label=\"Interactive math tool\"\r\n                  style={{\r\n                    backgroundColor: scheme.surface,\r\n                    border: `1px dashed ${scheme.surfaceBorder}`,\r\n                    padding: '0.75rem',\r\n                  }}\r\n                />\r\n              )}\r\n\r\n              {isFillInTheBlank ? (\r\n                <div>\r\n                  <label\r\n                    htmlFor=\"fill-in-blank-answer\"\r\n                    className=\"mb-1 block text-sm font-medium\"\r\n                    style={{ color: scheme.mutedText }}\r\n                  >\r\n                    Enter your answer:\r\n                  </label>\r\n                  <input\r\n                    id=\"fill-in-blank-answer\"\r\n                    type=\"text\"\r\n                    value={answers[currentIndex] || ''}\r\n                    onChange={handleInputChange}\r\n                    placeholder=\"Type your answer here\"\r\n                    disabled={isOlympicsMode && showingExplanation}\r\n                    className=\"w-full max-w-sm rounded-lg p-3 focus:outline-none\"\r\n                    style={{\r\n                      border: `1px solid ${scheme.inputBorder}`,\r\n                      color: 'var(--text-primary)',\r\n                      opacity: isOlympicsMode && showingExplanation ? 0.6 : 1,\r\n                    }}\r\n                  />\r\n                </div>\r\n              ) : (\r\n                <div className=\"space-y-3\">\r\n                  {(currentQ.answerOptions || []).map((opt, i) => {\r\n                    const cleanedOptionText = stripHtmlTag(opt.text || '');\r\n                    const isSelected = answers[currentIndex] === opt.text;\r\n                    const optionStyle = isSelected\r\n                      ? {\r\n                          backgroundColor: scheme.optionSelectedBg,\r\n                          border: `2px solid ${scheme.optionSelectedBorder}`,\r\n                          color: scheme.optionSelectedText,\r\n                        }\r\n                      : {\r\n                          backgroundColor: scheme.optionDefaultBg,\r\n                          border: `1px solid ${scheme.optionDefaultBorder}`,\r\n                          color: scheme.optionDefaultText,\r\n                        };\r\n                    return (\r\n                      <button\r\n                        key={i}\r\n                        onClick={() => handleSelect(opt.text)}\r\n                        disabled={isOlympicsMode && showingExplanation}\r\n                        className=\"flex w-full items-center gap-2 rounded-lg p-3 text-left transition\"\r\n                        style={{\r\n                          ...optionStyle,\r\n                          cursor:\r\n                            isOlympicsMode && showingExplanation\r\n                              ? 'not-allowed'\r\n                              : 'pointer',\r\n                        }}\r\n                      >\r\n                        <span\r\n                          className=\"flex-grow text-left\"\r\n                          style={{ color: 'var(--text-primary)' }}\r\n                        >\r\n                          <span className=\"mr-2 font-bold\">\r\n                            {String.fromCharCode(65 + i)}.\r\n                          </span>\r\n                          <span\r\n                            className=\"question-stem\"\r\n                            dangerouslySetInnerHTML={renderQuestionTextForDisplay(\r\n                              cleanedOptionText,\r\n                              currentQ.isPremade === true\r\n                            )}\r\n                          />\r\n                        </span>\r\n                      </button>\r\n                    );\r\n                  })}\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"mt-6 flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between\">\r\n              {isOlympicsMode ? (\r\n                <>\r\n                  {/* Olympics mode controls */}\r\n                  <button\r\n                    onClick={handleSubmit}\r\n                    className=\"rounded-md px-4 py-2 font-semibold transition bg-amber-100 dark:bg-amber-900/30 border border-amber-300 dark:border-amber-700 text-amber-900 dark:text-amber-200 hover:bg-amber-200 dark:hover:bg-amber-900/50\"\r\n                  >\r\n                    End Olympics Session\r\n                  </button>\r\n                  <div className=\"flex-1\"></div>\r\n                  {showingExplanation ? (\r\n                    <button\r\n                      onClick={handleOlympicsQuestionSubmit}\r\n                      className=\"rounded-md px-6 py-2 font-semibold\"\r\n                      data-role=\"primary\"\r\n                      style={{\r\n                        backgroundColor: scheme.accent,\r\n                        color: scheme.accentText,\r\n                        borderColor: scheme.accent,\r\n                      }}\r\n                    >\r\n                      {currentIndex === questions.length - 1 ||\r\n                      livesRemaining === 0\r\n                        ? 'View Summary'\r\n                        : 'Next Question'}\r\n                    </button>\r\n                  ) : (\r\n                    <button\r\n                      onClick={handleOlympicsQuestionSubmit}\r\n                      disabled={!answers[currentIndex] && !hasNoOptions}\r\n                      className=\"rounded-md px-6 py-2 font-semibold\"\r\n                      data-role=\"primary\"\r\n                      style={{\r\n                        backgroundColor: scheme.accent,\r\n                        color: scheme.accentText,\r\n                        borderColor: scheme.accent,\r\n                        opacity:\r\n                          !answers[currentIndex] && !hasNoOptions ? 0.6 : 1,\r\n                      }}\r\n                    >\r\n                      Submit Answer\r\n                    </button>\r\n                  )}\r\n                </>\r\n              ) : (\r\n                <>\r\n                  {/* Standard mode controls */}\r\n                  <button\r\n                    onClick={() => setCurrentIndex((p) => Math.max(0, p - 1))}\r\n                    disabled={currentIndex === 0}\r\n                    className=\"rounded-md px-4 py-2 font-semibold transition\"\r\n                    data-role=\"secondary\"\r\n                    style={{\r\n                      borderColor: scheme.surfaceBorder,\r\n                      color: scheme.mutedText,\r\n                      opacity: currentIndex === 0 ? 0.6 : 1,\r\n                    }}\r\n                  >\r\n                    Previous\r\n                  </button>\r\n                  <button\r\n                    onClick={() =>\r\n                      setMarked((m) => {\r\n                        const newM = [...m];\r\n                        newM[currentIndex] = !newM[currentIndex];\r\n                        return newM;\r\n                      })\r\n                    }\r\n                    className=\"rounded-md px-4 py-2 font-semibold transition\"\r\n                    style={\r\n                      marked[currentIndex]\r\n                        ? {\r\n                            backgroundColor: scheme.navMarkedRing,\r\n                            color: scheme.onBackgroundText,\r\n                            border: `1px solid ${scheme.navMarkedRing}`,\r\n                          }\r\n                        : {\r\n                            backgroundColor: scheme.navDefaultBg,\r\n                            color: scheme.navDefaultText,\r\n                            border: `1px solid ${scheme.navDefaultBg}`,\r\n                          }\r\n                    }\r\n                  >\r\n                    {marked[currentIndex] ? 'Unmark' : 'Mark'} for Review\r\n                  </button>\r\n                  {currentIndex === questions.length - 1 ? (\r\n                    <button\r\n                      onClick={handleSubmit}\r\n                      className=\"rounded-md px-4 py-2 font-semibold\"\r\n                      data-role=\"primary\"\r\n                      style={{\r\n                        backgroundColor: scheme.accent,\r\n                        color: scheme.accentText,\r\n                        borderColor: scheme.accent,\r\n                      }}\r\n                    >\r\n                      {buttonText || 'Finish'}\r\n                    </button>\r\n                  ) : (\r\n                    <button\r\n                      onClick={() =>\r\n                        setCurrentIndex((p) =>\r\n                          Math.min(questions.length - 1, p + 1)\r\n                        )\r\n                      }\r\n                      className=\"rounded-md px-4 py-2 font-semibold\"\r\n                      data-role=\"primary\"\r\n                      style={{\r\n                        backgroundColor: scheme.accent,\r\n                        color: scheme.accentText,\r\n                        borderColor: scheme.accent,\r\n                      }}\r\n                    >\r\n                      Next\r\n                    </button>\r\n                  )}\r\n                </>\r\n              )}\r\n            </div>\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction StandardQuizRunner({ quiz, onComplete, onExit }) {\r\n  const questions = quiz.questions || [];\r\n  const [answers, setAnswers] = useState(Array(questions.length).fill(null));\r\n\r\n  // --- Math Answer Normalization & Equivalence Helpers (Fill-in-the-Blank) ---\r\n  // Lightweight parser supporting: fractions (a/b), mixed numbers (a b/c), ratios (a:b), percents (50%), currency ($1,050.25),\r\n  // comma-separated multi answers (\"18,19\"), decimals, integers, tolerating whitespace & leading zeros.\r\n  const MATH_EQUIV = {\r\n    // Configurable numeric tolerance for float comparisons\r\n    EPS: 1e-9,\r\n    // Percent decimal conversion regex\r\n    PERCENT_RE: /^[-+]?\\d+(?:\\.\\d+)?%$/,\r\n    // Currency detection\r\n    CURRENCY_RE: /^\\$\\s*[-+]?\\d{1,3}(?:,\\d{3})*(?:\\.\\d+)?$/,\r\n    // Fraction (simple) a/b\r\n    FRACTION_RE: /^[-+]?\\d+\\s*\\/\\s*\\d+$/,\r\n    // Mixed number: a b/c (allow sign on first part)\r\n    MIXED_RE: /^[-+]?\\d+\\s+\\d+\\s*\\/\\s*\\d+$/,\r\n    // Ratio a:b (integers only)\r\n    RATIO_RE: /^[-+]?\\d+\\s*:\\s*[-+]?\\d+$/,\r\n    // Multi-answer list separated by comma\r\n    MULTI_SPLIT_RE: /\\s*,\\s*/,\r\n  };\r\n\r\n  const normalizeRaw = (val) => {\r\n    if (val === null || val === undefined) return '';\r\n    return String(val)\r\n      .replace(/\\u00A0/g, ' ') // non-breaking space\r\n      .replace(/\\s+/g, ' ') // collapse internal whitespace\r\n      .trim();\r\n  };\r\n\r\n  const stripCurrency = (s) => s.replace(/^\\$/, '').replace(/,/g, '');\r\n  const parseFraction = (s) => {\r\n    const [a, b] = s.split('/').map((t) => t.trim());\r\n    const num = Number(a),\r\n      den = Number(b);\r\n    if (!Number.isFinite(num) || !Number.isFinite(den) || den === 0)\r\n      return null;\r\n    return num / den;\r\n  };\r\n  const parseMixed = (s) => {\r\n    const parts = s.split(/\\s+/);\r\n    if (parts.length < 2) return null;\r\n    const whole = Number(parts[0]);\r\n    const frac = parseFraction(parts.slice(1).join(' '));\r\n    if (frac === null || !Number.isFinite(whole)) return null;\r\n    return whole >= 0 ? whole + frac : whole - frac; // sign on whole applies\r\n  };\r\n  const parsePercent = (s) => {\r\n    const num = Number(s.replace('%', ''));\r\n    return Number.isFinite(num) ? num / 100 : null;\r\n  };\r\n  const parseCurrency = (s) => {\r\n    const num = Number(stripCurrency(s));\r\n    return Number.isFinite(num) ? num : null;\r\n  };\r\n  const parseRatio = (s) => {\r\n    const [a, b] = s.split(':').map((t) => t.trim());\r\n    const na = Number(a),\r\n      nb = Number(b);\r\n    if (!Number.isFinite(na) || !Number.isFinite(nb) || nb === 0) return null;\r\n    return na / nb;\r\n  };\r\n\r\n  const parsePercentWord = (s) => {\r\n    const m = s.match(/([-+]?\\d+(?:\\.\\d+)?)\\s*percent\\b/i);\r\n    if (!m) return null;\r\n    const num = Number(m[1]);\r\n    return Number.isFinite(num) ? num / 100 : null;\r\n  };\r\n\r\n  const extractInlineFraction = (s) => {\r\n    const m = s.match(/[-+]?\\d+\\s*\\/\\s*[-+]?\\d+/);\r\n    if (!m) return null;\r\n    return parseFraction(m[0]);\r\n  };\r\n\r\n  const extractInlineRatioTo = (s) => {\r\n    const m = s.match(/([-+]?\\d+)\\s+to\\s+([-+]?\\d+)/i);\r\n    if (!m) return null;\r\n    const na = Number(m[1]);\r\n    const nb = Number(m[2]);\r\n    if (!Number.isFinite(na) || !Number.isFinite(nb) || nb === 0) return null;\r\n    return na / nb;\r\n  };\r\n\r\n  const extractInlineNumber = (s) => {\r\n    const m = s.match(/[-+]?\\d+(?:,\\d{3})*(?:\\.\\d+)?/);\r\n    if (!m) return null;\r\n    const num = Number(m[0].replace(/,/g, ''));\r\n    return Number.isFinite(num) ? num : null;\r\n  };\r\n\r\n  const numericValue = (raw) => {\r\n    const s = normalizeRaw(raw);\r\n    if (!s) return null;\r\n\r\n    // If this looks like a multi-answer list (comma-separated) that is not currency/thousands, skip numeric parsing\r\n    const looksLikeList =\r\n      s.includes(',') &&\r\n      !MATH_EQUIV.CURRENCY_RE.test(s) &&\r\n      !/^[-+]?\\d{1,3}(?:,\\d{3})*(?:\\.\\d+)?$/.test(s);\r\n    if (looksLikeList) return null;\r\n\r\n    if (MATH_EQUIV.PERCENT_RE.test(s)) return parsePercent(s);\r\n    if (MATH_EQUIV.CURRENCY_RE.test(s)) return parseCurrency(s);\r\n    if (MATH_EQUIV.MIXED_RE.test(s)) return parseMixed(s);\r\n    if (MATH_EQUIV.FRACTION_RE.test(s)) return parseFraction(s);\r\n    if (MATH_EQUIV.RATIO_RE.test(s)) return parseRatio(s);\r\n    const percentWord = parsePercentWord(s);\r\n    if (percentWord !== null) return percentWord;\r\n    const inlineFrac = extractInlineFraction(s);\r\n    if (inlineFrac !== null) return inlineFrac;\r\n    const inlineRatio = extractInlineRatioTo(s);\r\n    if (inlineRatio !== null) return inlineRatio;\r\n    // plain number (allow commas)\r\n    const plain = s.replace(/,/g, '');\r\n    const num = Number(plain);\r\n    if (Number.isFinite(num)) return num;\r\n\r\n    // Last resort: pull the first standalone number token from text (e.g., \"9 cups\", \"20 hours\")\r\n    const inlineNumber = extractInlineNumber(s);\r\n    return inlineNumber !== null ? inlineNumber : null;\r\n  };\r\n\r\n  // Produce canonical string tokens for multi-answer sets (order-insensitive) or single answer.\r\n  const canonicalTokens = (raw) => {\r\n    const s = normalizeRaw(raw);\r\n    if (!s) return [];\r\n    // Multi-answer if comma present\r\n    if (s.includes(',')) {\r\n      return s\r\n        .split(MATH_EQUIV.MULTI_SPLIT_RE)\r\n        .filter(Boolean)\r\n        .map((t) => normalizeRaw(t));\r\n    }\r\n    return [s];\r\n  };\r\n\r\n  const areTokenSetsEqual = (expTokens, userTokens) => {\r\n    if (expTokens.length !== userTokens.length) return false;\r\n    const a = [...expTokens].sort();\r\n    const b = [...userTokens].sort();\r\n    return a.every((v, i) => v === b[i]);\r\n  };\r\n\r\n  const isNumericEqual = (a, b) => {\r\n    const na = numericValue(a);\r\n    const nb = numericValue(b);\r\n    if (na === null || nb === null) return false;\r\n    return Math.abs(na - nb) < MATH_EQUIV.EPS;\r\n  };\r\n\r\n  const isEquivalentAnswer = (expected, user) => {\r\n    const e = normalizeRaw(expected);\r\n    const u = normalizeRaw(user);\r\n    if (!e || !u) return false;\r\n    if (e === u) return true; // exact match quick path\r\n    // Numeric equivalence (covers fraction/decimal/percent/ratio/currency)\r\n    if (isNumericEqual(e, u)) return true;\r\n    // Multi-answer comparison (e.g. \"18,19\" vs \"19,18\")\r\n    if (e.includes(',') || u.includes(',')) {\r\n      return areTokenSetsEqual(canonicalTokens(e), canonicalTokens(u));\r\n    }\r\n    // Ratio vs fraction equivalence: treat ratio numeric already handled by numericValue\r\n    return false;\r\n  };\r\n\r\n  // Helper: check if a fill-in question is correct\r\n  const checkFillInQuestionCorrect = (q, userAns) => {\r\n    return isEquivalentAnswer(q.correctAnswer, userAns);\r\n  };\r\n\r\n  const handleComplete = (result) => {\r\n    // 1) helper: normalize text\r\n    const normalizeText = (val) => (val ?? '').toString().trim().toLowerCase();\r\n\r\n    // 2) compute earned/possible with weights, all-or-nothing\r\n    let earnedPoints = 0;\r\n    let possiblePoints = 0;\r\n\r\n    (quiz.questions || []).forEach((q, idx) => {\r\n      const pts = typeof q.points === 'number' && q.points > 0 ? q.points : 1;\r\n      possiblePoints += pts;\r\n\r\n      const userAns = result.answers[idx];\r\n\r\n      let isCorrect = false;\r\n\r\n      if (Array.isArray(q.answerOptions) && q.answerOptions.length > 0) {\r\n        // multiple-choice / multi-select\r\n        const correctOpts = q.answerOptions.filter((o) => o && o.isCorrect);\r\n        if (correctOpts.length === 1) {\r\n          // single correct\r\n          const correctText = normalizeText(correctOpts[0].text);\r\n          const userText = normalizeText(userAns);\r\n          isCorrect = userText === correctText;\r\n        } else if (correctOpts.length > 1) {\r\n          // multi-correct, all-or-nothing\r\n          const correctSet = correctOpts\r\n            .map((o) => normalizeText(o.text))\r\n            .sort();\r\n          const userSet = (Array.isArray(userAns) ? userAns : [userAns])\r\n            .map((v) => normalizeText(v))\r\n            .filter(Boolean)\r\n            .sort();\r\n          if (userSet.length === correctSet.length) {\r\n            isCorrect = userSet.every((val, i) => val === correctSet[i]);\r\n          } else {\r\n            isCorrect = false;\r\n          }\r\n        }\r\n      } else {\r\n        // fall back to fill-in / math normalization\r\n        isCorrect = checkFillInQuestionCorrect(q, userAns);\r\n      }\r\n\r\n      if (isCorrect) {\r\n        earnedPoints += pts;\r\n      }\r\n    });\r\n\r\n    // 3) percentage from points\r\n    const percentage =\r\n      possiblePoints > 0 ? (earnedPoints / possiblePoints) * 100 : 0;\r\n\r\n    // 4) GED-ish scaling: 3 segments\r\n    let scaledScore;\r\n    if (percentage <= 40) {\r\n      // 040% => 100135\r\n      scaledScore = 100 + (percentage / 40) * 35;\r\n    } else if (percentage <= 65) {\r\n      // 4065% => 135145\r\n      scaledScore = 135 + ((percentage - 40) / 25) * 10;\r\n    } else {\r\n      // 65100% => 145200\r\n      scaledScore = 145 + ((percentage - 65) / 35) * 55;\r\n    }\r\n    scaledScore = Math.round(scaledScore);\r\n\r\n    // 5) pass is still 145\r\n    const passed = scaledScore >= 145;\r\n\r\n    onComplete({\r\n      score: earnedPoints,\r\n      totalQuestions: possiblePoints, // we're using points here\r\n      percentage,\r\n      scaledScore,\r\n      passed,\r\n      answers: result.answers, // include raw answers so ResultsScreen can display them\r\n      subject: quiz.subject,\r\n      marked: result.marked,\r\n      confidence: result.confidence,\r\n      quiz,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <QuizInterface\r\n      questions={questions}\r\n      answers={answers}\r\n      setAnswers={setAnswers}\r\n      onComplete={handleComplete}\r\n      quizTitle={quiz.title}\r\n      onExit={onExit}\r\n      timeLimit={quiz.timeLimit}\r\n      subject={quiz.subject}\r\n      quizConfig={quiz.config}\r\n      article={quiz.article}\r\n      articleImage={quiz.imageUrl}\r\n      practiceMode={quiz.practiceMode}\r\n    />\r\n  );\r\n}\r\n\r\nfunction MultiPartMathRunner({ quiz, onComplete, onExit }) {\r\n  const [part, setPart] = useState(1);\r\n  const [part1Result, setPart1Result] = useState(null);\r\n\r\n  const part1Questions = quiz.questions.slice(0, 5);\r\n  const part2Questions = quiz.questions.slice(5);\r\n\r\n  const [part1Answers, setPart1Answers] = useState(\r\n    Array(part1Questions.length).fill(null)\r\n  );\r\n  const [part2Answers, setPart2Answers] = useState(\r\n    Array(part2Questions.length).fill(null)\r\n  );\r\n\r\n  const handlePart1Complete = (result) => {\r\n    setPart1Result(result);\r\n    setPart('interstitial'); // Go to interstitial screen\r\n  };\r\n\r\n  const handlePart2Complete = (result) => {\r\n    // Defensive merging in case part1Result is null/partial\r\n    const p1 = part1Result || {\r\n      answers: Array(part1Questions.length).fill(null),\r\n      marked: Array(part1Questions.length).fill(false),\r\n      confidence: Array(part1Questions.length).fill(null),\r\n    };\r\n\r\n    const finalAnswers = [...(p1.answers || []), ...(result.answers || [])];\r\n    const finalMarked = [...(p1.marked || []), ...(result.marked || [])];\r\n    const finalConfidence = [\r\n      ...(p1.confidence || []),\r\n      ...(result.confidence || []),\r\n    ];\r\n\r\n    // Robust equivalence (match StandardQuizRunner helpers)\r\n    const normalizeRaw = (val) => {\r\n      if (val === null || val === undefined) return '';\r\n      return String(val)\r\n        .replace(/\\u00A0/g, ' ')\r\n        .replace(/\\s+/g, ' ')\r\n        .trim();\r\n    };\r\n    const numericValue = (raw) => {\r\n      const s = normalizeRaw(raw);\r\n      if (!s) return null;\r\n      if (/^[-+]?\\d+(?:\\.\\d+)?%$/.test(s)) {\r\n        const n = Number(s.replace('%', ''));\r\n        return Number.isFinite(n) ? n / 100 : null;\r\n      }\r\n      if (/^\\$\\s*[-+]?\\d{1,3}(?:,\\d{3})*(?:\\.\\d+)?$/.test(s)) {\r\n        const n = Number(s.replace(/^\\$/, '').replace(/,/g, ''));\r\n        return Number.isFinite(n) ? n : null;\r\n      }\r\n      if (/^[-+]?\\d+\\s+\\d+\\s*\\/\\s*\\d+$/.test(s)) {\r\n        const parts = s.split(/\\s+/);\r\n        const whole = Number(parts[0]);\r\n        const fracParts = parts.slice(1).join(' ').split('/');\r\n        const num = Number(fracParts[0]);\r\n        const den = Number(fracParts[1]);\r\n        if (\r\n          !Number.isFinite(whole) ||\r\n          !Number.isFinite(num) ||\r\n          !Number.isFinite(den) ||\r\n          den === 0\r\n        )\r\n          return null;\r\n        const frac = num / den;\r\n        return whole >= 0 ? whole + frac : whole - frac;\r\n      }\r\n      if (/^[-+]?\\d+\\s*\\/\\s*\\d+$/.test(s)) {\r\n        const [a, b] = s.split('/').map((t) => t.trim());\r\n        const num = Number(a),\r\n          den = Number(b);\r\n        if (!Number.isFinite(num) || !Number.isFinite(den) || den === 0)\r\n          return null;\r\n        return num / den;\r\n      }\r\n      if (/^[-+]?\\d+\\s*:\\s*[-+]?\\d+$/.test(s)) {\r\n        const [a, b] = s.split(':').map((t) => t.trim());\r\n        const na = Number(a),\r\n          nb = Number(b);\r\n        if (!Number.isFinite(na) || !Number.isFinite(nb) || nb === 0)\r\n          return null;\r\n        return na / nb;\r\n      }\r\n      const plain = s.replace(/,/g, '');\r\n      const num = Number(plain);\r\n      return Number.isFinite(num) ? num : null;\r\n    };\r\n    const isNumericEqual = (a, b) => {\r\n      const na = numericValue(a),\r\n        nb = numericValue(b);\r\n      return na !== null && nb !== null && Math.abs(na - nb) < 1e-9;\r\n    };\r\n    const tokenize = (raw) => {\r\n      const s = normalizeRaw(raw);\r\n      if (!s) return [];\r\n      if (s.includes(','))\r\n        return s\r\n          .split(/\\s*,\\s*/)\r\n          .filter(Boolean)\r\n          .map(normalizeRaw);\r\n      return [s];\r\n    };\r\n    const setsEqual = (a, b) => {\r\n      if (a.length !== b.length) return false;\r\n      const sa = [...a].sort();\r\n      const sb = [...b].sort();\r\n      return sa.every((v, i) => v === sb[i]);\r\n    };\r\n\r\n    let score = 0;\r\n    const missing = [];\r\n    quiz.questions.forEach((q, i) => {\r\n      const isFillIn =\r\n        !q.answerOptions ||\r\n        q.answerOptions.length === 0 ||\r\n        q.type === 'fill-in-the-blank';\r\n      if (!isFillIn) {\r\n        const correctOption = q.answerOptions.find((opt) => opt.isCorrect);\r\n        if (correctOption && finalAnswers[i] === correctOption.text) {\r\n          score++;\r\n        }\r\n      } else {\r\n        const user = normalizeRaw(finalAnswers[i]);\r\n        const correct = normalizeRaw(q.correctAnswer);\r\n        if (!user || !correct) {\r\n          if (!correct) missing.push(i + 1);\r\n          return;\r\n        }\r\n        if (\r\n          user === correct ||\r\n          isNumericEqual(user, correct) ||\r\n          setsEqual(tokenize(user), tokenize(correct))\r\n        ) {\r\n          score++;\r\n        }\r\n      }\r\n    });\r\n\r\n    if (missing.length) {\r\n      // Non-spammy single warning per submission with question numbers lacking correctAnswer\r\n      console.warn(\r\n        `[grader] ${\r\n          missing.length\r\n        } fill-in question(s) missing correctAnswer: #${missing.join(', ')}`\r\n      );\r\n    }\r\n\r\n    // New 3-segment scoring system\r\n    // 1) helper: normalize text for MC questions\r\n    const normalizeText = (val) => (val ?? '').toString().trim().toLowerCase();\r\n\r\n    // 2) compute earned/possible with weights, all-or-nothing\r\n    let earnedPoints = 0;\r\n    let possiblePoints = 0;\r\n\r\n    quiz.questions.forEach((q, idx) => {\r\n      const pts = typeof q.points === 'number' && q.points > 0 ? q.points : 1;\r\n      possiblePoints += pts;\r\n\r\n      const userAns = finalAnswers[idx];\r\n      let isCorrect = false;\r\n\r\n      const isFillIn =\r\n        !q.answerOptions ||\r\n        q.answerOptions.length === 0 ||\r\n        q.type === 'fill-in-the-blank';\r\n\r\n      if (!isFillIn) {\r\n        // multiple-choice\r\n        const correctOpts = q.answerOptions.filter((o) => o && o.isCorrect);\r\n        if (correctOpts.length === 1) {\r\n          const correctText = normalizeText(correctOpts[0].text);\r\n          const userText = normalizeText(userAns);\r\n          isCorrect = userText === correctText;\r\n        } else if (correctOpts.length > 1) {\r\n          // multi-correct, all-or-nothing\r\n          const correctSet = correctOpts\r\n            .map((o) => normalizeText(o.text))\r\n            .sort();\r\n          const userSet = (Array.isArray(userAns) ? userAns : [userAns])\r\n            .map((v) => normalizeText(v))\r\n            .filter(Boolean)\r\n            .sort();\r\n          if (userSet.length === correctSet.length) {\r\n            isCorrect = userSet.every((val, i) => val === correctSet[i]);\r\n          }\r\n        }\r\n      } else {\r\n        // fill-in: use existing equivalence logic\r\n        const user = normalizeRaw(userAns);\r\n        const correct = normalizeRaw(q.correctAnswer);\r\n        if (user && correct) {\r\n          isCorrect =\r\n            user === correct ||\r\n            isNumericEqual(user, correct) ||\r\n            setsEqual(tokenize(user), tokenize(correct));\r\n        }\r\n      }\r\n\r\n      if (isCorrect) {\r\n        earnedPoints += pts;\r\n      }\r\n    });\r\n\r\n    // 3) percentage from points\r\n    const percentage =\r\n      possiblePoints > 0 ? (earnedPoints / possiblePoints) * 100 : 0;\r\n\r\n    // 4) GED-ish scaling: 3 segments\r\n    let scaledScore;\r\n    if (percentage <= 40) {\r\n      // 040% => 100135\r\n      scaledScore = 100 + (percentage / 40) * 35;\r\n    } else if (percentage <= 65) {\r\n      // 4065% => 135145\r\n      scaledScore = 135 + ((percentage - 40) / 25) * 10;\r\n    } else {\r\n      // 65100% => 145200\r\n      scaledScore = 145 + ((percentage - 65) / 35) * 55;\r\n    }\r\n    scaledScore = Math.round(scaledScore);\r\n\r\n    // 5) pass is still 145\r\n    const passed = scaledScore >= 145;\r\n\r\n    onComplete({\r\n      score: earnedPoints,\r\n      totalQuestions: possiblePoints,\r\n      percentage,\r\n      scaledScore,\r\n      passed,\r\n      answers: finalAnswers,\r\n      subject: quiz.subject,\r\n      marked: finalMarked,\r\n      confidence: finalConfidence,\r\n      quiz,\r\n    });\r\n  };\r\n\r\n  if (part === 1) {\r\n    return (\r\n      <QuizInterface\r\n        questions={part1Questions}\r\n        answers={part1Answers}\r\n        setAnswers={setPart1Answers}\r\n        onComplete={handlePart1Complete}\r\n        quizTitle=\"Part 1: Non-Calculator Section\"\r\n        buttonText=\"Continue to Part 2\"\r\n        onExit={onExit}\r\n        subject={quiz.subject}\r\n        quizConfig={quiz.config}\r\n      />\r\n    );\r\n  }\r\n\r\n  if (part === 'interstitial') {\r\n    return (\r\n      <div className=\"text-center p-8 fade-in\">\r\n        <h2 className=\"text-2xl font-bold mb-4\">\r\n          You have completed the non-calculator section.\r\n        </h2>\r\n        <p className=\"text-lg mb-6\">\r\n          You may now use a calculator for the remainder of the test.\r\n        </p>\r\n        <button\r\n          onClick={() => setPart(2)}\r\n          className=\"px-8 py-3 bg-sky-600 text-white font-bold rounded-lg\"\r\n        >\r\n          Start Part 2\r\n        </button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  if (part === 2) {\r\n    return (\r\n      <QuizInterface\r\n        questions={part2Questions}\r\n        answers={part2Answers}\r\n        setAnswers={setPart2Answers}\r\n        onComplete={handlePart2Complete}\r\n        quizTitle=\"Part 2: Calculator-Permitted Section\"\r\n        buttonText=\"Finish Exam\"\r\n        onExit={onExit}\r\n        subject={quiz.subject}\r\n        quizConfig={quiz.config}\r\n      />\r\n    );\r\n  }\r\n\r\n  return null;\r\n}\r\n\r\nfunction QuizRunner({ quiz, onComplete, onExit }) {\r\n  console.log('QuizRunner received quiz:', quiz); // Debugging line\r\n  if (!quiz) return <div className=\"text-center p-8\">Loading quiz...</div>;\r\n\r\n  switch (quiz.type) {\r\n    case 'multi-part-math':\r\n      return (\r\n        <MultiPartMathRunner\r\n          quiz={quiz}\r\n          onComplete={onComplete}\r\n          onExit={onExit}\r\n        />\r\n      );\r\n    case 'multi-part-rla':\r\n      // The existing MultiPartRlaRunner can be used as is for now\r\n      return (\r\n        <MultiPartRlaRunner\r\n          quiz={quiz}\r\n          onComplete={onComplete}\r\n          onExit={onExit}\r\n        />\r\n      );\r\n    default:\r\n      return (\r\n        <StandardQuizRunner\r\n          quiz={quiz}\r\n          onComplete={onComplete}\r\n          onExit={onExit}\r\n        />\r\n      );\r\n  }\r\n}\r\n\r\nfunction MultiPartRlaRunner({ quiz, onComplete, onExit }) {\r\n  const [currentPart, setCurrentPart] = useState(1);\r\n  const [isPaused, setIsPaused] = useState(false);\r\n  const [timeLeft, setTimeLeft] = useState(0);\r\n  const [pausesRemaining, setPausesRemaining] = useState(2);\r\n\r\n  const PART_TIMES = { 1: 35 * 60, 2: 45 * 60, 3: 70 * 60 };\r\n\r\n  const [part1Answers, setPart1Answers] = useState(\r\n    Array(quiz.part1_reading.length).fill(null)\r\n  );\r\n  const [part3Answers, setPart3Answers] = useState(\r\n    Array(quiz.part3_language.length).fill(null)\r\n  );\r\n  const [essayText, setEssayText] = useState('');\r\n  const [isScoring, setIsScoring] = useState(false);\r\n  const [essayScore, setEssayScore] = useState(null);\r\n  const [part1Result, setPart1Result] = useState(null);\r\n\r\n  useEffect(() => {\r\n    setTimeLeft(PART_TIMES[currentPart]);\r\n    setIsPaused(false);\r\n    setPausesRemaining(2);\r\n  }, [currentPart]);\r\n\r\n  useEffect(() => {\r\n    if (isPaused || timeLeft <= 0) return;\r\n    const timerId = setInterval(() => setTimeLeft((t) => t - 1), 1000);\r\n    return () => clearInterval(timerId);\r\n  }, [isPaused, timeLeft]);\r\n\r\n  const handlePauseToggle = () => {\r\n    if (isPaused) {\r\n      setIsPaused(false);\r\n      return;\r\n    }\r\n    if (pausesRemaining > 0) {\r\n      setIsPaused(true);\r\n      setPausesRemaining((prev) => prev - 1);\r\n    }\r\n  };\r\n\r\n  const formatTime = (seconds) =>\r\n    `${Math.floor(Math.max(0, seconds) / 60)}:${(Math.max(0, seconds) % 60)\r\n      .toString()\r\n      .padStart(2, '0')}`;\r\n\r\n  const handlePart1Complete = (result) => {\r\n    setPart1Result(result);\r\n    setCurrentPart(2);\r\n  };\r\n\r\n  const handlePart2Complete = async () => {\r\n    if (isScoring) return;\r\n    const result = await handleScoreEssay();\r\n    if (!result) return;\r\n    setCurrentPart(3);\r\n  };\r\n\r\n  const handleFinalSubmit = (part3Result) => {\r\n    const part1Questions = quiz.part1_reading || [];\r\n    const part3Questions = quiz.part3_language || [];\r\n\r\n    const part1Data = part1Result || {\r\n      answers: part1Answers,\r\n      marked: Array(part1Questions.length).fill(false),\r\n      confidence: Array(part1Questions.length).fill(null),\r\n    };\r\n\r\n    const part3Data = part3Result || {\r\n      answers: part3Answers,\r\n      marked: Array(part3Questions.length).fill(false),\r\n      confidence: Array(part3Questions.length).fill(null),\r\n    };\r\n\r\n    const combinedAnswers = [\r\n      ...(part1Data.answers || part1Answers),\r\n      ...(part3Data.answers || part3Answers),\r\n    ];\r\n\r\n    const combinedMarked = [\r\n      ...(part1Data.marked || Array(part1Questions.length).fill(false)),\r\n      ...(part3Data.marked || Array(part3Questions.length).fill(false)),\r\n    ];\r\n\r\n    const combinedConfidence = [\r\n      ...(part1Data.confidence || Array(part1Questions.length).fill(null)),\r\n      ...(part3Data.confidence || Array(part3Questions.length).fill(null)),\r\n    ];\r\n\r\n    const part1Correct = part1Questions.reduce((count, question, index) => {\r\n      const correctOption = (question.answerOptions || []).find(\r\n        (opt) => opt.isCorrect\r\n      );\r\n      return (\r\n        count +\r\n        (correctOption &&\r\n        correctOption.text === (part1Data.answers?.[index] ?? null)\r\n          ? 1\r\n          : 0)\r\n      );\r\n    }, 0);\r\n\r\n    const part3Correct = part3Questions.reduce((count, question, index) => {\r\n      const correctOption = (question.answerOptions || []).find(\r\n        (opt) => opt.isCorrect\r\n      );\r\n      return (\r\n        count +\r\n        (correctOption &&\r\n        correctOption.text === (part3Data.answers?.[index] ?? null)\r\n          ? 1\r\n          : 0)\r\n      );\r\n    }, 0);\r\n\r\n    const score = part1Correct + part3Correct;\r\n    const totalQuestions = part1Questions.length + part3Questions.length;\r\n    const multipleChoicePercentage =\r\n      totalQuestions > 0 ? (score / totalQuestions) * 100 : 0;\r\n\r\n    const essayOverallScore =\r\n      typeof essayScore?.overallScore === 'number'\r\n        ? essayScore.overallScore\r\n        : null;\r\n    const essayPercentage =\r\n      essayOverallScore !== null ? (essayOverallScore / 6) * 100 : 0;\r\n\r\n    const finalPercentage =\r\n      multipleChoicePercentage * 0.6 + essayPercentage * 0.4;\r\n    const scaledScore = Math.round(\r\n      finalPercentage < 65\r\n        ? 100 + (finalPercentage / 65) * 44\r\n        : 145 + ((finalPercentage - 65) / 35) * 55\r\n    );\r\n\r\n    const combinedQuestions = [...part1Questions, ...part3Questions];\r\n    const normalizedQuiz = { ...quiz, questions: combinedQuestions };\r\n\r\n    onComplete({\r\n      score,\r\n      totalQuestions,\r\n      scaledScore,\r\n      subject: quiz.subject,\r\n      answers: combinedAnswers,\r\n      marked: combinedMarked,\r\n      confidence: combinedConfidence,\r\n      essayScore,\r\n      multipleChoicePercentage,\r\n      essayPercentage,\r\n      finalPercentage,\r\n      quiz: normalizedQuiz,\r\n    });\r\n  };\r\n\r\n  const handleScoreEssay = async () => {\r\n    if (!essayText.trim()) {\r\n      alert('Please write an essay before continuing.');\r\n      return null;\r\n    }\r\n\r\n    if (isScoring) {\r\n      return essayScore;\r\n    }\r\n\r\n    setIsScoring(true);\r\n    try {\r\n      const token =\r\n        (typeof localStorage !== 'undefined' &&\r\n          localStorage.getItem('appToken')) ||\r\n        null;\r\n      const response = await fetch(`${API_BASE_URL}/api/essay/score`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          ...(token ? { Authorization: `Bearer ${token}` } : {}),\r\n        },\r\n        body: JSON.stringify({ essayText, completion: '5/5' }),\r\n      });\r\n      if (!response.ok) throw new Error('Failed to score essay.');\r\n      const result = await response.json();\r\n      // Accept both normalized and raw Google response formats\r\n      let parsedScore = null;\r\n      if (\r\n        result &&\r\n        result.trait1 &&\r\n        result.trait2 &&\r\n        result.trait3 &&\r\n        typeof result.overallScore === 'number'\r\n      ) {\r\n        parsedScore = result;\r\n      } else if (\r\n        result &&\r\n        result.candidates &&\r\n        result.candidates[0]?.content?.parts?.[0]?.text\r\n      ) {\r\n        let jsonText = result.candidates[0].content.parts[0].text\r\n          .replace(/```json/g, '')\r\n          .replace(/```/g, '')\r\n          .trim();\r\n        parsedScore = JSON.parse(jsonText);\r\n      } else {\r\n        throw new Error('Unexpected essay score format');\r\n      }\r\n      setEssayScore(parsedScore);\r\n      // Fetch challenge suggestions to show to the student\r\n      try {\r\n        const sugRes = await fetch(\r\n          `${API_BASE_URL}/api/challenges/suggestions`,\r\n          {\r\n            headers: {\r\n              ...(token ? { Authorization: `Bearer ${token}` } : {}),\r\n            },\r\n          }\r\n        );\r\n        if (sugRes.ok) {\r\n          const data = await sugRes.json();\r\n          console.log('[Essay] Suggestions:', data);\r\n        }\r\n      } catch (_) {}\r\n      return parsedScore;\r\n    } catch (error) {\r\n      console.error('Error scoring essay:', error);\r\n      const errorResult = { error: 'Sorry, could not score your essay.' };\r\n      setEssayScore(errorResult);\r\n      alert(\r\n        \"We couldn't score your essay automatically, but you can continue to the final section.\"\r\n      );\r\n      return errorResult;\r\n    } finally {\r\n      setIsScoring(false);\r\n    }\r\n  };\r\n\r\n  const renderCurrentPart = () => {\r\n    switch (currentPart) {\r\n      case 1:\r\n        return (\r\n          <div>\r\n            <h3 className=\"text-2xl font-bold mb-4\">\r\n              Part 1: Reading Comprehension\r\n            </h3>\r\n            <QuizInterface\r\n              questions={quiz.part1_reading}\r\n              answers={part1Answers}\r\n              setAnswers={setPart1Answers}\r\n              onComplete={handlePart1Complete}\r\n              quizTitle=\"Part 1: Reading Comprehension\"\r\n              buttonText=\"Continue to Essay\"\r\n              subject={quiz.subject}\r\n              showTimer={false}\r\n              quizConfig={quiz.config}\r\n            />\r\n          </div>\r\n        );\r\n      case 2:\r\n        return (\r\n          <div className=\"essay-wrapper\">\r\n            <h3 className=\"text-2xl font-bold mb-4 subject-accent-heading\">\r\n              Part 2: Extended Response (Essay)\r\n            </h3>\r\n            <div className=\"flex flex-col lg:flex-row gap-4 essay-section\">\r\n              {/* LEFT: passages */}\r\n              <div className=\"lg:w-1/2 space-y-4 max-h-[32rem] overflow-y-auto essay-passage-panel\">\r\n                {(Array.isArray(quiz.part2_essay.passages)\r\n                  ? quiz.part2_essay.passages\r\n                  : []\r\n                )\r\n                  .slice(0, 2)\r\n                  .map((p, idx) => (\r\n                    <div\r\n                      key={idx}\r\n                      className=\"prose passage-section max-w-none bg-slate-50 p-4 rounded-lg passage-card\"\r\n                    >\r\n                      <h4 className=\"question-stem\">\r\n                        {p?.title || `Passage ${idx + 1}`}\r\n                      </h4>\r\n                      {p?.author ? (\r\n                        <p className=\"text-xs text-slate-500 mb-2 essay-author\">\r\n                          by {p.author}\r\n                        </p>\r\n                      ) : null}\r\n                      <div\r\n                        dangerouslySetInnerHTML={{\r\n                          __html: sanitizeHtmlContent(p?.content || '', {\r\n                            normalizeSpacing: true,\r\n                          }),\r\n                        }}\r\n                      />\r\n                    </div>\r\n                  ))}\r\n              </div>\r\n              {/* RIGHT: writing area */}\r\n              <div className=\"lg:w-1/2 flex flex-col essay-right-panel\">\r\n                <h4 className=\"font-bold mb-2 essay-prompt-title\">\r\n                  Essay Prompt:\r\n                </h4>\r\n                <p className=\"mb-2\">{quiz.part2_essay.prompt}</p>\r\n                <textarea\r\n                  className=\"w-full min-h-[24rem] p-2 border rounded flex-1 essay-response-box\"\r\n                  value={essayText}\r\n                  onChange={(e) => setEssayText(e.target.value)}\r\n                  onKeyDown={(e) => {\r\n                    if (e.key === 'Tab') {\r\n                      e.preventDefault();\r\n                      const target = e.target;\r\n                      const start = target.selectionStart;\r\n                      const end = target.selectionEnd;\r\n                      const value = target.value;\r\n                      const insert = '    ';\r\n                      const next =\r\n                        value.slice(0, start) + insert + value.slice(end);\r\n                      setEssayText(next);\r\n                      setTimeout(() => {\r\n                        try {\r\n                          target.selectionStart = target.selectionEnd =\r\n                            start + insert.length;\r\n                        } catch {}\r\n                      }, 0);\r\n                    }\r\n                  }}\r\n                  placeholder=\"Type your essay response here...\"\r\n                />\r\n                <div className=\"mt-4 flex justify-end\">\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={handlePart2Complete}\r\n                    disabled={isScoring}\r\n                    className=\"px-6 py-2 bg-sky-600 text-white font-bold rounded-lg disabled:bg-slate-400 disabled:cursor-not-allowed\"\r\n                  >\r\n                    {isScoring\r\n                      ? 'Scoring Essay...'\r\n                      : 'Continue to Final Section'}\r\n                  </button>\r\n                </div>\r\n                {isScoring && (\r\n                  <p className=\"mt-2 text-sm text-slate-500\">\r\n                    Scoring your essay with AI feedback. Please hold tight...\r\n                  </p>\r\n                )}\r\n              </div>\r\n            </div>\r\n          </div>\r\n        );\r\n      case 3:\r\n        return (\r\n          <div>\r\n            <h3 className=\"text-2xl font-bold mb-4\">\r\n              Part 3: Language &amp; Grammar\r\n            </h3>\r\n            <QuizInterface\r\n              questions={quiz.part3_language}\r\n              answers={part3Answers}\r\n              setAnswers={setPart3Answers}\r\n              onComplete={handleFinalSubmit}\r\n              quizTitle=\"Part 3: Language & Grammar\"\r\n              buttonText=\"Finish Exam\"\r\n              subject={quiz.subject}\r\n              showTimer={false}\r\n              quizConfig={quiz.config}\r\n            />\r\n          </div>\r\n        );\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"fade-in\">\r\n      <header className=\"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between pb-4 mb-4 border-b\">\r\n        <button onClick={onExit} className=\"btn-ghost\">\r\n          <ArrowLeftIcon /> Back\r\n        </button>\r\n        <h2 className=\"text-xl font-bold text-center text-primary flex-1 exam-title\">\r\n          {quiz.title}\r\n        </h2>\r\n        <div className=\"flex flex-col sm:items-end gap-2\">\r\n          <div\r\n            className={`flex items-center gap-2 px-3 py-1 rounded-full font-mono text-lg font-semibold ${\r\n              timeLeft <= 60\r\n                ? 'bg-danger-soft text-danger'\r\n                : 'bg-surface-alt text-secondary'\r\n            }`}\r\n          >\r\n            <span role=\"img\" aria-label=\"timer\">\r\n              ?\r\n            </span>\r\n            <span>{formatTime(timeLeft)}</span>\r\n            {isPaused && (\r\n              <span className=\"text-xs uppercase tracking-wide\">Paused</span>\r\n            )}\r\n          </div>\r\n          <div className=\"flex items-center gap-2\">\r\n            <button\r\n              type=\"button\"\r\n              onClick={handlePauseToggle}\r\n              disabled={!isPaused && pausesRemaining === 0}\r\n              className={`btn-primary text-sm`}\r\n            >\r\n              {isPaused ? 'Resume Timer' : 'Pause Timer'}\r\n            </button>\r\n            <span className=\"text-xs text-secondary\">\r\n              {pausesRemaining} pause{pausesRemaining === 1 ? '' : 's'} left\r\n            </span>\r\n          </div>\r\n        </div>\r\n      </header>\r\n      {isPaused ? (\r\n        <div className=\"text-center p-12 bg-surface-alt rounded-lg\">\r\n          <h2 className=\"text-3xl font-bold\">Exam Paused</h2>\r\n          <button\r\n            onClick={() => setIsPaused(false)}\r\n            className=\"mt-4 btn-primary\"\r\n          >\r\n            Resume\r\n          </button>\r\n        </div>\r\n      ) : (\r\n        renderCurrentPart()\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction ResultsScreen({ results, quiz, onRestart, onHome, onReviewMarked }) {\r\n  const selectedSubject = quiz?.subject || results?.subject || null;\r\n  // Confetti celebration effect\r\n  useEffect(() => {\r\n    const passed =\r\n      results?.passed === true ||\r\n      (results?.scaledScore && results.scaledScore >= 145);\r\n    if (passed) {\r\n      // Check if confetti is available (from CDN or npm)\r\n      const triggerConfetti = () => {\r\n        if (typeof window !== 'undefined' && window.confetti) {\r\n          window.confetti({\r\n            particleCount: 100,\r\n            spread: 70,\r\n            origin: { y: 0.6 },\r\n            colors: ['#22c55e', '#38bdf8', '#fbbf24', '#f472b6', '#a78bfa'],\r\n          });\r\n        }\r\n      };\r\n      // Delay slightly so user sees the results first\r\n      const timeout = setTimeout(triggerConfetti, 300);\r\n      return () => clearTimeout(timeout);\r\n    }\r\n  }, [results]);\r\n\r\n  // Hard guard so we don't crash\r\n  if (!quiz || !results || !Array.isArray(quiz.questions)) {\r\n    return (\r\n      <div className=\"results-screen error\">\r\n        <h2>Results Unavailable</h2>\r\n        <p>We saved your score, but couldn't build the detailed breakdown.</p>\r\n        <button onClick={onHome}>Back to Menu</button>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  // Olympics mode summary screen\r\n  if (results.olympicsMode && results.olympicsHistory) {\r\n    return (\r\n      <div className=\"text-center fade-in results-screen olympics-summary\">\r\n        <div className=\"mb-8\">\r\n          <h2 className=\"text-3xl font-bold text-amber-600 dark:text-amber-400 mb-2\">\r\n            ?? Olympics Session Complete\r\n          </h2>\r\n          {results.livesRemaining === 0 ? (\r\n            <p className=\"text-lg text-gray-700 dark:text-gray-300\">\r\n              You used all 3 lives.\r\n            </p>\r\n          ) : (\r\n            <p className=\"text-lg text-gray-700 dark:text-gray-300\">\r\n              You ended the session with {results.livesRemaining}{' '}\r\n              {results.livesRemaining === 1 ? 'life' : 'lives'} remaining.\r\n            </p>\r\n          )}\r\n        </div>\r\n\r\n        <div className=\"grid grid-cols-1 md:grid-cols-3 gap-4 mb-8 max-w-3xl mx-auto\">\r\n          <div className=\"p-4 rounded-lg bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700\">\r\n            <div className=\"text-3xl font-bold text-blue-600 dark:text-blue-400\">\r\n              {results.totalAnswered}\r\n            </div>\r\n            <div className=\"text-sm text-gray-600 dark:text-gray-400\">\r\n              Questions Completed\r\n            </div>\r\n          </div>\r\n          <div className=\"p-4 rounded-lg bg-green-50 dark:bg-green-900/20 border border-green-200 dark:border-green-700\">\r\n            <div className=\"text-3xl font-bold text-green-600 dark:text-green-400\">\r\n              {results.totalCorrect}\r\n            </div>\r\n            <div className=\"text-sm text-gray-600 dark:text-gray-400\">\r\n              Correct Answers\r\n            </div>\r\n          </div>\r\n          <div className=\"p-4 rounded-lg bg-red-50 dark:bg-red-900/20 border border-red-200 dark:border-red-700\">\r\n            <div className=\"text-3xl font-bold text-red-600 dark:text-red-400\">\r\n              {results.totalWrong}\r\n            </div>\r\n            <div className=\"text-sm text-gray-600 dark:text-gray-400\">\r\n              Incorrect Answers\r\n            </div>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"mb-8 max-w-4xl mx-auto\">\r\n          <h3 className=\"text-xl font-bold mb-4 text-gray-800 dark:text-gray-200\">\r\n            Question History\r\n          </h3>\r\n          <div className=\"overflow-x-auto\">\r\n            <table className=\"w-full border-collapse bg-white dark:bg-gray-800 rounded-lg shadow\">\r\n              <thead>\r\n                <tr className=\"bg-gray-100 dark:bg-gray-700\">\r\n                  <th className=\"px-4 py-2 text-left border-b dark:border-gray-600\">\r\n                    #\r\n                  </th>\r\n                  <th className=\"px-4 py-2 text-left border-b dark:border-gray-600\">\r\n                    Result\r\n                  </th>\r\n                  <th className=\"px-4 py-2 text-left border-b dark:border-gray-600\">\r\n                    Subject\r\n                  </th>\r\n                  <th className=\"px-4 py-2 text-left border-b dark:border-gray-600\">\r\n                    Topic\r\n                  </th>\r\n                  <th className=\"px-4 py-2 text-left border-b dark:border-gray-600\">\r\n                    Source Quiz\r\n                  </th>\r\n                </tr>\r\n              </thead>\r\n              <tbody>\r\n                {results.olympicsHistory.map((entry, index) => (\r\n                  <tr\r\n                    key={index}\r\n                    className=\"border-b dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-700/50\"\r\n                  >\r\n                    <td className=\"px-4 py-2\">{index + 1}</td>\r\n                    <td className=\"px-4 py-2\">\r\n                      <span\r\n                        className={\r\n                          entry.correct\r\n                            ? 'text-green-600 dark:text-green-400'\r\n                            : 'text-red-600 dark:text-red-400'\r\n                        }\r\n                      >\r\n                        {entry.correct ? '?' : '?'}\r\n                      </span>\r\n                    </td>\r\n                    <td className=\"px-4 py-2\">{entry.subject}</td>\r\n                    <td className=\"px-4 py-2\">{entry.topic || ''}</td>\r\n                    <td className=\"px-4 py-2 text-sm\">\r\n                      {entry.premadeQuizTitle || 'Premade Quiz'}\r\n                    </td>\r\n                  </tr>\r\n                ))}\r\n              </tbody>\r\n            </table>\r\n          </div>\r\n        </div>\r\n\r\n        <div className=\"flex flex-col sm:flex-row gap-4 justify-center\">\r\n          <button\r\n            onClick={onHome}\r\n            className=\"px-6 py-3 rounded-lg font-semibold bg-gray-600 hover:bg-gray-700 text-white transition\"\r\n          >\r\n            Return to Practice Menu\r\n          </button>\r\n          {onRestart && (\r\n            <button\r\n              onClick={onRestart}\r\n              className=\"px-6 py-3 rounded-lg font-semibold bg-amber-600 hover:bg-amber-700 text-white transition\"\r\n            >\r\n              Start New Olympics Session\r\n            </button>\r\n          )}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  const safeMarked = Array.isArray(results.marked) ? results.marked : [];\r\n  const safeAnswers = Array.isArray(results.answers) ? results.answers : [];\r\n\r\n  const [suggestions, setSuggestions] = useState([]);\r\n  const [loadingSuggestions, setLoadingSuggestions] = useState(false);\r\n\r\n  useEffect(() => {\r\n    let isActive = true;\r\n    const load = async () => {\r\n      try {\r\n        setLoadingSuggestions(true);\r\n        const token =\r\n          (typeof localStorage !== 'undefined' &&\r\n            localStorage.getItem('appToken')) ||\r\n          null;\r\n        if (!token) {\r\n          setSuggestions([]);\r\n          return;\r\n        }\r\n        const res = await fetch(`${API_BASE_URL}/api/challenges/suggestions`, {\r\n          headers: { Authorization: `Bearer ${token}` },\r\n        });\r\n        if (res.ok) {\r\n          const data = await res.json();\r\n          if (isActive)\r\n            setSuggestions(Array.isArray(data?.items) ? data.items : []);\r\n        }\r\n      } catch (_e) {\r\n        // ignore\r\n      } finally {\r\n        if (isActive) setLoadingSuggestions(false);\r\n      }\r\n    };\r\n    load();\r\n    return () => {\r\n      isActive = false;\r\n    };\r\n  }, []);\r\n\r\n  const prettyLabel = (tag, label) => {\r\n    if (label && typeof label === 'string') return label;\r\n    if (!tag) return 'Unknown';\r\n    const t = String(tag).replace(/[:_\\-]/g, ' ');\r\n    return t.replace(/\\b\\w/g, (m) => m.toUpperCase());\r\n  };\r\n\r\n  const resolveSuggestion = async (id, action) => {\r\n    try {\r\n      const token =\r\n        (typeof localStorage !== 'undefined' &&\r\n          localStorage.getItem('appToken')) ||\r\n        null;\r\n      if (!token) return;\r\n      const res = await fetch(`${API_BASE_URL}/api/challenges/resolve`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          Authorization: `Bearer ${token}`,\r\n        },\r\n        body: JSON.stringify({ suggestion_id: id, action }),\r\n      });\r\n      if (res.ok) {\r\n        setSuggestions((prev) => prev.filter((s) => s.id !== id));\r\n      }\r\n    } catch (_e) {}\r\n  };\r\n  const getPerf = (score) => {\r\n    if (score >= 175)\r\n      return {\r\n        level: 'GED College Ready + Credit',\r\n        color: 'text-info',\r\n      };\r\n    if (score >= 165) return { level: 'GED College Ready', color: 'text-info' };\r\n    if (score >= 145)\r\n      return { level: 'GED Passing Score', color: 'text-success' };\r\n    return { level: 'Keep studying!', color: 'text-warning' };\r\n  };\r\n\r\n  const scaledScore =\r\n    typeof results?.scaledScore === 'number' ? results.scaledScore : 0;\r\n  const performance = getPerf(scaledScore);\r\n  const markedQuestions = quiz.questions.filter(\r\n    (_, index) => !!safeMarked[index]\r\n  );\r\n\r\n  const performanceByCategory = quiz.questions.reduce(\r\n    (acc, question, index) => {\r\n      const type = question.type || 'knowledge'; // Default type if not specified\r\n      if (!acc[type]) {\r\n        acc[type] = { correct: 0, total: 0 };\r\n      }\r\n      acc[type].total++;\r\n      const correctAnswer = question.answerOptions?.find(\r\n        (opt) => opt.isCorrect\r\n      )?.text;\r\n      if (safeAnswers[index] === correctAnswer) {\r\n        acc[type].correct++;\r\n      }\r\n      return acc;\r\n    },\r\n    {}\r\n  );\r\n\r\n  const categoryNames = {\r\n    text: 'Text Analysis',\r\n    image: 'Image/Map Interpretation',\r\n    knowledge: 'Knowledge-Based',\r\n    quote: 'Quote Analysis',\r\n    'cause-effect': 'Cause & Effect',\r\n    'multi-source': 'Multi-Source Analysis',\r\n    analysis: 'Paired Passage Analysis',\r\n    chart: 'Chart/Data Analysis',\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className=\"text-center fade-in results-screen\"\r\n      data-subject={quiz?.subject || ''}\r\n    >\r\n      <h2 className=\"text-3xl font-bold subject-accent-heading\">\r\n        Results: {quiz?.title || 'Completed Quiz'}\r\n      </h2>\r\n      <div className=\"my-6\">\r\n        <p className=\"text-lg text-secondary\">\r\n          Your estimated GED (R) Score is:\r\n        </p>\r\n        <p className={`text-6xl font-bold my-2 ${performance.color}`}>\r\n          {scaledScore}\r\n        </p>\r\n        <p className={`text-2xl font-semibold mb-2 ${performance.color}`}>\r\n          {performance.level}\r\n        </p>\r\n        <p className=\"text-lg text-secondary\">\r\n          {results?.score ?? 0} /{' '}\r\n          {results?.totalQuestions ?? (quiz?.questions?.length || 0)} Correct\r\n        </p>\r\n      </div>\r\n\r\n      {(loadingSuggestions || (suggestions && suggestions.length)) && (\r\n        <div className=\"mt-6 pt-4 border-t max-w-2xl mx-auto text-left\">\r\n          <h3 className=\"text-xl font-bold subject-accent-heading mb-3\">\r\n            Suggested Focus Areas\r\n          </h3>\r\n          {loadingSuggestions && !suggestions.length ? (\r\n            <p className=\"text-sm text-secondary\">Loading suggestions...</p>\r\n          ) : suggestions.length ? (\r\n            <ul className=\"space-y-2\">\r\n              {suggestions.map((s) => (\r\n                <li\r\n                  key={s.id}\r\n                  className=\"flex items-center justify-between gap-3 panel-surface p-3 rounded-lg\"\r\n                >\r\n                  <div>\r\n                    <p className=\"font-semibold text-primary\">\r\n                      {prettyLabel(s.challenge_tag, s.label)}\r\n                    </p>\r\n                    <p className=\"text-xs text-secondary\">\r\n                      {s.suggestion_type === 'add'\r\n                        ? 'Consider adding this challenge to your practice plan.'\r\n                        : 'We think you may be ready to remove this challenge.'}\r\n                    </p>\r\n                  </div>\r\n                  <div className=\"flex items-center gap-2\">\r\n                    <button\r\n                      onClick={() => resolveSuggestion(s.id, 'reject')}\r\n                      className=\"btn-ghost text-sm\"\r\n                    >\r\n                      Dismiss\r\n                    </button>\r\n                    <button\r\n                      onClick={() => resolveSuggestion(s.id, 'accept')}\r\n                      className=\"btn-primary text-sm\"\r\n                    >\r\n                      Accept\r\n                    </button>\r\n                  </div>\r\n                </li>\r\n              ))}\r\n            </ul>\r\n          ) : (\r\n            <p className=\"text-sm text-secondary\">No suggestions right now.</p>\r\n          )}\r\n        </div>\r\n      )}\r\n\r\n      <div className=\"mt-8 pt-6 border-t max-w-lg mx-auto\">\r\n        <h3 className=\"text-xl font-bold subject-accent-heading mb-4\">\r\n          Performance by Category\r\n        </h3>\r\n        <div className=\"space-y-3 text-left\">\r\n          {Object.entries(performanceByCategory).map(([type, data]) => (\r\n            <div key={type} className=\"panel-surface p-3 rounded-lg\">\r\n              <div className=\"flex justify-between items-center\">\r\n                <span className=\"font-semibold text-secondary\">\r\n                  {categoryNames[type] || type}\r\n                </span>\r\n                <span className=\"font-bold text-primary\">\r\n                  {data.correct} / {data.total}\r\n                </span>\r\n              </div>\r\n              <div className=\"w-full bg-surface-alt rounded-full h-2.5 mt-2\">\r\n                <div\r\n                  className=\"bg-primary h-2.5 rounded-full\"\r\n                  style={{ width: `${(data.correct / data.total) * 100}%` }}\r\n                ></div>\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      </div>\r\n\r\n      <div className=\"mt-8 flex justify-center gap-4\">\r\n        <button onClick={onHome} className=\"btn-ghost\">\r\n          Go Home\r\n        </button>\r\n        {markedQuestions.length > 0 && (\r\n          <button\r\n            onClick={() => onReviewMarked(markedQuestions, quiz?.subject)}\r\n            className=\"btn-primary\"\r\n          >\r\n            Review {markedQuestions.length} Marked\r\n          </button>\r\n        )}\r\n        <button onClick={onRestart} className=\"btn-primary\">\r\n          Try Again\r\n        </button>\r\n      </div>\r\n\r\n      <div className=\"mt-8 pt-6 border-t\">\r\n        <h3 className=\"text-xl font-bold subject-accent-heading mb-4\">\r\n          Detailed Question Review\r\n        </h3>\r\n        <div className=\"space-y-4 text-left\">\r\n          {(quiz.questions || []).map((question, index) => {\r\n            const userAnswer = (results.answers || [])[index];\r\n            const correctMC = (question.answerOptions || []).find(\r\n              (opt) => opt.isCorrect\r\n            );\r\n            // Reuse lightweight equivalence logic (mirrors StandardQuizRunner) for display\r\n            const normalizeRaw = (val) => {\r\n              if (val === null || val === undefined) return '';\r\n              return String(val)\r\n                .replace(/\\u00A0/g, ' ')\r\n                .replace(/\\s+/g, ' ')\r\n                .trim();\r\n            };\r\n            const numericValue = (raw) => {\r\n              const s = normalizeRaw(raw);\r\n              if (!s) return null;\r\n              if (/^[-+]?\\d+(?:\\.\\d+)?%$/.test(s)) {\r\n                const n = Number(s.replace('%', ''));\r\n                return Number.isFinite(n) ? n / 100 : null;\r\n              }\r\n              if (/^\\$\\s*[-+]?\\d{1,3}(?:,\\d{3})*(?:\\.\\d+)?$/.test(s)) {\r\n                const n = Number(s.replace(/^\\$/, '').replace(/,/g, ''));\r\n                return Number.isFinite(n) ? n : null;\r\n              }\r\n              if (/^[-+]?\\d+\\s+\\d+\\s*\\/\\s*\\d+$/.test(s)) {\r\n                const parts = s.split(/\\s+/);\r\n                const whole = Number(parts[0]);\r\n                const fracParts = parts.slice(1).join(' ').split('/');\r\n                const num = Number(fracParts[0]);\r\n                const den = Number(fracParts[1]);\r\n                if (\r\n                  !Number.isFinite(whole) ||\r\n                  !Number.isFinite(num) ||\r\n                  !Number.isFinite(den) ||\r\n                  den === 0\r\n                )\r\n                  return null;\r\n                const frac = num / den;\r\n                return whole >= 0 ? whole + frac : whole - frac;\r\n              }\r\n              if (/^[-+]?\\d+\\s*\\/\\s*\\d+$/.test(s)) {\r\n                const [a, b] = s.split('/').map((t) => t.trim());\r\n                const num = Number(a),\r\n                  den = Number(b);\r\n                if (!Number.isFinite(num) || !Number.isFinite(den) || den === 0)\r\n                  return null;\r\n                return num / den;\r\n              }\r\n              if (/^[-+]?\\d+\\s*:\\s*[-+]?\\d+$/.test(s)) {\r\n                const [a, b] = s.split(':').map((t) => t.trim());\r\n                const na = Number(a),\r\n                  nb = Number(b);\r\n                if (!Number.isFinite(na) || !Number.isFinite(nb) || nb === 0)\r\n                  return null;\r\n                return na / nb;\r\n              }\r\n              const plain = s.replace(/,/g, '');\r\n              const num = Number(plain);\r\n              return Number.isFinite(num) ? num : null;\r\n            };\r\n            const isNumericEqual = (a, b) => {\r\n              const na = numericValue(a),\r\n                nb = numericValue(b);\r\n              return na !== null && nb !== null && Math.abs(na - nb) < 1e-9;\r\n            };\r\n            const tokenize = (raw) => {\r\n              const s = normalizeRaw(raw);\r\n              if (!s) return [];\r\n              if (s.includes(','))\r\n                return s\r\n                  .split(/\\s*,\\s*/)\r\n                  .filter(Boolean)\r\n                  .map(normalizeRaw);\r\n              return [s];\r\n            };\r\n            const setsEqual = (a, b) => {\r\n              if (a.length !== b.length) return false;\r\n              const sa = [...a].sort();\r\n              const sb = [...b].sort();\r\n              return sa.every((v, i) => v === sb[i]);\r\n            };\r\n            let isCorrect;\r\n            if (correctMC) {\r\n              isCorrect = userAnswer === correctMC.text;\r\n            } else if (\r\n              question.type === 'fill-in-the-blank' ||\r\n              !(question.answerOptions || []).length\r\n            ) {\r\n              const expected = question.correctAnswer;\r\n              const ue = normalizeRaw(userAnswer);\r\n              const ex = normalizeRaw(expected);\r\n              isCorrect =\r\n                Boolean(ex) &&\r\n                Boolean(ue) &&\r\n                (ue === ex ||\r\n                  isNumericEqual(ue, ex) ||\r\n                  setsEqual(tokenize(ue), tokenize(ex)));\r\n            } else {\r\n              isCorrect = false;\r\n            }\r\n            const confidenceLevel = results.confidence\r\n              ? results.confidence[index]\r\n              : null;\r\n\r\n            const getConfidenceColor = (level) => {\r\n              if (level === 'Confident') return 'bg-success-soft text-success';\r\n              if (level === 'Unsure') return 'bg-warning-soft text-warning';\r\n              if (level === 'Guessing') return 'bg-danger-soft text-danger';\r\n              return 'bg-surface-alt text-secondary';\r\n            };\r\n\r\n            return (\r\n              <div\r\n                key={index}\r\n                className={`p-4 rounded-lg border ${\r\n                  isCorrect ? 'bg-success-soft' : 'bg-danger-soft'\r\n                } border-subtle text-slate-900 dark:text-slate-100`}\r\n              >\r\n                <div className=\"mb-2 flex items-start gap-3\">\r\n                  <span className=\"font-semibold question-stem leading-relaxed\">\r\n                    {index + 1}.\r\n                  </span>\r\n                  <Stem item={question} subject={selectedSubject} />\r\n                </div>\r\n                {(() => {\r\n                  const rawImg =\r\n                    !question.stimulusImage?.src && question.imageUrl\r\n                      ? question.imageUrl\r\n                      : null;\r\n                  const imgSrc = resolveAssetUrl(rawImg);\r\n                  return imgSrc ? (\r\n                    <img\r\n                      src={imgSrc}\r\n                      alt={`Visual for question ${question.questionNumber}`}\r\n                      className=\"my-2 rounded-md border max-w-xs h-auto\"\r\n                    />\r\n                  ) : null;\r\n                })()}\r\n                {GEOMETRY_FIGURES_ENABLED && question.geometrySpec && (\r\n                  <div className=\"my-3 max-w-md\">\r\n                    <GeometryFigure\r\n                      spec={question.geometrySpec}\r\n                      className=\"w-full h-auto\"\r\n                    />\r\n                  </div>\r\n                )}\r\n                <p\r\n                  className={`mt-2 ${\r\n                    isCorrect ? 'text-success' : 'text-danger'\r\n                  }`}\r\n                >\r\n                  Your answer:{' '}\r\n                  <span\r\n                    className=\"question-stem\"\r\n                    dangerouslySetInnerHTML={renderQuestionTextForDisplay(\r\n                      userAnswer || 'No answer',\r\n                      question.isPremade === true\r\n                    )}\r\n                  />{' '}\r\n                  {isCorrect ? '' : ''}\r\n                </p>\r\n                {!isCorrect &&\r\n                  ((correctMC && correctMC.text) || question.correctAnswer) && (\r\n                    <p className=\"text-success question-stem\">\r\n                      Correct answer:{' '}\r\n                      <span\r\n                        className=\"question-stem\"\r\n                        dangerouslySetInnerHTML={renderQuestionTextForDisplay(\r\n                          (correctMC && correctMC.text) ||\r\n                            question.correctAnswer,\r\n                          question.isPremade === true\r\n                        )}\r\n                      />\r\n                    </p>\r\n                  )}\r\n                {correctMC && correctMC.rationale && (\r\n                  <div className=\"explanation\">\r\n                    <span className=\"font-semibold\">Rationale:</span>{' '}\r\n                    <span\r\n                      className=\"question-stem\"\r\n                      dangerouslySetInnerHTML={renderQuestionTextForDisplay(\r\n                        correctMC.rationale,\r\n                        question.isPremade === true\r\n                      )}\r\n                    />\r\n                  </div>\r\n                )}\r\n                {confidenceLevel && (\r\n                  <div className=\"mt-2\">\r\n                    <span className=\"font-semibold text-sm text-slate-600\">\r\n                      Your confidence:{' '}\r\n                    </span>\r\n                    <span\r\n                      className={`px-2 py-0.5 text-xs font-bold rounded-full ${getConfidenceColor(\r\n                        confidenceLevel\r\n                      )}`}\r\n                    >\r\n                      {confidenceLevel}\r\n                    </span>\r\n                  </div>\r\n                )}\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction ReadingPractice({ quiz, onComplete, onExit }) {\r\n  const [answers, setAnswers] = useState({});\r\n  const [isSubmitted, setIsSubmitted] = useState(false);\r\n\r\n  const handleAnswer = (qIndex, answer) => {\r\n    if (isSubmitted) return;\r\n    setAnswers((prev) => ({ ...prev, [qIndex]: answer }));\r\n  };\r\n\r\n  const handleSubmit = () => {\r\n    if (Object.keys(answers).length !== quiz.questions.length) {\r\n      if (\r\n        !confirm(\r\n          'You have unanswered questions. Are you sure you want to submit?'\r\n        )\r\n      ) {\r\n        return;\r\n      }\r\n    }\r\n    setIsSubmitted(true);\r\n    let score = 0;\r\n    quiz.questions.forEach((q, i) => {\r\n      const correctOption = (q.answerOptions || []).find(\r\n        (opt) => opt.isCorrect\r\n      );\r\n      if (correctOption && answers[i] === correctOption.text) {\r\n        score++;\r\n      }\r\n    });\r\n    const percentage = (score / quiz.questions.length) * 100;\r\n    const scaledScore = Math.round(\r\n      percentage < 65\r\n        ? 100 + (percentage / 65) * 44\r\n        : 145 + ((percentage - 65) / 35) * 55\r\n    );\r\n    onComplete({\r\n      score,\r\n      totalQuestions: quiz.questions.length,\r\n      scaledScore,\r\n      subject: quiz.subject,\r\n      quiz,\r\n    });\r\n  };\r\n\r\n  return (\r\n    <div className=\"fade-in\" data-subject={quiz.subject}>\r\n      <header className=\"flex justify-between items-center pb-4 mb-4 border-b\">\r\n        <button onClick={onExit} className=\"btn-ghost\">\r\n          <ArrowLeftIcon /> Back\r\n        </button>\r\n        <h2 className=\"text-xl font-bold text-center subject-accent-heading\">\r\n          {quiz.title}\r\n        </h2>\r\n        <div></div>\r\n      </header>\r\n      <article className=\"prose passage-section max-w-none\">\r\n        <h3\r\n          className=\"text-2xl font-bold question-stem\"\r\n          dangerouslySetInnerHTML={{\r\n            __html: sanitizeHtmlContent(quiz.article.title, {\r\n              normalizeSpacing: true,\r\n              subject: selectedSubject,\r\n            }),\r\n          }}\r\n        ></h3>\r\n        <p className=\"text-sm italic text-secondary\">{quiz.article.genre}</p>\r\n        {(() => {\r\n          const imgSrc = resolveAssetUrl(quiz.imageUrl, selectedSubject);\r\n          return imgSrc ? (\r\n            <img\r\n              src={imgSrc}\r\n              alt=\"Article supplemental image\"\r\n              className=\"my-4 mx-auto rounded-md border\"\r\n            />\r\n          ) : null;\r\n        })()}\r\n        {quiz.article.text.map((p, i) => (\r\n          <p\r\n            key={i}\r\n            dangerouslySetInnerHTML={{\r\n              __html: sanitizeHtmlContent(p, {\r\n                normalizeSpacing: true,\r\n                subject: selectedSubject,\r\n              }),\r\n            }}\r\n          ></p>\r\n        ))}\r\n      </article>\r\n      <section className=\"mt-8 pt-6 border-t\">\r\n        <h3 className=\"text-2xl font-bold mb-4 subject-accent-heading\">\r\n          Questions\r\n        </h3>\r\n        <div className=\"space-y-6\">\r\n          {quiz.questions.map((q, i) => (\r\n            <div\r\n              key={i}\r\n              className={`question-container p-4 rounded-lg transition-colors ${\r\n                isSubmitted\r\n                  ? answers[i] ===\r\n                    (q.answerOptions || []).find((o) => o.isCorrect)?.text\r\n                    ? 'bg-success-soft'\r\n                    : 'bg-danger-soft'\r\n                  : 'bg-surface-alt'\r\n              }`}\r\n            >\r\n              {(() => {\r\n                const rawImg =\r\n                  !(q.stimulusImage && q.stimulusImage.src) && q.imageUrl\r\n                    ? q.imageUrl\r\n                    : null;\r\n                const imgSrc = resolveAssetUrl(rawImg, selectedSubject);\r\n                return imgSrc ? (\r\n                  <img\r\n                    src={imgSrc}\r\n                    alt={`Visual for question ${i + 1}`}\r\n                    className=\"my-2 rounded-md border max-w-xs h-auto\"\r\n                  />\r\n                ) : null;\r\n              })()}\r\n              {GEOMETRY_FIGURES_ENABLED && q.geometrySpec && (\r\n                <div className=\"my-3 max-w-md\">\r\n                  <GeometryFigure\r\n                    spec={q.geometrySpec}\r\n                    className=\"w-full h-auto\"\r\n                  />\r\n                </div>\r\n              )}\r\n              <div className=\"mb-2 flex items-start gap-3\">\r\n                <span className=\"font-semibold question-stem leading-relaxed\">\r\n                  {i + 1}.\r\n                </span>\r\n                <Stem\r\n                  item={{ ...q, questionNumber: q.questionNumber ?? i + 1 }}\r\n                  subject={selectedSubject}\r\n                  isReview={true}\r\n                />\r\n              </div>\r\n              {(() => {\r\n                const src = q.sourceMeta || {};\r\n                const subject = src.subject || q.subject || null;\r\n                const category = src.category || null;\r\n                const topic =\r\n                  src.topicTitle || src.topicId || q.topic || q.area || null;\r\n                const qnum = q.questionNumber || src.questionNumber || null;\r\n                const show =\r\n                  quiz?.title === 'Practice Session' ||\r\n                  quiz?.subject === 'Practice Session' ||\r\n                  Boolean(src.subject);\r\n                if (!show) return null;\r\n                const parts = [subject, category, topic].filter(Boolean);\r\n                const label = parts.length\r\n                  ? parts.join(' > ')\r\n                  : src.premadeQuizTitle || q.quizTitle || null;\r\n                return label ? (\r\n                  <div className=\"text-xs text-slate-500 mb-2\">\r\n                    Source: {label}\r\n                    {qnum ? ` (Q#${qnum})` : ''}\r\n                  </div>\r\n                ) : null;\r\n              })()}\r\n              <div className=\"mt-2 space-y-1\">\r\n                {(q.answerOptions || []).map((opt, j) => {\r\n                  const isSelectedOption = answers[i] === opt.text;\r\n                  const optionClasses = [\r\n                    'answer-option flex items-center p-2 rounded cursor-pointer',\r\n                    isSelectedOption\r\n                      ? 'bg-surface-hover'\r\n                      : 'hover:bg-surface-hover',\r\n                    isSubmitted && opt.isCorrect ? 'correct' : '',\r\n                    isSubmitted && isSelectedOption && !opt.isCorrect\r\n                      ? 'incorrect'\r\n                      : '',\r\n                  ]\r\n                    .filter(Boolean)\r\n                    .join(' ');\r\n                  return (\r\n                    <label key={j} className={optionClasses}>\r\n                      <input\r\n                        type=\"radio\"\r\n                        name={`q${i}`}\r\n                        value={opt.text}\r\n                        onChange={() => handleAnswer(i, opt.text)}\r\n                        disabled={isSubmitted}\r\n                        className=\"mr-2\"\r\n                      />\r\n                      <span\r\n                        className={`${\r\n                          isSubmitted && opt.isCorrect\r\n                            ? 'font-bold text-success'\r\n                            : ''\r\n                        } ${\r\n                          isSubmitted && isSelectedOption && !opt.isCorrect\r\n                            ? 'line-through text-danger'\r\n                            : ''\r\n                        } question-stem`}\r\n                      >\r\n                        <span\r\n                          className=\"question-stem\"\r\n                          dangerouslySetInnerHTML={renderQuestionTextForDisplay(\r\n                            opt.text,\r\n                            q.isPremade === true\r\n                          )}\r\n                        />\r\n                      </span>\r\n                    </label>\r\n                  );\r\n                })}\r\n              </div>\r\n            </div>\r\n          ))}\r\n        </div>\r\n        {!isSubmitted && (\r\n          <button onClick={handleSubmit} className=\"btn-primary w-full mt-6\">\r\n            Submit Answers\r\n          </button>\r\n        )}\r\n      </section>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction EssayGuide({ onExit }) {\r\n  const [activeTab, setActiveTab] = useState('passages');\r\n  const [selectedTopic, setSelectedTopic] = useState(0);\r\n  const [timer, setTimer] = useState(45 * 60);\r\n  const [timerActive, setTimerActive] = useState(false);\r\n  const [overtimeNotified, setOvertimeNotified] = useState(false);\r\n  const [essayMode, setEssayMode] = useState('standard'); // 'standard' | 'guided' | 'freeform'\r\n  const [essayText, setEssayText] = useState({\r\n    intro: '',\r\n    body1: '',\r\n    body2: '',\r\n    body3: '',\r\n    conclusion: '',\r\n  });\r\n  const [showModal, setShowModal] = useState(false);\r\n  const [isScoring, setIsScoring] = useState(false);\r\n  const [scoreResult, setScoreResult] = useState(null);\r\n  const [showPromptOverlay, setShowPromptOverlay] = useState(false);\r\n  const [overlayView, setOverlayView] = useState('prompt');\r\n\r\n  const intervalRef = useRef(null);\r\n\r\n  // Scroll to top when component mounts\r\n  useEffect(() => {\r\n    window.scrollTo({ top: 0, behavior: 'smooth' });\r\n  }, []);\r\n\r\n  // Shadow overlay style for Guided Mode\r\n  const getShadowStyle = () => ({\r\n    position: 'absolute',\r\n    top: 0,\r\n    left: 0,\r\n    right: 0,\r\n    bottom: 0,\r\n    padding: '0.5rem',\r\n    color: 'rgba(100, 116, 139, 0.4)',\r\n    pointerEvents: 'none',\r\n    whiteSpace: 'pre-wrap',\r\n    wordWrap: 'break-word',\r\n    overflow: 'hidden',\r\n    fontFamily: 'inherit',\r\n    fontSize: 'inherit',\r\n    lineHeight: 'inherit',\r\n    // No indent in writing area overlay (per request)\r\n    textIndent: '0',\r\n    zIndex: 1,\r\n    boxSizing: 'border-box',\r\n    margin: 0,\r\n  });\r\n\r\n  // Essay templates for shadow overlay\r\n  const essayTemplates = {\r\n    intro: `    The two passages present conflicting views on the topic of [topic of both articles]. In the first passage, [Author 1's Last Name] argues that [explain Author 1's main claim]. Conversely, in the second passage, [Author 2's Last Name] claims that [explain Author 2's main claim]. After analyzing both arguments, it is clear that [Author's Last Name] presents the more convincing case by effectively using [list key evidence types].`,\r\n    body1: `    First, [Stronger Author's Last Name] effectively builds their argument by using [type of evidence]. The author states, [\"quote or paraphrase\"]. This evidence is highly convincing because [explain why].`,\r\n    body2: `    Furthermore, [Stronger Author's Last Name] strengthens their position with [another type of evidence]. For example, the author points out that [\"quote or paraphrase\"]. This is a logical and persuasive point because [explain why].`,\r\n    body3: `    In contrast, the argument presented by [Weaker Author's Last Name] is not as well-supported. A key weakness is the author's reliance on [identify a weakness]. For instance, the author claims that [\"quote or paraphrase\"]. This argument is unconvincing because [explain why].`,\r\n    conclusion: `    In conclusion, while both authors address the topic, [Stronger Author's Last Name] presents a more compelling argument. By skillfully using [restate evidence types], the author builds a case that is more persuasive than the weakly supported claims by [Weaker Author's Last Name].`,\r\n  };\r\n\r\n  // Pacing feedback state\r\n  const [pacingMessage, setPacingMessage] = useState('');\r\n  const [wordsPerMinute, setWordsPerMinute] = useState(0);\r\n  const pacingIntervalRef = useRef(null);\r\n\r\n  // Typing accuracy tracking\r\n  const [typingAccuracy, setTypingAccuracy] = useState({\r\n    intro: { correct: true, progress: 0 },\r\n    body1: { correct: true, progress: 0 },\r\n    body2: { correct: true, progress: 0 },\r\n    body3: { correct: true, progress: 0 },\r\n    conclusion: { correct: true, progress: 0 },\r\n  });\r\n\r\n  // Check typing accuracy\r\n  const checkTypingAccuracy = useCallback(\r\n    (section, typed, expected) => {\r\n      if (!expected || essayMode !== 'guided') return;\r\n\r\n      // Ignore leading whitespace so students aren't penalized for indent choices\r\n      const normalize = (str = '') => str.replace(/^\\s+/, '');\r\n      const normalizedExpected = normalize(expected);\r\n      const normalizedTyped = normalize(typed);\r\n\r\n      const isCorrectSoFar = normalizedExpected.startsWith(normalizedTyped);\r\n      const progress =\r\n        normalizedExpected.length > 0\r\n          ? Math.min(1, normalizedTyped.length / normalizedExpected.length)\r\n          : 0;\r\n\r\n      setTypingAccuracy((prev) => ({\r\n        ...prev,\r\n        [section]: { correct: isCorrectSoFar, progress },\r\n      }));\r\n    },\r\n    [essayMode]\r\n  );\r\n\r\n  // Calculate WPM and show pacing feedback\r\n  useEffect(() => {\r\n    if (essayMode !== 'guided' || !timerActive) {\r\n      if (pacingIntervalRef.current) {\r\n        clearInterval(pacingIntervalRef.current);\r\n        pacingIntervalRef.current = null;\r\n      }\r\n      return;\r\n    }\r\n\r\n    pacingIntervalRef.current = setInterval(() => {\r\n      const totalWords = Object.values(essayText).reduce(\r\n        (sum, text) => sum + wordCount(text),\r\n        0\r\n      );\r\n      const elapsedMinutes = (45 * 60 - timer) / 60;\r\n      const wpm =\r\n        elapsedMinutes > 0 ? Math.round(totalWords / elapsedMinutes) : 0;\r\n      setWordsPerMinute(wpm);\r\n\r\n      // Pacing feedback messages\r\n      const messages = [\r\n        'Good pacekeep developing your ideas.',\r\n        'Excellentyour writing rhythm is strong.',\r\n        'Nice progress! Stay focused on the structure.',\r\n        \"You're doing well. Keep up the momentum.\",\r\n      ];\r\n\r\n      if (totalWords > 0 && elapsedMinutes > 1) {\r\n        if (wpm < 15) {\r\n          setPacingMessage('You may want to pick up the pace slightly.');\r\n        } else if (wpm > 40) {\r\n          setPacingMessage('Great speed! Make sure to maintain accuracy.');\r\n        } else {\r\n          setPacingMessage(\r\n            messages[Math.floor(Math.random() * messages.length)]\r\n          );\r\n        }\r\n\r\n        // Auto-fade message\r\n        setTimeout(() => setPacingMessage(''), 8000);\r\n      }\r\n    }, 30000); // Every 30 seconds\r\n\r\n    return () => {\r\n      if (pacingIntervalRef.current) {\r\n        clearInterval(pacingIntervalRef.current);\r\n      }\r\n    };\r\n  }, [essayMode, timerActive, timer, essayText]);\r\n\r\n  // Helper: strip HTML to plain text, preserve basic paragraph breaks\r\n  const stripHtmlToPlain = (html) => {\r\n    if (typeof html !== 'string') return '';\r\n    // Replace paragraph tags with double newlines before stripping other tags\r\n    let text = html\r\n      .replace(/<\\s*br\\s*\\/?/gi, '\\n')\r\n      .replace(/<\\s*\\/?p[^>]*>/gi, '\\n\\n')\r\n      .replace(/<\\s*\\/?li[^>]*>/gi, (m) => (m.startsWith('</') ? '\\n' : ' '))\r\n      .replace(/<[^>]+>/g, '');\r\n    // Decode a few common entities\r\n    text = text\r\n      .replace(/&nbsp;/g, ' ')\r\n      .replace(/&amp;/g, '&')\r\n      .replace(/&lt;/g, '<')\r\n      .replace(/&gt;/g, '>')\r\n      .replace(/&quot;/g, '\"')\r\n      .replace(/&#39;/g, \"'\");\r\n    // Normalize whitespace\r\n    return text\r\n      .replace(/[\\t\\r ]+/g, ' ')\r\n      .replace(/\\s*\\n\\s*\\n\\s*/g, '\\n\\n')\r\n      .trim();\r\n  };\r\n\r\n  // Helper: keep markup for highlighting while sanitizing\r\n  const sanitizeEssayHtml = (html) => {\r\n    if (typeof html !== 'string') return '';\r\n    return sanitizeHtmlContent(html, {\r\n      normalizeSpacing: true,\r\n      trustedHtml: true,\r\n    });\r\n  };\r\n\r\n  const wordCount = (text) => {\r\n    if (!text) return 0;\r\n    return String(text).trim().split(/\\s+/).filter(Boolean).length;\r\n  };\r\n\r\n  const genericExpansion = {\r\n    stronger:\r\n      'Proponents argue that the most persuasive way to evaluate this issue is to look at measurable outcomes and well-documented mechanisms. ' +\r\n      'When a policy or practice produces consistent benefits across different settings, it suggests the core claim is not just theoretically appealing but operationally sound. ' +\r\n      'For instance, researchers often highlight trends that persist after controlling for confounding factors, which strengthens causal interpretations. ' +\r\n      'In everyday terms, the effects show up in places that are not cherry-picked: large districts as well as small ones, urban areas as well as rural communities, and across diverse populations. ' +\r\n      'This breadth matters because it demonstrates that the argument is not reliant on a single exceptional case.\\n\\n' +\r\n      'Equally important is the internal logic of the claim. ' +\r\n      'A clear explanation of how inputs become outcomesbacked by credible studies or official recordsbuilds reader confidence. ' +\r\n      'When authors acknowledge limitations, address counterarguments directly, and explain why competing explanations fall short, they further enhance credibility. ' +\r\n      'The tone remains measured and analytic rather than speculative, and the supporting evidence goes beyond anecdotes to include trends, comparative data, or longitudinal results.\\n\\n' +\r\n      'Finally, strong arguments connect evidence to implications. ' +\r\n      'They clarify not only that an approach works, but why it is better than realistic alternatives in terms of access, cost, fairness, or long-term sustainability. ' +\r\n      'This emphasis on mechanisms and trade-offs gives readers a trustworthy basis for judgment, which is precisely what the GED essay task asks evaluators to reward.',\r\n    weaker:\r\n      'Skeptics raise concerns that deserve attention, though their claims often rely on broad generalizations, isolated examples, or predictions that are not fully supported by data. ' +\r\n      'These reservations can be useful for surfacing potential risks or unintended consequences, but they are most convincing when paired with specific evidence and a clear explanation of scope. ' +\r\n      'Without those anchors, caution can drift into conjecture, making it hard to weigh against concrete results reported elsewhere.\\n\\n' +\r\n      'In addition, weaker arguments sometimes mistake correlation for causation or rely on assumptions about human behavior that are plausible but untested. ' +\r\n      'They may emphasize exceptional casesoutlierswhile downplaying broader trends that move in the opposite direction. ' +\r\n      'A careful reader should ask whether the same claim holds across settings and whether competing explanations have been seriously considered. ' +\r\n      'When key terms are left undefined or evidence is largely anecdotal, the overall force of the case diminishes.\\n\\n' +\r\n      'That said, raising practical constraints and ethical considerations is valuable. ' +\r\n      'Well-framed questions about cost, feasibility, or equity can guide better policy design. ' +\r\n      'But to match the rigor expected on the GED, these concerns need to be grounded in verifiable facts and organized into a clear line of reasoning rather than relying primarily on intuition or personal experience.',\r\n  };\r\n\r\n  const expandIfShort = (topic, title, baseHtml) => {\r\n    const MIN = 450;\r\n    const MAX = 650;\r\n    let html = sanitizeEssayHtml(baseHtml);\r\n    let text = stripHtmlToPlain(html);\r\n    let wc = wordCount(text);\r\n    if (wc >= MIN && wc <= MAX) return sanitizeEssayHtml(html);\r\n    const stance = /stronger/i.test(title)\r\n      ? 'stronger'\r\n      : /weaker/i.test(title)\r\n      ? 'weaker'\r\n      : 'stronger';\r\n    // Append one or more generic expansions until within range\r\n    const add = genericExpansion[stance];\r\n    while (wc < MIN) {\r\n      html += `<p class=\"prompt-expansion\">${add}</p>`;\r\n      text = stripHtmlToPlain(html);\r\n      wc = wordCount(text);\r\n      if (wc > MAX) break;\r\n    }\r\n    // If we overshoot significantly, we can trim last sentence\r\n    if (wc > MAX) {\r\n      const sentences = text.split(/(?<=[.!?])\\s+/);\r\n      while (wordCount(sentences.join(' ')) > MAX && sentences.length > 3) {\r\n        sentences.pop();\r\n      }\r\n      const trimmedPlain = sentences.join(' ');\r\n      // Rebuild minimal HTML with trimmed plain text if needed\r\n      html = `<p>${trimmedPlain}</p>`;\r\n    }\r\n    return sanitizeEssayHtml(html);\r\n  };\r\n\r\n  const passagesData = [\r\n    // --- All 10 Topics Updated with Highlighted & Imbalanced Evidence ---\r\n    {\r\n      topic: 'Should the Voting Age Be Lowered to 16?',\r\n      passage1: {\r\n        title: 'Dr. Alisa Klein, Sociologist (Stronger Argument)',\r\n        content: sanitizeEssayHtml(\r\n          \"<p>Lowering the voting age to 16 is a crucial step for a healthier democracy. At 16, many young people are employed, pay taxes on their earnings, and are subject to the laws of the land. It is a fundamental principle of democracy'no taxation without representation'that they should have a voice in shaping policies that directly affect them, from education funding to climate change.</p><p><span class='good-evidence'>Furthermore, research shows that voting is a habit; a 2020 study from Tufts University found that cities that allow 16-year-olds to vote in local elections see significantly higher youth turnout in subsequent national elections.</span> Enabling citizens to vote at an age when they are still living in a stable home and learning about civics in school increases the likelihood they will become lifelong voters.</p><p><span class='good-evidence'>As political scientist Dr. Mark Franklin notes, 'The earlier a citizen casts their first ballot, the more likely they are to become a consistent participant in our democracy.'</span> It is a vital step toward strengthening civic engagement for generations to come.</p>\"\r\n        ),\r\n      },\r\n      passage2: {\r\n        title: 'Marcus heavyweight, Political Analyst (Weaker Argument)',\r\n        content: sanitizeEssayHtml(\r\n          \"<p>While the idealism behind lowering the voting age is appealing, the practical realities suggest it would be a mistake. The adolescent brain is still undergoing significant development, particularly in areas related to long-term decision-making and impulse control. The political landscape is complex, requiring a level of experience and cognitive maturity that most 16-year-olds have not yet developed.</p><p>We risk trivializing the profound responsibility of voting by extending it to a demographic that is, by and large, not yet equipped to handle it. <span class='bad-evidence'>I remember being 16, and my friends and I were far more concerned with prom dates and getting a driver's license than with monetary policy.</span> Their priorities are simply not aligned with the serious nature of national governance.</p><p>The current age of 18 strikes a reasonable balance, marking a clear transition into legal adulthood and the full spectrum of responsibilities that come with it. To change this is to experiment with the foundation of our republic for no clear gain.</p>\"\r\n        ),\r\n      },\r\n    },\r\n    {\r\n      topic: 'Is Universal Basic Income (UBI) a Viable Solution to Poverty?',\r\n      passage1: {\r\n        title: 'Anna Coote, Economist (Stronger Argument)',\r\n        content:\r\n          \"<p>A Universal Basic Income, while well-intentioned, is an inefficient and expensive tool for poverty reduction. It fails to target the individuals who need support the most, instead distributing funds to everyone, which ultimately dilutes its impact. <span class='good-evidence'>According to a 2018 analysis by the Center on Budget and Policy Priorities, replacing existing targeted aid programs with a modest UBI would actually increase the poverty rate.</span></p><p>Existing programs like SNAP (food stamps) and Medicaid are designed to address the specific, varied hardships of poverty. UBI risks dismantling this targeted support system. Furthermore, there is a significant danger of UBI entrenching low pay and precarious work, as it could effectively subsidize employers who pay poverty wages, normalizing economic instability rather than solving its root causes.</p><p><span class='good-evidence'>This is a logical consequence, as a guaranteed income floor reduces the pressure on companies to offer competitive wages and benefits to attract workers for undesirable jobs.</span> The focus should be on strengthening our existing, targeted safety nets and promoting policies that lead to higher wages and better job quality.</p>\",\r\n      },\r\n      passage2: {\r\n        title: 'Robert Doar, Poverty Studies Fellow (Weaker Argument)',\r\n        content:\r\n          \"<p>The concept of a guaranteed income has merit as a powerful tool to provide stability in an unstable world. A regular, predictable income floor would act as a safety net, allowing individuals to invest in new skills or find more suitable jobs without the constant threat of destitution. It provides the foundation upon which individuals can build more productive and independent lives.</p><p><span class='bad-evidence'>Everyone knows that if you're not worried about next month's rent, you can make better long-term decisions.</span> It just makes sense that this freedom would lead to a boom in entrepreneurship and creativity, unleashing human potential that is currently suppressed by economic anxiety.</p><p>The goal is not to give up on work, but to provide a cushion that allows for smarter work. Opponents worry that people will stop working, but this is a cynical view of human nature. Most people want to contribute and improve their lives; UBI simply gives them the security to do so more effectively.</p>\",\r\n      },\r\n    },\r\n    {\r\n      topic: 'Should Governments Aggressively Subsidize Renewable Energy?',\r\n      passage1: {\r\n        title: 'Energy Policy Journal (Stronger Argument)',\r\n        content:\r\n          \"<p>Government subsidies are essential for accelerating the transition to renewable energy sources like solar and wind. The primary benefit is environmental; renewables produce little to no greenhouse gases, combating climate change and improving public health. <span class='good-evidence'>A report from the National Renewable Energy Laboratory (NREL) concluded that achieving 80% renewable electricity by 2050 could reduce economy-wide carbon emissions by 81%.</span></p><p>While the initial costs can be high, subsidies make them accessible and competitive with established fossil fuels, which have themselves been subsidized for decades. This investment creates jobs in a growing clean energy sector and fosters energy independence. <span class='good-evidence'>According to the U.S. Bureau of Labor Statistics, solar panel installer and wind turbine technician are two of the fastest-growing jobs in the country.</span></p><p>In the long run, supporting renewables is not just an environmental decision, but a strategic economic one. It leads to stable, predictable energy costs free from the price volatility of the global oil market. It is a necessary investment in a cleaner and more economically secure future.</p>\",\r\n      },\r\n      passage2: {\r\n        title: 'Institute for Energy Research (Weaker Argument)',\r\n        content:\r\n          \"<p>While renewable energy is a worthy goal, aggressive government subsidies create significant problems. The high upfront cost of technologies like solar panels and wind turbines are passed on to taxpayers, creating a massive financial burden. These systems also have geographic limitationsthey are only effective in specific locations with consistent sun or wind.</p><p>Furthermore, energy production is often intermittent, requiring expensive battery storage solutions that are not yet advanced enough. <span class='bad-evidence'>Think of the poor families who will have their lights go out on a calm, cloudy day.</span> It's simply not reliable enough to power a modern economy without fossil fuel backup, which defeats the entire purpose.</p><p>A market-driven approach, rather than government intervention, would allow the most efficient and affordable technologies to emerge naturally. We shouldn't let the government pick winners and losers with taxpayer money; we should let innovation and competition determine the best path forward.</p>\",\r\n      },\r\n    },\r\n    {\r\n      topic: 'Does Social Media Do More Harm Than Good for Teen Mental Health?',\r\n      passage1: {\r\n        title: \"U.S. Surgeon General's Advisory (Stronger Argument)\",\r\n        content:\r\n          \"<p>There is a profound risk of harm to the mental health and well-being of children and adolescents from social media. <span class='good-evidence'>A 2022 study published in the Journal of the American Medical Association (JAMA) showed that teens who spend more than three hours a day on social media face double the risk of experiencing depression and anxiety symptoms.</span> These platforms are often designed to maximize user engagement, which can disrupt sleep and expose young users to harmful content.</p><p>The adolescent brain is highly susceptible to social comparison and peer pressure. Social media platforms can create a distorted reality, where teens are constantly comparing their own lives to the curated, idealized posts of others. <span class='good-evidence'>This has been directly linked to lower self-esteem and poor body image, particularly among adolescent girls, as noted by the American Psychological Association.</span></p><p><span class='bad-evidence'>It feels like every teenager I meet is more anxious than the last, and they are all glued to their phones.</span> The connection is obvious. We need better safeguards, and parents need to be more aware of the very real dangers these platforms pose to their children's developing minds.</p>\",\r\n      },\r\n      passage2: {\r\n        title: 'Youth Mental Health Council (Weaker Argument)',\r\n        content:\r\n          \"<p>While risks exist, social media often provides essential benefits for teens. Many report that it helps them feel more accepted and connected to their friends. These online connections are especially crucial for marginalized youth, such as LGBTQ teens, who may find a supportive community online that is unavailable to them in their immediate environment.</p><p><span class='bad-evidence'>My own daughter was struggling to make friends, but she found a wonderful group of people online who share her passion for art. It completely turned her life around.</span> This just goes to show how vital these connections can be for a young person's happiness.</p><p>Social media platforms can foster a sense of belonging and provide a place for creative self-expression. They also help teens access information and resources about mental health, which can promote help-seeking behaviors. To focus only on the negatives is to ignore the powerful role social media can play in supporting youth well-being.</p>\",\r\n      },\r\n    },\r\n    {\r\n      topic:\r\n        'Is a Four-Year College Degree the Best Path to a Successful Career?',\r\n      passage1: {\r\n        title: 'Dr. Anya Sharma, Education Policy Analyst (Weaker Argument)',\r\n        content:\r\n          \"<p>A four-year college degree remains the most reliable pathway to long-term career success and economic mobility. While vocational training has its place, a bachelor's degree provides something far more valuable: a foundation in critical thinking, complex problem-solving, and communication. These are not just job skills; they are life skills that allow graduates to adapt to a rapidly changing economy.</p><p>Statistically, the evidence is overwhelming. College graduates consistently earn significantly more over their lifetimes than those without a degree. <span class='bad-evidence'>Everyone knows someone who got a degree and became successful.</span> This 'degree premium' is not just about the first job out of college, but about the upward trajectory that a broad-based education enables.</p><p>Furthermore, the college experience itself fosters personal growth and exposure to diverse perspectives. To suggest that a narrow, job-specific training program is equivalent is to ignore the fundamental purpose of higher education: to create not just workers, but informed and adaptable citizens.</p>\",\r\n      },\r\n      passage2: {\r\n        title: 'Marco Diaz, Skilled Trades Advocate (Stronger Argument)',\r\n        content:\r\n          \"<p>For too long, we have pushed a 'college-for-all' mentality that has left millions of young people with crippling student loan debt. It is time we recognize that vocational training offers a more direct and affordable path to a stable career. <span class='good-evidence'>According to the Bureau of Labor Statistics, many skilled trades, such as electricians and plumbers, have median salaries comparable to or exceeding those of many bachelor's degree holders, without the upfront cost.</span></p><p>Vocational programs provide hands-on skills that are immediately applicable. Students often enter paid apprenticeship programs where they earn while they learn. This model avoids the massive debt associated with a four-year degree and allows young adults to begin building financial independence years earlier. <span class='good-evidence'>A 2021 report from the National Center for Education Statistics highlights that the average student loan debt for a bachelor's degree is over $30,000.</span></p><p>We must stop stigmatizing skilled labor. By promoting vocational education as a respectable and intelligent alternative, we can build a stronger, more practical workforce and offer a debt-free path to the middle class for millions of Americans.</p>\",\r\n      },\r\n    },\r\n    {\r\n      topic: 'Should Schools Ban the Use of Smartphones in the Classroom?',\r\n      passage1: {\r\n        title: 'Principal Thompson, Educator (Stronger Argument)',\r\n        content:\r\n          \"<p>Smartphones have become the single greatest source of distraction in the modern classroom, and it is time for a clear and consistent ban. These devices fragment student attention and disrupt the learning environment. The primary purpose of a classroom is education, and anything that fundamentally undermines that purpose must be removed.</p><p><span class='good-evidence'>A comprehensive study by the London School of Economics analyzed schools in four English cities and found that after phones were banned, student test scores improved by an average of 6.4%.</span> This effect was even more pronounced for lower-achieving students, suggesting a ban can help close the achievement gap. This data provides clear, empirical evidence that removing phones leads to better academic outcomes.</p><p>A firm ban sends an unambiguous message about our academic priorities and helps students develop the crucial skill of focused, sustained attention, a skill that is eroding in the digital age.</p>\",\r\n      },\r\n      passage2: {\r\n        title: 'Dr. Helen Tran, Digital Learning Expert (Weaker Argument)',\r\n        content:\r\n          \"<p>Banning smartphones in schools is a Luddite response to a modern reality. Instead of banning these powerful tools, we should be teaching students how to use them responsibly. Smartphones provide instant access to a world of information, acting as research tools and collaborative devices. To deny students access is to cripple them with an outdated model of education.</p><p><span class='bad-evidence'>The people who want to ban phones are just old-fashioned and afraid of technology.</span> This argument ignores the fact that the modern workplace requires digital literacy. Schools have a responsibility to prepare students for the world they will actually live and work in, and that world is saturated with technology.</p><p>The challenge is not the device, but the pedagogy. We need to train teachers to leverage these tools for learning, not run from them. <span class='bad-evidence'>It's just common sense that you can't prepare kids for the future by taking away future tools.</span></p>\",\r\n      },\r\n    },\r\n    {\r\n      topic:\r\n        'Should Fast-Food Restaurants Be Required to Display Calorie Counts?',\r\n      passage1: {\r\n        title: 'Center for Public Health (Stronger Argument)',\r\n        content:\r\n          \"<p>In the fight against the obesity epidemic, information is one of our most powerful weapons. Requiring fast-food chains to prominently display calorie counts on their menus is a common-sense policy that empowers consumers to make healthier choices. It is a simple matter of transparency; people have a right to know what is in the food they are purchasing.</p><p><span class='good-evidence'>A study published in the American Journal of Public Health found that after New York City implemented menu labeling, consumers at fast-food chains purchased, on average, 25 fewer calories per transaction.</span> While this may seem small, these small changes, compounded over time, can lead to significant positive health outcomes for the population.</p><p>This isn't about banning choices; it's about enabling informed ones. Just as the FDA requires nutrition labels on packaged foods, providing clear, accessible information at the point of purchase is a minimal and effective step to help people take better control of their own health.</p>\",\r\n      },\r\n      passage2: {\r\n        title: 'Restaurant Industry Association (Weaker Argument)',\r\n        content:\r\n          \"<p>Mandatory calorie labeling for fast-food restaurants is a costly and ineffective government overreach. The financial burden of analyzing every menu item and reprinting menu boards is significant, especially for smaller franchise owners. This is a classic case of the government imposing a one-size-fits-all solution that hurts small businesses.</p><p><span class='bad-evidence'>I know plenty of people who see a high calorie count and just order the item anyway, so it clearly doesn't work.</span> People go to fast-food restaurants for convenience and taste, not for a health experience. Consumer behavior is driven by many factors, and a single number on a menu board is unlikely to be the deciding one.</p><p>Ultimately, this policy is based on the flawed assumption that a lack of information is the cause of poor dietary choices. <span class='bad-evidence'>Everyone already knows that a burger and fries isn't a health food.</span> The focus should be on personal responsibility, not on more government regulations.</p>\",\r\n      },\r\n    },\r\n    {\r\n      topic:\r\n        'Should National Parks Implement a Lottery System to Manage Overcrowding?',\r\n      passage1: {\r\n        title: 'Dr. David Chen, Conservation Biologist (Stronger Argument)',\r\n        content:\r\n          \"<p>Our most beloved national parks are being loved to death. The surge in visitor numbers has led to traffic gridlock, trail erosion, and damage to fragile ecosystems. To protect these natural treasures for future generations, we must implement more restrictive access systems, and a lottery is the fairest way to do so.</p><p><span class='good-evidence'>The National Park Service's own data shows that in parks like Zion and Arches, unmanaged visitor numbers have led to significant soil compaction and vegetation loss along popular trails.</span> A lottery system would directly mitigate this environmental damage by controlling the number of people on the trails each day. This is a necessary management tool to fulfill the Park Service's core mission of preservation.</p><p><span class='good-evidence'>Furthermore, a 2021 study on visitor experiences in Yosemite concluded that overcrowding significantly diminishes the quality of the visitor experience, leading to lower satisfaction.</span> A reservation system provides certainty and allows visitors to plan their trips effectively, ensuring a better experience for those who do attend.</p>\",\r\n      },\r\n      passage2: {\r\n        title: 'Brenda Walsh, Public Lands Advocate (Weaker Argument)',\r\n        content:\r\n          \"<p>National parks were created to be accessible to all Americans, not just the lucky few who win a lottery. Implementing a reservation system fundamentally changes the nature of these public lands from a shared national birthright into an exclusive commodity. It creates a barrier that will disproportionately affect families who cannot plan their vacations months in advance.</p><p><span class='bad-evidence'>My family has always taken spontaneous trips to the parks, and a lottery system would destroy that tradition.</span> This would harm the local gateway communities whose economies depend on a steady flow of tourists, not just a pre-determined, limited number.</p><p><span class='bad-evidence'>Turning our parks into an exclusive club is a betrayal of the very idea of 'America's Best Idea.'</span> We must focus on smart solutions like more shuttle buses, rather than simply locking people out.</p>\",\r\n      },\r\n    },\r\n    {\r\n      topic:\r\n        'Should Standardized Test Scores Be a Primary Factor in College Admissions?',\r\n      passage1: {\r\n        title: 'Dr. Richard Evans, Admissions Counselor (Stronger Argument)',\r\n        content:\r\n          \"<p>Relying heavily on standardized test scores like the SAT and ACT in college admissions is an outdated and inequitable practice. These tests are not a pure measure of merit; they are strongly correlated with a student's family income and access to resources. Students from affluent families can afford expensive test prep courses, giving them an unfair advantage.</p><p><span class='good-evidence'>A landmark study of over 123,000 students at 33 test-optional colleges found that there was virtually no difference in college GPA or graduation rates between students who submitted scores and those who did not.</span> This proves that high school grades are a far better predictor of college success. A student's performance over four years is a much more holistic and accurate measure of their ability and work ethic.</p><p>By moving to a test-optional system, colleges can assess applicants more equitably, considering their academic record, essays, and activities. This allows them to build a more diverse and capable student body, rewarding long-term diligence over the ability to perform well on a single, high-stakes exam.</p>\",\r\n      },\r\n      passage2: {\r\n        title:\r\n          'Dr. Susan Gerson, Education Measurement Specialist (Weaker Argument)',\r\n        content:\r\n          \"<p>While standardized tests are not perfect, they are the most objective and reliable tool we have for comparing students from tens of thousands of different high schools. Grade inflation is rampant, and an 'A' in one school is not equivalent to an 'A' in another. The SAT and ACT provide a common yardstick to measure core academic skills.</p><p><span class='bad-evidence'>Without tests, admissions would just become a subjective guessing game about who wrote the prettiest essay.</span> It would be chaos. These tests can help identify promising students from less well-known high schools whose grades might otherwise be overlooked. To ignore test scores is to ignore a valuable piece of data.</p><p>Rather than eliminating these tests, we should focus on ensuring all students have access to free, high-quality test preparation resources. Fixing the access problem is a better solution than throwing away our only objective measurement tool.</p>\",\r\n      },\r\n    },\r\n    {\r\n      topic:\r\n        'Is a Remote Work Model More Beneficial Than a Traditional In-Office Model?',\r\n      passage1: {\r\n        title: 'Jennifer Lee, Chief Financial Officer (Stronger Argument)',\r\n        content:\r\n          \"<p>The shift to remote work has proven to be a resounding success, offering significant financial and operational benefits. By reducing the need for large, expensive office spaces, companies can drastically cut overhead costs related to rent and utilities. These savings can be reinvested into growth and innovation.</p><p>From a human resources perspective, the benefits are even more compelling. Offering remote work allows a company to recruit from a global talent pool, not just a single city. <span class='good-evidence'>A 2021 survey by Stanford University of 16,000 workers over 9 months found that remote work not only increased employee satisfaction but also boosted productivity by 13%.</span> Happier, more autonomous employees are more productive employees.</p><p>Furthermore, remote work improves employee retention and well-being. <span class='good-evidence'>According to a Gallup poll, a majority of remote-capable employees who are forced to return to the office full-time are actively seeking new employment.</span> A flexible, remote-first model is not just a trend; it is the future of a more efficient and humane way of doing business.</p>\",\r\n      },\r\n      passage2: {\r\n        title: 'Robert Chen, Management Consultant (Weaker Argument)',\r\n        content:\r\n          \"<p>The alleged benefits of remote work are largely illusory and ignore the long-term damage it does to a company's culture. The office is a hub for spontaneous collaboration and mentorship that simply cannot be replicated over scheduled Zoom calls. The informal 'water cooler' conversations that spark new ideas are lost forever.</p><p><span class='bad-evidence'>It's just common sense that people are going to be less productive at home with all the distractions of laundry and television.</span> While some companies may see short-term gains in routine tasks, the long-term cost in terms of lost innovation and team cohesion will be immense.</p><p>Junior employees, in particular, suffer from a lack of mentorship and observational learning that is critical for their career development. A vibrant, in-person workplace remains the most powerful engine for collaborative success, and we are losing that in favor of a lonely, disconnected workforce.</p>\",\r\n      },\r\n    },\r\n    // --- New 10 Topics Added ---\r\n    {\r\n      topic: 'Should Homework in High School Be Limited to One Hour per Night?',\r\n      passage1: {\r\n        title: 'National Education Association Brief (Stronger Argument)',\r\n        content:\r\n          \"<p>Limiting homework to one hour per night in high school supports learning without sacrificing student well-being. Excessive homework contributes to sleep deprivation, stress, and disengagement, which undermines academic performance. <span class='good-evidence'>A 2013 Stanford study found that students in high-achieving communities who spend more than two hours on homework experience higher stress, physical health problems, and lack of balance in their lives.</span></p><p>Quality matters more than quantity. Structured practice aligned to clear objectives within a one-hour cap encourages focus and allows time for reading, extracurriculars, and family responsibilities. <span class='good-evidence'>Sleep researchers consistently tie adequate sleep to improved memory consolidation and problem-solving, critical for learning.</span> A sensible cap promotes equitable access for students who work part-time or care for siblings after school.</p>\",\r\n      },\r\n      passage2: {\r\n        title: 'Traditionalist Teachers Coalition (Weaker Argument)',\r\n        content:\r\n          \"<p>Hard work builds character, and limiting homework to one hour risks coddling students. Advanced courses require more time; students should simply manage their schedules better. <span class='bad-evidence'>When I was in school, we had loads of homework and we turned out fine.</span> Limiting homework sends the wrong message about academic rigor.</p><p>Real life doesn't come with time caps. Students must learn to push through fatigue to meet expectations. A universal limit is unnecessary and undermines teacher autonomy.</p>\",\r\n      },\r\n    },\r\n    {\r\n      topic: 'Should Public Transit Be Free in Major Cities?',\r\n      passage1: {\r\n        title: 'Urban Institute Transportation Report (Stronger Argument)',\r\n        content:\r\n          \"<p>Fare-free transit increases ridership, reduces traffic congestion, and improves air quality while expanding access to jobs and education. <span class='good-evidence'>Kansas City, Missouri, saw ridership increases and improved job access after adopting zero-fare buses, according to city reports.</span> Eliminating fares speeds boarding and simplifies operations.</p><p>Funding can be rebalanced through congestion fees and dedicated sales taxes. <span class='good-evidence'>A 2022 APTA analysis estimates that every dollar invested in transit yields multiple dollars in local economic returns.</span> Free transit is a public good that benefits the entire urban ecosystem.</p>\",\r\n      },\r\n      passage2: {\r\n        title: 'Taxpayers for Efficient Spending (Weaker Argument)',\r\n        content:\r\n          \"<p>Making transit free sounds nice but invites waste. People will ride for fun, not necessity, crowding buses and trains. <span class='bad-evidence'>If you don't charge, people will just circle the city all day.</span> Fares create accountability, and removing them burdens taxpayers.</p><p>Rather than free rides, cities should focus on enforcing fares and cutting costs. Those who need help can already get discounted passes.</p>\",\r\n      },\r\n    },\r\n    {\r\n      topic: 'Should Schools Adopt Year-Round Academic Calendars?',\r\n      passage1: {\r\n        title: 'Education Policy Consortium (Stronger Argument)',\r\n        content:\r\n          \"<p>Year-round calendars with shorter, more frequent breaks reduce summer learning loss and allow targeted intersession support. <span class='good-evidence'>Meta-analyses show that low-income students lose significant math and reading skills over long summers; staggered breaks mitigate this regression.</span> Distributed rest periods also lower burnout for students and staff.</p><p>Facilities are used more efficiently, easing overcrowding with multi-track options. Families gain predictable schedules for remediation and enrichment.</p>\",\r\n      },\r\n      passage2: {\r\n        title: 'Community Traditions Alliance (Weaker Argument)',\r\n        content:\r\n          \"<p>Summer is a cherished American tradition for camps, vacations, and teen jobs. <span class='bad-evidence'>Kids need a long summer to be kids.</span> Year-round school disrupts tourism and family routines and complicates childcare for siblings on different tracks.</p><p>There's no need to change what has worked for decades; schools should improve teaching during the year instead.</p>\",\r\n      },\r\n    },\r\n    {\r\n      topic: 'Should Cities Ban Single-Use Plastic Bags?',\r\n      passage1: {\r\n        title: 'Environmental Protection Network (Stronger Argument)',\r\n        content:\r\n          \"<p>Plastic bag bans reduce litter, protect waterways and wildlife, and cut municipal cleanup costs. <span class='good-evidence'>California's statewide policy led to substantial declines in plastic bag litter along coastlines, according to the Coastal Commission.</span> Reusable and paper alternatives are viable for most purchases.</p><p>Pairing bans with education and exemptions for sanitation-sensitive items addresses edge cases while shifting consumer behavior toward sustainable habits.</p>\",\r\n      },\r\n      passage2: {\r\n        title: 'Retail Freedom Association (Weaker Argument)',\r\n        content:\r\n          \"<p>Bans inconvenience shoppers and unfairly penalize small stores. <span class='bad-evidence'>People will just forget their bags and get angry at clerks.</span> Paper bags have environmental costs too, so bans are pointless. Let the market decide; customers who care can bring their own bags.</p>\",\r\n      },\r\n    },\r\n    {\r\n      topic: 'Should Public Colleges Be Tuition-Free?',\r\n      passage1: {\r\n        title: 'Center for Higher Education Access (Stronger Argument)',\r\n        content:\r\n          \"<p>Tuition-free public college expands opportunity and strengthens the economy by developing human capital. <span class='good-evidence'>Countries with low or no tuition maintain strong completion rates when funding is paired with student support services.</span> Removing tuition reduces debt burdens, allowing graduates to start businesses and buy homes sooner.</p><p>Targeted taxes and income-driven contributions from high earners can sustainably finance the system while preserving quality.</p>\",\r\n      },\r\n      passage2: {\r\n        title: 'Fiscal Prudence Council (Weaker Argument)',\r\n        content:\r\n          \"<p>Nothing is truly freetaxpayers foot the bill. <span class='bad-evidence'>If college is free, everyone will enroll and campuses will be chaotic.</span> Subsidizing degrees people may not use wastes money. Aid should remain merit-based and limited, not universal.</p>\",\r\n      },\r\n    },\r\n    {\r\n      topic: 'Should Voting Be Compulsory in National Elections?',\r\n      passage1: {\r\n        title: 'Democratic Participation Lab (Stronger Argument)',\r\n        content:\r\n          \"<p>Compulsory voting increases turnout, reduces polarization, and ensures elected officials reflect the whole populace. <span class='good-evidence'>Australia's compulsory system yields turnout consistently above 90% and broad partisan moderation.</span> Modest fines or easy opt-outs protect civil liberties while establishing civic duty.</p>\",\r\n      },\r\n      passage2: {\r\n        title: 'Liberty First Foundation (Weaker Argument)',\r\n        content:\r\n          \"<p>Forcing people to vote violates freedom. <span class='bad-evidence'>Making apathetic people vote just adds random noise.</span> Low-information ballots degrade democracy. Voluntary participation is a cornerstone of liberty, not something to be coerced.</p>\",\r\n      },\r\n    },\r\n    {\r\n      topic: 'Should School Cafeterias Adopt Plant-Forward Menus?',\r\n      passage1: {\r\n        title: 'Public Health Nutrition Society (Stronger Argument)',\r\n        content:\r\n          \"<p>Plant-forward menus improve student health and reduce the carbon footprint of school meals. <span class='good-evidence'>Dietary guidelines and numerous cohort studies link higher plant intake to reduced chronic disease risk.</span> Properly planned menus meet protein needs and expose students to diverse foods.</p><p>Districts can phase in options and provide culinary training so meals remain appealing and culturally responsive.</p>\",\r\n      },\r\n      passage2: {\r\n        title: 'Parents for Traditional Lunches (Weaker Argument)',\r\n        content:\r\n          \"<p>Kids won't eat vegetables, so plant-forward menus will just lead to waste. <span class='bad-evidence'>My son only eats chicken nuggets and would starve otherwise.</span> Meat is necessary at every meal; changing menus meddles with family preferences.</p>\",\r\n      },\r\n    },\r\n    {\r\n      topic: 'Should Cities Implement Congestion Pricing for Downtown Driving?',\r\n      passage1: {\r\n        title: 'Urban Mobility Council (Stronger Argument)',\r\n        content:\r\n          \"<p>Congestion pricing reduces traffic, speeds up buses, and improves air quality while funding transit improvements. <span class='good-evidence'>London and Stockholm saw sustained traffic reductions and travel-time reliability after implementation.</span> Equity issues can be addressed with exemptions and rebates for low-income drivers.</p>\",\r\n      },\r\n      passage2: {\r\n        title: \"Drivers' Rights Alliance (Weaker Argument)\",\r\n        content:\r\n          \"<p>Congestion fees are just another tax on working people. <span class='bad-evidence'>It's a money grab by city hall.</span> Drivers already pay registration and gas taxes; pricing zones punish commuters who have no choice but to drive.</p>\",\r\n      },\r\n    },\r\n    {\r\n      topic: 'Should Public Schools Enforce Strict Student Dress Codes?',\r\n      passage1: {\r\n        title: 'School Climate Research Network (Stronger Argument)',\r\n        content:\r\n          \"<p>Strict dress codes can disproportionately target girls and marginalized students and distract from learning. <span class='good-evidence'>Studies on school climate link punitive dress enforcement to increased suspensions without academic gains.</span> Clear, gender-neutral guidelines focused on safety are preferable to subjective rules.</p>\",\r\n      },\r\n      passage2: {\r\n        title: 'Order and Discipline Association (Weaker Argument)',\r\n        content:\r\n          \"<p>Uniformity promotes respect. <span class='bad-evidence'>If students look sharp, they'll act right.</span> Strict rules eliminate distractions and teach professionalism, so detailed dress codes should be enforced.</p>\",\r\n      },\r\n    },\r\n    {\r\n      topic:\r\n        'Should High Schools Require a Financial Literacy Course for Graduation?',\r\n      passage1: {\r\n        title: 'Council on Economic Education (Stronger Argument)',\r\n        content:\r\n          \"<p>Requiring a stand-alone financial literacy course equips students with essential life skills in budgeting, credit, and investing. <span class='good-evidence'>States that implemented requirements report improved credit outcomes among young adults and reduced delinquency.</span> A dedicated course prevents the topic from being sidelined in other classes.</p>\",\r\n      },\r\n      passage2: {\r\n        title: 'Curriculum Streamlining Committee (Weaker Argument)',\r\n        content:\r\n          \"<p>The schedule is already crowded. <span class='bad-evidence'>Students can just learn money skills from their parents.</span> Requiring another course adds bureaucracy; optional workshops are sufficient.</p>\",\r\n      },\r\n    },\r\n  ];\r\n\r\n  // Auto-fill essay templates with article-specific data\r\n  const fillEssayTemplate = (template, passageData) => {\r\n    if (!passageData) return template;\r\n\r\n    const extractLastName = (title) => {\r\n      if (!title) return '[Author]';\r\n      // Match titles like Dr., Mr., Ms., etc. followed by names\r\n      const titleMatch = title.match(\r\n        /(?:Dr\\.|Mr\\.|Ms\\.|Mrs\\.|Prof\\.)\\s+([A-Z][a-z]+(?:\\s+[A-Z][a-z]+)*)/\r\n      );\r\n      if (titleMatch) {\r\n        return titleMatch[1].split(' ').pop();\r\n      }\r\n      const match = title.match(/([A-Z][a-z]+(?:\\s+[A-Z][a-z]+)*)/);\r\n      return match ? match[0].split(' ').pop() : '[Author]';\r\n    };\r\n\r\n    // Extract evidence snippets from passage content\r\n    const extractEvidence = (content) => {\r\n      if (!content) return 'data from reliable sources';\r\n      const match = content.match(\r\n        /<span class='good-evidence'>([^<]+)<\\/span>/\r\n      );\r\n      if (!match) return 'evidence from the passage';\r\n      const snippet = match[1].trim();\r\n      if (snippet.length > 90) {\r\n        const truncated = snippet.substring(0, 90).trim();\r\n        const lastSpace = truncated.lastIndexOf(' ');\r\n        return truncated.substring(0, lastSpace);\r\n      }\r\n      return snippet;\r\n    };\r\n\r\n    // Extract main claim/position from first sentence\r\n    const extractMainClaim = (content) => {\r\n      if (!content) return 'this argument presents a compelling perspective';\r\n      const textOnly = content.replace(/<[^>]+>/g, '').trim();\r\n      const firstSentence = textOnly.split(/[.!?]+/)[0];\r\n      if (!firstSentence)\r\n        return 'this argument presents a compelling perspective';\r\n      if (firstSentence.length > 120) {\r\n        const truncated = firstSentence.substring(0, 120).trim();\r\n        const lastSpace = truncated.lastIndexOf(' ');\r\n        return truncated.substring(0, lastSpace);\r\n      }\r\n      // Return claim without ending punctuation (template will add it)\r\n      return firstSentence.trim();\r\n    };\r\n\r\n    // Extract evidence type\r\n    const extractEvidenceType = (content) => {\r\n      if (!content) return 'evidence';\r\n      const types = [\r\n        'study',\r\n        'data',\r\n        'research',\r\n        'analysis',\r\n        'report',\r\n        'survey',\r\n        'poll',\r\n        'findings',\r\n      ];\r\n      const lowerContent = content.toLowerCase();\r\n      for (const type of types) {\r\n        if (lowerContent.includes(type)) return type;\r\n      }\r\n      return 'evidence';\r\n    };\r\n\r\n    const author1LastName = extractLastName(passageData.passage1?.title);\r\n    const author2LastName = extractLastName(passageData.passage2?.title);\r\n    const topic = passageData.topic || '[topic]';\r\n\r\n    // Determine stronger/weaker based on title indicators\r\n    const isPassage1Stronger = /stronger/i.test(\r\n      passageData.passage1?.title || ''\r\n    );\r\n    const strongerAuthor = isPassage1Stronger\r\n      ? author1LastName\r\n      : author2LastName;\r\n    const weakerAuthor = isPassage1Stronger ? author2LastName : author1LastName;\r\n\r\n    // Extract stronger passage data\r\n    const strongerPassage = isPassage1Stronger\r\n      ? passageData.passage1\r\n      : passageData.passage2;\r\n    const weakerPassage = isPassage1Stronger\r\n      ? passageData.passage2\r\n      : passageData.passage1;\r\n\r\n    const strongerClaim = extractMainClaim(strongerPassage?.content);\r\n    const weakerClaim = extractMainClaim(weakerPassage?.content);\r\n    const strongerEvidence = extractEvidence(strongerPassage?.content);\r\n    const weakerWeakness = weakerPassage?.content?.includes('bad-evidence')\r\n      ? 'reliance on anecdotal or unverified claims'\r\n      : 'lack of empirical support and concrete evidence';\r\n    const evidenceType = extractEvidenceType(strongerPassage?.content);\r\n\r\n    return template\r\n      .replace(/\\[topic of both articles\\]/g, topic)\r\n      .replace(/\\[Author 1's Last Name\\]/g, author1LastName)\r\n      .replace(/\\[Author 2's Last Name\\]/g, author2LastName)\r\n      .replace(\r\n        /\\[explain Author 1's main claim\\]/g,\r\n        extractMainClaim(passageData.passage1?.content)\r\n      )\r\n      .replace(\r\n        /\\[explain Author 2's main claim\\]/g,\r\n        extractMainClaim(passageData.passage2?.content)\r\n      )\r\n      .replace(/\\[Stronger Author's Last Name\\]/g, strongerAuthor)\r\n      .replace(/\\[Weaker Author's Last Name\\]/g, weakerAuthor)\r\n      .replace(/\\[Author's Last Name\\]/g, strongerAuthor)\r\n      .replace(/\\[type of evidence\\]/g, evidenceType)\r\n      .replace(/\\[\"quote or paraphrase\"\\]/g, `\"${strongerEvidence}\"`)\r\n      .replace(/\\[explain why\\]/g, 'it provides measurable, concrete support')\r\n      .replace(/\\[another type of evidence\\]/g, evidenceType)\r\n      .replace(/\\[identify a weakness\\]/g, weakerWeakness)\r\n      .replace(\r\n        /\\[list key evidence types\\]/g,\r\n        evidenceType + ' and expert testimony'\r\n      )\r\n      .replace(/\\[restate evidence types\\]/g, evidenceType);\r\n  };\r\n\r\n  useEffect(() => {\r\n    if (timerActive) {\r\n      intervalRef.current = setInterval(() => {\r\n        setTimer((prev) => {\r\n          const next = prev - 1;\r\n          if (next <= 0 && !overtimeNotified) {\r\n            // One-time notification when time runs out\r\n            setOvertimeNotified(true);\r\n          }\r\n          return next;\r\n        });\r\n      }, 1000);\r\n    }\r\n    return () => clearInterval(intervalRef.current);\r\n  }, [timerActive, overtimeNotified]);\r\n\r\n  useEffect(() => {\r\n    if (activeTab !== 'structure') {\r\n      setShowPromptOverlay(false);\r\n    }\r\n  }, [activeTab]);\r\n\r\n  useEffect(() => {\r\n    setOverlayView('prompt');\r\n  }, [selectedTopic]);\r\n\r\n  const [lockedTopic, setLockedTopic] = useState(null);\r\n\r\n  // Get filled templates for current passage\r\n  const currentPassage =\r\n    passagesData[lockedTopic !== null ? lockedTopic : selectedTopic];\r\n  const filledTemplates = useMemo(() => {\r\n    if (!currentPassage || essayMode !== 'guided') return essayTemplates;\r\n    return {\r\n      intro: fillEssayTemplate(essayTemplates.intro, currentPassage),\r\n      body1: fillEssayTemplate(essayTemplates.body1, currentPassage),\r\n      body2: fillEssayTemplate(essayTemplates.body2, currentPassage),\r\n      body3: fillEssayTemplate(essayTemplates.body3, currentPassage),\r\n      conclusion: fillEssayTemplate(essayTemplates.conclusion, currentPassage),\r\n    };\r\n  }, [currentPassage, essayMode, lockedTopic, selectedTopic]);\r\n\r\n  const startPractice = () => {\r\n    if (lockedTopic === null) {\r\n      setLockedTopic(selectedTopic);\r\n    }\r\n    setTimerActive(true);\r\n  };\r\n\r\n  const resetPractice = () => {\r\n    setTimerActive(false);\r\n    clearInterval(intervalRef.current);\r\n    setTimer(45 * 60);\r\n    setEssayText({\r\n      intro: '',\r\n      body1: '',\r\n      body2: '',\r\n      body3: '',\r\n      conclusion: '',\r\n    });\r\n    setScoreResult(null);\r\n    setOvertimeNotified(false);\r\n  };\r\n\r\n  const finishPractice = () => {\r\n    setTimerActive(false);\r\n    clearInterval(intervalRef.current);\r\n    setShowModal(true);\r\n  };\r\n\r\n  const handleTextChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setEssayText((prev) => ({ ...prev, [name]: value }));\r\n\r\n    // Check typing accuracy in Guided Mode\r\n    if (essayMode === 'guided' && filledTemplates[name]) {\r\n      checkTypingAccuracy(name, value, filledTemplates[name]);\r\n    }\r\n  };\r\n\r\n  const handleGetScore = async () => {\r\n    setIsScoring(true);\r\n    setScoreResult(null);\r\n    const fullEssay =\r\n      essayMode === 'freeform'\r\n        ? (essayText.freeform || '').trim()\r\n        : Object.values({\r\n            intro: essayText.intro,\r\n            body1: essayText.body1,\r\n            body2: essayText.body2,\r\n            body3: essayText.body3,\r\n            conclusion: essayText.conclusion,\r\n          })\r\n            .join('\\n\\n')\r\n            .trim();\r\n    const completionCount =\r\n      essayMode === 'freeform'\r\n        ? (essayText.freeform || '').trim()\r\n          ? 5\r\n          : 0\r\n        : Object.values({\r\n            intro: essayText.intro,\r\n            body1: essayText.body1,\r\n            body2: essayText.body2,\r\n            body3: essayText.body3,\r\n            conclusion: essayText.conclusion,\r\n          }).filter((text) => String(text).trim() !== '').length;\r\n\r\n    try {\r\n      const token =\r\n        (typeof localStorage !== 'undefined' &&\r\n          localStorage.getItem('appToken')) ||\r\n        null;\r\n      const response = await fetch(`${API_BASE_URL}/api/essay/score`, {\r\n        method: 'POST',\r\n        headers: {\r\n          'Content-Type': 'application/json',\r\n          ...(token ? { Authorization: `Bearer ${token}` } : {}),\r\n        },\r\n        body: JSON.stringify({\r\n          essayText: fullEssay,\r\n          completion: `${completionCount}/5`,\r\n        }),\r\n      });\r\n      if (!response.ok) throw new Error('Failed to get score from the server.');\r\n\r\n      const result = await response.json();\r\n      let parsedScore = null;\r\n      if (\r\n        result &&\r\n        result.trait1 &&\r\n        result.trait2 &&\r\n        result.trait3 &&\r\n        typeof result.overallScore === 'number'\r\n      ) {\r\n        parsedScore = result;\r\n      } else if (\r\n        result &&\r\n        result.candidates &&\r\n        result.candidates[0]?.content?.parts?.[0]?.text\r\n      ) {\r\n        let jsonText = result.candidates[0].content.parts[0].text;\r\n        jsonText = jsonText\r\n          .replace(/```json/g, '')\r\n          .replace(/```/g, '')\r\n          .trim();\r\n        parsedScore = JSON.parse(jsonText);\r\n      } else {\r\n        throw new Error('Unexpected essay score format');\r\n      }\r\n      setScoreResult(parsedScore);\r\n      // Fetch challenge suggestions after essay scoring\r\n      try {\r\n        const sugRes = await fetch(\r\n          `${API_BASE_URL}/api/challenges/suggestions`,\r\n          {\r\n            headers: {\r\n              ...(token ? { Authorization: `Bearer ${token}` } : {}),\r\n            },\r\n          }\r\n        );\r\n        if (sugRes.ok) {\r\n          const data = await sugRes.json();\r\n          console.log('[Essay Builder] Suggestions:', data);\r\n        }\r\n      } catch (_) {}\r\n    } catch (error) {\r\n      console.error('Error scoring essay:', error);\r\n      setScoreResult({\r\n        error: \"Sorry, we couldn't score your essay at this time.\",\r\n      });\r\n    } finally {\r\n      setIsScoring(false);\r\n    }\r\n  };\r\n\r\n  const formatTime = (seconds) => {\r\n    // Show +MM:SS for overtime (seconds < 0), MM:SS otherwise\r\n    const sign = seconds < 0 ? '+' : '';\r\n    const abs = Math.abs(seconds);\r\n    const mm = Math.floor(abs / 60);\r\n    const ss = (abs % 60).toString().padStart(2, '0');\r\n    return `${sign}${mm}:${ss}`;\r\n  };\r\n  const selectedPassage = passagesData[selectedTopic];\r\n  const promptSummary = selectedPassage\r\n    ? `After reading both passages about \"${selectedPassage.topic}\", write an essay in which you explain which author presents the more convincing argument. Support your response with evidence from both passages and explain why the evidence you cite supports your evaluation.`\r\n    : '';\r\n  const overlayButtons = [\r\n    { id: 'prompt', label: 'Essay Prompt', title: 'GED RLA Essay Prompt' },\r\n    {\r\n      id: 'passage1',\r\n      label: 'Passage A',\r\n      title: selectedPassage?.passage1?.title || 'Passage A',\r\n    },\r\n    {\r\n      id: 'passage2',\r\n      label: 'Passage B',\r\n      title: selectedPassage?.passage2?.title || 'Passage B',\r\n    },\r\n  ];\r\n\r\n  const renderOverlayBody = () => {\r\n    if (!selectedPassage) return null;\r\n    switch (overlayView) {\r\n      case 'passage1': {\r\n        const html = expandIfShort(\r\n          selectedPassage.topic,\r\n          selectedPassage.passage1.title,\r\n          selectedPassage.passage1.content\r\n        );\r\n        return (\r\n          <div\r\n            className=\"prose passage-section max-w-none text-sm text-slate-700\"\r\n            style={{ whiteSpace: 'pre-wrap' }}\r\n            dangerouslySetInnerHTML={{ __html: html }}\r\n          ></div>\r\n        );\r\n      }\r\n      case 'passage2': {\r\n        const html = expandIfShort(\r\n          selectedPassage.topic,\r\n          selectedPassage.passage2.title,\r\n          selectedPassage.passage2.content\r\n        );\r\n        return (\r\n          <div\r\n            className=\"prose passage-section max-w-none text-sm text-slate-700\"\r\n            style={{ whiteSpace: 'pre-wrap' }}\r\n            dangerouslySetInnerHTML={{ __html: html }}\r\n          ></div>\r\n        );\r\n      }\r\n      default:\r\n        return (\r\n          <div className=\"space-y-3 text-sm leading-relaxed text-slate-700\">\r\n            <p>{promptSummary}</p>\r\n            <ul className=\"list-disc pl-5 space-y-2\">\r\n              <li>\r\n                Clearly state which author presents the stronger argument on the\r\n                topic.\r\n              </li>\r\n              <li>\r\n                Use at least two specific pieces of evidence from the passages\r\n                to support your evaluation.\r\n              </li>\r\n              <li>\r\n                Explain why the evidence you cite strengthens one argument or\r\n                weakens the other.\r\n              </li>\r\n              <li>\r\n                Organize your ideas with an introduction, body paragraphs, and a\r\n                conclusion.\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        );\r\n    }\r\n  };\r\n\r\n  const renderTabs = () => (\r\n    <nav className=\"flex flex-wrap justify-center border-b-2 border-gray-300 mb-8\">\r\n      {['passages', 'structure', 'strengths', 'weaknesses'].map((tab) => (\r\n        <button\r\n          key={tab}\r\n          onClick={() => setActiveTab(tab)}\r\n          className={`tab-button text-lg font-semibold py-4 px-6 text-gray-600 capitalize ${\r\n            activeTab === tab ? 'active' : ''\r\n          }`}\r\n        >\r\n          {tab.replace('_', ' ')}\r\n        </button>\r\n      ))}\r\n    </nav>\r\n  );\r\n\r\n  const renderContent = () => {\r\n    switch (activeTab) {\r\n      case 'passages':\r\n        return (\r\n          <div>\r\n            <div className=\"mb-6 bg-white p-4 rounded-lg shadow-md\">\r\n              {/* Mode Selector - FIRST */}\r\n              <div className=\"mb-4 pb-4 border-b border-gray-200\">\r\n                <label className=\"block text-lg font-semibold text-gray-800 mb-3\">\r\n                  Choose Your Essay Mode:\r\n                </label>\r\n                <div className=\"grid grid-cols-1 md:grid-cols-3 gap-3\">\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => setEssayMode('standard')}\r\n                    disabled={lockedTopic !== null}\r\n                    className={`p-4 rounded-lg border-2 text-left transition-all ${\r\n                      essayMode === 'standard'\r\n                        ? 'border-blue-500 bg-blue-50 shadow-md'\r\n                        : 'border-gray-300 bg-white hover:border-blue-300'\r\n                    } ${\r\n                      lockedTopic !== null\r\n                        ? 'opacity-50 cursor-not-allowed'\r\n                        : 'cursor-pointer'\r\n                    }`}\r\n                  >\r\n                    <div className=\"font-bold text-gray-900 mb-1\">\r\n                       Standard Essay Mode\r\n                    </div>\r\n                    <div className=\"text-sm text-gray-600\">\r\n                      Traditional essay writing with structured sections\r\n                    </div>\r\n                  </button>\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => setEssayMode('guided')}\r\n                    disabled={lockedTopic !== null}\r\n                    className={`p-4 rounded-lg border-2 text-left transition-all ${\r\n                      essayMode === 'guided'\r\n                        ? 'border-green-500 bg-green-50 shadow-md'\r\n                        : 'border-gray-300 bg-white hover:border-green-300'\r\n                    } ${\r\n                      lockedTopic !== null\r\n                        ? 'opacity-50 cursor-not-allowed'\r\n                        : 'cursor-pointer'\r\n                    }`}\r\n                  >\r\n                    <div className=\"font-bold text-gray-900 mb-1\">\r\n                       Guided Essay Mode\r\n                    </div>\r\n                    <div className=\"text-sm text-gray-600\">\r\n                      Follow shadow templates with real-time accuracy tracking\r\n                    </div>\r\n                  </button>\r\n                  <button\r\n                    type=\"button\"\r\n                    onClick={() => setEssayMode('freeform')}\r\n                    disabled={lockedTopic !== null}\r\n                    className={`p-4 rounded-lg border-2 text-left transition-all ${\r\n                      essayMode === 'freeform'\r\n                        ? 'border-purple-500 bg-purple-50 shadow-md'\r\n                        : 'border-gray-300 bg-white hover:border-purple-300'\r\n                    } ${\r\n                      lockedTopic !== null\r\n                        ? 'opacity-50 cursor-not-allowed'\r\n                        : 'cursor-pointer'\r\n                    }`}\r\n                  >\r\n                    <div className=\"font-bold text-gray-900 mb-1\">\r\n                       Freeform Mode\r\n                    </div>\r\n                    <div className=\"text-sm text-gray-600\">\r\n                      Write in one continuous text area without structure\r\n                    </div>\r\n                  </button>\r\n                </div>\r\n              </div>\r\n\r\n              {/* Topic Selector - SECOND */}\r\n              <div className=\"mt-4 pt-4 border-t border-gray-200\">\r\n                <label\r\n                  htmlFor=\"topic-selector\"\r\n                  className=\"block text-lg font-semibold text-gray-800 mb-2\"\r\n                >\r\n                  Select an Article Topic:\r\n                </label>\r\n                <select\r\n                  id=\"topic-selector\"\r\n                  className=\"w-full p-2 border border-gray-300 rounded-md text-lg\"\r\n                  value={selectedTopic}\r\n                  disabled={lockedTopic !== null}\r\n                  onChange={(e) => {\r\n                    const nextIdx = Number(e.target.value);\r\n                    if (lockedTopic !== null && nextIdx !== lockedTopic) {\r\n                      const ok = window.confirm(\r\n                        'Switch topics? This will unlock and reset your current selection.'\r\n                      );\r\n                      if (!ok) return;\r\n                      setLockedTopic(nextIdx);\r\n                    }\r\n                    setSelectedTopic(nextIdx);\r\n                  }}\r\n                >\r\n                  {passagesData.map((p, i) => (\r\n                    <option key={i} value={i}>\r\n                      {p.topic}\r\n                    </option>\r\n                  ))}\r\n                </select>\r\n              </div>\r\n\r\n              {lockedTopic === null ? (\r\n                <button\r\n                  type=\"button\"\r\n                  onClick={() => {\r\n                    setLockedTopic(selectedTopic);\r\n                    setActiveTab('structure');\r\n                    setTimerActive(true);\r\n                  }}\r\n                  className=\"mt-4 inline-flex items-center rounded-md bg-blue-600 px-4 py-2 text-white font-semibold hover:bg-blue-700\"\r\n                >\r\n                  Start/Lock this topic\r\n                </button>\r\n              ) : (\r\n                <p className=\"mt-3 text-sm text-green-700\">\r\n                  Topic locked. You can start typing and open the prompt\r\n                  overlay.\r\n                </p>\r\n              )}\r\n            </div>\r\n            <div className=\"relative\">\r\n              {lockedTopic === null && (\r\n                <div className=\"absolute inset-0 z-10 flex items-center justify-center bg-white/60 backdrop-blur-sm rounded-lg\">\r\n                  <div className=\"text-center p-6 bg-white border rounded-lg shadow\">\r\n                    <p className=\"mb-3 font-semibold\">\r\n                      Press \"Start/Lock this topic\" to reveal passages and\r\n                      begin.\r\n                    </p>\r\n                    <button\r\n                      type=\"button\"\r\n                      onClick={() => {\r\n                        setLockedTopic(selectedTopic);\r\n                        setActiveTab('structure');\r\n                        setTimerActive(true);\r\n                      }}\r\n                      className=\"inline-flex items-center rounded-md bg-blue-600 px-3 py-2 text-white font-semibold hover:bg-blue-700\"\r\n                    >\r\n                      Start/Lock this topic\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              )}\r\n              <div\r\n                className=\"grid lg:grid-cols-2 gap-8\"\r\n                style={{ filter: lockedTopic === null ? 'blur(4px)' : 'none' }}\r\n              >\r\n                <article className=\"bg-white p-6 rounded-lg shadow-md essay-argument-column\">\r\n                  <h2 className=\"text-2xl font-bold mb-4 text-gray-900 border-b pb-2 question-stem\">\r\n                    {selectedPassage.passage1.title}\r\n                  </h2>\r\n                  <div\r\n                    className=\"essay-prompt-body\"\r\n                    style={{ whiteSpace: 'pre-wrap' }}\r\n                    dangerouslySetInnerHTML={{\r\n                      __html: expandIfShort(\r\n                        selectedPassage.topic,\r\n                        selectedPassage.passage1.title,\r\n                        selectedPassage.passage1.content\r\n                      ),\r\n                    }}\r\n                  />\r\n                </article>\r\n                <article className=\"bg-white p-6 rounded-lg shadow-md essay-argument-column\">\r\n                  <h2 className=\"text-2xl font-bold mb-4 text-gray-900 border-b pb-2 question-stem\">\r\n                    {selectedPassage.passage2.title}\r\n                  </h2>\r\n                  <div\r\n                    className=\"essay-prompt-body\"\r\n                    style={{ whiteSpace: 'pre-wrap' }}\r\n                    dangerouslySetInnerHTML={{\r\n                      __html: expandIfShort(\r\n                        selectedPassage.topic,\r\n                        selectedPassage.passage2.title,\r\n                        selectedPassage.passage2.content\r\n                      ),\r\n                    }}\r\n                  />\r\n                </article>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        );\r\n      case 'structure':\r\n        return (\r\n          <div className=\"space-y-6\">\r\n            <div className=\"bg-white p-4 rounded-lg shadow-inner mb-6 flex flex-col sm:flex-row items-center justify-between space-y-4 sm:space-y-0\">\r\n              <div className=\"text-center sm:text-left\">\r\n                <h3 className=\"text-xl font-bold text-gray-800\">\r\n                  Typing Practice Mode\r\n                </h3>\r\n                <p className=\"text-sm text-gray-600\">\r\n                  Click Start to begin a 45-minute timed session.\r\n                </p>\r\n              </div>\r\n              <div className=\"flex items-center space-x-2 sm:space-x-4\">\r\n                <button\r\n                  onClick={startPractice}\r\n                  disabled={timerActive}\r\n                  className=\"bg-green-500 hover:bg-green-600 text-white font-bold py-2 px-4 rounded transition-colors disabled:opacity-50\"\r\n                >\r\n                  Start\r\n                </button>\r\n                <div\r\n                  className={`text-3xl font-mono font-bold ${\r\n                    timer <= 0\r\n                      ? 'text-red-600'\r\n                      : timer < 300\r\n                      ? 'text-red-500'\r\n                      : 'text-gray-800'\r\n                  }`}\r\n                >\r\n                  {formatTime(timer)}\r\n                </div>\r\n                <button\r\n                  onClick={finishPractice}\r\n                  className=\"bg-blue-500 hover:bg-blue-600 text-white font-bold py-2 px-4 rounded transition-colors\"\r\n                >\r\n                  Finish & Review\r\n                </button>\r\n                <button\r\n                  onClick={resetPractice}\r\n                  className=\"bg-red-500 hover:bg-red-600 text-white font-bold py-2 px-4 rounded transition-colors\"\r\n                >\r\n                  Reset\r\n                </button>\r\n              </div>\r\n              {overtimeNotified && (\r\n                <div className=\"mt-3 w-full sm:w-auto bg-amber-50 border border-amber-200 text-amber-800 text-sm px-3 py-2 rounded\">\r\n                  Time is up, but you can still finish your work. The timer now\r\n                  shows overtime.\r\n                </div>\r\n              )}\r\n            </div>\r\n\r\n            <div className=\"bg-white dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700 rounded-lg p-4 flex flex-col md:flex-row md:items-center md:justify-between gap-3\">\r\n              <div>\r\n                <h4 className=\"text-lg font-semibold text-blue-900 dark:text-blue-100\">\r\n                  Need the prompt while you type?\r\n                </h4>\r\n                <p className=\"text-sm text-blue-800\">\r\n                  Open the overlay to view the essay prompt or either passage\r\n                  without leaving the practice screen.\r\n                </p>\r\n              </div>\r\n              <button\r\n                onClick={() => setShowPromptOverlay((prev) => !prev)}\r\n                className=\"self-start md:self-auto bg-blue-600 hover:bg-blue-700 text-white font-semibold px-4 py-2 rounded transition-colors\"\r\n              >\r\n                {showPromptOverlay\r\n                  ? 'Hide Prompt Overlay'\r\n                  : 'Show Prompt Overlay'}\r\n              </button>\r\n            </div>\r\n\r\n            {/* Pacing Feedback Toast */}\r\n            {pacingMessage && essayMode === 'guided' && (\r\n              <div className=\"mb-4 p-3 bg-white dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700 rounded-lg text-blue-900 dark:text-blue-100 text-sm fade-in\">\r\n                <div className=\"flex items-center gap-2\">\r\n                  <span className=\"font-semibold\"> Pacing Tip:</span>\r\n                  <span>{pacingMessage}</span>\r\n                  {wordsPerMinute > 0 && (\r\n                    <span className=\"ml-auto text-xs text-blue-700\">\r\n                      ({wordsPerMinute} WPM)\r\n                    </span>\r\n                  )}\r\n                </div>\r\n              </div>\r\n            )}\r\n\r\n            {/* Editor sections: standard vs guided vs freeform */}\r\n            {!showModal && essayMode === 'standard' ? (\r\n              <>\r\n                <div className=\"practice-section bg-white p-6 rounded-lg shadow-md\">\r\n                  <h3 className=\"text-2xl font-bold mb-3 text-gray-900\">\r\n                    Introduction Paragraph\r\n                  </h3>\r\n                  <div className=\"mb-3 p-3 bg-white dark:bg-blue-900/20 border border-blue-200 dark:border-blue-700 rounded-lg text-sm text-gray-700 dark:text-gray-300\">\r\n                    <strong className=\"text-blue-900\">Essay Format:</strong>{' '}\r\n                    State which author presents the stronger argument. Introduce\r\n                    both passages and preview your main points.\r\n                  </div>\r\n                  <div className=\"mb-3 p-4 bg-gray-50 border-l-4 border-blue-500 rounded text-sm text-gray-600 font-mono leading-relaxed\">\r\n                    <div className=\"font-bold text-blue-700 mb-2\">\r\n                      Template Structure:\r\n                    </div>\r\n                    The two passages present conflicting views on the topic of\r\n                    [topic of both articles]. In the first passage, [Author 1's\r\n                    Last Name] argues that [explain Author 1's main claim].\r\n                    Conversely, in the second passage, [Author 2's Last Name]\r\n                    claims that [explain Author 2's main claim]. After analyzing\r\n                    both arguments, it is clear that [Author's Last Name]\r\n                    presents the more convincing case by effectively using [list\r\n                    key evidence types].\r\n                  </div>\r\n                  <textarea\r\n                    name=\"intro\"\r\n                    onPaste={(e) => e.preventDefault()}\r\n                    value={essayText.intro}\r\n                    onChange={handleTextChange}\r\n                    disabled={!timerActive}\r\n                    className=\"practice-textarea w-full h-48 p-3 border-gray-300 rounded-md\"\r\n                    placeholder=\"Write your introduction paragraph here...\"\r\n                    onKeyDown={(e) => {\r\n                      if (e.key === 'Tab') {\r\n                        e.preventDefault();\r\n                        const t = e.target;\r\n                        const s = t.selectionStart;\r\n                        const epos = t.selectionEnd;\r\n                        const v = t.value;\r\n                        const ins = '    ';\r\n                        const next = v.slice(0, s) + ins + v.slice(epos);\r\n                        handleTextChange({\r\n                          target: { name: 'intro', value: next },\r\n                        });\r\n                        setTimeout(() => {\r\n                          try {\r\n                            t.selectionStart = t.selectionEnd = s + ins.length;\r\n                          } catch {}\r\n                        }, 0);\r\n                      }\r\n                    }}\r\n                  ></textarea>\r\n\r\n                  {/* Word Count */}\r\n                  <div className=\"mt-2 flex justify-between items-center text-sm\">\r\n                    <div className=\"text-gray-600\">\r\n                      <span className=\"font-semibold\">\r\n                        {wordCount(essayText.intro)}\r\n                      </span>{' '}\r\n                      words\r\n                      {' | '}\r\n                      <span className=\"font-semibold\">\r\n                        {(essayText.intro.match(/\\n\\n/g) || []).length + 1}\r\n                      </span>{' '}\r\n                      paragraphs\r\n                    </div>\r\n                    {essayText.intro &&\r\n                      essayText.intro.length > 20 &&\r\n                      !/thesis|argue|believe|claim|position|support|evidence/i.test(\r\n                        essayText.intro\r\n                      ) && (\r\n                        <div className=\"text-yellow-700 bg-yellow-50 px-3 py-1 rounded-md border border-yellow-300\">\r\n                           Tip: Ensure you state your main argument\r\n                        </div>\r\n                      )}\r\n                  </div>\r\n                </div>\r\n                <div className=\"practice-section bg-white p-6 rounded-lg shadow-md\">\r\n                  <h3 className=\"text-2xl font-bold mb-3 text-gray-900\">\r\n                    Body Paragraph #1: Analyze Strong Evidence\r\n                  </h3>\r\n                  <div className=\"mb-3 p-3 bg-green-50 border border-green-200 rounded-lg text-sm text-gray-700\">\r\n                    <strong className=\"text-green-900\">Essay Format:</strong>{' '}\r\n                    Present the first piece of strong evidence from the more\r\n                    convincing author. Quote or paraphrase, then explain why\r\n                    it's persuasive.\r\n                  </div>\r\n                  <div className=\"mb-3 p-4 bg-gray-50 border-l-4 border-green-500 rounded text-sm text-gray-600 font-mono leading-relaxed\">\r\n                    <div className=\"font-bold text-green-700 mb-2\">\r\n                      Template Structure:\r\n                    </div>\r\n                    First, [Stronger Author's Last Name] effectively builds\r\n                    their argument by using [type of evidence]. The author\r\n                    states, [\"quote or paraphrase\"]. This evidence is highly\r\n                    convincing because [explain why].\r\n                  </div>\r\n                  <textarea\r\n                    name=\"body1\"\r\n                    onPaste={(e) => e.preventDefault()}\r\n                    value={essayText.body1}\r\n                    onChange={handleTextChange}\r\n                    disabled={!timerActive}\r\n                    className=\"practice-textarea w-full h-32 p-3 border-gray-300 rounded-md\"\r\n                    placeholder=\"Write your first body paragraph here...\"\r\n                    onKeyDown={(e) => {\r\n                      if (e.key === 'Tab') {\r\n                        e.preventDefault();\r\n                        const t = e.target;\r\n                        const s = t.selectionStart;\r\n                        const epos = t.selectionEnd;\r\n                        const v = t.value;\r\n                        const ins = '    ';\r\n                        const next = v.slice(0, s) + ins + v.slice(epos);\r\n                        handleTextChange({\r\n                          target: { name: 'body1', value: next },\r\n                        });\r\n                        setTimeout(() => {\r\n                          try {\r\n                            t.selectionStart = t.selectionEnd = s + ins.length;\r\n                          } catch {}\r\n                        }, 0);\r\n                      }\r\n                    }}\r\n                  ></textarea>\r\n                </div>\r\n                <div className=\"practice-section bg-white p-6 rounded-lg shadow-md\">\r\n                  <h3 className=\"text-2xl font-bold mb-3 text-gray-900\">\r\n                    Body Paragraph #2: Analyze More Strong Evidence\r\n                  </h3>\r\n                  <div className=\"mb-3 p-3 bg-green-50 border border-green-200 rounded-lg text-sm text-gray-700\">\r\n                    <strong className=\"text-green-900\">Essay Format:</strong>{' '}\r\n                    Present a second piece of strong evidence from the more\r\n                    convincing author. Show how it further supports their\r\n                    argument.\r\n                  </div>\r\n                  <div className=\"mb-3 p-4 bg-gray-50 border-l-4 border-green-500 rounded text-sm text-gray-600 font-mono leading-relaxed\">\r\n                    <div className=\"font-bold text-green-700 mb-2\">\r\n                      Template Structure:\r\n                    </div>\r\n                    Furthermore, [Stronger Author's Last Name] strengthens their\r\n                    position with [another type of evidence]. For example, the\r\n                    author points out that [\"quote or paraphrase\"]. This is a\r\n                    logical and persuasive point because [explain why].\r\n                  </div>\r\n                  <textarea\r\n                    name=\"body2\"\r\n                    onPaste={(e) => e.preventDefault()}\r\n                    value={essayText.body2}\r\n                    onChange={handleTextChange}\r\n                    disabled={!timerActive}\r\n                    className=\"practice-textarea w-full h-32 p-3 border-gray-300 rounded-md\"\r\n                    placeholder=\"Write your second body paragraph here...\"\r\n                    onKeyDown={(e) => {\r\n                      if (e.key === 'Tab') {\r\n                        e.preventDefault();\r\n                        const t = e.target;\r\n                        const s = t.selectionStart;\r\n                        const epos = t.selectionEnd;\r\n                        const v = t.value;\r\n                        const ins = '    ';\r\n                        const next = v.slice(0, s) + ins + v.slice(epos);\r\n                        handleTextChange({\r\n                          target: { name: 'body2', value: next },\r\n                        });\r\n                        setTimeout(() => {\r\n                          try {\r\n                            t.selectionStart = t.selectionEnd = s + ins.length;\r\n                          } catch {}\r\n                        }, 0);\r\n                      }\r\n                    }}\r\n                  ></textarea>\r\n                </div>\r\n                <div className=\"practice-section bg-white p-6 rounded-lg shadow-md\">\r\n                  <h3 className=\"text-2xl font-bold mb-3 text-gray-900\">\r\n                    Body Paragraph #3: Analyze the Weaker Argument\r\n                  </h3>\r\n                  <div className=\"mb-3 p-3 bg-amber-50 border border-amber-200 rounded-lg text-sm text-gray-700\">\r\n                    <strong className=\"text-amber-900\">Essay Format:</strong>{' '}\r\n                    Identify a weakness in the opposing author's argument.\r\n                    Explain why their evidence is less convincing or flawed.\r\n                  </div>\r\n                  <div className=\"mb-3 p-4 bg-gray-50 border-l-4 border-amber-500 rounded text-sm text-gray-600 font-mono leading-relaxed\">\r\n                    <div className=\"font-bold text-amber-700 mb-2\">\r\n                      Template Structure:\r\n                    </div>\r\n                    In contrast, the argument presented by [Weaker Author's Last\r\n                    Name] is not as well-supported. A key weakness is the\r\n                    author's reliance on [identify a weakness]. For instance,\r\n                    the author claims that [\"quote or paraphrase\"]. This\r\n                    argument is unconvincing because [explain why].\r\n                  </div>\r\n                  <textarea\r\n                    name=\"body3\"\r\n                    onPaste={(e) => e.preventDefault()}\r\n                    value={essayText.body3}\r\n                    onChange={handleTextChange}\r\n                    disabled={!timerActive}\r\n                    className=\"practice-textarea w-full h-32 p-3 border-gray-300 rounded-md\"\r\n                    placeholder=\"Write your third body paragraph here...\"\r\n                    onKeyDown={(e) => {\r\n                      if (e.key === 'Tab') {\r\n                        e.preventDefault();\r\n                        const t = e.target;\r\n                        const s = t.selectionStart;\r\n                        const epos = t.selectionEnd;\r\n                        const v = t.value;\r\n                        const ins = '    ';\r\n                        const next = v.slice(0, s) + ins + v.slice(epos);\r\n                        handleTextChange({\r\n                          target: { name: 'body3', value: next },\r\n                        });\r\n                        setTimeout(() => {\r\n                          try {\r\n                            t.selectionStart = t.selectionEnd = s + ins.length;\r\n                          } catch {}\r\n                        }, 0);\r\n                      }\r\n                    }}\r\n                  ></textarea>\r\n                </div>\r\n                <div className=\"practice-section bg-white p-6 rounded-lg shadow-md\">\r\n                  <h3 className=\"text-2xl font-bold mb-3 text-gray-900\">\r\n                    Conclusion Paragraph\r\n                  </h3>\r\n                  <div className=\"mb-3 p-3 bg-purple-50 border border-purple-200 rounded-lg text-sm text-gray-700\">\r\n                    <strong className=\"text-purple-900\">Essay Format:</strong>{' '}\r\n                    Restate your position and summarize why the stronger\r\n                    author's evidence is more persuasive. Close with a final\r\n                    thought.\r\n                  </div>\r\n                  <div className=\"mb-3 p-4 bg-gray-50 border-l-4 border-purple-500 rounded text-sm text-gray-600 font-mono leading-relaxed\">\r\n                    <div className=\"font-bold text-purple-700 mb-2\">\r\n                      Template Structure:\r\n                    </div>\r\n                    In conclusion, while both authors address the topic,\r\n                    [Stronger Author's Last Name] presents a more compelling\r\n                    argument. By skillfully using [restate evidence types], the\r\n                    author builds a case that is more persuasive than the weakly\r\n                    supported claims by [Weaker Author's Last Name].\r\n                  </div>\r\n                  <textarea\r\n                    name=\"conclusion\"\r\n                    onPaste={(e) => e.preventDefault()}\r\n                    value={essayText.conclusion}\r\n                    onChange={handleTextChange}\r\n                    disabled={!timerActive}\r\n                    className=\"practice-textarea w-full h-40 p-3 border-gray-300 rounded-md\"\r\n                    placeholder=\"Write your conclusion paragraph here...\"\r\n                    onKeyDown={(e) => {\r\n                      if (e.key === 'Tab') {\r\n                        e.preventDefault();\r\n                        const t = e.target;\r\n                        const s = t.selectionStart;\r\n                        const epos = t.selectionEnd;\r\n                        const v = t.value;\r\n                        const ins = '    ';\r\n                        const next = v.slice(0, s) + ins + v.slice(epos);\r\n                        handleTextChange({\r\n                          target: { name: 'conclusion', value: next },\r\n                        });\r\n                        setTimeout(() => {\r\n                          try {\r\n                            t.selectionStart = t.selectionEnd = s + ins.length;\r\n                          } catch {}\r\n                        }, 0);\r\n                      }\r\n                    }}\r\n                  ></textarea>\r\n                </div>\r\n              </>\r\n            ) : !showModal && essayMode === 'guided' ? (\r\n              <>\r\n                <div className=\"practice-section bg-white p-6 rounded-lg shadow-md\">\r\n                  <h3 className=\"text-2xl font-bold mb-3 text-gray-900\">\r\n                    Introduction Paragraph\r\n                  </h3>\r\n                  <div style={{ position: 'relative' }}>\r\n                    <textarea\r\n                      name=\"intro\"\r\n                      onPaste={(e) => e.preventDefault()}\r\n                      value={essayText.intro}\r\n                      onChange={handleTextChange}\r\n                      disabled={!timerActive}\r\n                      className=\"w-full h-48\"\r\n                      style={{\r\n                        position: 'relative',\r\n                        background: 'transparent',\r\n                        zIndex: 2,\r\n                        padding: '0.5rem',\r\n                        fontFamily: 'inherit',\r\n                        fontSize: 'inherit',\r\n                        lineHeight: 'inherit',\r\n                        margin: 0,\r\n                        resize: 'none',\r\n                        border: 'none',\r\n                        outline: 'none',\r\n                        boxSizing: 'border-box',\r\n                      }}\r\n                      onKeyDown={(e) => {\r\n                        if (e.key === 'Tab') {\r\n                          e.preventDefault();\r\n                          const t = e.target;\r\n                          const s = t.selectionStart;\r\n                          const epos = t.selectionEnd;\r\n                          const v = t.value;\r\n                          const ins = '    ';\r\n                          const next = v.slice(0, s) + ins + v.slice(epos);\r\n                          handleTextChange({\r\n                            target: { name: 'intro', value: next },\r\n                          });\r\n                          setTimeout(() => {\r\n                            try {\r\n                              t.selectionStart = t.selectionEnd =\r\n                                s + ins.length;\r\n                            } catch {}\r\n                          }, 0);\r\n                        }\r\n                      }}\r\n                    ></textarea>\r\n                    {/* Shadow overlay */}\r\n                    <div style={getShadowStyle()} aria-hidden=\"true\">\r\n                      {filledTemplates.intro}\r\n                    </div>\r\n                    {/* Accuracy indicator */}\r\n                    {essayText.intro && !typingAccuracy.intro.correct && (\r\n                      <div className=\"mt-1 text-xs text-red-600\">\r\n                         Text doesn't match the template structure\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n\r\n                  {/* PREMIUM: Word Count & Heuristic Check */}\r\n                  <div className=\"mt-2 flex justify-between items-center text-sm\">\r\n                    <div className=\"text-gray-600\">\r\n                      <span className=\"font-semibold\">\r\n                        {wordCount(essayText.intro)}\r\n                      </span>{' '}\r\n                      words\r\n                      {' | '}\r\n                      <span className=\"font-semibold\">\r\n                        {(essayText.intro.match(/\\n\\n/g) || []).length + 1}\r\n                      </span>{' '}\r\n                      paragraphs\r\n                    </div>\r\n                    {essayText.intro &&\r\n                      essayText.intro.length > 20 &&\r\n                      !/thesis|argue|believe|claim|position|support|evidence/i.test(\r\n                        essayText.intro\r\n                      ) && (\r\n                        <div className=\"text-yellow-700 bg-yellow-50 px-3 py-1 rounded-md border border-yellow-300\">\r\n                           Tip: Ensure you state your main argument\r\n                        </div>\r\n                      )}\r\n                  </div>\r\n                </div>\r\n                <div className=\"practice-section bg-white p-6 rounded-lg shadow-md\">\r\n                  <h3 className=\"text-2xl font-bold mb-3 text-gray-900\">\r\n                    Body Paragraph #1: Analyze Strong Evidence\r\n                  </h3>\r\n                  <div style={{ position: 'relative' }}>\r\n                    <textarea\r\n                      name=\"body1\"\r\n                      onPaste={(e) => e.preventDefault()}\r\n                      value={essayText.body1}\r\n                      onChange={handleTextChange}\r\n                      disabled={!timerActive}\r\n                      className=\"w-full h-32\"\r\n                      style={{\r\n                        position: 'relative',\r\n                        background: 'transparent',\r\n                        zIndex: 2,\r\n                        padding: '0.5rem',\r\n                        fontFamily: 'inherit',\r\n                        fontSize: 'inherit',\r\n                        lineHeight: 'inherit',\r\n                        margin: 0,\r\n                        resize: 'none',\r\n                        border: 'none',\r\n                        outline: 'none',\r\n                        boxSizing: 'border-box',\r\n                      }}\r\n                      onKeyDown={(e) => {\r\n                        if (e.key === 'Tab') {\r\n                          e.preventDefault();\r\n                          const t = e.target;\r\n                          const s = t.selectionStart;\r\n                          const epos = t.selectionEnd;\r\n                          const v = t.value;\r\n                          const ins = '    ';\r\n                          const next = v.slice(0, s) + ins + v.slice(epos);\r\n                          handleTextChange({\r\n                            target: { name: 'body1', value: next },\r\n                          });\r\n                          setTimeout(() => {\r\n                            try {\r\n                              t.selectionStart = t.selectionEnd =\r\n                                s + ins.length;\r\n                            } catch {}\r\n                          }, 0);\r\n                        }\r\n                      }}\r\n                    ></textarea>\r\n                    <div style={getShadowStyle()} aria-hidden=\"true\">\r\n                      {filledTemplates.body1}\r\n                    </div>\r\n                    {essayText.body1 && !typingAccuracy.body1.correct && (\r\n                      <div className=\"mt-1 text-xs text-red-600\">\r\n                         Text doesn't match the template structure\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n                <div className=\"practice-section bg-white p-6 rounded-lg shadow-md\">\r\n                  <h3 className=\"text-2xl font-bold mb-3 text-gray-900\">\r\n                    Body Paragraph #2: Analyze More Strong Evidence\r\n                  </h3>\r\n                  <div style={{ position: 'relative' }}>\r\n                    <textarea\r\n                      name=\"body2\"\r\n                      onPaste={(e) => e.preventDefault()}\r\n                      value={essayText.body2}\r\n                      onChange={handleTextChange}\r\n                      disabled={!timerActive}\r\n                      className=\"w-full h-32\"\r\n                      style={{\r\n                        position: 'relative',\r\n                        background: 'transparent',\r\n                        zIndex: 2,\r\n                        padding: '0.5rem',\r\n                        fontFamily: 'inherit',\r\n                        fontSize: 'inherit',\r\n                        lineHeight: 'inherit',\r\n                        margin: 0,\r\n                        resize: 'none',\r\n                        border: 'none',\r\n                        outline: 'none',\r\n                        boxSizing: 'border-box',\r\n                      }}\r\n                      onKeyDown={(e) => {\r\n                        if (e.key === 'Tab') {\r\n                          e.preventDefault();\r\n                          const t = e.target;\r\n                          const s = t.selectionStart;\r\n                          const epos = t.selectionEnd;\r\n                          const v = t.value;\r\n                          const ins = '    ';\r\n                          const next = v.slice(0, s) + ins + v.slice(epos);\r\n                          handleTextChange({\r\n                            target: { name: 'body2', value: next },\r\n                          });\r\n                          setTimeout(() => {\r\n                            try {\r\n                              t.selectionStart = t.selectionEnd =\r\n                                s + ins.length;\r\n                            } catch {}\r\n                          }, 0);\r\n                        }\r\n                      }}\r\n                    ></textarea>\r\n                    <div style={getShadowStyle()} aria-hidden=\"true\">\r\n                      {filledTemplates.body2}\r\n                    </div>\r\n                    {essayText.body2 && !typingAccuracy.body2.correct && (\r\n                      <div className=\"mt-1 text-xs text-red-600\">\r\n                         Text doesn't match the template structure\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n                <div className=\"practice-section bg-white p-6 rounded-lg shadow-md\">\r\n                  <h3 className=\"text-2xl font-bold mb-3 text-gray-900\">\r\n                    Body Paragraph #3: Analyze the Weaker Argument\r\n                  </h3>\r\n                  <div style={{ position: 'relative' }}>\r\n                    <textarea\r\n                      name=\"body3\"\r\n                      onPaste={(e) => e.preventDefault()}\r\n                      value={essayText.body3}\r\n                      onChange={handleTextChange}\r\n                      disabled={!timerActive}\r\n                      className=\"w-full h-32\"\r\n                      style={{\r\n                        position: 'relative',\r\n                        background: 'transparent',\r\n                        zIndex: 2,\r\n                        padding: '0.5rem',\r\n                        fontFamily: 'inherit',\r\n                        fontSize: 'inherit',\r\n                        lineHeight: 'inherit',\r\n                        margin: 0,\r\n                        resize: 'none',\r\n                        border: 'none',\r\n                        outline: 'none',\r\n                        boxSizing: 'border-box',\r\n                      }}\r\n                      onKeyDown={(e) => {\r\n                        if (e.key === 'Tab') {\r\n                          e.preventDefault();\r\n                          const t = e.target;\r\n                          const s = t.selectionStart;\r\n                          const epos = t.selectionEnd;\r\n                          const v = t.value;\r\n                          const ins = '    ';\r\n                          const next = v.slice(0, s) + ins + v.slice(epos);\r\n                          handleTextChange({\r\n                            target: { name: 'body3', value: next },\r\n                          });\r\n                          setTimeout(() => {\r\n                            try {\r\n                              t.selectionStart = t.selectionEnd =\r\n                                s + ins.length;\r\n                            } catch {}\r\n                          }, 0);\r\n                        }\r\n                      }}\r\n                    ></textarea>\r\n                    <div style={getShadowStyle()} aria-hidden=\"true\">\r\n                      {filledTemplates.body3}\r\n                    </div>\r\n                    {essayText.body3 && !typingAccuracy.body3.correct && (\r\n                      <div className=\"mt-1 text-xs text-red-600\">\r\n                         Text doesn't match the template structure\r\n                      </div>\r\n                    )}\r\n                  </div>\r\n                </div>\r\n                <div className=\"practice-section bg-white p-6 rounded-lg shadow-md\">\r\n                  <h3 className=\"text-2xl font-bold mb-3 text-gray-900\">\r\n                    Conclusion Paragraph\r\n                  </h3>\r\n                  <div style={{ position: 'relative' }}>\r\n                    <textarea\r\n                      name=\"conclusion\"\r\n                      onPaste={(e) => e.preventDefault()}\r\n                      value={essayText.conclusion}\r\n                      onChange={handleTextChange}\r\n                      disabled={!timerActive}\r\n                      className=\"w-full h-40\"\r\n                      style={{\r\n                        position: 'relative',\r\n                        background: 'transparent',\r\n                        zIndex: 2,\r\n                        padding: '0.5rem',\r\n                        fontFamily: 'inherit',\r\n                        fontSize: 'inherit',\r\n                        lineHeight: 'inherit',\r\n                        margin: 0,\r\n                        resize: 'none',\r\n                        border: 'none',\r\n                        outline: 'none',\r\n                        boxSizing: 'border-box',\r\n                      }}\r\n                      onKeyDown={(e) => {\r\n                        if (e.key === 'Tab') {\r\n                          e.preventDefault();\r\n                          const t = e.target;\r\n                          const s = t.selectionStart;\r\n                          const epos = t.selectionEnd;\r\n                          const v = t.value;\r\n                          const ins = '    ';\r\n                          const next = v.slice(0, s) + ins + v.slice(epos);\r\n                          handleTextChange({\r\n                            target: { name: 'conclusion', value: next },\r\n                          });\r\n                          setTimeout(() => {\r\n                            try {\r\n                              t.selectionStart = t.selectionEnd =\r\n                                s + ins.length;\r\n                            } catch {}\r\n                          }, 0);\r\n                        }\r\n                      }}\r\n                    ></textarea>\r\n                    <div style={getShadowStyle()} aria-hidden=\"true\">\r\n                      {filledTemplates.conclusion}\r\n                    </div>\r\n                    {essayText.conclusion &&\r\n                      !typingAccuracy.conclusion.correct && (\r\n                        <div className=\"mt-1 text-xs text-red-600\">\r\n                           Text doesn't match the template structure\r\n                        </div>\r\n                      )}\r\n                  </div>\r\n                </div>\r\n              </>\r\n            ) : !showModal ? (\r\n              <div className=\"practice-section bg-white p-6 rounded-lg shadow-md\">\r\n                <h3 className=\"text-2xl font-bold mb-3 text-gray-900\">\r\n                  Freeform Essay\r\n                </h3>\r\n                <p className=\"text-gray-700 leading-relaxed mb-4\">\r\n                  Write your essay in one place. You can still open the prompt\r\n                  overlay to reference the passages.\r\n                </p>\r\n                <textarea\r\n                  name=\"freeform\"\r\n                  onPaste={(e) => e.preventDefault()}\r\n                  value={essayText.freeform || ''}\r\n                  onChange={handleTextChange}\r\n                  disabled={!timerActive}\r\n                  className=\"practice-textarea w-full h-[32rem] p-3 border-gray-300 rounded-md\"\r\n                  placeholder=\"Type your essay here...\"\r\n                  onKeyDown={(e) => {\r\n                    if (e.key === 'Tab') {\r\n                      e.preventDefault();\r\n                      const t = e.target;\r\n                      const s = t.selectionStart;\r\n                      const epos = t.selectionEnd;\r\n                      const v = t.value;\r\n                      const ins = '    ';\r\n                      const next = v.slice(0, s) + ins + v.slice(epos);\r\n                      handleTextChange({\r\n                        target: { name: 'freeform', value: next },\r\n                      });\r\n                      setTimeout(() => {\r\n                        try {\r\n                          t.selectionStart = t.selectionEnd = s + ins.length;\r\n                        } catch {}\r\n                      }, 0);\r\n                    }\r\n                  }}\r\n                ></textarea>\r\n              </div>\r\n            ) : null}\r\n          </div>\r\n        );\r\n      case 'strengths':\r\n        return (\r\n          <div className=\"grid md:grid-cols-2 gap-6\">\r\n            <div className=\"p-6 rounded-lg bg-green-50 border border-green-200\">\r\n              <h4 className=\"text-xl font-bold mb-2 text-green-800\">\r\n                Statistical Data\r\n              </h4>\r\n              <p className=\"text-gray-700\">\r\n                Using numbers, percentages, or data from credible sources (e.g.,\r\n                studies, reports). This provides objective proof for a claim.\r\n              </p>\r\n            </div>\r\n            <div className=\"p-6 rounded-lg bg-green-50 border border-green-200\">\r\n              <h4 className=\"text-xl font-bold mb-2 text-green-800\">\r\n                Expert Testimony\r\n              </h4>\r\n              <p className=\"text-gray-700\">\r\n                Quoting a recognized expert or authority in a relevant field.\r\n                This adds credibility to the argument.\r\n              </p>\r\n            </div>\r\n            <div className=\"p-6 rounded-lg bg-green-50 border border-green-200\">\r\n              <h4 className=\"text-xl font-bold mb-2 text-green-800\">\r\n                Logical Reasoning\r\n              </h4>\r\n              <p className=\"text-gray-700\">\r\n                Connecting ideas in a clear, cause-and-effect manner that shows\r\n                the author has thought through their position.\r\n              </p>\r\n            </div>\r\n            <div className=\"p-6 rounded-lg bg-green-50 border border-green-200\">\r\n              <h4 className=\"text-xl font-bold mb-2 text-green-800\">\r\n                Historical Precedent\r\n              </h4>\r\n              <p className=\"text-gray-700\">\r\n                Using a past event to support a claim about a present or future\r\n                situation. This shows a pattern of results.\r\n              </p>\r\n            </div>\r\n          </div>\r\n        );\r\n      case 'weaknesses':\r\n        return (\r\n          <div className=\"grid md:grid-cols-2 gap-6\">\r\n            <div className=\"p-6 rounded-lg bg-red-50 border border-red-200\">\r\n              <h4 className=\"text-xl font-bold mb-2 text-red-800\">\r\n                Unsupported Claims\r\n              </h4>\r\n              <p className=\"text-gray-700\">\r\n                Making a statement of fact without providing any evidence to\r\n                back it up. It's an opinion disguised as a fact.\r\n              </p>\r\n            </div>\r\n            <div className=\"p-6 rounded-lg bg-red-50 border border-red-200\">\r\n              <h4 className=\"text-xl font-bold mb-2 text-red-800\">\r\n                Overgeneralization\r\n              </h4>\r\n              <p className=\"text-gray-700\">\r\n                Drawing a broad conclusion from a very small or unrepresentative\r\n                sample of evidence.\r\n              </p>\r\n            </div>\r\n            <div className=\"p-6 rounded-lg bg-red-50 border border-red-200\">\r\n              <h4 className=\"text-xl font-bold mb-2 text-red-800\">\r\n                Anecdotal Evidence\r\n              </h4>\r\n              <p className=\"text-gray-700\">\r\n                Using a personal story or a single, isolated example as proof\r\n                for a major claim, instead of broader data.\r\n              </p>\r\n            </div>\r\n            <div className=\"p-6 rounded-lg bg-red-50 border border-red-200\">\r\n              <h4 className=\"text-xl font-bold mb-2 text-red-800\">\r\n                Emotional Appeal\r\n              </h4>\r\n              <p className=\"text-gray-700\">\r\n                Trying to persuade the reader by appealing to their feelings\r\n                (fear, pity, anger) instead of using logic and facts.\r\n              </p>\r\n            </div>\r\n          </div>\r\n        );\r\n      default:\r\n        return null;\r\n    }\r\n  };\r\n\r\n  const renderModalContent = () => {\r\n    const fullEssay =\r\n      essayMode === 'freeform'\r\n        ? (essayText.freeform || '').trim()\r\n        : Object.values({\r\n            intro: essayText.intro,\r\n            body1: essayText.body1,\r\n            body2: essayText.body2,\r\n            body3: essayText.body3,\r\n            conclusion: essayText.conclusion,\r\n          })\r\n            .join('\\n\\n')\r\n            .trim();\r\n\r\n    // Calculate Guided Mode statistics\r\n    const guidedStats =\r\n      essayMode === 'guided'\r\n        ? {\r\n            totalWords: wordCount(fullEssay),\r\n            timeSpent: Math.max(0, 45 * 60 - timer),\r\n            sectionsCompleted: Object.values(essayText).filter(\r\n              (t) => String(t).trim().length > 20\r\n            ).length,\r\n            avgAccuracy:\r\n              (Object.values(typingAccuracy).reduce(\r\n                (sum, s) => sum + (s.correct ? 1 : 0),\r\n                0\r\n              ) /\r\n                5) *\r\n              100,\r\n            wpm:\r\n              wordsPerMinute ||\r\n              (fullEssay\r\n                ? Math.round(\r\n                    wordCount(fullEssay) / Math.max(1, (45 * 60 - timer) / 60)\r\n                  )\r\n                : 0),\r\n          }\r\n        : null;\r\n\r\n    return (\r\n      <>\r\n        <div className=\"p-8 prose max-w-none\">\r\n          {fullEssay ? (\r\n            <div>\r\n              {fullEssay\r\n                .split(/\\n\\n+/)\r\n                .filter((p) => p.trim())\r\n                .map((p, idx) => (\r\n                  <p\r\n                    key={idx}\r\n                    style={{ textIndent: '2em', marginBottom: '1em' }}\r\n                  >\r\n                    {p.trim()}\r\n                  </p>\r\n                ))}\r\n            </div>\r\n          ) : (\r\n            <p>\r\n              <em>You did not write anything in the practice area.</em>\r\n            </p>\r\n          )}\r\n        </div>\r\n\r\n        {/* Guided Mode Summary Statistics */}\r\n        {essayMode === 'guided' && guidedStats && fullEssay && (\r\n          <div className=\"px-6 py-4 bg-gradient-to-r from-blue-50 to-indigo-50 border-t border-b\">\r\n            <h4 className=\"text-lg font-bold text-indigo-900 mb-3\">\r\n               Guided Mode Practice Summary\r\n            </h4>\r\n            <div className=\"grid grid-cols-2 md:grid-cols-3 gap-4 text-sm\">\r\n              <div className=\"bg-white rounded-lg p-3 shadow-sm\">\r\n                <div className=\"text-gray-600 text-xs\">Total Words</div>\r\n                <div className=\"text-2xl font-bold text-indigo-600\">\r\n                  {guidedStats.totalWords}\r\n                </div>\r\n              </div>\r\n              <div className=\"bg-white rounded-lg p-3 shadow-sm\">\r\n                <div className=\"text-gray-600 text-xs\">Writing Speed</div>\r\n                <div className=\"text-2xl font-bold text-indigo-600\">\r\n                  {guidedStats.wpm} <span className=\"text-sm\">WPM</span>\r\n                </div>\r\n              </div>\r\n              <div className=\"bg-white rounded-lg p-3 shadow-sm\">\r\n                <div className=\"text-gray-600 text-xs\">Time Spent</div>\r\n                <div className=\"text-2xl font-bold text-indigo-600\">\r\n                  {Math.floor(guidedStats.timeSpent / 60)}\r\n                  <span className=\"text-sm\">m</span>\r\n                </div>\r\n              </div>\r\n              <div className=\"bg-white rounded-lg p-3 shadow-sm\">\r\n                <div className=\"text-gray-600 text-xs\">Sections Completed</div>\r\n                <div className=\"text-2xl font-bold text-indigo-600\">\r\n                  {guidedStats.sectionsCompleted}/5\r\n                </div>\r\n              </div>\r\n              <div className=\"bg-white rounded-lg p-3 shadow-sm\">\r\n                <div className=\"text-gray-600 text-xs\">Template Accuracy</div>\r\n                <div className=\"text-2xl font-bold text-indigo-600\">\r\n                  {Math.round(guidedStats.avgAccuracy)}%\r\n                </div>\r\n              </div>\r\n              <div className=\"bg-white rounded-lg p-3 shadow-sm\">\r\n                <div className=\"text-gray-600 text-xs\">Completion</div>\r\n                <div className=\"text-2xl font-bold text-indigo-600\">\r\n                  {Math.round((guidedStats.sectionsCompleted / 5) * 100)}%\r\n                </div>\r\n              </div>\r\n            </div>\r\n            <p className=\"mt-3 text-xs text-gray-600 italic\">\r\n               This is a guided practice tool. Stats show your structure\r\n              reinforcement progress.\r\n            </p>\r\n          </div>\r\n        )}\r\n\r\n        <div className=\"p-6 border-t bg-gray-50 space-y-4\">\r\n          {essayMode === 'guided' ? (\r\n            <div className=\"p-4 bg-blue-50 border border-blue-200 rounded-lg text-blue-900\">\r\n              <p className=\"font-semibold mb-2\"> Guided Mode Practice</p>\r\n              <p className=\"text-sm\">\r\n                This mode is designed for structure reinforcement and template\r\n                practice. AI grading is not available for guided mode essays.\r\n                Switch to Standard or Freeform mode to receive AI feedback on\r\n                your writing.\r\n              </p>\r\n            </div>\r\n          ) : (\r\n            <button\r\n              onClick={handleGetScore}\r\n              disabled={isScoring || !fullEssay}\r\n              className=\"w-full bg-indigo-500 hover:bg-indigo-600 text-white font-bold py-3 px-4 rounded transition-colors disabled:opacity-50 disabled:cursor-not-allowed\"\r\n            >\r\n              {isScoring ? 'Scoring...' : 'Get AI Score & Feedback'}\r\n            </button>\r\n          )}\r\n          {scoreResult && essayMode !== 'guided' && (\r\n            <div className=\"mt-4 p-4 bg-indigo-50 rounded-lg text-left\">\r\n              {scoreResult.error ? (\r\n                <p className=\"text-red-600\">{scoreResult.error}</p>\r\n              ) : (\r\n                <div>\r\n                  <h4 className=\"text-xl font-bold text-indigo-800\">\r\n                    AI Feedback\r\n                  </h4>\r\n                  <p className=\"mt-2\">\r\n                    <strong>Overall Score:</strong> {scoreResult.overallScore}/6\r\n                  </p>\r\n                  <p className=\"mt-1\">\r\n                    <strong>Feedback:</strong> {scoreResult.overallFeedback}\r\n                  </p>\r\n                  <details className=\"mt-2\">\r\n                    <summary className=\"font-semibold cursor-pointer\">\r\n                      View Trait-by-Trait Breakdown\r\n                    </summary>\r\n                    <div className=\"mt-2 pl-4 border-l-2 border-indigo-200\">\r\n                      <p>\r\n                        <strong>Trait 1 (Analysis):</strong> Score{' '}\r\n                        {scoreResult.trait1.score}/2.{' '}\r\n                        {scoreResult.trait1.feedback}\r\n                      </p>\r\n                      <p>\r\n                        <strong>Trait 2 (Evidence):</strong> Score{' '}\r\n                        {scoreResult.trait2.score}/2.{' '}\r\n                        {scoreResult.trait2.feedback}\r\n                      </p>\r\n                      <p>\r\n                        <strong>Trait 3 (Clarity):</strong> Score{' '}\r\n                        {scoreResult.trait3.score}/2.{' '}\r\n                        {scoreResult.trait3.feedback}\r\n                      </p>\r\n                    </div>\r\n                  </details>\r\n                </div>\r\n              )}\r\n            </div>\r\n          )}\r\n        </div>\r\n      </>\r\n    );\r\n  };\r\n\r\n  return (\r\n    <div\r\n      className=\"fade-in essay-practice-shell\"\r\n      data-subject=\"Reasoning Through Language Arts (RLA)\"\r\n    >\r\n      <header className=\"flex justify-between items-center pb-4 mb-4 border-b\">\r\n        <button\r\n          onClick={onExit}\r\n          className=\"flex items-center gap-1 text-sm text-slate-600 hover:text-sky-600 font-semibold\"\r\n        >\r\n          <ArrowLeftIcon /> Back\r\n        </button>\r\n        <h2 className=\"text-xl font-bold text-center subject-accent-heading\">\r\n          Interactive Essay Guide\r\n        </h2>\r\n        <div></div>\r\n      </header>\r\n\r\n      {renderTabs()}\r\n      <main>{renderContent()}</main>\r\n\r\n      {activeTab === 'structure' && showPromptOverlay && (\r\n        <div className=\"fixed bottom-4 right-4 w-full max-w-xl sm:w-[28rem] md:w-[32rem] bg-white border border-slate-200 rounded-xl shadow-2xl z-40\">\r\n          <div className=\"flex items-start justify-between gap-3 px-4 py-3 border-b\">\r\n            <div>\r\n              <h3 className=\"text-base font-semibold text-slate-900\">\r\n                Prompt Reference Overlay\r\n              </h3>\r\n              <p className=\"text-xs text-slate-500\">\r\n                Switch views to revisit the essay prompt or source passages\r\n                while you write.\r\n              </p>\r\n            </div>\r\n            <button\r\n              onClick={() => setShowPromptOverlay(false)}\r\n              className=\"text-slate-500 hover:text-slate-800\"\r\n              aria-label=\"Close prompt overlay\"\r\n            >\r\n              &times;\r\n            </button>\r\n          </div>\r\n          <div className=\"px-4 py-3 border-b bg-slate-50\">\r\n            <div className=\"flex flex-wrap gap-2\">\r\n              {overlayButtons.map(({ id, label, title }) => (\r\n                <button\r\n                  key={id}\r\n                  onClick={() => setOverlayView(id)}\r\n                  title={title}\r\n                  className={`px-3 py-1.5 text-sm font-semibold rounded-full border transition-colors ${\r\n                    overlayView === id\r\n                      ? 'bg-blue-600 text-white border-blue-600'\r\n                      : 'bg-white text-slate-700 border-slate-300 hover:bg-slate-100'\r\n                  }`}\r\n                >\r\n                  {label}\r\n                </button>\r\n              ))}\r\n            </div>\r\n          </div>\r\n          <div className=\"px-4 py-4 max-h-[60vh] overflow-y-auto\">\r\n            {renderOverlayBody()}\r\n          </div>\r\n        </div>\r\n      )}\r\n\r\n      {showModal && (\r\n        <div\r\n          className=\"fixed inset-0 w-full h-full flex items-center justify-center\"\r\n          style={{ backgroundColor: 'var(--modal-overlay)' }}\r\n        >\r\n          <div className=\"bg-white rounded-lg shadow-2xl w-11/12 max-w-2xl max-h-[90vh] overflow-y-auto\">\r\n            <div className=\"p-6 border-b flex justify-between items-center sticky top-0 bg-white\">\r\n              <h2 className=\"text-2xl font-bold\">Your Completed Essay</h2>\r\n              <button\r\n                onClick={() => {\r\n                  setShowModal(false);\r\n                  setScoreResult(null);\r\n                }}\r\n                className=\"text-gray-500 hover:text-gray-800 text-3xl\"\r\n              >\r\n                &times;\r\n              </button>\r\n            </div>\r\n            {renderModalContent()}\r\n          </div>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction AIQuizGenerator({\r\n  subject,\r\n  onQuizGenerated,\r\n  onExit,\r\n  setIsLoading,\r\n  setLoadingMessage,\r\n}) {\r\n  const [selectedTopic, setSelectedTopic] = useState('');\r\n  const [error, setError] = useState(null);\r\n\r\n  // Canonical-only list for Smith-a-Quiz dropdown\r\n  const availableTopics = React.useMemo(() => {\r\n    const dropVariantish = (name) => {\r\n      if (!name) return false;\r\n      const t = String(name).toLowerCase();\r\n      return /quiz\\b|\\bset\\b|version\\b|form\\s*[a-z]\\b|practice\\b/.test(t)\r\n        ? false\r\n        : true;\r\n    };\r\n    const dedupeCI = (arr) => {\r\n      const seen = new Set();\r\n      const out = [];\r\n      arr.forEach((s) => {\r\n        const key = String(s || '')\r\n          .trim()\r\n          .toLowerCase();\r\n        if (!key || seen.has(key)) return;\r\n        seen.add(key);\r\n        out.push(s);\r\n      });\r\n      return out;\r\n    };\r\n    try {\r\n      if (\r\n        typeof window !== 'undefined' &&\r\n        typeof window.getSmithAQuizTopics === 'function'\r\n      ) {\r\n        const list = window.getSmithAQuizTopics(subject) || [];\r\n        return dedupeCI(list.filter(dropVariantish));\r\n      }\r\n    } catch {}\r\n    return [];\r\n  }, [subject]);\r\n\r\n  const handleGenerate = async () => {\r\n    if (!selectedTopic) {\r\n      setError('Please select a topic first.');\r\n      return;\r\n    }\r\n    const subjectParam = resolveSubjectParam(subject);\r\n    if (!subjectParam) {\r\n      setError('Sorry, this subject is not supported yet.');\r\n      return;\r\n    }\r\n    setLoadingMessage('Please give us a moment to smith this for you');\r\n    setIsLoading(true);\r\n    setError(null);\r\n\r\n    try {\r\n      const questions = await generateTopicQuiz(subjectParam, selectedTopic);\r\n\r\n      if (!questions.length) {\r\n        throw new Error('The quiz service returned an empty quiz.');\r\n      }\r\n\r\n      const generatedQuiz = {\r\n        subject,\r\n        topic: selectedTopic,\r\n        id: `ai_${Date.now()}`,\r\n        title: `${subject} Quiz: ${selectedTopic}`,\r\n        questions,\r\n      };\r\n\r\n      onQuizGenerated(generatedQuiz);\r\n    } catch (err) {\r\n      console.error('Error generating quiz:', err);\r\n      setError(`Sorry, something went wrong. ${err.message}`);\r\n    } finally {\r\n      setIsLoading(false);\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"fade-in text-center\">\r\n      <header className=\"flex justify-between items-center pb-4 mb-4 border-b\">\r\n        <button\r\n          onClick={onExit}\r\n          className=\"flex items-center gap-1 text-sm text-slate-600 hover:text-sky-600 font-semibold\"\r\n        >\r\n          <ArrowLeftIcon /> Back\r\n        </button>\r\n        <h2 className=\"text-xl font-bold text-center text-slate-800\">\r\n          Smith a Quiz\r\n        </h2>\r\n        <div></div>\r\n      </header>\r\n      <div className=\"max-w-md mx-auto\">\r\n        <h3 className=\"text-2xl font-bold text-slate-800\">Create a New Quiz</h3>\r\n        <p className=\"text-slate-500 mt-2 mb-6\">\r\n          Select a topic from {subject} to generate a unique 15-question\r\n          practice exam.\r\n        </p>\r\n\r\n        <select\r\n          value={selectedTopic}\r\n          onChange={(e) => setSelectedTopic(e.target.value)}\r\n          className=\"w-full p-3 border border-sky-300 rounded-md mb-4 text-lg\"\r\n        >\r\n          <option value=\"\">-- Select a Topic --</option>\r\n          {availableTopics.map((topic, idx) => (\r\n            <option key={`${topic}-${idx}`} value={topic}>\r\n              {topic}\r\n            </option>\r\n          ))}\r\n        </select>\r\n\r\n        <button\r\n          onClick={handleGenerate}\r\n          disabled={isLoading}\r\n          className=\"w-full px-8 py-4 bg-sky-600 text-white font-bold rounded-lg shadow-md hover:bg-sky-700 disabled:bg-slate-400 disabled:cursor-not-allowed transition-colors\"\r\n        >\r\n          {isLoading ? 'Generating...' : 'Generate Quiz'}\r\n        </button>\r\n        {error && <p className=\"text-red-500 mt-4\">{error}</p>}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction GeometryPracticeTool({ onExit }) {\r\n  const roundToTwo = (value) => Math.round(value * 100) / 100;\r\n  const formatNumber = (value) => {\r\n    const rounded = roundToTwo(value);\r\n    return Number.isInteger(rounded) ? rounded : rounded.toFixed(2);\r\n  };\r\n\r\n  const SHAPE_LIBRARY = {\r\n    rectangle: {\r\n      questions: [\r\n        {\r\n          type: 'area',\r\n          getPrompt: (shapeLabel) => `What is the area of the ${shapeLabel}?`,\r\n          getAnswer: (dims) => dims.w * dims.h,\r\n        },\r\n        {\r\n          type: 'perimeter',\r\n          getPrompt: (shapeLabel) =>\r\n            `What is the perimeter of the ${shapeLabel}?`,\r\n          getAnswer: (dims) => 2 * (dims.w + dims.h),\r\n        },\r\n        {\r\n          type: 'missing_height',\r\n          getPrompt: (shapeLabel, dims) =>\r\n            `The ${shapeLabel} has an area of ${formatNumber(\r\n              dims.w * dims.h\r\n            )} and a width of ${formatNumber(\r\n              dims.w\r\n            )}. What is the missing height?`,\r\n          getAnswer: (dims) => dims.h,\r\n          getContext: () => ({ hiddenLabels: ['h'] }),\r\n        },\r\n      ],\r\n      generateDims: () => ({\r\n        w: Math.floor(Math.random() * 20) + 5,\r\n        h: Math.floor(Math.random() * 20) + 5,\r\n      }),\r\n      render: ({ w, h }, context = {}) => {\r\n        const hidden = context.hiddenLabels || [];\r\n        return (\r\n          <g>\r\n            <rect\r\n              x=\"50\"\r\n              y=\"75\"\r\n              width={w * 8}\r\n              height={h * 8}\r\n              stroke=\"currentColor\"\r\n              fill=\"none\"\r\n              strokeWidth=\"2\"\r\n            />\r\n            <text\r\n              x={50 + (w * 8) / 2}\r\n              y=\"65\"\r\n              textAnchor=\"middle\"\r\n              fill=\"currentColor\"\r\n            >\r\n              {hidden.includes('w') ? '?' : w}\r\n            </text>\r\n            <text\r\n              x={40}\r\n              y={75 + (h * 8) / 2}\r\n              textAnchor=\"end\"\r\n              dominantBaseline=\"middle\"\r\n              fill=\"currentColor\"\r\n            >\r\n              {hidden.includes('h') ? '?' : h}\r\n            </text>\r\n          </g>\r\n        );\r\n      },\r\n    },\r\n    triangle: {\r\n      questions: [\r\n        {\r\n          type: 'area',\r\n          getPrompt: (shapeLabel) => `What is the area of the ${shapeLabel}?`,\r\n          getAnswer: (dims) => 0.5 * dims.b * dims.h,\r\n        },\r\n        {\r\n          type: 'missing_height',\r\n          getPrompt: (shapeLabel, dims) =>\r\n            `The ${shapeLabel} has an area of ${formatNumber(\r\n              0.5 * dims.b * dims.h\r\n            )} and a base of ${formatNumber(\r\n              dims.b\r\n            )}. What is the missing height?`,\r\n          getAnswer: (dims) => dims.h,\r\n          getContext: () => ({ hiddenLabels: ['h'] }),\r\n        },\r\n      ],\r\n      generateDims: () => ({\r\n        b: Math.floor(Math.random() * 20) + 8,\r\n        h: Math.floor(Math.random() * 15) + 6,\r\n      }),\r\n      render: ({ b, h }, context = {}) => {\r\n        const hidden = context.hiddenLabels || [];\r\n        return (\r\n          <g>\r\n            <polygon\r\n              points={`50,${50 + h * 8} ${50 + b * 8},${50 + h * 8} ${\r\n                50 + b * 8\r\n              },50`}\r\n              stroke=\"currentColor\"\r\n              fill=\"none\"\r\n              strokeWidth=\"2\"\r\n            />\r\n            <text\r\n              x={50 + (b * 8) / 2}\r\n              y={65 + h * 8}\r\n              textAnchor=\"middle\"\r\n              fill=\"currentColor\"\r\n            >\r\n              {hidden.includes('b') ? '?' : b}\r\n            </text>\r\n            <text\r\n              x={60 + b * 8}\r\n              y={50 + (h * 8) / 2}\r\n              dominantBaseline=\"middle\"\r\n              fill=\"currentColor\"\r\n            >\r\n              {hidden.includes('h') ? '?' : h}\r\n            </text>\r\n          </g>\r\n        );\r\n      },\r\n    },\r\n    circle: {\r\n      questions: [\r\n        {\r\n          type: 'area',\r\n          getPrompt: (shapeLabel) => `What is the area of the ${shapeLabel}?`,\r\n          getAnswer: (dims) => Math.PI * dims.r * dims.r,\r\n        },\r\n        {\r\n          type: 'circumference',\r\n          getPrompt: (shapeLabel) =>\r\n            `What is the circumference of the ${shapeLabel}?`,\r\n          getAnswer: (dims) => 2 * Math.PI * dims.r,\r\n        },\r\n        {\r\n          type: 'missing_radius',\r\n          getPrompt: (shapeLabel, dims) =>\r\n            `The ${shapeLabel} has an area of ${formatNumber(\r\n              Math.PI * dims.r * dims.r\r\n            )}. What is the radius?`,\r\n          getAnswer: (dims) => dims.r,\r\n          getContext: () => ({ hiddenLabels: ['r'] }),\r\n        },\r\n      ],\r\n      generateDims: () => ({ r: Math.floor(Math.random() * 10) + 5 }),\r\n      render: ({ r }, context = {}) => {\r\n        const hidden = context.hiddenLabels || [];\r\n        return (\r\n          <g>\r\n            <circle\r\n              cx=\"150\"\r\n              cy=\"150\"\r\n              r={r * 8}\r\n              stroke=\"currentColor\"\r\n              fill=\"none\"\r\n              strokeWidth=\"2\"\r\n            />\r\n            <line\r\n              x1=\"150\"\r\n              y1=\"150\"\r\n              x2={150 + r * 8}\r\n              y2=\"150\"\r\n              stroke=\"currentColor\"\r\n              strokeDasharray=\"4\"\r\n            />\r\n            <text x={150 + (r * 8) / 2} y=\"140\" fill=\"currentColor\">\r\n              {hidden.includes('r') ? '?' : r}\r\n            </text>\r\n          </g>\r\n        );\r\n      },\r\n    },\r\n    rectangular_prism: {\r\n      questions: [\r\n        {\r\n          type: 'volume',\r\n          getPrompt: (shapeLabel) => `What is the volume of the ${shapeLabel}?`,\r\n          getAnswer: (dims) => dims.l * dims.w * dims.h,\r\n        },\r\n        {\r\n          type: 'missing_height',\r\n          getPrompt: (shapeLabel, dims) =>\r\n            `The ${shapeLabel} has a volume of ${formatNumber(\r\n              dims.l * dims.w * dims.h\r\n            )}, a length of ${formatNumber(\r\n              dims.l\r\n            )}, and a width of ${formatNumber(\r\n              dims.w\r\n            )}. What is the missing height?`,\r\n          getAnswer: (dims) => dims.h,\r\n          getContext: () => ({ hiddenLabels: ['h'] }),\r\n        },\r\n      ],\r\n      generateDims: () => ({\r\n        l: Math.floor(Math.random() * 15) + 8,\r\n        w: Math.floor(Math.random() * 10) + 5,\r\n        h: Math.floor(Math.random() * 10) + 5,\r\n      }),\r\n      render: ({ l, w, h }, context = {}) => {\r\n        const hidden = context.hiddenLabels || [];\r\n        return (\r\n          <g stroke=\"currentColor\" fill=\"none\" strokeWidth=\"2\">\r\n            <rect x={50} y={50} width={l * 8} height={h * 8} />\r\n            <path d={`M ${50},${50} l ${w * 3},-${w * 3}`} />\r\n            <path d={`M ${50 + l * 8},${50} l ${w * 3},-${w * 3}`} />\r\n            <path d={`M ${50 + l * 8},${50 + h * 8} l ${w * 3},-${w * 3}`} />\r\n            <path d={`M ${50 + w * 3},${50 - w * 3} H ${50 + w * 3 + l * 8}`} />\r\n            <path\r\n              d={`M ${50 + w * 3 + l * 8},${50 - w * 3} V ${\r\n                50 - w * 3 + h * 8\r\n              }`}\r\n            />\r\n            <text\r\n              x={50 + (l * 8) / 2}\r\n              y={60 + h * 8}\r\n              textAnchor=\"middle\"\r\n              fill=\"currentColor\"\r\n            >\r\n              {hidden.includes('l') ? '?' : l}\r\n            </text>\r\n            <text\r\n              x={55 + l * 8 + (w * 3) / 2}\r\n              y={40 - w * 3}\r\n              textAnchor=\"middle\"\r\n              fill=\"currentColor\"\r\n            >\r\n              {hidden.includes('w') ? '?' : w}\r\n            </text>\r\n            <text\r\n              x={40}\r\n              y={50 + (h * 8) / 2}\r\n              textAnchor=\"end\"\r\n              dominantBaseline=\"middle\"\r\n              fill=\"currentColor\"\r\n            >\r\n              {hidden.includes('h') ? '?' : h}\r\n            </text>\r\n          </g>\r\n        );\r\n      },\r\n    },\r\n    cylinder: {\r\n      questions: [\r\n        {\r\n          type: 'volume',\r\n          getPrompt: (shapeLabel) => `What is the volume of the ${shapeLabel}?`,\r\n          getAnswer: (dims) => Math.PI * dims.r * dims.r * dims.h,\r\n        },\r\n        {\r\n          type: 'surface_area',\r\n          getPrompt: (shapeLabel) =>\r\n            `What is the surface area of the ${shapeLabel}?`,\r\n          getAnswer: (dims) => 2 * Math.PI * dims.r * (dims.r + dims.h),\r\n        },\r\n        {\r\n          type: 'missing_height',\r\n          getPrompt: (shapeLabel, dims) =>\r\n            `The ${shapeLabel} has a volume of ${formatNumber(\r\n              Math.PI * dims.r * dims.r * dims.h\r\n            )} and a radius of ${formatNumber(\r\n              dims.r\r\n            )}. What is the missing height?`,\r\n          getAnswer: (dims) => dims.h,\r\n          getContext: () => ({ hiddenLabels: ['h'] }),\r\n        },\r\n      ],\r\n      generateDims: () => ({\r\n        r: Math.floor(Math.random() * 8) + 3,\r\n        h: Math.floor(Math.random() * 15) + 5,\r\n      }),\r\n      render: ({ r, h }, context = {}) => {\r\n        const hidden = context.hiddenLabels || [];\r\n        return (\r\n          <g stroke=\"currentColor\" fill=\"none\" strokeWidth=\"2\">\r\n            <ellipse cx=\"150\" cy=\"50\" rx={r * 5} ry={r * 2} />\r\n            <path d={`M ${150 - r * 5},50 L ${150 - r * 5},${50 + h * 5}`} />\r\n            <path d={`M ${150 + r * 5},50 L ${150 + r * 5},${50 + h * 5}`} />\r\n            <ellipse cx=\"150\" cy={50 + h * 5} rx={r * 5} ry={r * 2} />\r\n            <text\r\n              x=\"140\"\r\n              y={50 + (h * 5) / 2}\r\n              textAnchor=\"end\"\r\n              dominantBaseline=\"middle\"\r\n              fill=\"currentColor\"\r\n            >\r\n              {hidden.includes('h') ? '?' : h}\r\n            </text>\r\n            <text\r\n              x={150}\r\n              y={65 + h * 5}\r\n              textAnchor=\"middle\"\r\n              fill=\"currentColor\"\r\n            >\r\n              {hidden.includes('r') ? '?' : r}\r\n            </text>\r\n          </g>\r\n        );\r\n      },\r\n    },\r\n    cone: {\r\n      questions: [\r\n        {\r\n          type: 'volume',\r\n          getPrompt: (shapeLabel) => `What is the volume of the ${shapeLabel}?`,\r\n          getAnswer: (dims) => (Math.PI * dims.r * dims.r * dims.h) / 3,\r\n        },\r\n        {\r\n          type: 'surface_area',\r\n          getPrompt: (shapeLabel) =>\r\n            `What is the surface area of the ${shapeLabel}?`,\r\n          getAnswer: (dims) =>\r\n            Math.PI *\r\n            dims.r *\r\n            (dims.r + Math.sqrt(dims.h * dims.h + dims.r * dims.r)),\r\n        },\r\n        {\r\n          type: 'missing_height',\r\n          getPrompt: (shapeLabel, dims) =>\r\n            `The ${shapeLabel} has a volume of ${formatNumber(\r\n              (Math.PI * dims.r * dims.r * dims.h) / 3\r\n            )} and a radius of ${formatNumber(\r\n              dims.r\r\n            )}. What is the missing height?`,\r\n          getAnswer: (dims) => dims.h,\r\n          getContext: () => ({ hiddenLabels: ['h'] }),\r\n        },\r\n      ],\r\n      generateDims: () => ({\r\n        r: Math.floor(Math.random() * 6) + 3,\r\n        h: Math.floor(Math.random() * 12) + 5,\r\n      }),\r\n      render: ({ r, h }, context = {}) => {\r\n        const hidden = context.hiddenLabels || [];\r\n        const baseRadius = r * 6;\r\n        const height = h * 6;\r\n        const centerX = 150;\r\n        const baseY = 200;\r\n        return (\r\n          <g stroke=\"currentColor\" fill=\"none\" strokeWidth=\"2\">\r\n            <ellipse\r\n              cx={centerX}\r\n              cy={baseY}\r\n              rx={baseRadius}\r\n              ry={baseRadius / 3}\r\n            />\r\n            <line\r\n              x1={centerX - baseRadius}\r\n              y1={baseY}\r\n              x2={centerX}\r\n              y2={baseY - height}\r\n            />\r\n            <line\r\n              x1={centerX + baseRadius}\r\n              y1={baseY}\r\n              x2={centerX}\r\n              y2={baseY - height}\r\n            />\r\n            <text\r\n              x={centerX - baseRadius - 10}\r\n              y={baseY - height / 2}\r\n              textAnchor=\"end\"\r\n              dominantBaseline=\"middle\"\r\n              fill=\"currentColor\"\r\n            >\r\n              {hidden.includes('h') ? '?' : h}\r\n            </text>\r\n            <text\r\n              x={centerX + baseRadius / 2}\r\n              y={baseY + 20}\r\n              textAnchor=\"middle\"\r\n              fill=\"currentColor\"\r\n            >\r\n              {hidden.includes('r') ? '?' : r}\r\n            </text>\r\n          </g>\r\n        );\r\n      },\r\n    },\r\n    sphere: {\r\n      questions: [\r\n        {\r\n          type: 'volume',\r\n          getPrompt: (shapeLabel) => `What is the volume of the ${shapeLabel}?`,\r\n          getAnswer: (dims) => (4 / 3) * Math.PI * Math.pow(dims.r, 3),\r\n        },\r\n        {\r\n          type: 'surface_area',\r\n          getPrompt: (shapeLabel) =>\r\n            `What is the surface area of the ${shapeLabel}?`,\r\n          getAnswer: (dims) => 4 * Math.PI * dims.r * dims.r,\r\n        },\r\n        {\r\n          type: 'missing_radius',\r\n          getPrompt: (shapeLabel, dims) =>\r\n            `The ${shapeLabel} has a volume of ${formatNumber(\r\n              (4 / 3) * Math.PI * Math.pow(dims.r, 3)\r\n            )}. What is the radius?`,\r\n          getAnswer: (dims) => dims.r,\r\n          getContext: () => ({ hiddenLabels: ['r'] }),\r\n        },\r\n      ],\r\n      generateDims: () => ({ r: Math.floor(Math.random() * 8) + 3 }),\r\n      render: ({ r }, context = {}) => {\r\n        const hidden = context.hiddenLabels || [];\r\n        return (\r\n          <g stroke=\"currentColor\" fill=\"none\" strokeWidth=\"2\">\r\n            <circle cx=\"150\" cy=\"130\" r={r * 8} />\r\n            <ellipse\r\n              cx=\"150\"\r\n              cy=\"130\"\r\n              rx={r * 8}\r\n              ry={r * 3}\r\n              strokeDasharray=\"6\"\r\n            />\r\n            <line\r\n              x1=\"150\"\r\n              y1=\"130\"\r\n              x2={150 + r * 8}\r\n              y2=\"130\"\r\n              strokeDasharray=\"4\"\r\n            />\r\n            <text x={150 + (r * 8) / 2} y=\"115\" fill=\"currentColor\">\r\n              {hidden.includes('r') ? '?' : r}\r\n            </text>\r\n          </g>\r\n        );\r\n      },\r\n    },\r\n    right_triangle: {\r\n      questions: [\r\n        {\r\n          type: 'hypotenuse',\r\n          getPrompt: (shapeLabel, dims) =>\r\n            `The ${shapeLabel} has legs a = ${formatNumber(\r\n              dims.a\r\n            )} and b = ${formatNumber(\r\n              dims.b\r\n            )}. What is the length of the hypotenuse?`,\r\n          getAnswer: (dims) => Math.sqrt(dims.a * dims.a + dims.b * dims.b),\r\n        },\r\n      ],\r\n      generateDims: () => ({\r\n        a: Math.floor(Math.random() * 10) + 4,\r\n        b: Math.floor(Math.random() * 10) + 4,\r\n      }),\r\n      render: ({ a, b }, context = {}) => {\r\n        const hidden = context.hiddenLabels || [];\r\n        const scale = 10;\r\n        const startX = 60;\r\n        const startY = 200;\r\n        const pointB = [startX + a * scale, startY];\r\n        const pointC = [startX, startY - b * scale];\r\n        return (\r\n          <g stroke=\"currentColor\" fill=\"none\" strokeWidth=\"2\">\r\n            <polygon\r\n              points={`${startX},${startY} ${pointB[0]},${pointB[1]} ${pointC[0]},${pointC[1]}`}\r\n            />\r\n            <path\r\n              d={`M ${startX + 20},${startY} L ${startX + 20},${\r\n                startY - 20\r\n              } L ${startX},${startY - 20}`}\r\n              strokeWidth=\"2\"\r\n            />\r\n            <text\r\n              x={startX + (a * scale) / 2}\r\n              y={startY + 20}\r\n              textAnchor=\"middle\"\r\n              fill=\"currentColor\"\r\n            >\r\n              {hidden.includes('a') ? '?' : `a = ${a}`}\r\n            </text>\r\n            <text\r\n              x={startX - 20}\r\n              y={startY - (b * scale) / 2}\r\n              textAnchor=\"end\"\r\n              dominantBaseline=\"middle\"\r\n              fill=\"currentColor\"\r\n            >\r\n              {hidden.includes('b') ? '?' : `b = ${b}`}\r\n            </text>\r\n            <text\r\n              x={(startX + pointB[0]) / 2 + 10}\r\n              y={(startY + pointC[1]) / 2}\r\n              textAnchor=\"middle\"\r\n              fill=\"currentColor\"\r\n            >\r\n              c\r\n            </text>\r\n          </g>\r\n        );\r\n      },\r\n    },\r\n  };\r\n\r\n  const [currentProblem, setCurrentProblem] = useState(null);\r\n  const [userAnswer, setUserAnswer] = useState('');\r\n  const [feedback, setFeedback] = useState('');\r\n\r\n  const generateProblem = (shape) => {\r\n    const shapeData = SHAPE_LIBRARY[shape];\r\n    if (!shapeData) return;\r\n\r\n    const questionConfig =\r\n      shapeData.questions[\r\n        Math.floor(Math.random() * shapeData.questions.length)\r\n      ];\r\n    const dims = shapeData.generateDims();\r\n    const shapeLabel = shape.replace('_', ' ');\r\n    const context = questionConfig.getContext\r\n      ? questionConfig.getContext(dims)\r\n      : {};\r\n    const correctAnswer = roundToTwo(questionConfig.getAnswer(dims));\r\n    const prompt = questionConfig.getPrompt(shapeLabel, dims, context);\r\n\r\n    setCurrentProblem({\r\n      shape,\r\n      dims,\r\n      questionType: questionConfig.type,\r\n      correctAnswer,\r\n      renderer: shapeData.render,\r\n      prompt,\r\n      context,\r\n    });\r\n    setFeedback('');\r\n    setUserAnswer('');\r\n  };\r\n\r\n  const checkAnswer = () => {\r\n    const answer = parseFloat(userAnswer);\r\n    if (isNaN(answer)) {\r\n      setFeedback('Please enter a valid number.');\r\n      return;\r\n    }\r\n\r\n    if (Math.abs(answer - currentProblem.correctAnswer) < 0.01) {\r\n      setFeedback('Correct! Great job!');\r\n    } else {\r\n      setFeedback(\r\n        `Not quite. The correct answer is ${currentProblem.correctAnswer}.`\r\n      );\r\n    }\r\n  };\r\n\r\n  useEffect(() => {\r\n    // Generate a problem when the component mounts\r\n    generateProblem('rectangle');\r\n  }, []);\r\n\r\n  const getCurrentTheme = useCallback(() => {\r\n    if (typeof document === 'undefined') {\r\n      return 'light';\r\n    }\r\n    const root = document.documentElement;\r\n    if (!root) {\r\n      return 'light';\r\n    }\r\n    const explicit = root.getAttribute('data-theme');\r\n    if (explicit === 'dark') return 'dark';\r\n    if (explicit === 'light') return 'light';\r\n    return root.classList.contains('dark') ? 'dark' : 'light';\r\n  }, []);\r\n\r\n  const [activeTheme, setActiveTheme] = useState(getCurrentTheme);\r\n\r\n  useEffect(() => {\r\n    if (\r\n      typeof document === 'undefined' ||\r\n      typeof MutationObserver === 'undefined'\r\n    ) {\r\n      return;\r\n    }\r\n    const root = document.documentElement;\r\n    if (!root) {\r\n      return;\r\n    }\r\n    const observer = new MutationObserver(() => {\r\n      setActiveTheme(getCurrentTheme());\r\n    });\r\n    observer.observe(root, {\r\n      attributes: true,\r\n      attributeFilter: ['data-theme', 'class'],\r\n    });\r\n    return () => observer.disconnect();\r\n  }, [getCurrentTheme]);\r\n\r\n  const isDarkMode = activeTheme === 'dark';\r\n  const surfaceColor = isDarkMode ? '#020617' : '#ffffff';\r\n  const geometryPalette = isDarkMode\r\n    ? { text: '#e2fdff' }\r\n    : { text: '#0f172a' };\r\n\r\n  const showExitButton = typeof onExit === 'function';\r\n\r\n  return (\r\n    <div\r\n      className=\"fade-in space-y-6 bg-white text-black dark:bg-slate-900 dark:text-slate-100\"\r\n      style={{ backgroundColor: surfaceColor }}\r\n    >\r\n      <header className=\"flex flex-wrap items-center justify-between gap-3 pb-4 mb-2 border-b border-slate-200 dark:border-slate-700\">\r\n        <div className=\"flex-none min-w-[140px]\">\r\n          {showExitButton && (\r\n            <button\r\n              onClick={onExit}\r\n              className={`flex items-center gap-1 text-sm font-semibold transition-colors ${\r\n                isDarkMode\r\n                  ? 'text-slate-200 hover:text-sky-300'\r\n                  : 'text-slate-900 hover:text-sky-700'\r\n              }`}\r\n            >\r\n              <ArrowLeftIcon /> Back\r\n            </button>\r\n          )}\r\n        </div>\r\n        <h2 className=\"text-2xl font-bold text-center flex-1\">\r\n          Geometry Practice Tool\r\n        </h2>\r\n        <div className=\"flex-none min-w-[140px]\" aria-hidden=\"true\"></div>\r\n      </header>\r\n      <div className=\"grid gap-6 lg:grid-cols-[minmax(0,1.65fr)_minmax(0,1fr)]\">\r\n        <div\r\n          className=\"bg-white text-slate-900 dark:bg-slate-900 dark:text-slate-100 border border-slate-200 dark:border-slate-700 rounded-2xl p-6 shadow-sm flex flex-col items-center justify-center min-h-[420px]\"\r\n          style={{ backgroundColor: surfaceColor }}\r\n        >\r\n          {currentProblem ? (\r\n            <>\r\n              <svg\r\n                className=\"w-full max-w-2xl h-[360px] text-slate-900 dark:text-white bg-white dark:bg-slate-950 rounded-xl border border-slate-200 dark:border-slate-700\"\r\n                style={{ backgroundColor: surfaceColor }}\r\n                viewBox=\"0 0 400 320\"\r\n                preserveAspectRatio=\"xMidYMid meet\"\r\n              >\r\n                {currentProblem.renderer(\r\n                  currentProblem.dims,\r\n                  currentProblem.context\r\n                )}\r\n              </svg>\r\n              <p\r\n                className=\"text-lg font-semibold mt-6 text-center max-w-2xl\"\r\n                style={{ color: geometryPalette.text }}\r\n              >\r\n                {currentProblem.prompt}\r\n              </p>\r\n            </>\r\n          ) : (\r\n            <p className=\"text-base\">Select a shape to begin.</p>\r\n          )}\r\n        </div>\r\n        <div\r\n          className=\"space-y-5 bg-white text-black dark:bg-slate-900 dark:text-slate-100 border border-slate-200 dark:border-slate-700 rounded-2xl p-5 shadow-sm\"\r\n          style={{ backgroundColor: surfaceColor }}\r\n        >\r\n          <div>\r\n            <h3\r\n              className=\"text-lg font-semibold mb-3\"\r\n              style={{ color: geometryPalette.text }}\r\n            >\r\n              Shapes\r\n            </h3>\r\n            <div className=\"grid grid-cols-2 gap-2\">\r\n              {Object.keys(SHAPE_LIBRARY).map((shape) => (\r\n                <button\r\n                  key={shape}\r\n                  onClick={() => generateProblem(shape)}\r\n                  className={`p-2 font-semibold rounded-md transition capitalize border ${\r\n                    currentProblem?.shape === shape\r\n                      ? 'bg-sky-600 text-white shadow border-transparent'\r\n                      : isDarkMode\r\n                      ? 'bg-slate-800 text-slate-100 hover:bg-slate-700 border-slate-600'\r\n                      : 'bg-slate-700 text-white hover:bg-slate-600 border-slate-500'\r\n                  }`}\r\n                >\r\n                  {shape.replace('_', ' ')}\r\n                </button>\r\n              ))}\r\n            </div>\r\n          </div>\r\n          {currentProblem && (\r\n            <div className=\"space-y-3\">\r\n              <label\r\n                htmlFor=\"answer\"\r\n                className=\"font-semibold\"\r\n                style={{ color: geometryPalette.text }}\r\n              >\r\n                Your Answer:\r\n              </label>\r\n              <input\r\n                type=\"number\"\r\n                id=\"answer\"\r\n                value={userAnswer}\r\n                onChange={(e) => setUserAnswer(e.target.value)}\r\n                className=\"w-full p-2 border border-slate-300 dark:border-slate-600 rounded-md bg-white dark:bg-slate-950 text-black dark:text-slate-100 focus:outline-none focus:ring-2 focus:ring-sky-500\"\r\n              />\r\n              <button\r\n                onClick={checkAnswer}\r\n                className=\"w-full p-2 bg-green-500 text-white font-bold rounded-lg hover:bg-green-600 transition\"\r\n              >\r\n                Check Answer\r\n              </button>\r\n              {feedback && (\r\n                <p\r\n                  className={`mt-2 p-2 rounded-md text-center font-semibold flex items-center justify-center gap-2 ${\r\n                    feedback.includes('Correct')\r\n                      ? 'bg-green-100 text-green-800 dark:bg-green-900/50 dark:text-green-200'\r\n                      : 'bg-red-100 text-red-800 dark:bg-red-900/60 dark:text-red-200'\r\n                  }`}\r\n                >\r\n                  <img\r\n                    src={\r\n                      feedback.includes('Correct')\r\n                        ? '/icons/correct-success-tick-svgrepo-com.svg'\r\n                        : '/icons/wrong-delete-remove-trash-minus-cancel-close-2-svgrepo-com.svg'\r\n                    }\r\n                    alt=\"\"\r\n                    className=\"w-5 h-5\"\r\n                    style={{\r\n                      filter: feedback.includes('Correct')\r\n                        ? 'brightness(0) saturate(100%) invert(28%) sepia(63%) saturate(1527%) hue-rotate(88deg) brightness(96%) contrast(101%)'\r\n                        : 'brightness(0) saturate(100%) invert(25%) sepia(87%) saturate(2574%) hue-rotate(337deg) brightness(95%) contrast(93%)',\r\n                    }}\r\n                  />\r\n                  {feedback}\r\n                </p>\r\n              )}\r\n              <button\r\n                onClick={() => generateProblem(currentProblem.shape)}\r\n                className=\"w-full p-2 bg-sky-500 text-white font-bold rounded-lg hover:bg-sky-600 transition\"\r\n              >\r\n                Next Problem\r\n              </button>\r\n            </div>\r\n          )}\r\n        </div>\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\n// (Removed) SmithGameOfLife React component in favor of embedding the authored HTML simulation\r\n\r\nfunction GraphingTool({ onExit }) {\r\n  const boardRef = React.useRef(null);\r\n  const boardInstance = React.useRef(null);\r\n  const plottedFunctions = React.useRef([]);\r\n  const intersectionPoints = React.useRef([]);\r\n  const plottedPoints = React.useRef([]);\r\n  const toolModeRef = React.useRef('plotLine');\r\n  const [equationInputs, setEquationInputs] = React.useState(['2x + 1']);\r\n  const [tableData, setTableData] = React.useState([]);\r\n  const [error, setError] = React.useState('');\r\n  const [toolMode, setToolMode] = React.useState('plotLine'); // 'plotLine' or 'plotPoint'\r\n\r\n  React.useEffect(() => {\r\n    if (!boardInstance.current) {\r\n      boardInstance.current = JXG.JSXGraph.initBoard(boardRef.current.id, {\r\n        boundingbox: [-10, 10, 10, -10],\r\n        axis: true,\r\n        grid: true,\r\n        showCopyright: false,\r\n      });\r\n\r\n      boardInstance.current.on('up', function (e) {\r\n        if (toolModeRef.current === 'plotPoint') {\r\n          const coords = boardInstance.current.getUsrCoordsOfMouse(e);\r\n          const x = Math.round(coords[0]);\r\n          const y = Math.round(coords[1]);\r\n          const point = boardInstance.current.create('point', [x, y], {\r\n            name: `(${x}, ${y})`,\r\n            size: 4,\r\n          });\r\n          plottedPoints.current.push(point);\r\n        }\r\n      });\r\n    }\r\n  }, []);\r\n\r\n  React.useEffect(() => {\r\n    toolModeRef.current = toolMode;\r\n  }, [toolMode]);\r\n\r\n  const palette = [\r\n    '#2563eb',\r\n    '#16a34a',\r\n    '#f97316',\r\n    '#9333ea',\r\n    '#ef4444',\r\n    '#0ea5e9',\r\n    '#facc15',\r\n    '#a855f7',\r\n  ];\r\n\r\n  const clearPlottedObjects = React.useCallback(() => {\r\n    const board = boardInstance.current;\r\n    if (!board) return;\r\n    board.suspendUpdate();\r\n    const removeIfExists = (obj) => {\r\n      if (obj && obj.id && board.objects[obj.id]) {\r\n        board.removeObject(obj);\r\n      }\r\n    };\r\n    plottedFunctions.current.forEach(removeIfExists);\r\n    intersectionPoints.current.forEach(removeIfExists);\r\n    plottedPoints.current.forEach(removeIfExists);\r\n    plottedFunctions.current = [];\r\n    intersectionPoints.current = [];\r\n    plottedPoints.current = [];\r\n    board.unsuspendUpdate();\r\n  }, []);\r\n\r\n  const handlePlot = () => {\r\n    setError('');\r\n    if (toolMode !== 'plotLine') return;\r\n\r\n    try {\r\n      const board = boardInstance.current;\r\n      if (!board) return;\r\n\r\n      const parsedEquations = equationInputs.map((input) => {\r\n        const trimmed = (input || '').trim();\r\n        if (!trimmed) {\r\n          throw new Error('Please enter an equation for each input field.');\r\n        }\r\n        const preparedInput = trimmed.toLowerCase().replace(/\\s/g, '');\r\n        const parts = preparedInput.match(/^(-?\\d*\\.?\\d*)x([+-]\\d+\\.?\\d*)?$/);\r\n        if (!parts) {\r\n          throw new Error(\"Use 'mx+b' format, e.g., '3x-4'.\");\r\n        }\r\n\r\n        const m =\r\n          parts[1] === '-' ? -1 : parts[1] === '' ? 1 : parseFloat(parts[1]);\r\n        const b = parts[2] ? parseFloat(parts[2]) : 0;\r\n        if (isNaN(m) || isNaN(b)) {\r\n          throw new Error('Invalid number format.');\r\n        }\r\n\r\n        return {\r\n          input: trimmed,\r\n          func: (x) => m * x + b,\r\n        };\r\n      });\r\n\r\n      clearPlottedObjects();\r\n\r\n      board.suspendUpdate();\r\n\r\n      const newTableData = [];\r\n\r\n      parsedEquations.forEach(({ input, func }, index) => {\r\n        const color = palette[index % palette.length];\r\n        const graph = board.create('functiongraph', [func], {\r\n          strokeColor: color,\r\n          strokeWidth: 3,\r\n        });\r\n        plottedFunctions.current.push(graph);\r\n\r\n        const values = Array.from({ length: 11 }, (_, idx) => {\r\n          const x = idx - 5;\r\n          return { x, y: func(x) };\r\n        });\r\n\r\n        newTableData.push({ equation: input, color, values });\r\n      });\r\n\r\n      if (plottedFunctions.current.length > 1) {\r\n        for (let i = 0; i < plottedFunctions.current.length - 1; i++) {\r\n          for (let j = i + 1; j < plottedFunctions.current.length; j++) {\r\n            const intersection = board.create(\r\n              'intersection',\r\n              [plottedFunctions.current[i], plottedFunctions.current[j]],\r\n              {\r\n                name: '',\r\n                size: 3,\r\n                strokeColor: '#f97316',\r\n                fillColor: '#f97316',\r\n              }\r\n            );\r\n            if (intersection.label) {\r\n              intersection.label.setText(\r\n                () =>\r\n                  `(${intersection.X().toFixed(2)}, ${intersection\r\n                    .Y()\r\n                    .toFixed(2)})`\r\n              );\r\n              intersection.label.setAttribute({\r\n                offset: [10, -10],\r\n                strokeColor: '#0f172a',\r\n              });\r\n            }\r\n            intersectionPoints.current.push(intersection);\r\n          }\r\n        }\r\n      }\r\n\r\n      board.unsuspendUpdate();\r\n      setTableData(newTableData);\r\n    } catch (e) {\r\n      setError(e.message || 'Could not plot equation.');\r\n    }\r\n  };\r\n\r\n  const handleClear = () => {\r\n    clearPlottedObjects();\r\n    setError('');\r\n    setTableData([]);\r\n    setEquationInputs(['2x + 1']);\r\n  };\r\n\r\n  const handleEquationChange = (index, value) => {\r\n    setEquationInputs((prev) => {\r\n      const updated = [...prev];\r\n      updated[index] = value;\r\n      return updated;\r\n    });\r\n  };\r\n\r\n  const addEquationInput = () => {\r\n    setEquationInputs((prev) => [...prev, '']);\r\n  };\r\n\r\n  const removeEquationInput = (index) => {\r\n    setEquationInputs((prev) => {\r\n      if (prev.length === 1) return prev;\r\n      const updated = prev.filter((_, idx) => idx !== index);\r\n      return updated.length > 0 ? updated : ['2x + 1'];\r\n    });\r\n  };\r\n\r\n  const showExitButton = typeof onExit === 'function';\r\n\r\n  return (\r\n    <div className=\"fade-in\">\r\n      <header className=\"flex flex-wrap items-center justify-between gap-3 pb-4 mb-4 border-b\">\r\n        <div className=\"flex-none min-w-[120px]\">\r\n          {showExitButton && (\r\n            <button\r\n              onClick={onExit}\r\n              className=\"flex items-center gap-1 text-sm text-slate-600 hover:text-sky-600 font-semibold\"\r\n            >\r\n              <ArrowLeftIcon /> Back\r\n            </button>\r\n          )}\r\n        </div>\r\n        <h2 className=\"text-xl font-bold text-center text-white flex-1\">\r\n          Interactive Graphing Tool\r\n        </h2>\r\n        <div className=\"flex-none min-w-[120px]\" aria-hidden=\"true\"></div>\r\n      </header>\r\n      <div className=\"flex flex-col md:flex-row gap-6\">\r\n        <div className=\"flex-grow\">\r\n          <div\r\n            id=\"graphing-tool-board\"\r\n            ref={boardRef}\r\n            className=\"jxgbox\"\r\n            style={{ width: '100%', height: '400px' }}\r\n          ></div>\r\n        </div>\r\n        <div className=\"md:w-72 flex-shrink-0 text-black dark:text-white\">\r\n          <h3 className=\"text-lg font-semibold text-black dark:text-white mb-2\">\r\n            Tools\r\n          </h3>\r\n          <div className=\"flex gap-2 mb-4\">\r\n            <button\r\n              onClick={() => setToolMode('plotLine')}\r\n              className={`flex-1 p-2 font-semibold rounded-md transition ${\r\n                toolMode === 'plotLine'\r\n                  ? 'bg-sky-600 text-white'\r\n                  : 'bg-slate-200 hover:bg-slate-300'\r\n              }`}\r\n            >\r\n              Plot Line\r\n            </button>\r\n            <button\r\n              onClick={() => setToolMode('plotPoint')}\r\n              className={`flex-1 p-2 font-semibold rounded-md transition ${\r\n                toolMode === 'plotPoint'\r\n                  ? 'bg-sky-600 text-white'\r\n                  : 'bg-slate-200 hover:bg-slate-300'\r\n              }`}\r\n            >\r\n              Plot Point\r\n            </button>\r\n          </div>\r\n\r\n          {toolMode === 'plotLine' ? (\r\n            <div>\r\n              <p className=\"font-semibold text-black dark:text-slate-200 mb-2 equations-label\">\r\n                Equations (y = )\r\n              </p>\r\n              <div className=\"space-y-3\">\r\n                {equationInputs.map((value, index) => (\r\n                  <div key={index} className=\"flex items-center gap-2\">\r\n                    <input\r\n                      type=\"text\"\r\n                      value={value}\r\n                      onChange={(e) =>\r\n                        handleEquationChange(index, e.target.value)\r\n                      }\r\n                      placeholder=\"e.g., 2x - 3\"\r\n                      className=\"flex-1 p-2 border border-slate-300 rounded-md\"\r\n                    />\r\n                    <button\r\n                      onClick={() => removeEquationInput(index)}\r\n                      className=\"p-2 text-sm bg-slate-200 text-black rounded-md hover:bg-slate-300\"\r\n                      title=\"Remove equation\"\r\n                      disabled={equationInputs.length === 1}\r\n                    >\r\n                      Remove\r\n                    </button>\r\n                  </div>\r\n                ))}\r\n              </div>\r\n              <div className=\"flex gap-2 mt-3\">\r\n                <button\r\n                  onClick={addEquationInput}\r\n                  className=\"flex-1 p-2 bg-slate-200 text-black font-semibold rounded-md hover:bg-slate-300 transition\"\r\n                >\r\n                  Add Equation\r\n                </button>\r\n                <button\r\n                  onClick={handlePlot}\r\n                  className=\"flex-1 p-2 bg-sky-600 text-white font-bold rounded-md hover:bg-sky-700 transition\"\r\n                >\r\n                  Plot All\r\n                </button>\r\n              </div>\r\n            </div>\r\n          ) : (\r\n            <div>\r\n              <p className=\"p-2 bg-sky-50 text-sky-800 rounded-md text-center\">\r\n                Click anywhere on the graph to plot a point.\r\n              </p>\r\n            </div>\r\n          )}\r\n          <button\r\n            onClick={handleClear}\r\n            className=\"w-full p-2 mt-3 bg-red-500 text-white font-bold rounded-lg hover:bg-red-600 transition\"\r\n          >\r\n            Clear All\r\n          </button>\r\n          {error && <p className=\"text-red-500 text-sm mt-3\">{error}</p>}\r\n        </div>\r\n      </div>\r\n      <div className=\"mt-6 bg-white shadow-sm rounded-lg p-4\">\r\n        <h3 className=\"text-lg font-semibold text-slate-700 mb-3\">\r\n          Table of Values\r\n        </h3>\r\n        {tableData.length === 0 ? (\r\n          <p className=\"text-slate-500 text-sm\">\r\n            Plot at least one equation to see table values from x = -5 to x = 5.\r\n          </p>\r\n        ) : (\r\n          <div className=\"grid md:grid-cols-2 gap-4\">\r\n            {tableData.map(({ equation, color, values }, index) => (\r\n              <div\r\n                key={index}\r\n                className=\"border border-slate-200 rounded-md overflow-hidden\"\r\n              >\r\n                <div className=\"flex items-center justify-between bg-slate-100 px-3 py-2\">\r\n                  <span className=\"text-sm font-semibold text-slate-700\">\r\n                    y = {equation}\r\n                  </span>\r\n                  <span className=\"inline-flex items-center gap-2 text-xs text-slate-500\">\r\n                    <span\r\n                      className=\"w-3 h-3 rounded-full\"\r\n                      style={{ backgroundColor: color }}\r\n                    ></span>\r\n                    Graph Color\r\n                  </span>\r\n                </div>\r\n                <table className=\"w-full text-sm\">\r\n                  <thead>\r\n                    <tr className=\"bg-slate-50 text-slate-600\">\r\n                      <th className=\"px-3 py-2 text-left\">x</th>\r\n                      <th className=\"px-3 py-2 text-left\">y</th>\r\n                    </tr>\r\n                  </thead>\r\n                  <tbody>\r\n                    {values.map(({ x, y }) => (\r\n                      <tr\r\n                        key={x}\r\n                        className=\"odd:bg-white even:bg-slate-50 text-slate-700\"\r\n                      >\r\n                        <td className=\"px-3 py-1\">{x}</td>\r\n                        <td className=\"px-3 py-1\">\r\n                          {Number.isFinite(y) ? y.toFixed(2) : 'N/A'}\r\n                        </td>\r\n                      </tr>\r\n                    ))}\r\n                  </tbody>\r\n                </table>\r\n              </div>\r\n            ))}\r\n          </div>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}\r\n\r\nfunction MathPracticeToolsPage({\r\n  onExit,\r\n  activeTab,\r\n  onTabChange,\r\n  graphingNode,\r\n  geometryNode,\r\n}) {\r\n  const tabs = [\r\n    { id: 'graphing', label: 'Graphing Tool' },\r\n    { id: 'geometry', label: 'Geometry Tool' },\r\n  ];\r\n  const isLightMode = (() => {\r\n    if (typeof document === 'undefined') return true;\r\n    const root = document.documentElement;\r\n    const themeAttr = root.getAttribute('data-theme');\r\n    const hasDarkClass =\r\n      root.classList.contains('dark') ||\r\n      document.body.classList.contains('dark');\r\n    if (themeAttr === 'dark' || hasDarkClass) return false;\r\n    return true;\r\n  })();\r\n\r\n  const renderContent = () => {\r\n    if (activeTab === 'graphing') {\r\n      return (\r\n        graphingNode || (\r\n          <div className=\"py-16 text-center text-slate-500 dark:text-slate-300\">\r\n            Preparing the graphing workspace...\r\n          </div>\r\n        )\r\n      );\r\n    }\r\n\r\n    if (activeTab === 'geometry') {\r\n      return (\r\n        geometryNode || (\r\n          <div className=\"py-16 text-center text-slate-500 dark:text-slate-300\">\r\n            Preparing the geometry playground...\r\n          </div>\r\n        )\r\n      );\r\n    }\r\n\r\n    return null;\r\n  };\r\n\r\n  return (\r\n    <div className=\"fade-in space-y-6\">\r\n      <div className=\"flex flex-col gap-3 sm:flex-row sm:items-center sm:justify-between border-b border-slate-200/80 dark:border-slate-700/70 pb-4 math-practice-header\">\r\n        <button\r\n          onClick={onExit}\r\n          className=\"inline-flex items-center gap-2 text-sm font-semibold text-sky-600 hover:text-sky-700 dark:text-sky-300 dark:hover:text-sky-200\"\r\n        >\r\n          <ArrowLeftIcon />\r\n          <span>Back to Dashboard</span>\r\n        </button>\r\n        <h1 className=\"text-3xl font-bold text-slate-800 dark:text-slate-100 text-center flex-1\">\r\n          Math Practice Tools\r\n        </h1>\r\n        <span className=\"hidden sm:block sm:w-40\"></span>\r\n      </div>\r\n      <div className=\"flex flex-wrap gap-3 math-tools-tabs\">\r\n        {tabs.map((tab) => (\r\n          <button\r\n            key={tab.id}\r\n            onClick={() => onTabChange?.(tab.id)}\r\n            className={`px-4 py-2 rounded-lg font-semibold transition ${\r\n              activeTab === tab.id\r\n                ? isLightMode\r\n                  ? 'bg-sky-600 text-black shadow'\r\n                  : 'bg-sky-600 text-white shadow'\r\n                : 'bg-slate-200 text-slate-700 hover:bg-slate-300 dark:bg-slate-700 dark:text-slate-200 dark:hover:bg-slate-600'\r\n            }`}\r\n          >\r\n            {tab.label}\r\n          </button>\r\n        ))}\r\n      </div>\r\n      <section className=\"bg-white dark:bg-slate-900/70 border border-slate-200/80 dark:border-slate-700/70 rounded-2xl shadow-lg p-4 sm:p-6\">\r\n        {renderContent()}\r\n      </section>\r\n    </div>\r\n  );\r\n}\r\n\r\nconst MATH_PIPELINE_TEST_CASES = [\r\n  { description: 'Trailing currency symbol', input: 'The price is 7$ today.' },\r\n  {\r\n    description: 'Leading currency symbol',\r\n    input: 'Please pay $30 before Friday.',\r\n  },\r\n  {\r\n    description: 'Escaped currency should persist',\r\n    input: 'Escaped currency \\\\$18 should stay as dollars.',\r\n  },\r\n  {\r\n    description: 'Inline math remains intact',\r\n    input: 'Solve the equation $x + 3 = 9$ now.',\r\n  },\r\n  {\r\n    description: 'Display math remains intact',\r\n    input: 'Compute $$\\\\frac{3}{4}$$ of the recipe.',\r\n  },\r\n  {\r\n    description: 'Broken LaTeX treated as text',\r\n    input: 'Broken latex \\\\frac{2}{5} should remain plain text.',\r\n  },\r\n  {\r\n    description: 'Table with currency values',\r\n    input:\r\n      '<table><tr><th>Item</th><th>Cost ($)</th></tr><tr><td>Book</td><td>$5</td></tr></table>',\r\n  },\r\n  {\r\n    description: 'Spaced table markup with dollars',\r\n    input: '< table >< tr >< td >$10< /td ></tr></table>',\r\n  },\r\n  {\r\n    description: 'Stray dollar sign in sentence',\r\n    input: 'Sentence with stray $ sign in the middle.',\r\n  },\r\n  {\r\n    description: 'HTML entity currency stays escaped',\r\n    input: 'HTML entity shows 5&#36; plus tax.',\r\n  },\r\n  {\r\n    description: 'Angles with math delimiters',\r\n    input: 'Angles like $m\\\\angle ABC = 45^\\\\circ$ are fine.',\r\n  },\r\n  {\r\n    description: 'Table header currency',\r\n    input: '<table><thead><tr><th>Revenue $ (USD)</th></tr></thead></table>',\r\n  },\r\n];\r\n\r\nfunction runMathPipelineDiagnostics() {\r\n  const failures = [];\r\n\r\n  MATH_PIPELINE_TEST_CASES.forEach((test, index) => {\r\n    const processed = preprocessRawContent(test.input, {\r\n      normalizeSpacing: true,\r\n    });\r\n    const segments = extractMathSegments(processed);\r\n    const textSegments = segments.filter((segment) => segment.type === 'text');\r\n\r\n    const issues = [];\r\n\r\n    if (textSegments.some((seg) => /(^|[^\\\\])\\$(?!\\$)/.test(seg.value))) {\r\n      issues.push('loneDollarSign');\r\n    }\r\n\r\n    if (textSegments.some((seg) => /<\\s*(?:tr|th|td)/i.test(seg.value))) {\r\n      issues.push('rawTableMarkup');\r\n    }\r\n\r\n    const displayDelimiterMatches = processed.match(/\\$\\$/g) || [];\r\n    if (displayDelimiterMatches.length % 2 !== 0) {\r\n      issues.push('unbalancedDisplayMath');\r\n    }\r\n\r\n    const inlineScope = processed.replace(/\\$\\$[\\s\\S]+?\\$\\$/g, '');\r\n    const inlineDelimiterMatches = inlineScope.match(/\\$/g) || [];\r\n    if (inlineDelimiterMatches.length % 2 !== 0) {\r\n      issues.push('unbalancedInlineMath');\r\n    }\r\n\r\n    if (issues.length > 0) {\r\n      failures.push({\r\n        index,\r\n        description: test.description,\r\n        issues,\r\n        processed,\r\n        segments,\r\n      });\r\n    }\r\n  });\r\n\r\n  if (failures.length > 0) {\r\n    console.warn('[MathPipelineDiagnostics] Failures detected:', failures);\r\n  } else {\r\n    console.info('[MathPipelineDiagnostics] All test cases passed.');\r\n  }\r\n}\r\n\r\nif (\r\n  typeof window !== 'undefined' &&\r\n  window.location &&\r\n  window.location.search.includes('mathdiag=1')\r\n) {\r\n  setTimeout(runMathPipelineDiagnostics, 0);\r\n}\r\n\r\nfunction LifeChoicesSimulation({ srcPath }) {\r\n  const [srcDoc, setSrcDoc] = React.useState(null);\r\n  const iframeRef = React.useRef(null);\r\n\r\n  React.useEffect(() => {\r\n    let cancelled = false;\r\n    async function load() {\r\n      try {\r\n        const res = await fetch(srcPath, { cache: 'no-store' });\r\n        if (!res.ok)\r\n          throw new Error(`Failed to load ${srcPath}: ${res.status}`);\r\n        const html = await res.text();\r\n        if (!cancelled) setSrcDoc(html);\r\n      } catch (e) {\r\n        console.warn(\r\n          'Falling back to src attribute for simulation:',\r\n          e?.message || e\r\n        );\r\n        if (!cancelled) setSrcDoc(null);\r\n      }\r\n    }\r\n    load();\r\n    return () => {\r\n      cancelled = true;\r\n    };\r\n  }, [srcPath]);\r\n\r\n  return (\r\n    <iframe\r\n      ref={iframeRef}\r\n      title=\"The Game of Life\"\r\n      className=\"w-full h-[80vh] rounded-lg\"\r\n      style={{\r\n        border: '1px solid var(--subject-simulations-border)',\r\n        background: 'white',\r\n      }}\r\n      sandbox=\"allow-scripts allow-same-origin allow-popups allow-forms\"\r\n      src={srcDoc ? undefined : srcPath}\r\n      srcDoc={srcDoc || undefined}\r\n    />\r\n  );\r\n}\r\n\r\nfunction useThemeController() {\r\n  const [theme, setTheme] = useState(() => {\r\n    if (typeof window === 'undefined') {\r\n      return 'light';\r\n    }\r\n    return window.__START_THEME__ === 'dark' ? 'dark' : 'light';\r\n  });\r\n\r\n  const applyTheme = useCallback((nextTheme) => {\r\n    const normalized = nextTheme === 'dark' ? 'dark' : 'light';\r\n    if (typeof document !== 'undefined') {\r\n      const root = document.documentElement;\r\n      if (root) {\r\n        root.classList.toggle('dark', normalized === 'dark');\r\n        root.setAttribute('data-theme', normalized);\r\n      }\r\n    }\r\n    try {\r\n      if (typeof window !== 'undefined' && window.localStorage) {\r\n        window.localStorage.setItem('appTheme', normalized);\r\n      }\r\n    } catch (error) {\r\n      console.warn('Unable to persist theme preference:', error);\r\n    }\r\n    setTheme((current) => (current === normalized ? current : normalized));\r\n  }, []);\r\n\r\n  const toggleTheme = useCallback(() => {\r\n    applyTheme(theme === 'dark' ? 'light' : 'dark');\r\n  }, [theme, applyTheme]);\r\n\r\n  return { theme, toggleTheme, applyTheme };\r\n}\r\n\r\nfunction RootApp() {\r\n  const { theme, applyTheme } = useThemeController();\r\n\r\n  const handleThemeChange = useCallback(\r\n    (nextTheme) => {\r\n      applyTheme(nextTheme);\r\n    },\r\n    [applyTheme]\r\n  );\r\n\r\n  return (\r\n    <>\r\n      <ErrorBoundary>\r\n        <App externalTheme={theme} onThemeChange={handleThemeChange} />\r\n      </ErrorBoundary>\r\n    </>\r\n  );\r\n}\r\n\r\n// Provide global topic resolver BEFORE rendering so components can access it\r\nif (\r\n  typeof window !== 'undefined' &&\r\n  typeof window.getSmithAQuizTopics !== 'function'\r\n) {\r\n  window.getSmithAQuizTopics = function (subject) {\r\n    if (!subject) return [];\r\n    const key = String(subject).toLowerCase();\r\n\r\n    // Prefer dynamic AppData if present\r\n    if (\r\n      window.AppData &&\r\n      window.AppData[subject] &&\r\n      window.AppData[subject].categories\r\n    ) {\r\n      try {\r\n        return Object.values(window.AppData[subject].categories)\r\n          .flatMap((cat) =>\r\n            (Array.isArray(cat.topics) ? cat.topics : []).map((t) => t.title)\r\n          )\r\n          .filter(Boolean);\r\n      } catch (_) {}\r\n    }\r\n\r\n    const MAP = {\r\n      science: [\r\n        'Scientific Method',\r\n        'Life Science: Cells & Organisms',\r\n        'Human Body Systems',\r\n        'Ecology & Environment',\r\n        'Physical Science: Motion, Force, & Energy',\r\n        'Chemistry Basics',\r\n        'Earth & Space Science',\r\n      ],\r\n      math: [\r\n        'Number Sense & Operations',\r\n        'Fractions, Decimals, Percents',\r\n        'Algebraic Expressions & Equations',\r\n        'Linear Functions',\r\n        'Geometry & Measurement',\r\n        'Data, Statistics, & Probability',\r\n      ],\r\n      'social studies': [\r\n        'Civics & Government',\r\n        'U.S. History',\r\n        'Economics & Personal Finance',\r\n        'Geography, Maps, & Graphs',\r\n        'Modern World Issues',\r\n      ],\r\n      'reasoning through language arts (rla)': [\r\n        'Reading Informational Texts',\r\n        'Reading Literature',\r\n        'Grammar & Usage',\r\n        'Writing & Revising',\r\n        'Arguments & Claims',\r\n      ],\r\n      rla: [\r\n        'Reading Informational Texts',\r\n        'Reading Literature',\r\n        'Grammar & Usage',\r\n        'Writing & Revising',\r\n        'Arguments & Claims',\r\n      ],\r\n    };\r\n\r\n    return MAP[key] || [];\r\n  };\r\n}\r\n\r\n// --- RENDER APP ---\r\nexport default RootApp;\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom/client';\r\nimport LegacyRootApp from './legacy/LegacyRootApp.jsx';\r\nimport '../style.css';\r\n\r\nReactDOM.createRoot(document.getElementById('root')).render(\r\n  <React.StrictMode>\r\n    <LegacyRootApp />\r\n  </React.StrictMode>\r\n);\r\n"],"file":"assets/main-hB0chtxQ.js"}