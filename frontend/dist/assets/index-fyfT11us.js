const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/QuizInterface-ld_wLsAz.js","assets/vendor-react-BNdk8H7s.js"])))=>i.map(i=>d[i]);
import{r as g,a as Ie,R as M,B as De,L as z,b as Fe,c as C,N as Ue}from"./vendor-react-BNdk8H7s.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))o(r);new MutationObserver(r=>{for(const a of r)if(a.type==="childList")for(const i of a.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&o(i)}).observe(document,{childList:!0,subtree:!0});function n(r){const a={};return r.integrity&&(a.integrity=r.integrity),r.referrerPolicy&&(a.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?a.credentials="include":r.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function o(r){if(r.ep)return;r.ep=!0;const a=n(r);fetch(r.href,a)}})();var te={exports:{}},I={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var We=g,Be=Symbol.for("react.element"),He=Symbol.for("react.fragment"),Qe=Object.prototype.hasOwnProperty,Ge=We.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,qe={key:!0,ref:!0,__self:!0,__source:!0};function ne(e,t,n){var o,r={},a=null,i=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(i=t.ref);for(o in t)Qe.call(t,o)&&!qe.hasOwnProperty(o)&&(r[o]=t[o]);if(e&&e.defaultProps)for(o in t=e.defaultProps,t)r[o]===void 0&&(r[o]=t[o]);return{$$typeof:Be,type:e,key:a,ref:i,props:r,_owner:Ge.current}}I.Fragment=He;I.jsx=ne;I.jsxs=ne;te.exports=I;var s=te.exports,F={},J=Ie;F.createRoot=J.createRoot,F.hydrateRoot=J.hydrateRoot;const Ve="modulepreload",Ze=function(e){return"/"+e},K={},T=function(t,n,o){let r=Promise.resolve();if(n&&n.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),c=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));r=Promise.allSettled(n.map(l=>{if(l=Ze(l),l in K)return;K[l]=!0;const d=l.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${f}`))return;const u=document.createElement("link");if(u.rel=d?"stylesheet":Ve,d||(u.as="script"),u.crossOrigin="",u.href=l,c&&u.setAttribute("nonce",c),document.head.appendChild(u),d)return new Promise((p,m)=>{u.addEventListener("load",p),u.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function a(i){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=i,window.dispatchEvent(c),!c.defaultPrevented)throw i}return r.then(i=>{for(const c of i||[])c.status==="rejected"&&a(c.reason);return t().catch(a)})},P=["Social Studies","Reasoning Through Language Arts (RLA)","Science","Math"],re=145,N={};function oe(e){return Array.isArray(N[e])?N[e].length:0}function se(){return P.reduce((e,t)=>(e[t]={attempts:[],attemptCount:0,averageScaledScore:null,completedCount:0,completionPercentage:0,passedExamCodes:[],totalPremadeExams:oe(t),lastAttempt:null},e),{})}function Ye(e=[]){const t=se(),n=P.reduce((r,a)=>(r[a]={scoreSum:0,count:0,passed:new Set},r),{});return(Array.isArray(e)?e:[]).forEach(r=>{const a=r==null?void 0:r.subject;if(!a||!t[a])return;const i={id:(r==null?void 0:r.id)??null,quizCode:(r==null?void 0:r.quizCode)||(r==null?void 0:r.quiz_code)||(r==null?void 0:r.quizId)||(r==null?void 0:r.quiz_id)||null,quizTitle:(r==null?void 0:r.quizTitle)||(r==null?void 0:r.quiz_title)||(r==null?void 0:r.quizName)||null,quizType:(r==null?void 0:r.quizType)||(r==null?void 0:r.quiz_type)||null,score:typeof(r==null?void 0:r.score)=="number"?r.score:Number.isFinite(Number(r==null?void 0:r.score))?Math.round(Number(r.score)):null,totalQuestions:typeof(r==null?void 0:r.totalQuestions)=="number"?r.totalQuestions:Number.isFinite(Number(r==null?void 0:r.total_questions))?Math.round(Number(r.total_questions)):Number.isFinite(Number(r==null?void 0:r.totalQuestions))?Math.round(Number(r.totalQuestions)):null,scaledScore:typeof(r==null?void 0:r.scaledScore)=="number"?Math.round(r.scaledScore):Number.isFinite(Number(r==null?void 0:r.scaled_score))?Math.round(Number(r.scaled_score)):null,attemptedAt:(r==null?void 0:r.attemptedAt)||(r==null?void 0:r.attempted_at)||(r==null?void 0:r.takenAt)||null},c=(()=>{if(typeof(r==null?void 0:r.passed)=="boolean")return r.passed;if(typeof(r==null?void 0:r.passed)=="string"){const l=r.passed.trim().toLowerCase();if(l==="true"||l==="1")return!0;if(l==="false"||l==="0")return!1}return i.scaledScore!=null?i.scaledScore>=re:null})();i.passed=c,t[a].attempts.push(i),i.scaledScore!=null&&(n[a].scoreSum+=i.scaledScore,n[a].count+=1),i.passed&&i.quizCode&&n[a].passed.add(i.quizCode)}),P.forEach(r=>{const a=n[r],i=t[r];i.attemptCount=i.attempts.length,a.count>0&&(i.averageScaledScore=Math.round(a.scoreSum/a.count)),i.completedCount=a.count,i.passedExamCodes=Array.from(a.passed);const c=i.totalPremadeExams||0;i.completionPercentage=c?Math.round(i.completedCount/c*100):0,i.lastAttempt=i.attempts.slice().sort((l,d)=>{const f=l!=null&&l.attemptedAt?new Date(l.attemptedAt).getTime():0;return(d!=null&&d.attemptedAt?new Date(d.attemptedAt).getTime():0)-f})[0]||null}),t}function Je(e){if(!e||typeof e!="object")return null;const t=typeof e.email=="string"?e.email:"",n=typeof e.display_name=="string"&&e.display_name.trim()||typeof e.name=="string"&&e.name.trim()||(t&&t.includes("@")?t.split("@")[0]:"Learner"),o=typeof e.first_name=="string"&&e.first_name.trim()?e.first_name.trim():null,r=typeof e.last_name=="string"&&e.last_name.trim()?e.last_name.trim():null,a=e.picture&&typeof e.picture=="string"&&e.picture.trim()?e.picture.trim():`https://ui-avatars.com/api/?background=0ea5e9&color=fff&name=${encodeURIComponent(n)}`,i=typeof e.role=="string"?e.role:"student",c=e.organization_id??null,l=e.organization_name??null;return{...e,name:n,display_name:n,first_name:o,last_name:r,picture:a,role:i,organization_id:c,organization_name:l}}typeof window<"u"&&(window.SUBJECT_PROGRESS_KEYS=P,window.GED_PASSING_SCORE=re,window.PREMADE_QUIZ_CATALOG=N,window.getPremadeQuizTotal=oe,window.createEmptyProgress=se,window.buildProgressFromAttempts=Ye,window.ensureUserProfile=Je);function Ke(e){if(!e||typeof e!="object")return{};const t={};return Object.entries(e).forEach(([n,o])=>{Array.isArray(o)&&(t[n]=o.filter(Boolean).map((r,a)=>({...r,quizCode:r.quizCode||r.code||`${n.replace(/\s+/g,"_")}_${a}`})))}),t}function ae(){const[e,t]=g.useState(()=>typeof window>"u"?"light":window.__START_THEME__==="dark"?"dark":"light"),n=g.useCallback(r=>{const a=r==="dark"?"dark":"light";if(typeof document<"u"){const i=document.documentElement;i&&(i.classList.toggle("dark",a==="dark"),i.setAttribute("data-theme",a))}try{typeof window<"u"&&window.localStorage&&window.localStorage.setItem("appTheme",a)}catch(i){console.warn("Unable to persist theme preference:",i)}t(i=>i===a?i:a)},[]),o=g.useCallback(()=>{n(e==="dark"?"light":"dark")},[e,n]);return{theme:e,toggleTheme:o,applyTheme:n}}typeof window<"u"&&(window.Hooks=Object.assign(window.Hooks||{},{useThemeController:ae}));const X=typeof window<"u"&&window.API_BASE_URL||"";function ie({onLogin:e}){const t=g.useRef(null),[n,o]=g.useState("login"),[r,a]=g.useState(""),[i,c]=g.useState(""),[l,d]=g.useState(null),[f,u]=g.useState(null),[p,m]=g.useState(!1),w=g.useCallback(async h=>{try{const y=await fetch(`${X}/api/auth/google`,{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({credential:h.credential})});if(!y.ok){const Y=await y.text();throw new Error(Y||`Server responded with ${y.status}`)}const{user:v,token:_}=await y.json();e(v,_)}catch(y){console.error("Login Error:",y)}},[e]);g.useEffect(()=>{const h=document.createElement("script");return h.src="https://accounts.google.com/gsi/client",h.async=!0,h.defer=!0,h.onload=()=>{window.google&&google.accounts.id&&t.current&&(google.accounts.id.initialize({client_id:"828659988606-p9ct562f068p1778im2ck2o5iga89i7m.apps.googleusercontent.com",callback:w}),google.accounts.id.renderButton(t.current,{theme:"outline",size:"large",text:"signin_with",shape:"rectangular"}))},h.onerror=()=>{console.error("Google Sign-In script failed to load.")},document.body.appendChild(h),()=>{const y=document.querySelector('script[src="https://accounts.google.com/gsi/client"]');y&&document.body.removeChild(y)}},[w]);const b=n==="login"?"Log In":"Register",j=()=>{o(h=>h==="login"?"register":"login"),d(null),u(null),c("")},x=async h=>{if(h.preventDefault(),d(null),u(null),!r.trim()||!i.trim()){d("Email and password are required");return}m(!0);try{const v=await fetch(`${X}${n==="login"?"/api/login":"/api/register"}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:r.trim(),password:i})});let _={};try{_=await v.json()}catch{_={}}if(!v.ok)throw new Error((_==null?void 0:_.error)||"Unable to complete request");_!=null&&_.user&&(_!=null&&_.token)?(e(_.user,_.token),a(""),c("")):(u((_==null?void 0:_.message)||"Success. You can now sign in."),n==="register"&&o("login"))}catch(y){d(y instanceof Error?y.message:"Unable to complete request")}finally{m(!1)}};return s.jsx(s.Fragment,{children:s.jsxs("div",{className:"text-center max-w-md mx-auto",children:[s.jsx("h2",{className:"text-3xl font-extrabold text-black dark:text-slate-100 mb-2",children:"Welcome!"}),s.jsx("p",{className:"text-slate-500 dark:text-slate-300 mb-6",children:"Sign in to save your progress across devices."}),s.jsxs("form",{onSubmit:x,className:"bg-white dark:bg-slate-900/80 rounded-2xl shadow-md p-6 text-left space-y-4 border border-transparent dark:border-slate-700/60",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"auth-email",className:"block text-sm font-medium text-slate-600 dark:text-slate-300",children:"Email"}),s.jsx("input",{id:"auth-email",type:"email",value:r,onChange:h=>a(h.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 text-slate-700 shadow-sm focus:border-sky-500 focus:outline-none focus:ring-2 focus:ring-sky-200 dark:border-slate-600 dark:bg-slate-900 dark:text-slate-100 dark:placeholder-slate-500 dark:focus:border-sky-400 dark:focus:ring-sky-500",autoComplete:"email",placeholder:"you@example.com",required:!0})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"auth-password",className:"block text-sm font-medium text-slate-600 dark:text-slate-300",children:"Password"}),s.jsx("input",{id:"auth-password",type:"password",value:i,onChange:h=>c(h.target.value),className:"mt-1 w-full rounded-lg border border-slate-300 px-3 py-2 text-slate-700 shadow-sm focus:border-sky-500 focus:outline-none focus:ring-2 focus:ring-sky-200 dark:border-slate-600 dark:bg-slate-900 dark:text-slate-100 dark:placeholder-slate-500 dark:focus:border-sky-400 dark:focus:ring-sky-500",autoComplete:n==="login"?"current-password":"new-password",placeholder:"Enter your password",required:!0})]}),l&&s.jsx("p",{className:"text-sm text-red-600",children:l}),f&&s.jsx("p",{className:"text-sm text-green-600",children:f}),s.jsx("button",{type:"submit",disabled:p,className:"w-full rounded-lg bg-sky-600 py-2 text-sm font-semibold text-white shadow hover:bg-sky-700 disabled:opacity-60",children:p?"Please wait…":b})]}),s.jsxs("p",{className:"mt-3 text-sm text-slate-600 dark:text-slate-300",children:[n==="login"?"Need an account?":"Already have an account?"," ",s.jsx("button",{type:"button",onClick:j,className:"font-semibold text-sky-600 hover:text-sky-800 dark:text-sky-300 dark:hover:text-sky-200",children:n==="login"?"Register":"Log in"})]}),s.jsxs("div",{className:"my-6 flex items-center justify-center gap-3 text-xs uppercase tracking-wide text-slate-400 dark:text-slate-500",children:[s.jsx("span",{className:"h-px w-12 bg-slate-200","aria-hidden":"true"}),s.jsx("span",{children:"Or continue with"}),s.jsx("span",{className:"h-px w-12 bg-slate-200","aria-hidden":"true"})]}),s.jsx("div",{ref:t,className:"flex justify-center"}),s.jsx("p",{className:"mt-6 text-xs text-slate-500 dark:text-slate-400",children:"Admins: Sign in with Google to access your dashboard."})]})})}typeof window<"u"&&(window.Components=window.Components||{},window.Components.AuthScreen=ie);const ee=typeof window<"u"&&window.API_BASE_URL||"";function Xe({onJoin:e,authToken:t}){const[n,o]=g.useState([]),[r,a]=g.useState(""),[i,c]=g.useState(""),[l,d]=g.useState(""),[f,u]=g.useState(!1),[p,m]=g.useState(!0);g.useEffect(()=>{async function x(){try{const h=await fetch(`${ee}/api/organizations`);if(!(h.headers.get("content-type")||"").includes("application/json"))throw new Error("Server returned non-JSON response");const v=await h.json();v.ok&&Array.isArray(v.organizations)?o(v.organizations):d("Failed to load organizations")}catch(h){console.error("Failed to fetch organizations:",h),d("Failed to load organizations")}finally{m(!1)}}x()},[]);const w=n.find(x=>x.id===Number(r)),b=(w==null?void 0:w.requires_code)||!1,j=async()=>{if(!r){d("Please select an organization");return}if(b&&!i.trim()){d("This organization requires an access code");return}u(!0),d("");try{const x=await fetch(`${ee}/api/student/select-organization`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${t}`},body:JSON.stringify({organization_id:Number(r),access_code:i.trim()||void 0})});if(!(x.headers.get("content-type")||"").includes("application/json"))throw new Error("Server returned non-JSON response");const y=await x.json();if(!x.ok){y.error==="access_code_required"?d("This organization requires an access code"):y.error==="invalid_access_code"?d("The access code you entered is incorrect"):d(y.message||y.error||"Failed to join organization"),u(!1);return}y.ok&&y.user?e(y.user):(d("Unexpected response from server"),u(!1))}catch(x){console.error("Failed to join organization:",x),d("Failed to join organization. Please try again."),u(!1)}};return s.jsx("div",{className:"fixed inset-0 z-50 flex h-full w-full items-center justify-center",role:"dialog","aria-modal":"true",style:{backgroundColor:"var(--modal-overlay)"},children:s.jsxs("div",{className:"relative w-11/12 max-w-md rounded-lg p-8 shadow-2xl",style:{backgroundColor:"var(--modal-surface)",color:"var(--modal-text)",border:"1px solid var(--modal-border)"},children:[s.jsx("h2",{className:"mb-4 text-2xl font-bold",style:{color:"var(--text-primary)"},children:"Welcome! Join Your Organization"}),s.jsx("p",{className:"mb-6",style:{color:"var(--text-secondary)"},children:"To use this app, you need to join an organization. Please select one below."}),p?s.jsx("div",{className:"text-center py-4",style:{color:"var(--text-secondary)"},children:"Loading organizations..."}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"organization",className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Select Organization"}),s.jsxs("select",{id:"organization",value:r,onChange:x=>{a(x.target.value),c(""),d("")},className:"block w-full rounded-md px-3 py-2 shadow-sm focus:outline-none",style:{backgroundColor:"var(--bg-surface)",border:"1px solid var(--border-subtle)",color:"var(--text-primary)"},disabled:f,children:[s.jsx("option",{value:"",children:"-- Choose an organization --"}),n.map(x=>s.jsx("option",{value:x.id,children:x.name},x.id))]})]}),b&&s.jsxs("div",{children:[s.jsx("label",{htmlFor:"accessCode",className:"block text-sm font-medium mb-2",style:{color:"var(--text-secondary)"},children:"Access Code"}),s.jsx("input",{type:"text",id:"accessCode",value:i,onChange:x=>{c(x.target.value),d("")},className:"block w-full rounded-md px-3 py-2 shadow-sm focus:outline-none",style:{backgroundColor:"var(--bg-surface)",border:"1px solid var(--border-subtle)",color:"var(--text-primary)"},placeholder:"Enter access code",disabled:f})]}),l&&s.jsx("div",{className:"rounded-md p-3 text-sm",style:{backgroundColor:"var(--error-bg)",color:"var(--error-text)",border:"1px solid var(--error-border)"},children:l}),s.jsx("button",{onClick:j,disabled:f||!r,className:"w-full rounded-lg px-6 py-3 font-bold transition disabled:opacity-50 disabled:cursor-not-allowed","data-role":"primary",style:{backgroundColor:"var(--accent)",color:"var(--accent-text)",borderColor:"var(--accent)"},children:f?"Joining...":"Join Organization"})]})]})})}function et({user:e,onSave:t,onDismiss:n}){const[o,r]=g.useState(""),[a,i]=g.useState("");g.useEffect(()=>{if(e&&e.name){const l=e.name.split(" ");r(l[0]||""),i(l.slice(1).join(" ")||"")}},[e]);const c=async()=>{if(o.trim()&&a.trim())try{await t(o.trim(),a.trim())}catch(l){console.error("Failed to save name from modal:",l),alert("Unable to save your name right now. Please try again.")}else alert("Please enter both a first and last name.")};return s.jsx("div",{className:"fixed inset-0 z-50 flex h-full w-full items-center justify-center",role:"dialog","aria-modal":"true",style:{backgroundColor:"var(--modal-overlay)"},children:s.jsxs("div",{className:"relative w-11/12 max-w-md rounded-lg p-8 shadow-2xl",style:{backgroundColor:"var(--modal-surface)",color:"var(--modal-text)",border:"1px solid var(--modal-border)"},children:[n&&s.jsx("button",{type:"button",onClick:n,className:"absolute right-4 top-4 rounded-full focus:outline-none focus-visible:ring-2 focus-visible:ring-offset-2",style:{color:"var(--text-secondary)"},"aria-label":"Close name prompt",children:s.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"w-5 h-5",children:s.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})}),s.jsx("h2",{className:"mb-4 text-2xl font-bold",style:{color:"var(--text-primary)"},children:"Welcome! Let's set up your name."}),s.jsx("p",{className:"mb-6",style:{color:"var(--text-secondary)"},children:"Please confirm your name below. This will be used to personalize your experience."}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"firstName",className:"block text-sm font-medium",style:{color:"var(--text-secondary)"},children:"First Name"}),s.jsx("input",{type:"text",id:"firstName",value:o,onChange:l=>r(l.target.value),className:"mt-1 block w-full rounded-md px-3 py-2 shadow-sm focus:outline-none",style:{backgroundColor:"var(--bg-surface)",border:"1px solid var(--border-subtle)",color:"var(--text-primary)"}})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"lastName",className:"block text-sm font-medium",style:{color:"var(--text-secondary)"},children:"Last Name"}),s.jsx("input",{type:"text",id:"lastName",value:a,onChange:l=>i(l.target.value),className:"mt-1 block w-full rounded-md px-3 py-2 shadow-sm focus:outline-none",style:{backgroundColor:"var(--bg-surface)",border:"1px solid var(--border-subtle)",color:"var(--text-primary)"}})]})]}),s.jsxs("div",{className:"mt-8 space-y-3",children:[s.jsx("button",{onClick:c,className:"w-full rounded-lg px-6 py-3 font-bold transition","data-role":"primary",style:{backgroundColor:"var(--accent)",color:"var(--accent-text)",borderColor:"var(--accent)"},children:"Save Name"}),n&&s.jsx("button",{type:"button",onClick:n,className:"w-full rounded-lg px-6 py-3 font-semibold transition","data-role":"secondary",style:{color:"var(--text-secondary)",borderColor:"var(--border-subtle)"},children:"Skip for now"})]})]})})}function tt({defaultMode:e="balanced",defaultDuration:t=10,onStart:n,onDismiss:o}){const[r,a]=g.useState(e),[i,c]=g.useState(t),[l,d]=g.useState(!1),[f,u]=g.useState(""),p=async()=>{if(!l){u(""),d(!0);try{await n({mode:r,durationMinutes:Number(i)})}catch(m){const w=m&&m.message?m.message:"Failed to start practice session.";u(w)}finally{d(!1)}}};return s.jsx("div",{role:"dialog","aria-modal":"true",className:"fixed inset-0 z-[70] flex items-center justify-center p-4",style:{backgroundColor:"var(--modal-overlay)"},children:s.jsxs("div",{className:"w-full max-w-md rounded-2xl p-6 shadow-2xl border",style:{backgroundColor:"var(--modal-surface)",color:"var(--modal-text)",border:"1px solid var(--modal-border)"},children:[s.jsx("h2",{className:"text-xl font-bold mb-4",children:"Start a Practice Session"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Duration"}),s.jsx("select",{className:"w-full rounded-md border px-3 py-2 bg-transparent",style:{borderColor:"var(--modal-border)"},value:i,onChange:m=>c(parseInt(m.target.value,10)),disabled:l,children:[10,20,30,40,50,60].map(m=>s.jsxs("option",{value:m,children:[m," minutes"]},m))})]}),s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-1",children:"Mode"}),s.jsxs("select",{className:"w-full rounded-md border px-3 py-2 bg-transparent",style:{borderColor:"var(--modal-border)"},value:r,onChange:m=>a(m.target.value),disabled:l,children:[s.jsx("option",{value:"balanced",children:"Balanced (Mixed Subjects)"}),s.jsx("option",{value:"math",children:"Math Only"}),s.jsx("option",{value:"rla",children:"RLA Only"}),s.jsx("option",{value:"science",children:"Science Only"}),s.jsx("option",{value:"social-studies",children:"Social Studies Only"})]})]}),f&&s.jsx("p",{className:"text-sm text-rose-500",children:f})]}),s.jsxs("div",{className:"mt-6 flex items-center justify-end gap-3",children:[s.jsx("button",{type:"button",onClick:o,className:"px-4 py-2 rounded-md border",style:{borderColor:"var(--modal-border)"},disabled:l,children:"Cancel"}),s.jsx("button",{type:"button",onClick:p,className:`px-4 py-2 rounded-md font-semibold ${l?"opacity-70":""}`,style:{backgroundColor:"#2563eb",color:"white"},disabled:l,children:l?"Startingâ€¦":"Start"})]})]})})}typeof window<"u"&&(window.Components=window.Components||{},Object.assign(window.Components,{JoinOrganizationModal:Xe,NamePromptModal:et,PracticeSessionModal:tt}));function H(e){if(typeof e!="string")return e;if(typeof fixAllMathInText=="function")return fixAllMathInText(e);let t=e;if(typeof collapseUnderscoredLatexMacros=="function"&&(t=collapseUnderscoredLatexMacros(t)),typeof addMissingBackslashesInMath=="function")return addMissingBackslashesInMath(t);const n=typeof window<"u"&&window.TextSanitizer&&window.TextSanitizer.addMissingBackslashesInMath;return typeof n=="function"?n(t):t}function le(e){if(typeof e!="string"||e.length===0)return e;let t=e.replace(/\\{2}(?=[A-Za-z_])/g,"\\"),n;do n=t,t=t.replace(/([A-Za-z])\\_/g,"$1");while(t!==n);return t.replace(/\\([A-Za-z])(?:\\([A-Za-z]))+/g,o=>`\\${o.replace(/\\/g,"")}`)}function ce(e){if(typeof e!="string"||e.length===0)return e;let t=e;return t=t.replace(new RegExp("(?<!\\\\)\\$([0-9]+(?:\\.[0-9]{1,2})?)","g"),(n,o)=>`\\$${o}`),t=t.replace(/\$\$([\s\S]*?)\$\$/g,"$1").replace(new RegExp("(?<!\\\\)\\$([^$]*?)(?<!\\\\)\\$","g"),"$1").replace(/\\\(([^]*?)\\\)/g,"$1").replace(/\\\[([^]*?)\\\]/g,"$1"),t=t.replace(/\$(\s*\d+(?:[.,]\d{1,2}))\$/g,(n,o)=>`$${o.trim()}`),t=t.replace(/\$\s+(\d)/g,"$$1"),t=t.replace(/\\dfrac/g,"\\frac"),t=t.replace(/(?:\\|\/|[\u2191\^])\s*rac\s*\{/g,"\\frac{").replace(/\\frac\s+([^\s{}]+)\s+([^\s{}]+)/g,"\\frac{$1}{$2}").replace(/\\frac\s*\{\s*([^{}]+?)\s*\}\s*\{\s*([^{}]+?)\s*\}/g,(n,o,r)=>`\\frac{${o.trim()}}{${r.trim()}}`),t=le(t),typeof collapseUnderscoredLatexMacros=="function"&&(t=collapseUnderscoredLatexMacros(t)),t=t.replace(new RegExp("(?<![A-Za-z])rac\\s*\\{","g"),"\\frac{"),t=t.replace(/<\/?(?:table|thead|tbody|tfoot|tr|th|td|caption|colgroup|col)[^>]*>/gi," "),t=t.replace(/<[^>]+>/g," "),t=t.replace(new RegExp("(?<!\\\\)\\*","g"),"\\*"),t=t.replace(new RegExp("(?<!\\\\)_","g"),(n,o,r)=>{const a=o>0?r[o-1]:"";return/^[A-Za-z0-9)]$/.test(a)?n:"\\_"}),t.replace(/\s{2,}/g," ").trim()}function de(e){return typeof e!="string"?e:e.replace(/\\\\([A-Za-z]+)/g,"\\$1").replace(/\\left\s*/g,"").replace(/\\right\s*/g,"")}const U={throwOnError:!1,strict:"ignore"};function Q(e){if(typeof e!="string")return"";if(typeof katex>"u")throw new Error("KaTeX not available");const t=de(e);if(typeof document<"u"&&typeof document.createElement=="function"&&typeof katex.render=="function"){const n=document.createElement("span");return katex.render(t,n,U),n.innerHTML}if(typeof katex.renderToString=="function")return katex.renderToString(t,U);throw new Error("KaTeX render helpers missing")}function ue(e){if(typeof e!="string")return"";let t=e;try{t=H(t)}catch(n){console.warn("Failed to sanitize formula latex:",(n==null?void 0:n.message)||n)}try{t=ce(t)}catch(n){console.warn("Failed to normalize formula latex:",(n==null?void 0:n.message)||n)}return t}function nt(e){if(typeof e!="string"||e.length===0)return e;const t=[],n=e.replace(/\\\([^\)]*\\\)|\$[^$]+\$/g,c=>(t.push(c),`@@M${t.length-1}@@`)),o=/\\(?:frac|sqrt|text|pi|times|cdot|le|ge|lt|gt|neq|approx|sin|cos|tan|log|ln|pm|mp|theta|alpha|beta|gamma)\b/y,r=(c,l)=>{if(c[l]!=="{")return 0;let d=0,f=l;for(;f<c.length;){const u=c[f++];if(u==="{")d+=1;else if(u==="}"&&(d-=1,d===0))return f-l}return 0};let a="",i=0;for(;i<n.length;){const c=n[i];if(c==="\\"){o.lastIndex=i;const l=o.exec(n);if(l){let d=o.lastIndex;if(l[0]==="\\frac"){const u=r(n,d);if(u){d+=u;const p=r(n,d);p&&(d+=p)}}else{const u=r(n,d);u&&(d+=u)}const f=n.slice(i,d);a+=`\\(${f}\\)`,i=d;continue}}a+=c,i+=1}return a.replace(/@@M(\d+)@@/g,(c,l)=>t[Number(l)])}function k(e){return typeof e!="string"||e.length===0?"":e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function fe(e){return typeof e!="string"?e:e.replace(/\^(\d+)/g,'<sup data-source="mathUtils">$1</sup>')}function rt(e){if(typeof e!="string")return e;let t=e;return t=t.replace(/^\$(.*)\$$/,"$1"),t=t.replace(/^\$\$(.*)\$\$$/,"$1"),typeof window<"u"&&window.TextSanitizer&&window.TextSanitizer.fixAllMathInText&&(t=window.TextSanitizer.fixAllMathInText(t)),t=t.replace(/\\frac\s*\{\s*([^}]+)\s*\}\s*\{\s*([^}]+)\s*\}/g,"($1/$2)"),t.trim()}function ot(e){return typeof e!="string"||e.length===0?e:e.replace(/(?:\f|\\f)\\?_?MATH_SEGMENT_[A-Z0-9]+/gi,"").replace(/MATH_SEGMENT_[A-Z0-9]+/gi,"")}function pe(e){if(!e||typeof e!="string")return e;let t=e;return t=t.replace(/\\frac\s*{\s*([^}]+)\s*}\s*{\s*([^}]+)\s*}/g,(n,o,r)=>`${o}/${r}`),t=t.replace(/\\sqrt\s*{\s*([^}]+)\s*}/g,(n,o)=>`sqrt(${o})`),t=t.replace(/(\S)\s*\^\s*{\s*([0-9]+)\s*}/g,(n,o,r)=>`${o}^${r}`),t=t.replace(/([\w)\]])\s*\/\s*([\w(])/g,"$1/$2"),t=t.replace(/([\w)\]])\s*\^\s*([\d(])/g,"$1^$2"),t}function me(e){if(typeof e!="string"||e.length===0)return e;let t=e;return t=t.replace(/([A-Za-z0-9\)])\^(\d+)/g,(n,o,r)=>`${o}<sup data-source="mathUtils">${r}</sup>`),t}function G(e){const t=[];if(typeof e!="string"||!e.length)return t;const n=/\$\$([\s\S]+?)\$\$|\\\[([\s\S]+?)\\\]|\$([\s\S]+?)\$|\\\(([\s\S]+?)\\\)/g;let o=0,r;for(;(r=n.exec(e))!==null;)r.index>o&&t.push({type:"text",value:e.slice(o,r.index)}),typeof r[1]<"u"?t.push({type:"math",value:r[1],displayMode:!0,raw:r[0]}):typeof r[2]<"u"?t.push({type:"math",value:r[2],displayMode:!0,raw:r[0]}):typeof r[3]<"u"?t.push({type:"math",value:r[3],displayMode:!1,raw:r[0]}):t.push({type:"math",value:r[4],displayMode:!1,raw:r[0]}),o=n.lastIndex;return o<e.length&&t.push({type:"text",value:e.slice(o)}),t}function q(e){if(typeof e!="string")return"";const n=(typeof preprocessRawContent=="function"?preprocessRawContent:d=>d)(e,{normalizeSpacing:!0}),o=G(n),r=[];for(const d of o)if(d.type==="math"){const f=fe(d.value);r.push(`<span class="math-inline">${f}</span>`)}else r.push(d.value);const a=r.join(""),i=typeof window<"u"&&window.DOMPurify&&window.DOMPurify.sanitize?window.DOMPurify.sanitize:d=>d,c=typeof ALLOWED_HTML_TAGS<"u"?[...ALLOWED_HTML_TAGS,"span","sup","path","svg"]:["span","sup","path","svg"],l=typeof ALLOWED_HTML_ATTR<"u"?[...ALLOWED_HTML_ATTR,"style","d","viewBox","xmlns"]:["style","d","viewBox","xmlns"];return i(a,{ALLOWED_TAGS:c,ALLOWED_ATTR:l})}function he(e){if(typeof e!="string")return"";const t=G(e),n=[],o=/^\$\d+(?:\.\d{1,2})?$/,r=/^\d+(?:\.\d{1,2})?$/;for(const c of t.length?t:[{type:"text",value:e}]){if(c.type!=="math"){const p=typeof window<"u"&&window.DOMPurify&&window.DOMPurify.sanitize?window.DOMPurify.sanitize:null,m=p?p(c.value,{ALLOWED_TAGS:typeof ALLOWED_HTML_TAGS<"u"?ALLOWED_HTML_TAGS:[],ALLOWED_ATTR:typeof ALLOWED_HTML_ATTR<"u"?ALLOWED_HTML_ATTR:[]}):k(c.value);n.push(m);continue}const l=c.raw||"",d=(c.value||"").trim();if(/^\$[^$][\s\S]*\$$/.test(l)&&!/^\$\$[\s\S]*\$\$/.test(l)&&r.test(d)){const p=`\\$${d}`;n.push(`<span class="math-inline">${p}</span>`);continue}if(o.test(d)){const p=d.replace(/^\$/,"\\$");n.push(`<span class="math-inline">${p}</span>`);continue}try{const p=katex.renderToString(d,{throwOnError:!1,displayMode:!!c.displayMode});n.push(p)}catch{const m=typeof window<"u"&&window.DOMPurify&&window.DOMPurify.sanitize?window.DOMPurify.sanitize:null,w=m?m(d,{ALLOWED_TAGS:typeof ALLOWED_HTML_TAGS<"u"?ALLOWED_HTML_TAGS:[],ALLOWED_ATTR:typeof ALLOWED_HTML_ATTR<"u"?ALLOWED_HTML_ATTR:[]}):k(d);n.push(`<span class="math-inline">${w}</span>`)}}const a=n.join(""),i=typeof window<"u"&&window.DOMPurify&&window.DOMPurify.sanitize?window.DOMPurify.sanitize:null;return i?i(a,{ALLOWED_TAGS:typeof ALLOWED_HTML_TAGS<"u"?[...ALLOWED_HTML_TAGS,"span","sup","svg","path"]:[],ALLOWED_ATTR:typeof ALLOWED_HTML_ATTR<"u"?[...ALLOWED_HTML_ATTR,"style","d","viewBox","xmlns"]:[]}):a}function st(e,t,n=null){if(!!(typeof window<"u"&&window.__APP_CONFIG__&&window.__APP_CONFIG__.premadeUsesKatex===!0&&t===!0))return{__html:he(e)};const r=n&&typeof n.subject=="string"?String(n.subject).toLowerCase()==="math":!1,a=!t&&!(n&&n.isStatic),i=r&&a?pe(e):e,c=q(i);return{__html:me(c)}}typeof window<"u"&&(window.MathUtils=Object.assign(window.MathUtils||{},{applySafeMathFix:H,collapseSplitLatexCommands:le,normalizeLatex:ce,normalizeLatexForKaTeX:de,KATEX_RENDER_OPTIONS:U,renderLatexToHtml:Q,normalizeFormulaLatex:ue,smartWrapLatex:nt,escapeHtml:k,formatExponents:fe,normalizeMathText:rt,stripLeakedMathPlaceholders:ot,upgradePlainMathForDisplay:pe,formatMathText:me,extractMathSegments:G,renderStem:q,renderStemWithKatex:he,renderQuestionTextForDisplay:st}));function ge({latex:e,className:t=""}){const n=ue(e);let o="";try{o=Q(n)}catch(r){console.warn("Formula render failed:",(r==null?void 0:r.message)||r),o=k(typeof n=="string"?n:"")}return s.jsx("span",{className:t,dangerouslySetInnerHTML:{__html:o}})}function at({onClose:e}){const[t,n]=g.useState([]);return g.useEffect(()=>{let o=!0;return T(()=>import("./ScienceFormulas-BlHS-QSj.js"),[]).then(r=>{if(!o)return;const a=Array.isArray(r.ScienceFormulas)?r.ScienceFormulas:[];n(a),typeof window<"u"&&(window.ScienceFormulas=a)}).catch(()=>n([])),()=>{o=!1}},[]),s.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center",style:{backgroundColor:"var(--modal-overlay)"},children:s.jsxs("div",{className:"formula-sheet science-formula-sheet rounded-xl shadow-2xl max-w-lg w-11/12 p-6 relative",children:[s.jsx("button",{className:"formula-sheet-close absolute top-3 right-3 font-bold hover:opacity-80 transition-opacity",onClick:e,type:"button","aria-label":"Close science formula sheet",style:{color:"inherit"},children:"✕"}),s.jsx("h2",{className:"formula-sheet-title text-xl font-bold mb-4",children:"Science Formula Sheet"}),s.jsx("div",{className:"formula-sheet-grid space-y-4 max-h-[60vh] overflow-y-auto pr-2",children:t.map((o,r)=>s.jsxs("div",{className:"formula-sheet-card rounded-lg p-3 space-y-2",children:[s.jsx("h3",{className:"formula-sheet-label font-semibold",children:o.name}),s.jsx(ge,{latex:o.formula,className:"formula-equation rounded text-center my-2 text-lg font-mono px-2 py-2"}),s.jsx("p",{className:"formula-sheet-description text-xs leading-snug",children:o.variables})]},r))})]})})}function it({onClose:e}){const t=({title:n,formula:o,description:r})=>{const a=typeof o=="string"?(()=>{let c=o;return c=H(c),typeof normalizeLatexMacrosInMath=="function"&&(c=normalizeLatexMacrosInMath(c)),c})():o;let i="";try{i=Q(a)}catch(c){console.warn("KaTeX render fallback triggered:",(c==null?void 0:c.message)||c),i=k(typeof a=="string"?a:"")}return s.jsxs("div",{className:"formula-sheet-card rounded-lg p-3 space-y-2 mb-4",children:[s.jsx("h4",{className:"formula-sheet-label font-bold text-md",children:n}),s.jsx("div",{className:"formula-equation rounded text-center text-lg font-mono px-2 py-2",children:s.jsx("span",{dangerouslySetInnerHTML:{__html:i}})}),r&&s.jsx("p",{className:"formula-sheet-description text-sm",children:r})]})};return s.jsx("div",{className:"fixed inset-0 w-full h-full flex items-center justify-center z-50",style:{backgroundColor:"var(--modal-overlay)"},children:s.jsxs("div",{className:"formula-sheet rounded-lg shadow-2xl w-11/12 max-w-2xl max-h-[90vh]",children:[s.jsxs("div",{className:"formula-sheet-header p-4 border-b flex justify-between items-center sticky top-0",style:{borderColor:"rgba(148,163,184,0.35)"},children:[s.jsx("h2",{className:"formula-sheet-title text-xl font-bold",children:"GED® Mathematical Reasoning Formula Sheet"}),s.jsx("button",{onClick:e,className:"formula-sheet-close text-3xl hover:opacity-80 transition-opacity",style:{color:"inherit"},children:"×"})]}),s.jsxs("div",{className:"p-6 overflow-y-auto max-h-[calc(90vh-65px)] grid grid-cols-1 md:grid-cols-2 gap-x-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"formula-sheet-section text-lg font-bold border-b mb-2",children:"Area"}),s.jsx(t,{title:"Square",formula:"A = s^2"}),s.jsx(t,{title:"Rectangle",formula:"A = lw"}),s.jsx(t,{title:"Parallelogram",formula:"A = bh"}),s.jsx(t,{title:"Triangle",formula:"A = \\\\frac{1}{2}bh"}),s.jsx(t,{title:"Trapezoid",formula:"A = \\\\frac{1}{2}h(b_1 + b_2)"}),s.jsx(t,{title:"Circle",formula:"A = \\\\pi r^2"}),s.jsx("h3",{className:"formula-sheet-section text-lg font-bold border-b mt-4 mb-2",children:"Perimeter / Circumference"}),s.jsx(t,{title:"Square",formula:"P = 4s"}),s.jsx(t,{title:"Rectangle",formula:"P = 2l + 2w"}),s.jsx(t,{title:"Triangle",formula:"P = s_1 + s_2 + s_3"}),s.jsx(t,{title:"Circle (Circumference)",formula:"C = 2\\\\pi r \\\\text{ or } C = \\\\pi d"})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"formula-sheet-section text-lg font-bold border-b mb-2",children:"Volume"}),s.jsx(t,{title:"Cube",formula:"V = s^3"}),s.jsx(t,{title:"Rectangular Prism",formula:"V = lwh"}),s.jsx(t,{title:"Cylinder",formula:"V = \\\\pi r^2 h"}),s.jsx(t,{title:"Pyramid",formula:"V = \\\\frac{1}{3}Bh",description:"B = area of base"}),s.jsx(t,{title:"Cone",formula:"V = \\\\frac{1}{3}\\\\pi r^2 h"}),s.jsx(t,{title:"Sphere",formula:"V = \\\\frac{4}{3}\\\\pi r^3"}),s.jsx("h3",{className:"formula-sheet-section text-lg font-bold border-b mt-4 mb-2",children:"Data"}),s.jsx(t,{title:"Mean",formula:"mean = \\\\frac{\\\\text{sum of values}}{\\\\text{number of values}}"}),s.jsx(t,{title:"Median",formula:"median = \\\\text{middle value of an ordered data set}"})]})]})]})})}typeof window<"u"&&(window.Components=window.Components||{},Object.assign(window.Components,{FormulaDisplay:ge,FormulaSheetModal:it,ScienceFormulaSheet:at}));const xe=["a","b","strong","i","em","u","s","span","p","br","ul","ol","li","table","thead","tbody","tfoot","tr","th","td","caption","colgroup","col","code","pre","sup","sub","div","img"],ye=["href","title","target","rel","colspan","rowspan","align","scope","src","alt","class"],D=typeof document<"u"?document.createElement("textarea"):null;function we(e){return typeof e!="string"?e:e.replace(/\r\n?/g,`
`).replace(/([^\n])\n(?!\n)/g,"$1 ").replace(/\n{3,}/g,`

`)}function W(e,t,n){const o=n>0?e[n-1]:"",r=n+t.length<e.length?e[n+t.length]:"",a=o&&/[A-Za-z]/.test(o),i=r&&/[A-Za-z]/.test(r);if(a||i)return t;const c=t.replace(/\s+/g," ").trim(),l=o&&!/[\s\n]/.test(o)?" ":"",d=r&&!/[\s\n]/.test(r)?" ":"";return`${l}${c}${d}`}function be(e){if(typeof e!="string")return e;let t=e.replace(/([.,;:!?])(?=\S)/g,(r,a,i,c)=>{const l=c[i+r.length];return!l||/\s/.test(l)||(a===":"||a===","||a===".")&&/[0-9]/.test(l)||(a===":"||a===".")&&l==="/"?r:`${a} `});["plus","minus","times"].forEach(r=>{const a=new RegExp(r,"gi");t=t.replace(a,(i,c,l)=>W(l,i,c))});const o=/divided\s+by/gi;return t=t.replace(o,(r,a,i)=>W(i,r,a)),t=t.replace(/[^\S\r\n]+([.,;:!?])/g,"$1"),t=t.replace(/[^\S\r\n]{2,}/g," "),t}const lt={"\f":"f","\n":"n","	":"t","\r":"r","\b":"b","\v":"v"};function O(e){return e.replace(/[\f\n\t\r\b\v]/g,t=>{const n=lt[t];return n?`\\${n}`:t})}function Se(e){if(typeof e!="string")return e;let t=e.replace(/(?:\^|\f)rac\{/gi,"\\frac{");return t=t.replace(/\$\$([\s\S]+?)\$\$/g,(n,o)=>`$$${O(o)}$$`),t=t.replace(/\$([\s\S]+?)\$/g,(n,o)=>`$${O(o)}$`),t=t.replace(/\\\(([\s\S]+?)\\\)/g,(n,o)=>`\\(${O(o)}\\)`),t}function _e(e){return typeof e!="string"?"":D?(D.innerHTML=e,D.value):e}function je(e){if(typeof e!="string"||e.indexOf("$")===-1)return e;if(!(tokenizeMathSegments&&restoreMathSegments))return e.replace(/(^|[^\\])\$(?!\d)/g,(r,a)=>`${a}&#36;`);const{masked:t,segments:n}=tokenizeMathSegments(e),o=t.replace(/(^|[^\\])\$(?!\d)/g,(r,a)=>`${a}&#36;`);return restoreMathSegments(o,n)}function ve(e){if(typeof e!="string")return e;if(!(tokenizeMathSegments&&restoreMathSegments)){let r=e.replace(/\\$(\s*\d[\d.,]*)/g,"&#36;$1");return r=r.replace(/(\d[\d.,]*)(\s*)\$(?!\d)/g,"&#36;$1"),r.replace(/(^|[^&])\$(?!\d)/g,(a,i)=>`${i}&#36;`)}const{masked:t,segments:n}=tokenizeMathSegments(e);let o=t.replace(/\\$(\s*\d[\d.,]*)/g,"&#36;$1");return o=o.replace(/(\d[\d.,]*)(\s*)\$(?!\d)/g,"&#36;$1"),o=o.replace(/(^|[^&])\$(?!\d)/g,(r,a)=>`${a}&#36;`),restoreMathSegments(o,n)}function Ae(e){if(typeof e!="string")return e;if(!(tokenizeMathSegments&&restoreMathSegments))return e.replace(/\\(?=\d|\$)/g,"");const{masked:t,segments:n}=tokenizeMathSegments(e),o=t.replace(/\\(?=\d|\$)/g,"");return restoreMathSegments(o,n)}function Te(e){if(typeof e!="string")return e;const t={inthe:"in the",ofthe:"of the",forthe:"for the",tothe:"to the",theof:"the of"};return e.replace(/\b(inthe|ofthe|forthe|tothe|theof)\b/gi,n=>{const o=t[n.toLowerCase()];return o?n===n.toUpperCase()?o.toUpperCase():n[0]===n[0].toUpperCase()?o.charAt(0).toUpperCase()+o.slice(1):o:n})}function $e(e){return typeof e!="string"?e:e.replace(/([A-Za-z])\$(?!\$)/g,"$1 $").replace(/\$(?!\$)([A-Za-z])/g," $1")}function Me(e){return typeof e!="string"?e:e.replace(/<\s*\/\s*([a-z]+)\s*>/gi,"</$1>").replace(/<\s*([a-z]+)(\s[^>]*)?>/gi,(t,n,o="")=>{const r=o?o.replace(/\s+$/,""):"";return`<${n}${r}>`})}function Ce(e){return typeof e!="string"||e.toLowerCase().indexOf("<table")===-1?e:e.replace(/<table[\s\S]*?<\/table>/gi,t=>t.replace(/\$/g,"&#36;"))}function ct(e){return typeof e!="string"?e:e.replace(/@@MATH_\d+@@/g,"")}function R(e){if(!e||typeof e!="string")return e;const t=/\(([^(]+)\)\s*\/\s*\(([^(]+)\)/g,n=/\(([^(]+)\)\s*\/\s*([0-9]+(\.[0-9]+)?)/g,o=/\b([0-9]+(\.[0-9]+)?)\s*\/\s*([0-9]+(\.[0-9]+)?)\b/g;let r=e;return r=r.replace(t,a=>`<span class="frac">${a}</span>`),r=r.replace(n,a=>`<span class="frac">${a}</span>`),r=r.replace(o,a=>`<span class="frac">${a}</span>`),r}function dt(e){if(!e||typeof e!="string")return e;const t=Math.floor(e.length/2);if(e.length%2===0){const n=e.substring(0,t),o=e.substring(t);if(n===o)return n}return e}function Le(e){if(typeof e!="string"||!e.trim()||/<table/i.test(e)||!e.includes("|"))return e;let t;if(e.includes("||")?t=e.split("||").map(o=>o.trim()).filter(Boolean):t=e.split(/\r?\n/).filter(o=>o.includes("|")).map(o=>o.trim()).filter(Boolean),!t.length)return e;const n=[];for(const o of t){if(/^\|?\s*-{3,}/.test(o))continue;const a=o.replace(/^\|/,"").replace(/\|$/,"").split("|").map(i=>i.trim()).map(i=>`<td>${i}</td>`).join("");n.push(`<tr>${a}</tr>`)}return n.length?`<table class="data-table"><tbody>${n.join("")}</tbody></table>`:e}function ut(e,{normalizeSpacing:t=!1,skipPreprocess:n=!1}={}){if(typeof e!="string")return"";let o=e;n||(o=Ne(o,{normalizeSpacing:t})),o=Le(o);const r=typeof window<"u"&&window.DOMPurify&&window.DOMPurify.sanitize?window.DOMPurify.sanitize:null;return R(r?r(o,{ALLOWED_TAGS:xe,ALLOWED_ATTR:ye}):o.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;"))}function Ne(e,{normalizeSpacing:t=!1}={}){if(typeof e!="string")return"";let n=we(e);if(t&&(n=be(n)),n=Se(n),n=_e(n),tokenizeMathSegments&&restoreMathSegments){const{masked:o,segments:r}=tokenizeMathSegments(n);let a=o;stripTextMacroInPlain&&(a=stripTextMacroInPlain(a)),applyPhraseSpacingRepairs&&(a=applyPhraseSpacingRepairs(a)),normalizeCurrencyOutsideMath&&(a=normalizeCurrencyOutsideMath(a)),n=restoreMathSegments(a,r)}else stripTextMacroInPlain&&(n=stripTextMacroInPlain(n)),applyPhraseSpacingRepairs&&(n=applyPhraseSpacingRepairs(n)),normalizeCurrencyOutsideMath&&(n=normalizeCurrencyOutsideMath(n));return n=Ae(n),n=je(n),n=ve(n),n=n.replace(/(\d[\d.,]*)(\s*)&\#36;/g,"&#36;$1"),n=$e(n),n=Me(n),n=Ce(n),n=Te(n),n=n.replace(/\$\s*([A-Za-z])\s*\$/g,"$1"),n}function ft(e,t=""){if(typeof e!="string")return t;const n=e.trim();return n&&n.toLowerCase().replace(/[^a-z0-9]+/g,"-").replace(/^-+|-+$/g,"")||t}function ke(e){if(!e)return"";let t=String(e).trim().replace(/\\+/g,"/").replace(/\/+/g,"/");t=t.replace(/\/+/g,"/"),t=t.replace(/^\s+|\s+$/g,"").replace(/^\/+|\/+$/g,""),t=t.replace(/^frontend\//i,"frontend/"),t=t.replace(/^frontend\/images\//i,"frontend/Images/"),t=t.replace(/^frontend\/images/i,"frontend/Images");const n=t.split("/");if(n[0].toLowerCase()==="frontend"&&n[1]&&n[1].toLowerCase()==="images")n[2]&&(n[2]=n[2].charAt(0).toUpperCase()+n[2].slice(1)),t="/frontend/Images/"+n.slice(2).join("/");else if(t.toLowerCase().startsWith("images/")){const o=t.split("/");o[1]&&(o[1]=o[1].charAt(0).toUpperCase()+o[1].slice(1)),t="/frontend/Images/"+o.slice(1).join("/")}else t.startsWith("/frontend/Images/")?t="/"+t.replace(/^\/+/,""):t="/frontend/Images/"+t.replace(/^\/+/,"");return t=t.replace(/\/+/g,"/"),t}function pt(e){if(!e)return"";let t=String(e).trim();const n=t.match(/^https?:\/\/([^\/]*quiz\.ez-ged[^\/]*)\/(.*)$/i);if(n&&(t=n[2]||""),/^https?:\/\//i.test(t)||t.startsWith("data:")||t.startsWith("blob:"))return t;const o=ke(t),r="https://ezged.netlify.app";if(o.startsWith("/frontend/Images/")){const i=o.replace("/frontend/Images","/Images");return`${r}${i}`}return(typeof window<"u"&&window.location&&window.location.origin||"")+o}function Ee(e){return typeof e=="string"?e:e&&typeof e=="object"&&typeof e.text=="string"?e.text:""}function ze(e){return typeof e=="string"?!1:e&&typeof e=="object"&&e.isCorrect||!1}function mt(e){if(!Array.isArray(e))return null;const t=e.find(n=>ze(n));return t?{text:Ee(t),raw:t}:null}function ht(e){if(!e||typeof e!="object")return!1;const t=typeof e.responseType=="string"?e.responseType.toLowerCase():"";if(t==="short"||t==="constructed-response"||t==="constructed"||t==="free-response")return!0;const n=typeof e.questionType=="string"?e.questionType.toLowerCase():typeof e.type=="string"?e.type.toLowerCase():"";return!!(n.includes("short")||n.includes("constructed")||!Array.isArray(e.answerOptions))}typeof window<"u"&&(window.TextUtils=Object.assign(window.TextUtils||{},{ALLOWED_HTML_TAGS:xe,ALLOWED_HTML_ATTR:ye,normalizeLineBreaks:we,surroundOperatorWithSpaces:W,normalizePunctuationSpacing:be,escapeLatexControlCharacters:O,repairLatexCorruption:Se,decodeHtmlEntities:_e,neutralizeUnpairedDollarSigns:je,escapeCurrencyDollarsMathSafe:ve,stripBackslashesOutsideMath:Ae,deglueCommonBigrams:Te,addSpacesAroundInlineMath:$e,repairSpacedTags:Me,protectTables:Ce,stripLeakedMathPlaceholders:ct,formatFractions:R,cleanRepeatedText:dt,normalizeInlineTablesFront:Le,sanitizeHtmlContent:ut,preprocessRawContent:Ne,sanitizeCodeSegment:ft,normalizeImagePath:ke,resolveAssetUrl:pt,getOptionText:Ee,getOptionIsCorrect:ze,findCorrectOption:mt,isShortResponseQuestion:ht}));const gt=e=>({__html:typeof e=="string"?e:""});function xt({text:e,className:t,subject:n}){if(typeof e!="string"||e.trim()==="")return s.jsx("span",{className:t});let o;n==="Math"?o=q(e):o=(typeof window<"u"&&window.DOMPurify&&window.DOMPurify.sanitize?window.DOMPurify.sanitize:i=>i)(e);const r=R(o);return s.jsx("span",{className:t,dangerouslySetInnerHTML:gt(r)})}typeof window<"u"&&(window.Components=window.Components||{},window.Components.MathText=xt);const yt=!!(typeof window<"u"&&window.__APP_CONFIG__&&window.__APP_CONFIG__.geometryFiguresEnabled),A={stroke:"#000000",fill:"rgba(96, 165, 250, 0.12)",labelColor:"#000000",pointFill:"#ffffff"},S=e=>{if(typeof e=="number")return e;const t=Number(e);return Number.isFinite(t)?t:void 0},$=(e={})=>{const t=S(e.x),n=S(e.y);if(!(typeof t!="number"||typeof n!="number"))return{x:t,y:n,label:typeof e.label=="string"?e.label:void 0}},Oe=e=>Array.isArray(e)?e.map($).filter(Boolean):[],wt=(e,t)=>({x:(e.x+t.x)/2,y:(e.y+t.y)/2}),B=(e,t)=>{if(t)return e.find(n=>n.label===t)},V=(e,t)=>e.map((n,o)=>s.jsxs("g",{children:[s.jsx("circle",{cx:n.x,cy:n.y,r:1.8,fill:t.pointFill,stroke:t.stroke,strokeWidth:.6}),n.label&&s.jsx("text",{x:n.x+2.8,y:n.y-2.2,fontSize:6,fill:t.labelColor,children:n.label})]},`pt-${o}`)),bt=(e,t=[],n)=>Array.isArray(t)?t.map((o,r)=>{if(!o||!Array.isArray(o.between)||o.between.length!==2||typeof o.text!="string")return null;const a=B(e,o.between[0]),i=B(e,o.between[1]);if(!a||!i)return null;const c=wt(a,i);return s.jsx("text",{x:c.x,y:c.y-1.5,fontSize:6,textAnchor:"middle",fill:n.labelColor,children:o.text},`side-label-${r}`)}).filter(Boolean):[],E=(e=[],t)=>Array.isArray(e)?e.map((n,o)=>{const r=$(n);if(!r||typeof n.text!="string")return null;const a=S(n.dx)||0,i=S(n.dy)||0;return s.jsx("text",{x:r.x+a,y:r.y+i,fontSize:6,textAnchor:n.textAnchor||"middle",fill:t.labelColor,children:n.text},`label-${o}`)}).filter(Boolean):[],Z=(e=[],t)=>Array.isArray(e)?e.map((n,o)=>{if(!n||!Array.isArray(n.from)||!Array.isArray(n.to))return null;const r=n.from.map(S),a=n.to.map(S);if(r.length!==2||a.length!==2||r.some(f=>typeof f!="number")||a.some(f=>typeof f!="number"))return null;const i=n.dashed?"4,3":void 0,c=typeof n.label=="string"?n.label:null,l=Array.isArray(n.labelOffset)?n.labelOffset.map(S):[],d={x:(r[0]+a[0])/2,y:(r[1]+a[1])/2};return s.jsxs("g",{children:[s.jsx("line",{x1:r[0],y1:r[1],x2:a[0],y2:a[1],stroke:t.stroke,strokeWidth:1,strokeDasharray:i}),c&&s.jsx("text",{x:d.x+(l[0]||0),y:d.y+(l[1]||-2),fontSize:6,textAnchor:"middle",fill:t.labelColor,children:c})]},`segment-${o}`)}).filter(Boolean):[],L=(e={},t,{includeRightAngle:n}={})=>{const o=Oe(e.points);if(o.length<3)return null;const r=o.map(i=>`${i.x},${i.y}`).join(" "),a=[s.jsx("polygon",{points:r,fill:t.fill,stroke:t.stroke,strokeWidth:1.5},"polygon"),...V(o,t),...bt(o,e.sideLabels,t),...E(e.labels,t),...Z(e.segments,t)];if(n&&e.rightAngle){const i=e.rightAngle.vertex,c=S(e.rightAngle.size)||8,l=B(o,i)||o[0],d=o.findIndex(p=>p===l),f=o[(d-1+o.length)%o.length],u=o[(d+1)%o.length];if(f&&u){const p={x:f.x-l.x,y:f.y-l.y},m={x:u.x-l.x,y:u.y-l.y},w=Math.hypot(p.x,p.y)||1,b=Math.hypot(m.x,m.y)||1,j={x:p.x/w*c,y:p.y/w*c},x={x:m.x/b*c,y:m.y/b*c},h={x:l.x+j.x,y:l.y+j.y},y={x:h.x+x.x,y:h.y+x.y},v={x:l.x+x.x,y:l.y+x.y};a.push(s.jsx("polygon",{points:`${l.x},${l.y} ${h.x},${h.y} ${y.x},${y.y} ${v.x},${v.y}`,fill:"rgba(30, 64, 175, 0.12)",stroke:t.stroke,strokeWidth:.8},"right-angle"))}}return{elements:a,pointsForBounds:o}},St=(e={},t)=>{const n=$(e.origin)||{x:15,y:15},o=S(e.width),r=S(e.height);if(typeof o!="number"||typeof r!="number")return null;const a=[n,{x:n.x+o,y:n.y},{x:n.x+o,y:n.y+r},{x:n.x,y:n.y+r}],i=L({points:a,labels:e.labels,sideLabels:e.sideLabels,segments:e.segments},t);return i||null},_t=(e={},t)=>{const n=$(e.center)||{x:50,y:50},o=S(e.radius);if(typeof o!="number")return null;const r=Oe(e.points),a=[s.jsx("circle",{cx:n.x,cy:n.y,r:o,fill:t.fill,stroke:t.stroke,strokeWidth:1.5},"circle"),...V(r,t),...E(e.labels,t),...Z(e.segments,t)];return e.radiusLabel&&a.push(s.jsx("text",{x:n.x+o/2,y:n.y-2,fontSize:6,textAnchor:"middle",fill:t.labelColor,children:e.radiusLabel},"radius-label")),e.showRadius!==!1&&a.push(s.jsx("line",{x1:n.x,y1:n.y,x2:n.x+o,y2:n.y,stroke:t.stroke,strokeWidth:1,strokeDasharray:"4,3"},"radius-line")),{elements:a,pointsForBounds:[...r,{x:n.x+o,y:n.y},{x:n.x-o,y:n.y},{x:n.x,y:n.y+o},{x:n.x,y:n.y-o}]}},jt=(e={},t)=>{const n=$(e.center)||{x:50,y:50},o=S(e.radius),r=Math.max(3,Math.floor(S(e.sides)||0));if(typeof o!="number"||!Number.isFinite(r)||r<3)return null;const a=(S(e.startAngle)||-90)*(Math.PI/180),i=Array.from({length:r}).map((c,l)=>{const d=a+l*2*Math.PI/r;return{x:n.x+o*Math.cos(d),y:n.y+o*Math.sin(d),label:e.pointLabels&&e.pointLabels[l]?e.pointLabels[l]:void 0}});return L({points:i,labels:e.labels,sideLabels:e.sideLabels,segments:e.segments},t)},vt=(e={},t)=>{const n=$(e.vertex),o=$(e.ray1),r=$(e.ray2);if(!n||!o||!r)return null;const a=[n,o,r],i=[s.jsx("line",{x1:n.x,y1:n.y,x2:o.x,y2:o.y,stroke:t.stroke,strokeWidth:1.2},"ray1"),s.jsx("line",{x1:n.x,y1:n.y,x2:r.x,y2:r.y,stroke:t.stroke,strokeWidth:1.2},"ray2"),...V([n,o,r],t),...E(e.labels,t),...Z(e.segments,t)],c=typeof e.angleLabel=="string"?e.angleLabel:null,l=S(e.arcRadius)||12;return(()=>{const f={x:o.x-n.x,y:o.y-n.y},u={x:r.x-n.x,y:r.y-n.y},p=Math.atan2(f.y,f.x);let m=Math.atan2(u.y,u.x);for(;m<p;)m+=Math.PI*2;const w=m-p,b=w>Math.PI?1:0,j={x:n.x+l*Math.cos(m),y:n.y+l*Math.sin(m)},x={x:n.x+l*Math.cos(p),y:n.y+l*Math.sin(p)};if(i.push(s.jsx("path",{d:`M ${x.x} ${x.y} A ${l} ${l} 0 ${b} 1 ${j.x} ${j.y}`,fill:"none",stroke:t.stroke,strokeWidth:1},"angle-arc")),c){const h=p+w/2,y={x:n.x+(l+6)*Math.cos(h),y:n.y+(l+6)*Math.sin(h)};i.push(s.jsx("text",{x:y.x,y:y.y,fontSize:6,textAnchor:"middle",fill:t.labelColor,children:c},"angle-label"))}})(),{elements:i,pointsForBounds:a}},At=(e={},t)=>{const n=Math.abs(S(e.radius)),o=Math.abs(S(e.height));if(!Number.isFinite(n)||!Number.isFinite(o))return null;const r=2*Math.PI*n,a=Math.max(r,n*4),i=o,c=10,l={x:c+a/2,y:c+n},d={x:c+a/2,y:c+i+n*3};return{elements:[s.jsx("rect",{x:c,y:c+n*2,width:a,height:i,fill:t.fill,stroke:t.stroke,strokeWidth:1.2},"lateral"),s.jsx("circle",{cx:l.x,cy:l.y,r:n*1.5,fill:t.fill,stroke:t.stroke,strokeWidth:1.2},"top-circle"),s.jsx("circle",{cx:d.x,cy:d.y,r:n*1.5,fill:t.fill,stroke:t.stroke,strokeWidth:1.2},"bottom-circle"),s.jsxs("text",{x:c+a+6,y:c+n*2+i/2,fontSize:6,fill:t.labelColor,children:["h = ",o]},"height-label"),s.jsxs("text",{x:c+a/2,y:c+n*2+i+8,fontSize:6,textAnchor:"middle",fill:t.labelColor,children:["circumference = ",r.toFixed(2)]},"circumference-label"),s.jsxs("text",{x:l.x+n*1.5+6,y:l.y,fontSize:6,fill:t.labelColor,children:["r = ",n]},"radius-label-top"),...E(e.labels,t)],pointsForBounds:[{x:c,y:c},{x:c+a,y:c+n*2+i},{x:d.x+n*1.5,y:d.y+n*1.5}]}},Tt=(e={},t)=>{const n=Math.abs(S(e.length)),o=Math.abs(S(e.width)),r=Math.abs(S(e.height));if(!Number.isFinite(n)||!Number.isFinite(o)||!Number.isFinite(r))return null;const a=10,i=1,c=n*i,l=o*i,d=r*i,f=[],u=[],p=(b,j,x,h,y,v)=>{f.push(s.jsx("rect",{x:b,y:j,width:x,height:h,fill:t.fill,stroke:t.stroke,strokeWidth:1.2},y)),v&&f.push(s.jsx("text",{x:b+x/2,y:j+h/2,fontSize:6,textAnchor:"middle",fill:t.labelColor,children:v},`${y}-label`)),u.push({x:b,y:j},{x:b+x,y:j+h})},m=a+l,w=a+d;return p(m,w,c,d,"front",`h = ${r}`),p(m+c,w,l,d,"right",`w = ${o}`),p(m-l,w,l,d,"left",`w = ${o}`),p(m+c+l,w,l,d,"extra",""),p(m,w-d,c,d,"top",`l = ${n}`),p(m,w+d,c,d,"bottom",`l = ${n}`),f.push(...E(e.labels,t)),{elements:f,pointsForBounds:u}},Pe={triangle:(e,t)=>L(e,t||A,{}),right_triangle:(e,t)=>L(e,t||A,{includeRightAngle:!0}),rectangle:(e,t)=>St(e,t||A),circle:(e,t)=>_t(e,t||A),polygon:(e,t)=>L(e,t||A,{}),regular_polygon:(e,t)=>jt(e,t||A),line_angle:(e,t)=>vt(e,t||A),cylinder_net:(e,t)=>At(e,t||A),rect_prism_net:(e,t)=>Tt(e,t||A)};function $t({spec:e,className:t}){if(!(typeof window<"u"&&window.location&&window.location.hostname==="localhost"||yt))return s.jsx("div",{style:{color:"red"},children:"Geometry tool is disabled by config."});if(!e||typeof e!="object")return s.jsx("div",{style:{color:"red"},children:"Invalid geometry spec."});const o={...A,...e.style||{}},r=Pe[e.shape];if(!r)return console.warn("Unsupported geometry shape:",e.shape),null;const a=r(e.params||{},o);if(!a)return null;const i=a.pointsForBounds&&a.pointsForBounds.length>0?a.pointsForBounds:[{x:0,y:0},{x:100,y:100}];let c=Math.min(...i.map(b=>b.x)),l=Math.max(...i.map(b=>b.x)),d=Math.min(...i.map(b=>b.y)),f=Math.max(...i.map(b=>b.y));if(e.view){const{xMin:b,xMax:j,yMin:x,yMax:h}=e.view;typeof b=="number"&&(c=Math.min(c,b)),typeof j=="number"&&(l=Math.max(l,j)),typeof x=="number"&&(d=Math.min(d,x)),typeof h=="number"&&(f=Math.max(f,h))}const u=e.view&&typeof e.view.padding=="number"?e.view.padding:8,p=Math.max(l-c,20),m=Math.max(f-d,20),w=`${c-u} ${d-u} ${p+u*2} ${m+u*2}`;return s.jsx("svg",{className:t,viewBox:w,xmlns:"http://www.w3.org/2000/svg",role:"img","aria-label":"Geometry figure",preserveAspectRatio:"xMidYMid meet",children:a.elements})}typeof window<"u"&&(window.Components=window.Components||{},window.Components.GeometryFigure=$t,window.Components.geometryRenderers=Pe);const Mt=typeof window<"u"?window.Chart:void 0;function Ct({chartData:e,html:t}){if(typeof t=="string"&&t.includes("<table"))return null;if(!e||!e.labels||!e.datasets)return s.jsx("div",{style:{color:"red"},children:"No or invalid graph data provided."});const n=M.useRef(null),o=M.useRef(null);return M.useEffect(()=>{if(!(!n.current||!e)){if(o.current){try{o.current.destroy()}catch{}o.current=null}return o.current=new Mt(n.current,{type:"bar",data:{labels:e.labels,datasets:e.datasets},options:{responsive:!0,maintainAspectRatio:!1,animation:{duration:300}}}),()=>{if(o.current){try{o.current.destroy()}catch{}o.current=null}}}},[e]),s.jsx("canvas",{ref:n})}typeof window<"u"&&(window.Components=window.Components||{},window.Components.ChartDisplay=Ct);function Lt(){return s.jsxs("div",{className:"space-y-4",children:[s.jsx("h2",{className:"text-xl font-bold",children:"Dashboard"}),s.jsx("p",{className:"text-gray-700",children:"Welcome to your learning dashboard."}),s.jsx("div",{className:"text-sm text-gray-600",children:"Tip: Subject questions load on demand to keep the app fast."})]})}function Nt(){return s.jsxs("div",{className:"space-y-2",children:[s.jsx("h2",{className:"text-xl font-bold",children:"Profile"}),s.jsx("p",{className:"text-gray-700",children:"Profile management coming soon."})]})}function kt(){return s.jsxs("div",{className:"space-y-2",children:[s.jsx("h2",{className:"text-xl font-bold",children:"Settings"}),s.jsx("p",{className:"text-gray-700",children:"Adjust your preferences here."})]})}async function Et(){const e=await T(()=>import("./scienceQuestions-DcMPwJv0.js"),[]);return typeof window<"u"&&(window.SCIENCE_QUESTIONS=e.SCIENCE_QUESTIONS),e.SCIENCE_QUESTIONS}async function Re(){const e=await T(()=>import("./mathQuestions-D4hTXmWm.js"),[]);return typeof window<"u"&&(window.MATH_QUESTIONS=e.MATH_QUESTIONS),e.MATH_QUESTIONS}async function zt(){const e=await T(()=>import("./rlaQuestions-D7ya4dq6.js"),[]);return typeof window<"u"&&(window.RLA_QUESTIONS=e.RLA_QUESTIONS),e.RLA_QUESTIONS}async function Ot(){const e=await T(()=>import("./socialStudiesQuestions-DIEyMFN2.js"),[]);return typeof window<"u"&&(window.SOCIAL_STUDIES_QUESTIONS=e.SOCIAL_STUDIES_QUESTIONS),e.SOCIAL_STUDIES_QUESTIONS}async function Pt(){const e=await T(()=>import("./ScienceFormulas-BlHS-QSj.js"),[]);return typeof window<"u"&&(window.ScienceFormulas=e.ScienceFormulas),e.ScienceFormulas}async function Rt(){const e=await T(()=>import("./SciNumeracyQuestions-DEEVZQMF.js"),[]);return typeof window<"u"&&(window.SCI_NUMERACY_QUESTIONS=e.SCI_NUMERACY_QUESTIONS),e.SCI_NUMERACY_QUESTIONS}typeof window<"u"&&(window.QuestionLoaders={loadScienceQuestions:Et,loadMathQuestions:Re,loadRlaQuestions:zt,loadSocialStudiesQuestions:Ot,loadScienceFormulas:Pt,loadSciNumeracyQuestions:Rt});const It=M.lazy(()=>T(()=>import("./QuizInterface-ld_wLsAz.js"),__vite__mapDeps([0,1])).then(e=>({default:e.QuizInterface})));function Dt(){const[e,t]=g.useState(null),[n,o]=g.useState([]);g.useEffect(()=>{let a=!0;return(async()=>{try{const i=await Re(),c=(i==null?void 0:i.Math)||(i==null?void 0:i.math)||Object.values(i||{})[0]||{},l=(c==null?void 0:c.categories)||{},d=[];for(const f of Object.values(l)){if(Array.isArray(f)){for(const u of f)if(u&&typeof u=="object"&&d.push(u),d.length>=5)break}if(d.length>=5)break}a&&(t(d),o(Array(d.length).fill(null)))}catch(i){console.error("Failed to load math questions:",i),a&&t([])}})(),()=>{a=!1}},[]);const r=a=>{console.log("Quiz complete:",a),alert(`Completed! You answered ${a.answers.filter(Boolean).length}/${(e==null?void 0:e.length)||0}.`)};return e?s.jsxs("div",{className:"space-y-4",children:[s.jsx("h2",{className:"text-xl font-bold",children:"Quick Math Quiz (5 questions)"}),s.jsx(g.Suspense,{fallback:s.jsx("div",{children:"Loading quiz UI…"}),children:s.jsx(It,{questions:e,answers:n,setAnswers:o,onComplete:r,buttonText:"Submit",quizTitle:"Quick Math Quiz",subject:"Math",timeLimit:e.length*90,showTimer:!0,quizConfig:{}})})]}):s.jsx("div",{children:"Loading quiz…"})}M.lazy(()=>T(()=>import("./QuizInterface-ld_wLsAz.js"),__vite__mapDeps([0,1])).then(e=>({default:e.QuizInterface})));function Ft(e){const t=e?Ke(e):{};Object.assign(N,t),typeof window<"u"&&(window.PREMADE_QUIZ_CATALOG=N)}function Ut(){const[e,t]=g.useState(!1),[n,o]=g.useState(null),{theme:r,toggleTheme:a}=ae();return g.useEffect(()=>{Ft(typeof window<"u"?window.PREMADE_SOURCE_DATA:null),t(!0)},[]),e?n?s.jsx(De,{children:s.jsxs("div",{className:"p-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h1",{className:"text-2xl font-bold",children:"Mr. Smith's Learning Canvas"}),s.jsxs("div",{className:"space-x-2",children:[s.jsx("button",{onClick:a,className:"px-3 py-2 bg-blue-500 text-white rounded hover:bg-blue-600",children:"Toggle Theme"}),s.jsx("button",{onClick:()=>o(null),className:"px-3 py-2 bg-gray-500 text-white rounded hover:bg-gray-600",children:"Log Out"})]})]}),s.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["Current theme: ",r]}),s.jsxs("nav",{className:"flex gap-4 mb-6 text-blue-600 underline",children:[s.jsx(z,{to:"/",children:"Dashboard"}),s.jsx(z,{to:"/profile",children:"Profile"}),s.jsx(z,{to:"/settings",children:"Settings"}),s.jsx(z,{to:"/demo/math",children:"Math Quiz Demo"})]}),s.jsx(g.Suspense,{fallback:s.jsx("div",{children:"Loading..."}),children:s.jsxs(Fe,{children:[s.jsx(C,{path:"/",element:s.jsx(Lt,{})}),s.jsx(C,{path:"/profile",element:s.jsx(Nt,{})}),s.jsx(C,{path:"/settings",element:s.jsx(kt,{})}),s.jsx(C,{path:"/demo/math",element:s.jsx(Dt,{})}),s.jsx(C,{path:"*",element:s.jsx(Ue,{to:"/",replace:!0})})]})})]})}):s.jsx(ie,{onLogin:(i,c)=>{o(i),console.log("User logged in:",i)}}):s.jsx("div",{className:"p-4",children:"Loading..."})}F.createRoot(document.getElementById("root")).render(s.jsx(M.StrictMode,{children:s.jsx(Ut,{})}));export{it as F,$t as G,at as S,T as _,ht as i,s as j,st as r};
