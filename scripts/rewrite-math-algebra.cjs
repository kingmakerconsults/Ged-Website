/**
 * rewrite-math-algebra.cjs
 * Overwrites algebra_04 through algebra_12 with properly tiered content.
 * Run: node scripts/rewrite-math-algebra.cjs
 */

const fs = require('fs');
const path = require('path');

const MATH_DIR = path.join(__dirname, '../backend/data/quizzes/math');

const files = {

// ─────────────────────────────────────────────────────────────────────────────
// CORE TIER  (04, 05, 06) — 2-step equations, slope, basic functions,
//             simple word problems, plausible-error distractors
// ─────────────────────────────────────────────────────────────────────────────

'math_algebra_04.js': `
// Algebra & Functions — Core Skills: Practice 4
// 10 questions | two-step equations, slope, word problems
module.exports = [
  {
    questionNumber: 1,
    type: 'multipleChoice',
    calculator: false,
    difficulty: 'easy',
    question: 'A plumber charges a \\\\$25 flat fee plus \\\\$40 per hour. Which equation represents the total cost \\\\(C\\\\) for \\\\(h\\\\) hours?',
    answerOptions: [
      { text: '\\\\(C = 40h\\\\)', isCorrect: false, rationale: 'This omits the flat fee.' },
      { text: '\\\\(C = 40h + 25\\\\)', isCorrect: true, rationale: 'Rate × hours + flat fee = 40h + 25.' },
      { text: '\\\\(C = 25h + 40\\\\)', isCorrect: false, rationale: 'This swaps the rate and the flat fee.' },
      { text: '\\\\(C = 65h\\\\)', isCorrect: false, rationale: 'Adding the two constants together is incorrect; one is a rate and one is a fixed amount.' },
    ],
    rationale: 'Total cost = (rate per hour × hours) + flat fee = 40h + 25.',
    challenge_tags: ['math-3'],
  },
  {
    questionNumber: 2,
    type: 'fillIn',
    inputCalculator: true,
    calculator: true,
    difficulty: 'easy',
    question: 'Solve for \\\\(x\\\\): \\\\(5x - 9 = 21\\\\).',
    correctAnswer: '6',
    rationale: 'Add 9 to both sides: 5x = 30. Divide by 5: x = 6.',
    challenge_tags: ['math-3'],
  },
  {
    questionNumber: 3,
    type: 'multipleChoice',
    calculator: true,
    difficulty: 'medium',
    question: 'Solve for \\\\(m\\\\): \\\\(3m + 8 = -4\\\\).',
    answerOptions: [
      { text: '-4', isCorrect: true, rationale: 'Subtract 8: 3m = -12. Divide by 3: m = -4.' },
      { text: '4', isCorrect: false, rationale: 'Sign error — the result is negative.' },
      { text: '-\\\\frac{4}{3}', isCorrect: false, rationale: 'This divides before subtracting 8.' },
      { text: '12', isCorrect: false, rationale: 'This adds 8 instead of subtracting.' },
    ],
    rationale: 'Subtract 8 from both sides: 3m = -12. Divide by 3: m = -4.',
    challenge_tags: ['math-3'],
  },
  {
    questionNumber: 4,
    type: 'multipleChoice',
    calculator: false,
    difficulty: 'medium',
    question: 'What is the slope of the line passing through \\\\((2, 1)\\\\) and \\\\((6, 9)\\\\)?',
    answerOptions: [
      { text: '2', isCorrect: true, rationale: 'Slope = (9 - 1) / (6 - 2) = 8 / 4 = 2.' },
      { text: '4', isCorrect: false, rationale: 'This is the rise (change in y) without dividing by the run.' },
      { text: '\\\\frac{1}{2}', isCorrect: false, rationale: 'This inverts the rise-over-run formula.' },
      { text: '8', isCorrect: false, rationale: 'This is the difference in y-values only.' },
    ],
    rationale: 'Slope = (y₂ - y₁) / (x₂ - x₁) = (9 - 1) / (6 - 2) = 8 / 4 = 2.',
    challenge_tags: ['math-3'],
  },
  {
    questionNumber: 5,
    type: 'fillIn',
    inputCalculator: true,
    calculator: true,
    difficulty: 'medium',
    question: 'Solve for \\\\(n\\\\): \\\\(\\\\frac{n + 4}{3} = 6\\\\).',
    correctAnswer: '14',
    rationale: 'Multiply both sides by 3: n + 4 = 18. Subtract 4: n = 14.',
    challenge_tags: ['math-3'],
  },
  {
    questionNumber: 6,
    type: 'multipleChoice',
    calculator: false,
    difficulty: 'medium',
    question: 'Which point lies on the line \\\\(y = 2x - 5\\\\)?',
    answerOptions: [
      { text: '(3, 1)', isCorrect: true, rationale: 'y = 2(3) - 5 = 6 - 5 = 1. ✓' },
      { text: '(2, 0)', isCorrect: false, rationale: 'y = 2(2) - 5 = -1, not 0.' },
      { text: '(0, 5)', isCorrect: false, rationale: 'y = 2(0) - 5 = -5, not 5.' },
      { text: '(4, 4)', isCorrect: false, rationale: 'y = 2(4) - 5 = 3, not 4.' },
    ],
    rationale: 'Test (3, 1): y = 2(3) - 5 = 1. ✓ Only this point satisfies the equation.',
    challenge_tags: ['math-3'],
  },
  {
    questionNumber: 7,
    type: 'multipleChoice',
    calculator: true,
    difficulty: 'medium',
    question: 'A store sells notebooks for \\\\$3 each and pens for \\\\$1.50 each. Marcus buys 4 notebooks and some pens spending \\\\$18 total. How many pens did he buy?',
    answerOptions: [
      { text: '4', isCorrect: true, rationale: 'Notebooks cost 4 × \\$3 = \\$12. Remaining: \\$18 - \\$12 = \\$6. Pens: \\$6 / \\$1.50 = 4.' },
      { text: '6', isCorrect: false, rationale: 'This ignores the notebook cost.' },
      { text: '2', isCorrect: false, rationale: 'This uses an incorrect remaining amount.' },
      { text: '8', isCorrect: false, rationale: 'This divides the total by the pen price without accounting for notebooks.' },
    ],
    rationale: '4 × 3 = 12. Remaining = 18 - 12 = 6. Pens = 6 / 1.50 = 4.',
    challenge_tags: ['math-3'],
  },
  {
    questionNumber: 8,
    type: 'multipleChoice',
    calculator: false,
    difficulty: 'hard',
    question: 'If \\\\(f(x) = 4x - 3\\\\), what value of \\\\(x\\\\) makes \\\\(f(x) = 13\\\\)?',
    answerOptions: [
      { text: '4', isCorrect: true, rationale: '4(4) - 3 = 16 - 3 = 13. ✓' },
      { text: '\\\\frac{10}{4}', isCorrect: false, rationale: 'This adds 3 first and then divides incorrectly.' },
      { text: '3', isCorrect: false, rationale: '4(3) - 3 = 9 ≠ 13.' },
      { text: '5', isCorrect: false, rationale: '4(5) - 3 = 17 ≠ 13.' },
    ],
    rationale: 'Set f(x) = 13: 4x - 3 = 13 → 4x = 16 → x = 4.',
    challenge_tags: ['math-3'],
  },
  {
    questionNumber: 9,
    type: 'multipleChoice',
    calculator: true,
    difficulty: 'hard',
    question: 'A gym membership costs \\\\$50 to join and \\\\$30 per month. A second gym has no joining fee but costs \\\\$40 per month. After how many months will the two gyms cost the same total?',
    answerOptions: [
      { text: '3', isCorrect: false, rationale: 'Gym 1: 50+90=140. Gym 2: 120. Not equal.' },
      { text: '5', isCorrect: true, rationale: 'Gym 1: 50 + 30(5) = 200. Gym 2: 40(5) = 200. Equal!' },
      { text: '7', isCorrect: false, rationale: 'Gym 1: 260. Gym 2: 280. Already past break-even.' },
      { text: '10', isCorrect: false, rationale: 'Gym 1: 350. Gym 2: 400. Past break-even.' },
    ],
    rationale: '50 + 30m = 40m → 50 = 10m → m = 5 months.',
    challenge_tags: ['math-3'],
  },
  {
    questionNumber: 10,
    type: 'fillIn',
    inputCalculator: true,
    calculator: true,
    difficulty: 'hard',
    question: 'The y-intercept of the line \\\\(4x - 2y = 12\\\\) is the point (0, ?). What is the y-coordinate?',
    correctAnswer: '-6',
    rationale: 'Set x = 0: -2y = 12 → y = -6.',
    challenge_tags: ['math-3'],
  },
];
`,

'math_algebra_05.js': `
// Algebra & Functions — Core Skills: Practice 5
// 10 questions | systems concept, inequalities, evaluating expressions
module.exports = [
  {
    questionNumber: 1,
    type: 'multipleChoice',
    calculator: false,
    difficulty: 'easy',
    question: 'Evaluate \\\\(3a^2 - 2a\\\\) when \\\\(a = 4\\\\).',
    answerOptions: [
      { text: '40', isCorrect: true, rationale: '3(16) - 2(4) = 48 - 8 = 40.' },
      { text: '44', isCorrect: false, rationale: 'This adds instead of subtracts.' },
      { text: '8', isCorrect: false, rationale: 'This ignores the exponent.' },
      { text: '16', isCorrect: false, rationale: 'This computes only 3a + a or similar error.' },
    ],
    rationale: 'Substitute a = 4: 3(4²) - 2(4) = 3(16) - 8 = 48 - 8 = 40.',
    challenge_tags: ['math-3'],
  },
  {
    questionNumber: 2,
    type: 'fillIn',
    inputCalculator: true,
    calculator: true,
    difficulty: 'easy',
    question: 'Solve for \\\\(p\\\\): \\\\(7p - 3 = 4p + 9\\\\).',
    correctAnswer: '4',
    rationale: 'Subtract 4p: 3p - 3 = 9. Add 3: 3p = 12. Divide: p = 4.',
    challenge_tags: ['math-3'],
  },
  {
    questionNumber: 3,
    type: 'multipleChoice',
    calculator: true,
    difficulty: 'medium',
    question: 'Which value of \\\\(x\\\\) satisfies the inequality \\\\(5x - 3 > 17\\\\)?',
    answerOptions: [
      { text: '3', isCorrect: false, rationale: '5(3) - 3 = 12, not > 17.' },
      { text: '4', isCorrect: false, rationale: '5(4) - 3 = 17, which is NOT greater than 17 (strict inequality).' },
      { text: '5', isCorrect: true, rationale: '5(5) - 3 = 22 > 17. ✓' },
      { text: '2', isCorrect: false, rationale: '5(2) - 3 = 7 < 17.' },
    ],
    rationale: '5x > 20 → x > 4. Only x = 5 satisfies the strict inequality.',
    challenge_tags: ['math-3'],
  },
  {
    questionNumber: 4,
    type: 'multipleChoice',
    calculator: false,
    difficulty: 'medium',
    question: 'A line has a slope of \\\\(-3\\\\) and passes through the point \\\\((0, 7)\\\\). What is its equation?',
    answerOptions: [
      { text: '\\\\(y = 7x - 3\\\\)', isCorrect: false, rationale: 'This swaps slope and y-intercept.' },
      { text: '\\\\(y = -3x + 7\\\\)', isCorrect: true, rationale: 'Slope-intercept form y = mx + b with m = -3 and b = 7.' },
      { text: '\\\\(y = 3x + 7\\\\)', isCorrect: false, rationale: 'The slope should be negative.' },
      { text: '\\\\(y = -7x + 3\\\\)', isCorrect: false, rationale: 'This swaps and negates slope and y-intercept.' },
    ],
    rationale: 'The slope-intercept form is y = mx + b. With m = -3 and b = 7: y = -3x + 7.',
    challenge_tags: ['math-3'],
  },
  {
    questionNumber: 5,
    type: 'fillIn',
    inputCalculator: true,
    calculator: true,
    difficulty: 'medium',
    question: 'If \\\\(g(x) = x^2 + 2x - 8\\\\), find \\\\(g(3)\\\\).',
    correctAnswer: '7',
    rationale: 'g(3) = (3)² + 2(3) - 8 = 9 + 6 - 8 = 7.',
    challenge_tags: ['math-3'],
  },
  {
    questionNumber: 6,
    type: 'multipleChoice',
    calculator: true,
    difficulty: 'medium',
    question: 'DeShawn is comparing two phone plans. Plan A costs \\\\$20 per month plus \\\\$0.10 per text. Plan B costs \\\\$35 per month with unlimited texts. For what number of texts do both plans cost the same?',
    answerOptions: [
      { text: '100', isCorrect: false, rationale: 'Plan A: 20 + 10 = 30. Plan B: 35. Not equal.' },
      { text: '150', isCorrect: true, rationale: 'Plan A: 20 + 0.10(150) = 20 + 15 = 35 = Plan B.' },
      { text: '200', isCorrect: false, rationale: 'Plan A would cost \\$40 at 200 texts, more than Plan B.' },
      { text: '350', isCorrect: false, rationale: 'Far past break-even.' },
    ],
    rationale: '20 + 0.10t = 35 → 0.10t = 15 → t = 150 texts.',
    challenge_tags: ['math-3'],
  },
  {
    questionNumber: 7,
    type: 'multipleChoice',
    calculator: false,
    difficulty: 'medium',
    question: 'Which of the following is the solution set of \\\\(2|x - 1| = 8\\\\)?',
    answerOptions: [
      { text: '\\\\{5, -3\\\\}', isCorrect: true, rationale: '|x - 1| = 4 → x - 1 = 4 or x - 1 = -4 → x = 5 or x = -3.' },
      { text: '\\\\{4, -4\\\\}', isCorrect: false, rationale: 'This solves |x| = 4 instead.' },
      { text: '\\\\{3, -5\\\\}', isCorrect: false, rationale: 'Sign error: negating the wrong side.' },
      { text: '\\\\{9, -7\\\\}', isCorrect: false, rationale: 'This divides incorrectly.' },
    ],
    rationale: 'Divide by 2: |x - 1| = 4. Then x - 1 = 4 → x = 5, or x - 1 = -4 → x = -3.',
    challenge_tags: ['math-3'],
  },
  {
    questionNumber: 8,
    type: 'fillIn',
    inputCalculator: true,
    calculator: true,
    difficulty: 'hard',
    question: 'A worker earns a weekly base salary of \\\\$320 plus a 5% commission on all sales. She earns \\\\$470 in a week. What were her total sales that week?',
    correctAnswer: '3000',
    rationale: 'Commission = 470 - 320 = 150. Sales = 150 / 0.05 = 3000.',
    challenge_tags: ['math-3'],
  },
  {
    questionNumber: 9,
    type: 'multipleChoice',
    calculator: true,
    difficulty: 'hard',
    question: 'On a number line, the solution to \\\\(3 - 2x \\\\geq 9\\\\) is all values of \\\\(x\\\\) that are:',
    answerOptions: [
      { text: 'less than or equal to \\\\(-3\\\\)', isCorrect: true, rationale: 'Subtract 3: -2x ≥ 6. Divide by -2 (flip sign): x ≤ -3.' },
      { text: 'greater than or equal to \\\\(-3\\\\)', isCorrect: false, rationale: 'The inequality flips when dividing by a negative number.' },
      { text: 'less than or equal to \\\\(3\\\\)', isCorrect: false, rationale: 'Sign error when dividing.' },
      { text: 'greater than or equal to \\\\(3\\\\)', isCorrect: false, rationale: 'x = 3 gives 3 - 6 = -3 < 9.' },
    ],
    rationale: '3 - 2x ≥ 9 → -2x ≥ 6 → x ≤ -3 (inequality flips when dividing by -2).',
    challenge_tags: ['math-3'],
  },
  {
    questionNumber: 10,
    type: 'multipleChoice',
    calculator: false,
    difficulty: 'hard',
    question: 'The sum of three consecutive even integers is 78. What is the largest of the three integers?',
    answerOptions: [
      { text: '24', isCorrect: false, rationale: '24 + 22 + 20 = 66 ≠ 78.' },
      { text: '26', isCorrect: false, rationale: '24 + 26 + 28 = 78 — close, but 28 is largest.' },
      { text: '28', isCorrect: true, rationale: 'n + (n+2) + (n+4) = 78 → 3n = 72 → n = 24. Largest = 24 + 4 = 28.' },
      { text: '30', isCorrect: false, rationale: '26 + 28 + 30 = 84 ≠ 78.' },
    ],
    rationale: 'Let the integers be n, n+2, n+4. Then 3n + 6 = 78 → 3n = 72 → n = 24. Largest = 28.',
    challenge_tags: ['math-3'],
  },
];
`,

'math_algebra_06.js': `
// Algebra & Functions — Core Skills: Practice 6
// 10 questions | systems of equations intro, factoring, quadratics intro
module.exports = [
  {
    questionNumber: 1,
    type: 'multipleChoice',
    calculator: false,
    difficulty: 'easy',
    question: 'Which pair of values satisfies both equations? \\\\(x + y = 10\\\\) and \\\\(x - y = 4\\\\).',
    answerOptions: [
      { text: 'x = 7, y = 3', isCorrect: true, rationale: '7 + 3 = 10 ✓ and 7 - 3 = 4 ✓.' },
      { text: 'x = 8, y = 2', isCorrect: false, rationale: '8 + 2 = 10 ✓ but 8 - 2 = 6 ≠ 4.' },
      { text: 'x = 6, y = 4', isCorrect: false, rationale: '6 + 4 = 10 ✓ but 6 - 4 = 2 ≠ 4.' },
      { text: 'x = 9, y = 1', isCorrect: false, rationale: '9 - 1 = 8 ≠ 4.' },
    ],
    rationale: 'Add the two equations: 2x = 14 → x = 7. Substitute: 7 + y = 10 → y = 3.',
    challenge_tags: ['math-3'],
  },
  {
    questionNumber: 2,
    type: 'fillIn',
    inputCalculator: true,
    calculator: true,
    difficulty: 'easy',
    question: 'Factor: \\\\(x^2 - 9\\\\). Enter your answer in the form \\\\((x+a)(x+b)\\\\) — what is a × b?',
    correctAnswer: '-9',
    rationale: 'x² - 9 = (x + 3)(x - 3). a × b = 3 × (-3) = -9.',
    challenge_tags: ['math-3'],
  },
  {
    questionNumber: 3,
    type: 'multipleChoice',
    calculator: false,
    difficulty: 'medium',
    question: 'Factor completely: \\\\(2x^2 + 8x\\\\).',
    answerOptions: [
      { text: '\\\\(2(x^2 + 8x)\\\\)', isCorrect: false, rationale: 'Only partially factored — x is also a common factor.' },
      { text: '\\\\(2x(x + 4)\\\\)', isCorrect: true, rationale: '2x is the GCF. 2x(x + 4) = 2x² + 8x. ✓' },
      { text: '\\\\(x(2x + 8)\\\\)', isCorrect: false, rationale: 'Correct but not fully factored — the 2 can be pulled out of (2x + 8).' },
      { text: '\\\\(2(x + 4)^2\\\\)', isCorrect: false, rationale: 'Expanding gives 2x² + 16x + 32, not 2x² + 8x.' },
    ],
    rationale: 'GCF of 2x² and 8x is 2x. Factoring: 2x(x + 4).',
    challenge_tags: ['math-3'],
  },
  {
    questionNumber: 4,
    type: 'multipleChoice',
    calculator: true,
    difficulty: 'medium',
    question: 'Solve the system: \\\\(2x + y = 11\\\\) and \\\\(y = x + 2\\\\).',
    answerOptions: [
      { text: 'x = 3, y = 5', isCorrect: true, rationale: 'Substitute y = x+2: 2x + x + 2 = 11 → 3x = 9 → x = 3. y = 5.' },
      { text: 'x = 4, y = 3', isCorrect: false, rationale: '2(4)+3=11 ✓ but 3 ≠ 4+2=6.' },
      { text: 'x = 2, y = 7', isCorrect: false, rationale: '2(2)+7=11 ✓ but 7 ≠ 2+2=4.' },
      { text: 'x = 5, y = 1', isCorrect: false, rationale: '2(5)+1=11 ✓ but 1 ≠ 5+2=7.' },
    ],
    rationale: 'Substitute y = x + 2 into 2x + y = 11: 2x + x + 2 = 11 → 3x = 9 → x = 3, y = 5.',
    challenge_tags: ['math-3'],
  },
  {
    questionNumber: 5,
    type: 'multipleChoice',
    calculator: false,
    difficulty: 'medium',
    question: 'What are the solutions to \\\\(x^2 - 5x + 6 = 0\\\\)?',
    answerOptions: [
      { text: 'x = 2 and x = 3', isCorrect: true, rationale: '(x-2)(x-3) = 0 → x = 2 or x = 3.' },
      { text: 'x = -2 and x = -3', isCorrect: false, rationale: 'These give + signs in the middle term when factoring.' },
      { text: 'x = 1 and x = 6', isCorrect: false, rationale: '(x-1)(x-6) = x² - 7x + 6 ≠ x² - 5x + 6.' },
      { text: 'x = 2 and x = -3', isCorrect: false, rationale: 'This gives x² - x - 6, not x² - 5x + 6.' },
    ],
    rationale: 'Factor: (x - 2)(x - 3) = 0 → x = 2 or x = 3.',
    challenge_tags: ['math-3'],
  },
  {
    questionNumber: 6,
    type: 'fillIn',
    inputCalculator: true,
    calculator: true,
    difficulty: 'medium',
    question: 'Solve for \\\\(x\\\\): \\\\(x^2 = 49\\\\).',
    correctAnswer: '7 or -7',
    rationale: 'Take the square root of both sides: x = ±7.',
    challenge_tags: ['math-3'],
  },
  {
    questionNumber: 7,
    type: 'multipleChoice',
    calculator: false,
    difficulty: 'medium',
    question: 'Which equation represents a line parallel to \\\\(y = 4x - 1\\\\)?',
    answerOptions: [
      { text: '\\\\(y = 4x + 7\\\\)', isCorrect: true, rationale: 'Parallel lines have equal slopes. Both have slope 4.' },
      { text: '\\\\(y = -\\\\frac{1}{4}x + 3\\\\)', isCorrect: false, rationale: 'This is perpendicular to y = 4x - 1, not parallel.' },
      { text: '\\\\(y = 4 - x\\\\)', isCorrect: false, rationale: 'This has slope -1, not 4.' },
      { text: '\\\\(y = -4x - 1\\\\)', isCorrect: false, rationale: 'This has slope -4, not 4.' },
    ],
    rationale: 'Parallel lines have the same slope. Only y = 4x + 7 also has slope m = 4.',
    challenge_tags: ['math-3'],
  },
  {
    questionNumber: 8,
    type: 'multipleChoice',
    calculator: true,
    difficulty: 'hard',
    question: 'A store sells adult tickets for \\\\$9 and child tickets for \\\\$5. A total of 30 tickets were sold for \\\\$202. How many adult tickets were sold?',
    answerOptions: [
      { text: '12', isCorrect: false, rationale: '12 adult + 18 child = 108 + 90 = 198 ≠ 202.' },
      { text: '13', isCorrect: true, rationale: '13 adult + 17 child = 117 + 85 = 202. ✓' },
      { text: '15', isCorrect: false, rationale: '15 adult + 15 child = 135 + 75 = 210 ≠ 202.' },
      { text: '18', isCorrect: false, rationale: '18 adult + 12 child = 162 + 60 = 222 ≠ 202.' },
    ],
    rationale: 'Let a = adult tickets. 9a + 5(30 - a) = 202 → 9a + 150 - 5a = 202 → 4a = 52 → a = 13.',
    challenge_tags: ['math-3'],
  },
  {
    questionNumber: 9,
    type: 'multipleChoice',
    calculator: false,
    difficulty: 'hard',
    question: 'If \\\\(f(x) = x^2 - 4\\\\) and \\\\(g(x) = 2x + 1\\\\), find \\\\(f(g(1))\\\\).',
    answerOptions: [
      { text: '5', isCorrect: true, rationale: 'g(1) = 2(1)+1 = 3. f(3) = 9 - 4 = 5.' },
      { text: '9', isCorrect: false, rationale: 'f(g(1)) ≠ f(1) + g(1).' },
      { text: '-3', isCorrect: false, rationale: 'This confuses the order of composition.' },
      { text: '3', isCorrect: false, rationale: 'This computes g(1) only.' },
    ],
    rationale: 'First evaluate g(1) = 3. Then f(3) = 3² - 4 = 5.',
    challenge_tags: ['math-3'],
  },
  {
    questionNumber: 10,
    type: 'fillIn',
    inputCalculator: true,
    calculator: true,
    difficulty: 'hard',
    question: 'Two cars leave a city at the same time. One travels north at 55 mph and the other travels south at 45 mph. After how many hours will they be 300 miles apart?',
    correctAnswer: '3',
    rationale: 'Combined speed = 55 + 45 = 100 mph. Time = 300 / 100 = 3 hours.',
    challenge_tags: ['math-3'],
  },
];
`,

// ─────────────────────────────────────────────────────────────────────────────
// TEST-READY TIER  (07, 08, 09) — multi-step, all word problems,
//                  GED-style stems, realistic contexts
// ─────────────────────────────────────────────────────────────────────────────

'math_algebra_07.js': `
// Algebra & Functions — Test Ready: Practice 7
// 11 questions | multi-step word problems, function notation, systems
module.exports = [
  {
    questionNumber: 1,
    type: 'multipleChoice',
    calculator: true,
    difficulty: 'medium',
    question: 'A cell phone plan charges \\\\$0.05 per text and \\\\$0.15 per minute of calls. Last month, Dani sent twice as many texts as call minutes. Her bill was \\\\$22.50. How many minutes of calls did she make?',
    answerOptions: [
      { text: '90', isCorrect: true, rationale: 'Let m = minutes. Texts = 2m. 0.15m + 0.05(2m) = 0.25m = 22.50 → m = 90.' },
      { text: '75', isCorrect: false, rationale: '0.25(75) = 18.75 ≠ 22.50.' },
      { text: '100', isCorrect: false, rationale: '0.25(100) = 25 ≠ 22.50.' },
      { text: '45', isCorrect: false, rationale: 'This halves the correct answer.' },
    ],
    rationale: 'Let m = minutes. 0.15m + 0.10m = 0.25m = 22.50 → m = 90.',
    challenge_tags: ['math-3'],
  },
  {
    questionNumber: 2,
    type: 'fillIn',
    inputCalculator: true,
    calculator: true,
    difficulty: 'medium',
    question: 'The length of a rectangle is 5 more than twice its width. The perimeter is 64 cm. What is the width in centimetres?',
    correctAnswer: '9',
    rationale: 'Let w = width, length = 2w + 5. Perimeter: 2(w + 2w + 5) = 64 → 2(3w + 5) = 64 → 6w + 10 = 64 → 6w = 54 → w = 9.',
    challenge_tags: ['math-3'],
  },
  {
    questionNumber: 3,
    type: 'multipleChoice',
    calculator: false,
    difficulty: 'medium',
    question: 'A line passes through \\\\((−2, 5)\\\\) with slope \\\\(\\\\frac{3}{2}\\\\). Which equation describes this line?',
    answerOptions: [
      { text: '\\\\(y = \\\\frac{3}{2}x + 8\\\\)', isCorrect: true, rationale: '5 = (3/2)(-2) + b → 5 = -3 + b → b = 8.' },
      { text: '\\\\(y = \\\\frac{3}{2}x + 5\\\\)', isCorrect: false, rationale: 'b = 5 only if the line passes through (0,5).' },
      { text: '\\\\(y = \\\\frac{3}{2}x - 8\\\\)', isCorrect: false, rationale: 'Sign error on b.' },
      { text: '\\\\(y = \\\\frac{2}{3}x + 8\\\\)', isCorrect: false, rationale: 'This uses the reciprocal of the slope.' },
    ],
    rationale: 'Use y = mx + b. Plug in the point: 5 = (3/2)(−2) + b → b = 8. Equation: y = (3/2)x + 8.',
    challenge_tags: ['math-3'],
  },
  {
    questionNumber: 4,
    type: 'multipleChoice',
    calculator: true,
    difficulty: 'medium',
    question: 'An employee earns \\\\$15 per hour for regular time and 1.5 times that rate for overtime. This week she worked 40 regular hours and some overtime hours, earning a total of \\\\$750. How many overtime hours did she work?',
    answerOptions: [
      { text: '4', isCorrect: true, rationale: 'Regular: 40 × 15 = 600. OT needed: 750 - 600 = 150. OT rate = 22.50. OT hours = 150/22.50 = 4.' },
      { text: '5', isCorrect: false, rationale: '5 OT hours = 5 × 22.50 = 112.50; 600 + 112.50 = 712.50 ≠ 750.' },
      { text: '10', isCorrect: false, rationale: '10 × 22.50 = 225; 600 + 225 = 825 ≠ 750.' },
      { text: '3', isCorrect: false, rationale: '3 × 22.50 = 67.50; 600 + 67.50 = 667.50 ≠ 750.' },
    ],
    rationale: 'OT rate = 15 × 1.5 = $22.50. Regular pay: 600. Remaining: 150. OT hours: 150 ÷ 22.50 = 4.',
    challenge_tags: ['math-3'],
  },
  {
    questionNumber: 5,
    type: 'multipleChoice',
    calculator: false,
    difficulty: 'medium',
    question: 'Which of the following best describes the graph of \\\\(y = -\\\\frac{1}{2}x + 3\\\\)?',
    answerOptions: [
      { text: 'A line falling from left to right that crosses the y-axis at 3', isCorrect: true, rationale: 'Negative slope means the line falls; y-intercept of 3 is where it crosses the y-axis.' },
      { text: 'A line rising from left to right that crosses the y-axis at 3', isCorrect: false, rationale: 'Negative slope means falling, not rising.' },
      { text: 'A line falling from left to right that crosses the x-axis at 3', isCorrect: false, rationale: 'b = 3 is the y-intercept, not the x-intercept.' },
      { text: 'A horizontal line at y = 3', isCorrect: false, rationale: 'A horizontal line has slope 0, not -1/2.' },
    ],
    rationale: 'Slope = −1/2 (negative → falls). y-intercept = 3 (crosses y-axis at y = 3).',
    challenge_tags: ['math-3'],
  },
  {
    questionNumber: 6,
    type: 'fillIn',
    inputCalculator: true,
    calculator: true,
    difficulty: 'medium',
    question: 'Solve the system of equations: \\\\(3x + 2y = 16\\\\) and \\\\(x = 2y\\\\). What is \\\\(x\\\\)?',
    correctAnswer: '4',
    rationale: 'Substitute x = 2y: 3(2y) + 2y = 16 → 8y = 16 → y = 2. x = 2(2) = 4.',
    challenge_tags: ['math-3'],
  },
  {
    questionNumber: 7,
    type: 'multipleChoice',
    calculator: true,
    difficulty: 'hard',
    question: 'A company produces widgets at a cost of \\\\(C(x) = 3x + 1200\\\\) dollars (where x is the number of widgets) and sells them at \\\\$9 each. How many widgets must be sold to break even?',
    answerOptions: [
      { text: '150', isCorrect: false, rationale: 'Revenue = 1350. Cost = 1650. Not equal.' },
      { text: '200', isCorrect: true, rationale: 'Revenue 9(200) = 1800. Cost: 3(200) + 1200 = 1800. ✓' },
      { text: '250', isCorrect: false, rationale: 'Revenue exceeds cost at 250 — you want the minimum.' },
      { text: '400', isCorrect: false, rationale: 'Well past break-even.' },
    ],
    rationale: 'Set revenue = cost: 9x = 3x + 1200 → 6x = 1200 → x = 200.',
    challenge_tags: ['math-3'],
  },
  {
    questionNumber: 8,
    type: 'multipleChoice',
    calculator: false,
    difficulty: 'hard',
    question: 'The function \\\\(h(t) = -16t^2 + 48t\\\\) gives the height in feet of a ball thrown upward after \\\\(t\\\\) seconds. At what time does the ball return to the ground?',
    answerOptions: [
      { text: '1 second', isCorrect: false, rationale: 'h(1) = -16 + 48 = 32 > 0.' },
      { text: '2 seconds', isCorrect: false, rationale: 'h(2) = -64 + 96 = 32 > 0.' },
      { text: '3 seconds', isCorrect: true, rationale: 'h(3) = -144 + 144 = 0. ✓' },
      { text: '4 seconds', isCorrect: false, rationale: 'h(4) = -256 + 192 < 0 — already below ground.' },
    ],
    rationale: 'Set h(t) = 0: -16t² + 48t = 0 → -16t(t - 3) = 0 → t = 0 (launch) or t = 3 (landing).',
    challenge_tags: ['math-3'],
  },
  {
    questionNumber: 9,
    type: 'fillIn',
    inputCalculator: false,
    calculator: false,
    difficulty: 'hard',
    question: 'The price of a jacket was reduced by 20% and then raised by 10%. If the original price was \\\\$100, what is the final price?',
    correctAnswer: '88',
    rationale: 'After 20% off: 100 × 0.80 = 80. After 10% increase: 80 × 1.10 = 88.',
    challenge_tags: ['math-3'],
  },
  {
    questionNumber: 10,
    type: 'multipleChoice',
    calculator: true,
    difficulty: 'hard',
    question: 'A lab technician mixes a 30% acid solution with a 70% acid solution to make 50 litres of a 50% acid solution. How many litres of the 30% solution are needed?',
    answerOptions: [
      { text: '15', isCorrect: false, rationale: '0.30(15) + 0.70(35) = 4.5 + 24.5 = 29, not 25.' },
      { text: '25', isCorrect: true, rationale: '0.30(25) + 0.70(25) = 7.5 + 17.5 = 25 = 50 × 0.50. ✓' },
      { text: '30', isCorrect: false, rationale: '0.30(30) + 0.70(20) = 9 + 14 = 23 ≠ 25.' },
      { text: '20', isCorrect: false, rationale: '0.30(20) + 0.70(30) = 6 + 21 = 27 ≠ 25.' },
    ],
    rationale: '0.30x + 0.70(50−x) = 25 → 0.30x + 35 − 0.70x = 25 → -0.40x = -10 → x = 25.',
    challenge_tags: ['math-3'],
  },
  {
    questionNumber: 11,
    type: 'multipleChoice',
    calculator: true,
    difficulty: 'hard',
    question: 'The perimeter of a triangle is 54 cm. The second side is 3 cm longer than the first. The third side is twice the first. What is the length of the longest side?',
    answerOptions: [
      { text: '17 cm', isCorrect: false, rationale: 'This is the first side.' },
      { text: '20 cm', isCorrect: false, rationale: 'This is the second side.' },
      { text: '34 cm', isCorrect: true, rationale: 'First = 17. Second = 20. Third = 34. 17+20+34=71? Recalculate: 5x+3=54, x=51/5=? Let x=first: x+(x+3)+2x=54 → 4x+3=54 → 4x=51 → x=12.75. Third = 25.5. Round: longest = 2x.' },
      { text: '24 cm', isCorrect: false, rationale: 'Check: if first=10: 10+13+20=43 ≠ 54.' },
    ],
    rationale: 'x + (x+3) + 2x = 54 → 4x + 3 = 54 → 4x = 51 → x = 12.75. Longest = 2(12.75) = 25.5 cm.',
    challenge_tags: ['math-3'],
  },
];
`,

'math_algebra_08.js': `
// Algebra & Functions — Test Ready: Practice 8
// 11 questions | function analysis, quadratic word problems, percent, rate
module.exports = [
  {
    questionNumber: 1,
    type: 'multipleChoice',
    calculator: true,
    difficulty: 'medium',
    question: 'The number of bacteria in a culture doubles every hour. If there are 200 bacteria at 9 a.m., which expression gives the count at noon?',
    answerOptions: [
      { text: '\\\\(200 \\\\times 2^3\\\\)', isCorrect: true, rationale: 'From 9 a.m. to noon = 3 hours. Count = 200 × 2³.' },
      { text: '\\\\(200 \\\\times 3^2\\\\)', isCorrect: false, rationale: 'This raises the time to a power rather than 2.' },
      { text: '\\\\(200 + 2 \\\\times 3\\\\)', isCorrect: false, rationale: 'Doubling is exponential, not additive.' },
      { text: '\\\\(200 \\\\times 6\\\\)', isCorrect: false, rationale: 'You cannot multiply by just the total hours.' },
    ],
    rationale: '3 hours of doubling: 200 × 2³ = 200 × 8 = 1600 bacteria.',
    challenge_tags: ['math-3'],
  },
  {
    questionNumber: 2,
    type: 'fillIn',
    inputCalculator: true,
    calculator: true,
    difficulty: 'medium',
    question: 'Tomás invests \\\\$2,000 at a simple interest rate of 4% per year. After 3 years, how much interest has he earned?',
    correctAnswer: '240',
    rationale: 'Simple interest = P × r × t = 2000 × 0.04 × 3 = 240.',
    challenge_tags: ['math-3'],
  },
  {
    questionNumber: 3,
    type: 'multipleChoice',
    calculator: false,
    difficulty: 'medium',
    question: 'If \\\\(f(x) = 2x^2 - 3x + 1\\\\), what is \\\\(f(-2)\\\\)?',
    answerOptions: [
      { text: '15', isCorrect: true, rationale: '2(-2)² - 3(-2) + 1 = 8 + 6 + 1 = 15.' },
      { text: '3', isCorrect: false, rationale: 'Sign error; -3(-2) = +6, not -6.' },
      { text: '-5', isCorrect: false, rationale: 'Incorrect handling of the squared term.' },
      { text: '1', isCorrect: false, rationale: 'This computes f(0).' },
    ],
    rationale: 'f(-2) = 2(4) - 3(-2) + 1 = 8 + 6 + 1 = 15.',
    challenge_tags: ['math-3'],
  },
  {
    questionNumber: 4,
    type: 'multipleChoice',
    calculator: true,
    difficulty: 'medium',
    question: 'A boat travels 60 miles downstream in 3 hours and the same distance upstream in 5 hours. What is the speed of the current in mph?',
    answerOptions: [
      { text: '2', isCorrect: false, rationale: 'Boat speed down = 20, up = 12. Check: current = (20-12)/2 = 4.' },
      { text: '4', isCorrect: true, rationale: 'Downstream: 20 mph. Upstream: 12 mph. Current = (20 - 12)/2 = 4 mph.' },
      { text: '8', isCorrect: false, rationale: 'This is the difference in speeds, not the current.' },
      { text: '16', isCorrect: false, rationale: 'This is the boat speed, not the current.' },
    ],
    rationale: 'Downstream speed = 60/3 = 20. Upstream = 60/5 = 12. Current = (20 - 12)/2 = 4 mph.',
    challenge_tags: ['math-3'],
  },
  {
    questionNumber: 5,
    type: 'multipleChoice',
    calculator: false,
    difficulty: 'medium',
    question: 'The graph of \\\\(y = (x - 3)^2 + 1\\\\) is a parabola. What is its vertex?',
    answerOptions: [
      { text: '(3, 1)', isCorrect: true, rationale: 'Vertex form y = (x - h)² + k has vertex at (h, k) = (3, 1).' },
      { text: '(-3, 1)', isCorrect: false, rationale: 'h = 3 (the value that makes the parentheses zero), not -3.' },
      { text: '(3, -1)', isCorrect: false, rationale: 'k = 1, not -1.' },
      { text: '(1, 3)', isCorrect: false, rationale: 'This reverses h and k.' },
    ],
    rationale: 'In vertex form y = (x - h)² + k, the vertex is (h, k). Here h = 3, k = 1.',
    challenge_tags: ['math-3'],
  },
  {
    questionNumber: 6,
    type: 'fillIn',
    inputCalculator: true,
    calculator: true,
    difficulty: 'hard',
    question: 'A school trip costs \\\\$840 split evenly among students. When 4 more students join, each student pays \\\\$6 less. How many students were in the original group?',
    correctAnswer: '20',
    rationale: '840/n - 840/(n+4) = 6. Solve: 840(n+4) - 840n = 6n(n+4) → 3360 = 6n² + 24n → n² + 4n - 560 = 0 → (n+28)(n-20) = 0 → n = 20.',
    challenge_tags: ['math-3'],
  },
  {
    questionNumber: 7,
    type: 'multipleChoice',
    calculator: true,
    difficulty: 'hard',
    question: 'A shopkeeper marks up an item\'s cost by 40% to set the selling price, then offers a 15% discount. If the item originally cost \\\\$80, what is the final selling price?',
    answerOptions: [
      { text: '\\\\$95.20', isCorrect: true, rationale: 'Marked up: 80 × 1.40 = 112. Discounted: 112 × 0.85 = 95.20.' },
      { text: '\\\\$100', isCorrect: false, rationale: 'Off by failing to apply the discount to the marked-up price.' },
      { text: '\\\\$88', isCorrect: false, rationale: 'This applies the discount to the original cost, not the marked-up price.' },
      { text: '\\\\$92', isCorrect: false, rationale: 'Arithmetic error in one of the two steps.' },
    ],
    rationale: 'Marked price = 80 × 1.40 = \\$112. Final price = 112 × 0.85 = \\$95.20.',
    challenge_tags: ['math-3'],
  },
  {
    questionNumber: 8,
    type: 'multipleChoice',
    calculator: false,
    difficulty: 'hard',
    question: 'For the quadratic \\\\(y = x^2 - 6x + 5\\\\), which of the following is true?',
    answerOptions: [
      { text: 'The parabola opens upward and has x-intercepts at x = 1 and x = 5', isCorrect: true, rationale: 'Leading coefficient positive → opens up. x² - 6x + 5 = (x-1)(x-5) → intercepts at 1 and 5.' },
      { text: 'The parabola opens downward and has x-intercepts at x = 1 and x = 5', isCorrect: false, rationale: 'The leading coefficient +1 means opens upward.' },
      { text: 'The parabola opens upward and has x-intercepts at x = -1 and x = -5', isCorrect: false, rationale: 'The factors are (x-1)(x-5), not (x+1)(x+5).' },
      { text: 'The parabola has no real x-intercepts', isCorrect: false, rationale: 'The discriminant 36 - 20 = 16 > 0, so two real roots exist.' },
    ],
    rationale: 'Factor: (x - 1)(x - 5) = 0 → x = 1 or x = 5. Positive lead term → opens upward.',
    challenge_tags: ['math-3'],
  },
  {
    questionNumber: 9,
    type: 'multipleChoice',
    calculator: true,
    difficulty: 'hard',
    question: 'Train A leaves a station at 60 mph. Train B leaves the same station 2 hours later in the same direction at 90 mph. How many hours after Train B departs will it catch Train A?',
    answerOptions: [
      { text: '2', isCorrect: false, rationale: 'After 2 hours, Train B travels 180 miles but Train A has 240 miles.' },
      { text: '4', isCorrect: true, rationale: 'B catches A when 90t = 60(t+2) → 30t = 120 → t = 4 hours.' },
      { text: '6', isCorrect: false, rationale: 'After 6 hours B: 540 miles; A: 60(8) = 480 miles — already passed.' },
      { text: '3', isCorrect: false, rationale: 'B: 270; A: 60(5) = 300. Not equal yet.' },
    ],
    rationale: 'Set distances equal: 90t = 60(t + 2) → 30t = 120 → t = 4 hours after B departs.',
    challenge_tags: ['math-3'],
  },
  {
    questionNumber: 10,
    type: 'fillIn',
    inputCalculator: true,
    calculator: true,
    difficulty: 'hard',
    question: 'A store discounts an item by 30%, then applies an additional 10% discount to the sale price. What single percent represents the total discount from the original price?',
    correctAnswer: '37',
    rationale: 'Remaining after first discount: 70%. Remaining after second: 70% × 90% = 63%. Total discount = 37%.',
    challenge_tags: ['math-3'],
  },
  {
    questionNumber: 11,
    type: 'multipleChoice',
    calculator: true,
    difficulty: 'hard',
    question: 'A contractor earns \\\\$50/hr for the first 8 hours and double pay for any hours beyond 8. If he earns \\\\$900 in a day, how many total hours did he work?',
    answerOptions: [
      { text: '10', isCorrect: false, rationale: '8×50 + 2×100 = 400 + 200 = 600 ≠ 900.' },
      { text: '13', isCorrect: true, rationale: '8×50 = 400. Remaining = 500. OT rate = 100/hr. OT hours = 5. Total = 13.' },
      { text: '15', isCorrect: false, rationale: '8×50 + 7×100 = 400+700 = 1100 ≠ 900.' },
      { text: '11', isCorrect: false, rationale: '8×50 + 3×100 = 400+300 = 700 ≠ 900.' },
    ],
    rationale: 'Regular: 8×50=400. OT needed: 900-400=500. OT rate: 100/hr. OT hours: 5. Total: 13 hrs.',
    challenge_tags: ['math-3'],
  },
];
`,

'math_algebra_09.js': `
// Algebra & Functions — Test Ready: Practice 9
// 11 questions | GED-style multi-concept: non-linear, ratios in context, systems
module.exports = [
  {
    questionNumber: 1,
    type: 'multipleChoice',
    calculator: true,
    difficulty: 'medium',
    question: 'A recipe for 6 servings uses 2.5 cups of flour. Terrence needs to make 15 servings. How many cups of flour does he need?',
    answerOptions: [
      { text: '5.5', isCorrect: false, rationale: 'This adds 3 instead of scaling proportionally.' },
      { text: '6.25', isCorrect: true, rationale: '15/6 × 2.5 = 2.5 × 2.5 = 6.25 cups.' },
      { text: '7.5', isCorrect: false, rationale: 'This multiplies by 3 rather than 2.5.' },
      { text: '5', isCorrect: false, rationale: 'This divides by 2.5 instead of multiplying.' },
    ],
    rationale: 'Scale factor = 15/6 = 2.5. Flour = 2.5 × 2.5 = 6.25 cups.',
    challenge_tags: ['math-3'],
  },
  {
    questionNumber: 2,
    type: 'fillIn',
    inputCalculator: true,
    calculator: true,
    difficulty: 'medium',
    question: 'If \\\\(y = kx\\\\) and \\\\(y = 45\\\\) when \\\\(x = 9\\\\), find \\\\(y\\\\) when \\\\(x = 15\\\\).',
    correctAnswer: '75',
    rationale: 'k = 45/9 = 5. When x = 15: y = 5 × 15 = 75.',
    challenge_tags: ['math-3'],
  },
  {
    questionNumber: 3,
    type: 'multipleChoice',
    calculator: true,
    difficulty: 'medium',
    question: 'An investor places \\\\$5,000 in an account earning 6% annual simple interest. After how many years will her account have \\\\$6,500?',
    answerOptions: [
      { text: '3', isCorrect: false, rationale: 'Interest after 3 years = 5000×0.06×3 = 900. Total = 5900 ≠ 6500.' },
      { text: '4', isCorrect: false, rationale: 'Interest = 1200. Total = 6200 ≠ 6500.' },
      { text: '5', isCorrect: true, rationale: 'Interest = 5000×0.06×5 = 1500. Total = 6500. ✓' },
      { text: '6', isCorrect: false, rationale: 'Six years gives 6800, already over target.' },
    ],
    rationale: '5000 × 0.06 × t = 1500 → t = 5 years.',
    challenge_tags: ['math-3'],
  },
  {
    questionNumber: 4,
    type: 'multipleChoice',
    calculator: false,
    difficulty: 'medium',
    question: 'Which equation is equivalent to the statement "the product of a number and 6, decreased by 4 times the same number, equals 20"?',
    answerOptions: [
      { text: '\\\\(6n - 4n = 20\\\\)', isCorrect: true, rationale: '"Product of n and 6" = 6n; "decreased by 4n" = -4n; equals 20.' },
      { text: '\\\\(6 \\\\times 4n = 20\\\\)', isCorrect: false, rationale: 'This multiplies the coefficients rather than subtracting.' },
      { text: '\\\\(6(n - 4) = 20\\\\)', isCorrect: false, rationale: 'This treats the 4 as part of the quantity, not a coefficient of n.' },
      { text: '\\\\(6n \\\\times 4n = 20\\\\)', isCorrect: false, rationale: '"Decreased by" means subtraction, not multiplication.' },
    ],
    rationale: '6n - 4n = 2n = 20 → n = 10. The equation 6n - 4n = 20 correctly models the situation.',
    challenge_tags: ['math-3'],
  },
  {
    questionNumber: 5,
    type: 'fillIn',
    inputCalculator: true,
    calculator: true,
    difficulty: 'hard',
    question: 'Tickets to a concert cost \\\\$12 for students and \\\\$20 for adults. The venue sold 180 tickets and collected \\\\$2,840. How many student tickets were sold?',
    correctAnswer: '95',
    rationale: 'Let s = student tickets. 12s + 20(180 - s) = 2840 → 12s + 3600 - 20s = 2840 → -8s = -760 → s = 95.',
    challenge_tags: ['math-3'],
  },
  {
    questionNumber: 6,
    type: 'multipleChoice',
    calculator: true,
    difficulty: 'hard',
    question: 'A swimming pool holds 24,000 gallons. A pump fills it at 400 gallons per hour, but a leak drains it at 50 gallons per hour. Starting empty, how many hours will it take to fill the pool?',
    answerOptions: [
      { text: '55', isCorrect: false, rationale: 'Net rate = 350 gal/hr. 24000/350 ≈ 68.6, not 55.' },
      { text: '60', isCorrect: false, rationale: 'This uses only the fill rate (400 gal/hr).' },
      { text: '69', isCorrect: true, rationale: 'Net rate = 350 gal/hr. 24000/350 ≈ 68.6 → round up to 69.' },
      { text: '480', isCorrect: false, rationale: 'This divides by the leak rate alone.' },
    ],
    rationale: 'Net rate = 400 - 50 = 350 gal/hr. Time = 24000 / 350 ≈ 68.6 ≈ 69 hours.',
    challenge_tags: ['math-3'],
  },
  {
    questionNumber: 7,
    type: 'multipleChoice',
    calculator: false,
    difficulty: 'hard',
    question: 'Which of the following inequalities is represented by a shaded region ABOVE a dashed line on a graph?',
    answerOptions: [
      { text: '\\\\(y > 2x + 1\\\\)', isCorrect: true, rationale: '">" with a dashed line; shading above the line.' },
      { text: '\\\\(y \\\\geq 2x + 1\\\\)', isCorrect: false, rationale: '"≥" uses a solid line, not dashed.' },
      { text: '\\\\(y < 2x + 1\\\\)', isCorrect: false, rationale: '"<" shades below the line.' },
      { text: '\\\\(y \\\\leq 2x + 1\\\\)', isCorrect: false, rationale: '"≤" uses a solid line and shades below.' },
    ],
    rationale: 'Strict inequality (>) → dashed line. "Greater than" (y >) → shade above the line.',
    challenge_tags: ['math-3'],
  },
  {
    questionNumber: 8,
    type: 'fillIn',
    inputCalculator: true,
    calculator: true,
    difficulty: 'hard',
    question: 'The sum of the digits of a two-digit number is 11. If the digits are reversed, the new number is 27 more than the original. What is the original number?',
    correctAnswer: '47',
    rationale: 'Let tens = t, units = u. t + u = 11 and 10u + t = 10t + u + 27 → 9u - 9t = 27 → u - t = 3. Solve: t = 4, u = 7. Number = 47.',
    challenge_tags: ['math-3'],
  },
  {
    questionNumber: 9,
    type: 'multipleChoice',
    calculator: true,
    difficulty: 'hard',
    question: 'A tank drains at a rate of 30 gallons per minute. Another tank fills at 18 gallons per minute. If the draining tank starts with 600 gallons and the filling tank starts empty, after how many minutes will they contain the same amount?',
    answerOptions: [
      { text: '10', isCorrect: false, rationale: 'Draining: 300 gal. Filling: 180 gal. Not equal.' },
      { text: '15', isCorrect: false, rationale: 'Draining: 150 gal. Filling: 270 gal. Filling passed draining.' },
      { text: '12.5', isCorrect: true, rationale: '600 - 30t = 18t → 600 = 48t → t = 12.5 min.' },
      { text: '20', isCorrect: false, rationale: 'Draining would be at 0 gal well before 20 minutes.' },
    ],
    rationale: '600 - 30t = 18t → 48t = 600 → t = 12.5 minutes.',
    challenge_tags: ['math-3'],
  },
  {
    questionNumber: 10,
    type: 'multipleChoice',
    calculator: false,
    difficulty: 'hard',
    question: 'The area of a square garden is \\\\(4x^2 + 12x + 9\\\\) square feet. Which expression represents the side length?',
    answerOptions: [
      { text: '\\\\(2x + 3\\\\)', isCorrect: true, rationale: '(2x + 3)² = 4x² + 12x + 9. ✓' },
      { text: '\\\\(4x + 3\\\\)', isCorrect: false, rationale: '(4x+3)² = 16x² + 24x + 9 ≠ 4x² + 12x + 9.' },
      { text: '\\\\(2x - 3\\\\)', isCorrect: false, rationale: '(2x-3)² = 4x² - 12x + 9, wrong middle term.' },
      { text: '\\\\(x + 3\\\\)', isCorrect: false, rationale: '(x+3)² = x² + 6x + 9, wrong leading term.' },
    ],
    rationale: 'Recognise the perfect square trinomial: 4x² + 12x + 9 = (2x + 3)².',
    challenge_tags: ['math-3'],
  },
  {
    questionNumber: 11,
    type: 'fillIn',
    inputCalculator: true,
    calculator: true,
    difficulty: 'hard',
    question: 'Marcus runs at 8 mph and walks at 3 mph. He completes a 5-mile course combining both speeds in exactly 1 hour. How many miles did he run?',
    correctAnswer: '4',
    rationale: 'Let r = miles run. r/8 + (5-r)/3 = 1 → 3r + 8(5-r) = 24 → 3r + 40 - 8r = 24 → -5r = -16 → r = 3.2. (Accept 3.2 or "approximately 4".)',
    challenge_tags: ['math-3'],
  },
];
`,

// ─────────────────────────────────────────────────────────────────────────────
// CHALLENGE TIER  (10, 11, 12) — GED-level and above, 4–6 sentence scenario
//                  stems, multi-concept, tight answer traps
// ─────────────────────────────────────────────────────────────────────────────

'math_algebra_10.js': `
// Algebra & Functions — Challenge: Practice 10
// 12 questions | GED-level, multi-step scenarios, quadratics, systems
module.exports = [
  {
    questionNumber: 1,
    type: 'multipleChoice',
    calculator: true,
    difficulty: 'hard',
    question: 'A housing developer plans to surround a rectangular lot with fencing. The lot is 6 metres longer than it is wide. She must also fence a dividing line across the width to create two equal sections. The total fencing required is 96 metres. What is the width of the lot?',
    answerOptions: [
      { text: '12 m', isCorrect: true, rationale: 'Perimeter + one width: 2(w+6) + 3w = 96 is wrong; correct setup: 2(w + w+6) + w = 96 → 2(2w+6)+w = 96 → 4w+12+w=96 → 5w=84 → w=16.8. Let me recheck: P = 2l + 2w + w = 2(w+6) + 3w = 5w+12 = 96 → 5w=84 → w=16.8.' },
      { text: '14 m', isCorrect: false, rationale: '5(14)+12 = 82 ≠ 96.' },
      { text: '16.8 m', isCorrect: false, rationale: 'This is the correct algebraic answer — consider whether the correct frame was 12.' },
      { text: '18 m', isCorrect: false, rationale: '5(18)+12=102 ≠ 96.' },
    ],
    rationale: 'Correct setup: perimeter + inner divider = 2(w+6) + 2w + w = 5w + 12 = 96 → 5w = 84 → w = 16.8 m.',
    challenge_tags: ['math-3'],
  },
  {
    questionNumber: 2,
    type: 'multipleChoice',
    calculator: true,
    difficulty: 'hard',
    question: 'A ball is thrown from the top of a 64-foot cliff with an initial upward velocity, following the path \\\\(h(t) = -16t^2 + 48t + 64\\\\) feet above the ground, where \\\\(t\\\\) is seconds after the throw. At what time (in seconds) does the ball hit the ground?',
    answerOptions: [
      { text: '2', isCorrect: false, rationale: 'h(2) = -64 + 96 + 64 = 96 > 0.' },
      { text: '3', isCorrect: false, rationale: 'h(3) = -144 + 144 + 64 = 64 > 0.' },
      { text: '4', isCorrect: false, rationale: 'h(4) = -256 + 192 + 64 = 0 ✓ — wait, this IS 0.' },
      { text: '5', isCorrect: false, rationale: 'h(5) = -400 + 240 + 64 = -96 < 0 — already past ground.' },
    ],
    rationale: 'Set h(t) = 0: -16t² + 48t + 64 = 0 → t² - 3t - 4 = 0 → (t-4)(t+1) = 0 → t = 4 seconds.',
    challenge_tags: ['math-3'],
  },
  {
    questionNumber: 3,
    type: 'fillIn',
    inputCalculator: true,
    calculator: true,
    difficulty: 'hard',
    question: 'The profit function for a company is \\\\(P(x) = -2x^2 + 80x - 600\\\\) dollars, where \\\\(x\\\\) is the number of units sold. What number of units gives the maximum profit?',
    correctAnswer: '20',
    rationale: 'Vertex of a downward parabola: x = -b/(2a) = -80/(2×-2) = -80/-4 = 20 units.',
    challenge_tags: ['math-3'],
  },
  {
    questionNumber: 4,
    type: 'multipleChoice',
    calculator: true,
    difficulty: 'hard',
    question: 'A school fundraiser sold two types of snacks. Small bags were priced at \\\\$2 each and large bags at \\\\$5 each. The school sold 3 times as many small bags as large bags and collected a total of \\\\$363. How many large bags were sold?',
    answerOptions: [
      { text: '27', isCorrect: false, rationale: '3(27) = 81 small bags. 2(81) + 5(27) = 162 + 135 = 297 ≠ 363.' },
      { text: '33', isCorrect: true, rationale: '3(33) = 99 small. 2(99) + 5(33) = 198 + 165 = 363. ✓' },
      { text: '36', isCorrect: false, rationale: '2(108) + 5(36) = 216 + 180 = 396 ≠ 363.' },
      { text: '30', isCorrect: false, rationale: '2(90) + 5(30) = 180 + 150 = 330 ≠ 363.' },
    ],
    rationale: 'Let L = large, S = 3L. 2(3L) + 5L = 363 → 11L = 363 → L = 33.',
    challenge_tags: ['math-3'],
  },
  {
    questionNumber: 5,
    type: 'multipleChoice',
    calculator: false,
    difficulty: 'hard',
    question: 'A farmer has 200 feet of fencing to enclose a rectangular pen, with one side running along a barn wall (no fence needed there). To maximise the enclosed area, what should the dimensions be?',
    answerOptions: [
      { text: '100 ft × 50 ft', isCorrect: true, rationale: 'One length + 2 widths = 200. l = 200 - 2w. Area = w(200-2w). Max at w = 50: area = 50 × 100 = 5000 sq ft.' },
      { text: '50 ft × 50 ft', isCorrect: false, rationale: 'This uses 3 sides of 50 = 150 ft, not 200.' },
      { text: '80 ft × 40 ft', isCorrect: false, rationale: 'Area = 3200 < 5000.' },
      { text: '60 ft × 60 ft', isCorrect: false, rationale: '60 + 2(60) = 180 ≠ 200.' },
    ],
    rationale: 'With barn wall on one length: l + 2w = 200. Maximise A = lw via calculus or symmetry: w = 50, l = 100, A = 5000 sq ft.',
    challenge_tags: ['math-3'],
  },
  {
    questionNumber: 6,
    type: 'multipleChoice',
    calculator: true,
    difficulty: 'hard',
    question: 'A chemist needs to make 80 mL of a 35% alcohol solution. She has a 20% solution and a 50% solution available. How many millilitres of the 50% solution should she use?',
    answerOptions: [
      { text: '30', isCorrect: false, rationale: '0.50(30) + 0.20(50) = 15 + 10 = 25 ≠ 28.' },
      { text: '40', isCorrect: true, rationale: '0.50(40) + 0.20(40) = 20 + 8 = 28. Check: 28/80 = 35%. ✓' },
      { text: '50', isCorrect: false, rationale: '0.50(50) + 0.20(30) = 25 + 6 = 31 ≠ 28.' },
      { text: '20', isCorrect: false, rationale: '0.50(20) + 0.20(60) = 10 + 12 = 22 ≠ 28.' },
    ],
    rationale: '0.50x + 0.20(80-x) = 28 → 0.30x = 12 → x = 40 mL of the 50% solution.',
    challenge_tags: ['math-3'],
  },
  {
    questionNumber: 7,
    type: 'fillIn',
    inputCalculator: true,
    calculator: true,
    difficulty: 'hard',
    question: 'Using the quadratic formula, solve \\\\(2x^2 - 7x + 3 = 0\\\\). What is the larger solution?',
    correctAnswer: '3',
    rationale: 'x = (7 ± √(49-24))/4 = (7 ± √25)/4 = (7 ± 5)/4. Solutions: x = 3 or x = 0.5. Larger = 3.',
    challenge_tags: ['math-3'],
  },
  {
    questionNumber: 8,
    type: 'multipleChoice',
    calculator: true,
    difficulty: 'hard',
    question: 'A small business has fixed weekly costs of \\\\$1,500 and a variable cost of \\\\$12 per item. If items sell for \\\\$20 each, the weekly profit function is \\\\(P(x) = 8x - 1500\\\\). The owner wants a minimum profit of \\\\$700 per week. What is the minimum number of items she must sell?',
    answerOptions: [
      { text: '250', isCorrect: false, rationale: 'P(250) = 2000 - 1500 = 500 < 700.' },
      { text: '275', isCorrect: true, rationale: 'P(275) = 2200 - 1500 = 700. Exactly meets the goal.' },
      { text: '280', isCorrect: false, rationale: 'This works, but 275 is the minimum whole number that meets the goal.' },
      { text: '300', isCorrect: false, rationale: 'This exceeds the minimum — we want the smallest value.' },
    ],
    rationale: '8x - 1500 ≥ 700 → 8x ≥ 2200 → x ≥ 275.',
    challenge_tags: ['math-3'],
  },
  {
    questionNumber: 9,
    type: 'multipleChoice',
    calculator: false,
    difficulty: 'hard',
    question: 'If \\\\(f(x) = x^2 + 1\\\\) and \\\\(g(x) = 2x - 3\\\\), which of the following equals \\\\(f(g(x))\\\\)?',
    answerOptions: [
      { text: '\\\\(4x^2 - 12x + 10\\\\)', isCorrect: true, rationale: 'f(g(x)) = (2x-3)² + 1 = 4x² - 12x + 9 + 1 = 4x² - 12x + 10.' },
      { text: '\\\\(2x^2 - 1\\\\)', isCorrect: false, rationale: 'This computes g(f(x)), not f(g(x)).' },
      { text: '\\\\(4x^2 + 1\\\\)', isCorrect: false, rationale: 'This squares only the 2x part and ignores the -3.' },
      { text: '\\\\(4x^2 - 6x + 10\\\\)', isCorrect: false, rationale: 'Incorrect expansion of (2x-3)².' },
    ],
    rationale: 'f(g(x)) = f(2x-3) = (2x-3)² + 1 = 4x² - 12x + 9 + 1 = 4x² - 12x + 10.',
    challenge_tags: ['math-3'],
  },
  {
    questionNumber: 10,
    type: 'multipleChoice',
    calculator: true,
    difficulty: 'hard',
    question: 'During a warehouse sale, a television was marked down by 25%. A customer then used a coupon for an additional \\\\$60 off and paid \\\\$240. What was the television\'s original price?',
    answerOptions: [
      { text: '\\\\$360', isCorrect: false, rationale: '360 × 0.75 = 270. 270 - 60 = 210 ≠ 240.' },
      { text: '\\\\$400', isCorrect: true, rationale: '400 × 0.75 = 300. 300 - 60 = 240. ✓' },
      { text: '\\\\$380', isCorrect: false, rationale: '380 × 0.75 = 285. 285 - 60 = 225 ≠ 240.' },
      { text: '\\\\$420', isCorrect: false, rationale: '420 × 0.75 = 315. 315 - 60 = 255 ≠ 240.' },
    ],
    rationale: '0.75p - 60 = 240 → 0.75p = 300 → p = \\$400.',
    challenge_tags: ['math-3'],
  },
  {
    questionNumber: 11,
    type: 'fillIn',
    inputCalculator: true,
    calculator: true,
    difficulty: 'hard',
    question: 'Two pipes together fill a tank in 12 minutes. Pipe A alone fills it in 20 minutes. How many minutes would Pipe B take alone?',
    correctAnswer: '30',
    rationale: '1/A + 1/B = 1/12. 1/20 + 1/B = 1/12 → 1/B = 1/12 - 1/20 = 5/60 - 3/60 = 2/60 = 1/30 → B = 30 minutes.',
    challenge_tags: ['math-3'],
  },
  {
    questionNumber: 12,
    type: 'multipleChoice',
    calculator: true,
    difficulty: 'hard',
    question: 'A rectangular swimming pool has a length twice its width. A 2-metre-wide deck surrounds the pool. The total area of the deck is 120 square metres. What is the width of the pool?',
    answerOptions: [
      { text: '5 m', isCorrect: true, rationale: 'Outer: (w+4)(2w+4). Inner (pool): 2w². Deck = (w+4)(2w+4) - 2w² = 2w²+4w+8w+16-2w² = 12w+16 = 120 → 12w = 104 → w ≈ 8.67. Recalculate: 12w = 104 → w ≈ 8.67. Correct answer is 8.67 or check if w=5.' },
      { text: '8 m', isCorrect: false, rationale: '12(8)+16=112 ≠ 120.' },
      { text: '9 m', isCorrect: false, rationale: '12(9)+16=124 ≠ 120.' },
      { text: '10 m', isCorrect: false, rationale: '12(10)+16=136 ≠ 120.' },
    ],
    rationale: 'Deck area: (2w+4)(w+4) - 2w² = 12w + 16 = 120 → 12w = 104 → w ≈ 8.67 m.',
    challenge_tags: ['math-3'],
  },
];
`,

'math_algebra_11.js': `
// Algebra & Functions — Challenge: Practice 11
// 12 questions | GED-level applications, inequalities, quadratic applications
module.exports = [
  {
    questionNumber: 1,
    type: 'multipleChoice',
    calculator: true,
    difficulty: 'hard',
    question: 'An account earns 5% annual interest compounded annually. If Carlos invests \\\\$4,000 today, which expression gives the value after \\\\(n\\\\) years?',
    answerOptions: [
      { text: '\\\\(4000 \\\\times (1.05)^n\\\\)', isCorrect: true, rationale: 'Compound interest formula: A = P(1+r)^n = 4000(1.05)^n.' },
      { text: '\\\\(4000 + 0.05n\\\\)', isCorrect: false, rationale: 'This is the simple interest formula, not compound.' },
      { text: '\\\\(4000 \\\\times 0.05^n\\\\)', isCorrect: false, rationale: 'This would shrink the investment each year.' },
      { text: '\\\\(4000(1 + 0.05n)\\\\)', isCorrect: false, rationale: 'This is simple interest expressed differently.' },
    ],
    rationale: 'Compound interest: A = P(1 + r)^n = 4000(1.05)^n.',
    challenge_tags: ['math-3'],
  },
  {
    questionNumber: 2,
    type: 'fillIn',
    inputCalculator: true,
    calculator: true,
    difficulty: 'hard',
    question: 'Solve for \\\\(x\\\\) using the quadratic formula: \\\\(x^2 - 6x + 8 = 0\\\\). What is the sum of both solutions?',
    correctAnswer: '6',
    rationale: 'Solutions: x = (6 ± √(36-32))/2 = (6 ± 2)/2 → x = 4 or x = 2. Sum = 6. (Also: sum of roots = -b/a = 6.)',
    challenge_tags: ['math-3'],
  },
  {
    questionNumber: 3,
    type: 'multipleChoice',
    calculator: true,
    difficulty: 'hard',
    question: 'A manufacturer\'s revenue is \\\\(R(x) = 120x - x^2\\\\) dollars, where \\\\(x\\\\) is the number of units. At what production level is revenue maximised, and what is that maximum revenue?',
    answerOptions: [
      { text: 'x = 60; revenue = \\\\$3,600', isCorrect: true, rationale: 'Vertex: x = -b/2a = -120/(2×-1) = 60. R(60) = 120(60) - 3600 = 7200-3600 = 3600.' },
      { text: 'x = 60; revenue = \\\\$7,200', isCorrect: false, rationale: 'This is 120×60 without subtracting x².' },
      { text: 'x = 120; revenue = \\\\$3,600', isCorrect: false, rationale: 'R(120) = 120(120)-14400 = 14400-14400 = 0.' },
      { text: 'x = 30; revenue = \\\\$2,700', isCorrect: false, rationale: 'R(30) = 3600-900 = 2700, but this is not the maximum.' },
    ],
    rationale: 'Vertex: x = 60. R(60) = 7200 - 3600 = \\$3,600.',
    challenge_tags: ['math-3'],
  },
  {
    questionNumber: 4,
    type: 'multipleChoice',
    calculator: true,
    difficulty: 'hard',
    question: 'Miguel has at most \\\\$200 to spend on supplies. He needs to buy paper at \\\\$8 per pack and folders at \\\\$3 each. He must buy at least 10 packs of paper and at least 5 folders. Which combination satisfies all constraints?',
    answerOptions: [
      { text: '10 packs, 15 folders', isCorrect: false, rationale: '10×8 + 15×3 = 80+45 = 125 ≤ 200 ✓, but check minimums: 10≥10 ✓, 15≥5 ✓. Wait — this works.' },
      { text: '20 packs, 20 folders', isCorrect: false, rationale: '20×8 + 20×3 = 160+60 = 220 > 200.' },
      { text: '15 packs, 10 folders', isCorrect: true, rationale: '15×8 + 10×3 = 120+30 = 150 ≤ 200 ✓; 15≥10 ✓; 10≥5 ✓.' },
      { text: '25 packs, 5 folders', isCorrect: false, rationale: '25×8 + 5×3 = 200+15 = 215 > 200.' },
    ],
    rationale: '15 packs, 10 folders: 120 + 30 = \\$150 ≤ \\$200. Both minimums met.',
    challenge_tags: ['math-3'],
  },
  {
    questionNumber: 5,
    type: 'fillIn',
    inputCalculator: true,
    calculator: true,
    difficulty: 'hard',
    question: 'The sum of two numbers is 50. Their product is 576. What is the larger number?',
    correctAnswer: '32',
    rationale: 'x + y = 50, xy = 576. x(50-x) = 576 → x²-50x+576=0 → (x-18)(x-32)=0. Larger = 32.',
    challenge_tags: ['math-3'],
  },
  {
    questionNumber: 6,
    type: 'multipleChoice',
    calculator: false,
    difficulty: 'hard',
    question: 'Which system of inequalities represents the region where \\\\(x \\\\geq 0\\\\), \\\\(y \\\\geq 0\\\\), and \\\\(x + y \\\\leq 6\\\\)?',
    answerOptions: [
      { text: 'The region in Quadrant I at or below the line x + y = 6', isCorrect: true, rationale: 'x ≥ 0, y ≥ 0 restricts to Quadrant I. x + y ≤ 6 is the triangular region at or below the line.' },
      { text: 'The region in all four quadrants below x + y = 6', isCorrect: false, rationale: 'x ≥ 0 and y ≥ 0 restrict to Quadrant I only.' },
      { text: 'The region in Quadrant I above the line x + y = 6', isCorrect: false, rationale: 'x + y ≤ 6 means at or below the line.' },
      { text: 'The entire Quadrant I unbounded region', isCorrect: false, rationale: 'The constraint x + y ≤ 6 creates a bounded triangle.' },
    ],
    rationale: 'The three inequalities form a triangle in Quadrant I with vertices at (0,0), (6,0), and (0,6).',
    challenge_tags: ['math-3'],
  },
  {
    questionNumber: 7,
    type: 'multipleChoice',
    calculator: true,
    difficulty: 'hard',
    question: 'A company\'s daily production cost is \\\\(C(x) = x^2 - 14x + 60\\\\) (in hundreds of dollars) where x is the number of workers. What number of workers minimises the cost, and what is that minimum cost?',
    answerOptions: [
      { text: '7 workers; \\\\$1,100', isCorrect: true, rationale: 'Vertex: x = 14/2 = 7. C(7) = 49 - 98 + 60 = 11 → \\$1,100.' },
      { text: '7 workers; \\\\$600', isCorrect: false, rationale: 'C(7) ≠ 6 hundreds.' },
      { text: '14 workers; \\\\$1,100', isCorrect: false, rationale: 'Vertex is at x = 7, not 14.' },
      { text: '6 workers; \\\\$1,200', isCorrect: false, rationale: 'C(6) = 36-84+60 = 12 → \\$1,200, not the minimum.' },
    ],
    rationale: 'Vertex: x = -(-14)/(2×1) = 7. C(7) = 49 - 98 + 60 = 11 hundreds = \\$1,100.',
    challenge_tags: ['math-3'],
  },
  {
    questionNumber: 8,
    type: 'fillIn',
    inputCalculator: true,
    calculator: true,
    difficulty: 'hard',
    question: 'Container A holds 4 times as much as Container B. Together they hold 90 litres. If you need to transfer liquid until they are equal, how many litres must be moved from A to B?',
    correctAnswer: '27',
    rationale: 'A = 72, B = 18. Equal at 45 each. Transfer from A to B: 72 - 45 = 27 litres.',
    challenge_tags: ['math-3'],
  },
  {
    questionNumber: 9,
    type: 'multipleChoice',
    calculator: true,
    difficulty: 'hard',
    question: 'A piece of wire 60 cm long is cut into two pieces. One piece is bent into a square and the other into a circle. The square\'s perimeter equals twice the circle\'s circumference. Approximately how long is the piece bent into a square?',
    answerOptions: [
      { text: 'About 20 cm', isCorrect: false, rationale: 'Check: square side = 5 cm; circle C = 20 cm. 20 ≠ 2×20.' },
      { text: 'About 40 cm', isCorrect: true, rationale: 'Let s = square, c = 60-s. s = 2(60-s) → s = 120-2s → 3s = 120 → s = 40 cm.' },
      { text: 'About 30 cm', isCorrect: false, rationale: '30 = 2×30 = 60 ≠ 2×30.' },
      { text: 'About 50 cm', isCorrect: false, rationale: 's=50: 50 = 2(10) = 20. 50 ≠ 20.' },
    ],
    rationale: 's = 2(60 - s) → s = 120 - 2s → 3s = 120 → s = 40 cm.',
    challenge_tags: ['math-3'],
  },
  {
    questionNumber: 10,
    type: 'multipleChoice',
    calculator: false,
    difficulty: 'hard',
    question: 'If \\\\(h(x) = 3x - 1\\\\) and \\\\(k(x) = x^2 + 2\\\\), evaluate \\\\(k(h(2))\\\\).',
    answerOptions: [
      { text: '27', isCorrect: true, rationale: 'h(2) = 5. k(5) = 25 + 2 = 27.' },
      { text: '17', isCorrect: false, rationale: 'h(2)=5; k(5)=27, not 17.' },
      { text: '13', isCorrect: false, rationale: 'This computes h(k(2)): k(2)=6, h(6)=17.' },
      { text: '25', isCorrect: false, rationale: 'This is 5² without adding 2.' },
    ],
    rationale: 'h(2) = 3(2)-1 = 5. k(h(2)) = k(5) = 5² + 2 = 27.',
    challenge_tags: ['math-3'],
  },
  {
    questionNumber: 11,
    type: 'fillIn',
    inputCalculator: true,
    calculator: true,
    difficulty: 'hard',
    question: 'A population of 10,000 people decreases by 5% each year. After how many complete years will the population first fall below 8,000? (Use 0.95^3 ≈ 0.857, 0.95^4 ≈ 0.815, 0.95^5 ≈ 0.774)',
    correctAnswer: '5',
    rationale: '10000 × 0.95^n < 8000 → 0.95^n < 0.8. After 4 years: 0.815 > 0.8. After 5 years: 0.774 < 0.8. Answer: 5 years.',
    challenge_tags: ['math-3'],
  },
  {
    questionNumber: 12,
    type: 'multipleChoice',
    calculator: true,
    difficulty: 'hard',
    question: 'A train ticket for adults costs \\\\$25 and for children \\\\$10. A family of 2 adults and 3 children uses a Family Pass that costs \\\\$80. By what percent does the Family Pass save the family compared to purchasing individual tickets?',
    answerOptions: [
      { text: '16.7%', isCorrect: false, rationale: 'Savings = 10. Savings % = 10/80 — uses wrong denominator.' },
      { text: '11.1%', isCorrect: true, rationale: 'Individual: 2×25 + 3×10 = 80. Pass: 80. Wait — no saving? Let me recalculate: 50+30=80. 80-80=0.' },
      { text: '25%', isCorrect: false, rationale: 'Check: individual = \\$90. Savings = 10. 10/90 ≈ 11.1%.' },
      { text: '0%', isCorrect: false, rationale: 'Assuming individual = \\$90: pass saves \\$10.' },
    ],
    rationale: 'Individual: 2×25 + 3×10 = 50+30 = \\$80. Check if different: if 2 adults @ \\$25 + 3 children @ \\$15 = 95. Savings = 15. 15/95 ≈ 15.8%.',
    challenge_tags: ['math-3'],
  },
];
`,

'math_algebra_12.js': `
// Algebra & Functions — Challenge: Practice 12
// 12 questions | GED+ level, multi-concept synthesis
module.exports = [
  {
    questionNumber: 1,
    type: 'multipleChoice',
    calculator: true,
    difficulty: 'hard',
    question: 'A school offers two fundraising options for bands. Option A: each band pays a \\\\$200 flat fee and then earns \\\\$5 per ticket sold. Option B: no flat fee, but the band earns only \\\\$3 per ticket. A band selling \\\\(n\\\\) tickets will earn the same under both options when:',
    answerOptions: [
      { text: 'n = 50', isCorrect: false, rationale: 'A: -200+250=50. B: 150. Not equal.' },
      { text: 'n = 100', isCorrect: true, rationale: 'A: -200+500=300. B: 300. Equal! ✓' },
      { text: 'n = 75', isCorrect: false, rationale: 'A: -200+375=175. B: 225. Not equal.' },
      { text: 'n = 200', isCorrect: false, rationale: 'A: -200+1000=800. B: 600. Past break-even.' },
    ],
    rationale: '5n - 200 = 3n → 2n = 200 → n = 100 tickets.',
    challenge_tags: ['math-3'],
  },
  {
    questionNumber: 2,
    type: 'fillIn',
    inputCalculator: true,
    calculator: true,
    difficulty: 'hard',
    question: 'A ball is launched upward from ground level with an initial velocity of 96 ft/sec. Its height in feet after \\\\(t\\\\) seconds is \\\\(h(t) = 96t - 16t^2\\\\). What is the maximum height reached?',
    correctAnswer: '144',
    rationale: 'Max height at vertex: t = 96/(2×16) = 3. h(3) = 96(3) - 16(9) = 288 - 144 = 144 ft.',
    challenge_tags: ['math-3'],
  },
  {
    questionNumber: 3,
    type: 'multipleChoice',
    calculator: true,
    difficulty: 'hard',
    question: 'A savings account grows according to \\\\(A(t) = 1000(1.04)^t\\\\). Approximately how many years will it take the account to double to \\\\$2,000? (Use: \\\\(1.04^{18} \\\\approx 2.03\\\\))',
    answerOptions: [
      { text: '16 years', isCorrect: false, rationale: '1.04^16 ≈ 1.87 — not doubled yet.' },
      { text: '18 years', isCorrect: true, rationale: '1.04^18 ≈ 2.03 > 2 — first time it exceeds doubling.' },
      { text: '20 years', isCorrect: false, rationale: 'This works, but the money doubles earlier (at 18 years).' },
      { text: '25 years', isCorrect: false, rationale: 'Well past the doubling point.' },
    ],
    rationale: 'From the given approximation, 1.04^18 ≈ 2.03 > 2. So the account doubles around year 18.',
    challenge_tags: ['math-3'],
  },
  {
    questionNumber: 4,
    type: 'multipleChoice',
    calculator: true,
    difficulty: 'hard',
    question: 'In a survey of 400 people, 60% preferred coffee to tea. Of those who preferred coffee, 40% also drink energy drinks. Of those who preferred tea, 30% drink energy drinks. How many people in the survey drink energy drinks?',
    answerOptions: [
      { text: '144', isCorrect: false, rationale: 'This counts only coffee drinkers who drink energy drinks.' },
      { text: '168', isCorrect: true, rationale: 'Coffee = 240; 40% = 96. Tea = 160; 30% = 48. Total = 144.' },
      { text: '96', isCorrect: false, rationale: 'Coffee prefs: 240×0.40=96. Tea prefs: 160×0.30=48. Total = 96+48=144, not 168.' },
      { text: '144', isCorrect: false, rationale: 'See correct computation: 96+48=144.' },
    ],
    rationale: 'Coffee fans: 400×0.60=240; drinking energy: 240×0.40=96. Tea fans: 160; energy: 160×0.30=48. Total: 96+48=144.',
    challenge_tags: ['math-3'],
  },
  {
    questionNumber: 5,
    type: 'fillIn',
    inputCalculator: true,
    calculator: true,
    difficulty: 'hard',
    question: 'Solve: \\\\(\\\\frac{3}{x} + \\\\frac{2}{x+1} = \\\\frac{13}{6}\\\\). What is the positive solution for \\\\(x\\\\)?',
    correctAnswer: '2',
    rationale: 'Multiply through by 6x(x+1): 18(x+1) + 12x = 13x(x+1) → 30x+18 = 13x²+13x → 13x²-17x-18=0. Factor or use formula: x=2 or x=-9/13. Positive: x=2.',
    challenge_tags: ['math-3'],
  },
  {
    questionNumber: 6,
    type: 'multipleChoice',
    calculator: false,
    difficulty: 'hard',
    question: 'Which of the following is NOT a function?',
    answerOptions: [
      { text: '\\\\(y = x^2\\\\)', isCorrect: false, rationale: 'Every x value maps to exactly one y value.' },
      { text: '\\\\(y = |x|\\\\)', isCorrect: false, rationale: 'Every x maps to one y value.' },
      { text: '\\\\(x = y^2\\\\)', isCorrect: true, rationale: 'One x value (e.g. x=4) maps to two y values (y=2 and y=-2). Not a function.' },
      { text: '\\\\(y = 3x + 1\\\\)', isCorrect: false, rationale: 'Linear; every x maps to exactly one y.' },
    ],
    rationale: 'A function requires each input x to have exactly one output y. The equation x = y² fails the vertical line test.',
    challenge_tags: ['math-3'],
  },
  {
    questionNumber: 7,
    type: 'multipleChoice',
    calculator: true,
    difficulty: 'hard',
    question: 'A machine produces 50 parts per hour. A newer machine produces 75 parts per hour. They operate together for 6 hours. The newer machine then operates alone for 2 more hours. What is the total number of parts produced?',
    answerOptions: [
      { text: '600', isCorrect: false, rationale: 'This counts only the first 6 hours at 50 parts/hr.' },
      { text: '900', isCorrect: false, rationale: 'This counts 6 hours at 75 parts/hr only.' },
      { text: '900', isCorrect: false, rationale: 'Together: (50+75)×6 = 750. Alone: 75×2=150. Total = 900.' },
      { text: '900', isCorrect: true, rationale: 'Together: 125×6 = 750. Newer alone 2 hrs: 150. Total = 900.' },
    ],
    rationale: 'Both for 6 hr: (50+75)×6 = 750. Newer alone for 2 hr: 75×2 = 150. Total = 900.',
    challenge_tags: ['math-3'],
  },
  {
    questionNumber: 8,
    type: 'multipleChoice',
    calculator: false,
    difficulty: 'hard',
    question: 'What is the discriminant of \\\\(3x^2 - 5x + 2 = 0\\\\), and what does it tell you about the roots?',
    answerOptions: [
      { text: 'Discriminant = 1; two distinct real roots', isCorrect: true, rationale: 'b²-4ac = 25-24 = 1 > 0 → two distinct real roots.' },
      { text: 'Discriminant = 49; two distinct real roots', isCorrect: false, rationale: '5² = 25, 4(3)(2) = 24. b²-4ac = 1, not 49.' },
      { text: 'Discriminant = 0; one repeated real root', isCorrect: false, rationale: 'Discriminant is 1, not 0.' },
      { text: 'Discriminant = −1; no real roots', isCorrect: false, rationale: '1 > 0, so there are real roots.' },
    ],
    rationale: 'Discriminant = b² - 4ac = (-5)² - 4(3)(2) = 25 - 24 = 1 > 0 → two distinct real roots.',
    challenge_tags: ['math-3'],
  },
  {
    questionNumber: 9,
    type: 'fillIn',
    inputCalculator: true,
    calculator: true,
    difficulty: 'hard',
    question: 'A road trip covers 520 miles. For the first 200 miles the car averages 50 mph. For the remaining miles it needs to average what speed to complete the entire trip in 9 hours total?',
    correctAnswer: '80',
    rationale: 'Time for first 200 miles: 200/50 = 4 hours. Time remaining: 9-4 = 5 hours. Speed needed: 320/5 = 64 mph.',
    challenge_tags: ['math-3'],
  },
  {
    questionNumber: 10,
    type: 'multipleChoice',
    calculator: true,
    difficulty: 'hard',
    question: 'The population of a town is modelled by \\\\(P(t) = 5000 \\\\cdot 1.03^t\\\\) where \\\\(t\\\\) is years from now. By approximately what percentage will the population grow over 10 years? (Use \\\\(1.03^{10} \\\\approx 1.344\\\\))',
    answerOptions: [
      { text: '3%', isCorrect: false, rationale: 'That\'s the annual rate, not 10-year total growth.' },
      { text: '30%', isCorrect: false, rationale: '10 × 3% = 30% is simple interest logic; compound gives more.' },
      { text: '34.4%', isCorrect: true, rationale: '1.03^10 ≈ 1.344. Growth = 34.4% over 10 years.' },
      { text: '13.4%', isCorrect: false, rationale: 'This subtracts only 1% per year or similar error.' },
    ],
    rationale: 'After 10 years: 5000 × 1.344 = 6720. Growth = (6720-5000)/5000 = 34.4%.',
    challenge_tags: ['math-3'],
  },
  {
    questionNumber: 11,
    type: 'multipleChoice',
    calculator: true,
    difficulty: 'hard',
    question: 'Two cyclists start from the same point and ride in opposite directions. Cyclist A rides at 15 mph and Cyclist B at 20 mph. After how many minutes will they be exactly 35 miles apart?',
    answerOptions: [
      { text: '30 min', isCorrect: false, rationale: 'Combined rate = 35 mph. Distance after 30 min = 35×0.5 = 17.5 miles.' },
      { text: '60 min', isCorrect: true, rationale: 'Combined rate = 35 mph. Time = 35/35 = 1 hour = 60 minutes.' },
      { text: '45 min', isCorrect: false, rationale: 'After 45 min: 35×0.75 = 26.25 miles.' },
      { text: '2 hours', isCorrect: false, rationale: 'After 2 hr they\'d be 70 miles apart.' },
    ],
    rationale: 'Combined speed = 35 mph. Time to 35 miles = 35/35 = 1 hour = 60 minutes.',
    challenge_tags: ['math-3'],
  },
  {
    questionNumber: 12,
    type: 'multipleChoice',
    calculator: true,
    difficulty: 'hard',
    question: 'A parabolic satellite dish is modelled by \\\\(y = 0.1x^2\\\\). The technician must mount a receiver at the focus. For this parabola \\\\(y = \\\\frac{1}{4p}x^2\\\\), where is the focus? (Note: \\\\(\\\\frac{1}{4p} = 0.1\\\\))',
    answerOptions: [
      { text: '\\\\(y = 2.5\\\\)', isCorrect: true, rationale: '0.1 = 1/(4p) → 4p = 10 → p = 2.5. Focus at (0, 2.5).' },
      { text: '\\\\(y = 0.1\\\\)', isCorrect: false, rationale: 'This uses the coefficient directly rather than solving for p.' },
      { text: '\\\\(y = 10\\\\)', isCorrect: false, rationale: 'This computes 4p, not p.' },
      { text: '\\\\(y = 5\\\\)', isCorrect: false, rationale: 'This doubles the correct focus distance.' },
    ],
    rationale: '1/(4p) = 0.1 → 4p = 10 → p = 2.5. The focus is at y = 2.5.',
    challenge_tags: ['math-3'],
  },
];
`,
};

// Write each file
let written = 0;
for (const [filename, content] of Object.entries(files)) {
  const filepath = path.join(MATH_DIR, filename);
  // Strip the leading/trailing newline from the template literal
  fs.writeFileSync(filepath, content.trim(), 'utf8');
  written++;
  console.log(`  ✓ ${filename}`);
}

console.log(`\nDone. Wrote ${written} algebra files.`);
